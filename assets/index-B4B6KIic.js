function tw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ha=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function GT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var O_={exports:{}},Bm={},j_={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=Symbol.for("react.element"),QT=Symbol.for("react.portal"),qT=Symbol.for("react.fragment"),$T=Symbol.for("react.strict_mode"),VT=Symbol.for("react.profiler"),WT=Symbol.for("react.provider"),KT=Symbol.for("react.context"),YT=Symbol.for("react.forward_ref"),JT=Symbol.for("react.suspense"),XT=Symbol.for("react.memo"),ZT=Symbol.for("react.lazy"),k5=Symbol.iterator;function eO(e){return e===null||typeof e!="object"?null:(e=k5&&e[k5]||e["@@iterator"],typeof e=="function"?e:null)}var D_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L_=Object.assign,R_={};function _d(e,t,n){this.props=e,this.context=t,this.refs=R_,this.updater=n||D_}_d.prototype.isReactComponent={};_d.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_d.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F_(){}F_.prototype=_d.prototype;function nw(e,t,n){this.props=e,this.context=t,this.refs=R_,this.updater=n||D_}var rw=nw.prototype=new F_;rw.constructor=nw;L_(rw,_d.prototype);rw.isPureReactComponent=!0;var _5=Array.isArray,M_=Object.prototype.hasOwnProperty,iw={current:null},U_={key:!0,ref:!0,__self:!0,__source:!0};function z_(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)M_.call(t,r)&&!U_.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Jh,type:e,key:a,ref:o,props:i,_owner:iw.current}}function tO(e,t){return{$$typeof:Jh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function aw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jh}function nO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var C5=/\/+/g;function Z1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nO(""+e.key):t.toString(36)}function e0(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Jh:case QT:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Z1(o,0):r,_5(i)?(n="",e!=null&&(n=e.replace(C5,"$&/")+"/"),e0(i,t,n,"",function(u){return u})):i!=null&&(aw(i)&&(i=tO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(C5,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",_5(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+Z1(a,s);o+=e0(a,t,n,l,i)}else if(l=eO(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+Z1(a,s++),o+=e0(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Jp(e,t,n){if(e==null)return e;var r=[],i=0;return e0(e,r,"","",function(a){return t.call(n,a,i++)}),r}function rO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ji={current:null},t0={transition:null},iO={ReactCurrentDispatcher:ji,ReactCurrentBatchConfig:t0,ReactCurrentOwner:iw};function H_(){throw Error("act(...) is not supported in production builds of React.")}Kt.Children={map:Jp,forEach:function(e,t,n){Jp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jp(e,function(){t++}),t},toArray:function(e){return Jp(e,function(t){return t})||[]},only:function(e){if(!aw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Kt.Component=_d;Kt.Fragment=qT;Kt.Profiler=VT;Kt.PureComponent=nw;Kt.StrictMode=$T;Kt.Suspense=JT;Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iO;Kt.act=H_;Kt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=L_({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=iw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)M_.call(t,l)&&!U_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Jh,type:e.type,key:i,ref:a,props:r,_owner:o}};Kt.createContext=function(e){return e={$$typeof:KT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:WT,_context:e},e.Consumer=e};Kt.createElement=z_;Kt.createFactory=function(e){var t=z_.bind(null,e);return t.type=e,t};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(e){return{$$typeof:YT,render:e}};Kt.isValidElement=aw;Kt.lazy=function(e){return{$$typeof:ZT,_payload:{_status:-1,_result:e},_init:rO}};Kt.memo=function(e,t){return{$$typeof:XT,type:e,compare:t===void 0?null:t}};Kt.startTransition=function(e){var t=t0.transition;t0.transition={};try{e()}finally{t0.transition=t}};Kt.unstable_act=H_;Kt.useCallback=function(e,t){return ji.current.useCallback(e,t)};Kt.useContext=function(e){return ji.current.useContext(e)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(e){return ji.current.useDeferredValue(e)};Kt.useEffect=function(e,t){return ji.current.useEffect(e,t)};Kt.useId=function(){return ji.current.useId()};Kt.useImperativeHandle=function(e,t,n){return ji.current.useImperativeHandle(e,t,n)};Kt.useInsertionEffect=function(e,t){return ji.current.useInsertionEffect(e,t)};Kt.useLayoutEffect=function(e,t){return ji.current.useLayoutEffect(e,t)};Kt.useMemo=function(e,t){return ji.current.useMemo(e,t)};Kt.useReducer=function(e,t,n){return ji.current.useReducer(e,t,n)};Kt.useRef=function(e){return ji.current.useRef(e)};Kt.useState=function(e){return ji.current.useState(e)};Kt.useSyncExternalStore=function(e,t,n){return ji.current.useSyncExternalStore(e,t,n)};Kt.useTransition=function(){return ji.current.useTransition()};Kt.version="18.3.1";j_.exports=Kt;var ie=j_.exports;const G_=Pm(ie),aO=tw({__proto__:null,default:G_},[ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oO=ie,sO=Symbol.for("react.element"),lO=Symbol.for("react.fragment"),uO=Object.prototype.hasOwnProperty,cO=oO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dO={key:!0,ref:!0,__self:!0,__source:!0};function Q_(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)uO.call(t,r)&&!dO.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:sO,type:e,key:a,ref:o,props:i,_owner:cO.current}}Bm.Fragment=lO;Bm.jsx=Q_;Bm.jsxs=Q_;O_.exports=Bm;var b=O_.exports,jy={},q_={exports:{}},wa={},$_={exports:{}},V_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,W){var Q=K.length;K.push(W);e:for(;0<Q;){var U=Q-1>>>1,B=K[U];if(0<i(B,W))K[U]=W,K[Q]=B,Q=U;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var W=K[0],Q=K.pop();if(Q!==W){K[0]=Q;e:for(var U=0,B=K.length,L=B>>>1;U<L;){var H=2*(U+1)-1,G=K[H],M=H+1,V=K[M];if(0>i(G,Q))M<B&&0>i(V,G)?(K[U]=V,K[M]=Q,U=M):(K[U]=G,K[H]=Q,U=H);else if(M<B&&0>i(V,Q))K[U]=V,K[M]=Q,U=M;else break e}}return W}function i(K,W){var Q=K.sortIndex-W.sortIndex;return Q!==0?Q:K.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,h=3,f=!1,v=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(K){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=K)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function x(K){if(y=!1,w(K),!v)if(n(l)!==null)v=!0,Z(C);else{var W=n(u);W!==null&&ee(x,W.startTime-K)}}function C(K,W){v=!1,y&&(y=!1,g(I),I=-1),f=!0;var Q=h;try{for(w(W),d=n(l);d!==null&&(!(d.expirationTime>W)||K&&!k());){var U=d.callback;if(typeof U=="function"){d.callback=null,h=d.priorityLevel;var B=U(d.expirationTime<=W);W=e.unstable_now(),typeof B=="function"?d.callback=B:d===n(l)&&r(l),w(W)}else r(l);d=n(l)}if(d!==null)var L=!0;else{var H=n(u);H!==null&&ee(x,H.startTime-W),L=!1}return L}finally{d=null,h=Q,f=!1}}var D=!1,N=null,I=-1,R=5,T=-1;function k(){return!(e.unstable_now()-T<R)}function _(){if(N!==null){var K=e.unstable_now();T=K;var W=!0;try{W=N(!0,K)}finally{W?O():(D=!1,N=null)}}else D=!1}var O;if(typeof p=="function")O=function(){p(_)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,z=j.port2;j.port1.onmessage=_,O=function(){z.postMessage(null)}}else O=function(){A(_,0)};function Z(K){N=K,D||(D=!0,O())}function ee(K,W){I=A(function(){K(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,Z(C))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(K){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var Q=h;h=W;try{return K()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=h;h=K;try{return W()}finally{h=Q}},e.unstable_scheduleCallback=function(K,W,Q){var U=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?U+Q:U):Q=U,K){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,K={id:c++,callback:W,priorityLevel:K,startTime:Q,expirationTime:B,sortIndex:-1},Q>U?(K.sortIndex=Q,t(u,K),n(l)===null&&K===n(u)&&(y?(g(I),I=-1):y=!0,ee(x,Q-U))):(K.sortIndex=B,t(l,K),v||f||(v=!0,Z(C))),K},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(K){var W=h;return function(){var Q=h;h=W;try{return K.apply(this,arguments)}finally{h=Q}}}})(V_);$_.exports=V_;var fO=$_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hO=ie,ya=fO;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W_=new Set,yh={};function Lu(e,t){hd(e,t),hd(e+"Capture",t)}function hd(e,t){for(yh[e]=t,e=0;e<t.length;e++)W_.add(t[e])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dy=Object.prototype.hasOwnProperty,pO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S5={},N5={};function gO(e){return Dy.call(N5,e)?!0:Dy.call(S5,e)?!1:pO.test(e)?N5[e]=!0:(S5[e]=!0,!1)}function mO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vO(e,t,n,r){if(t===null||typeof t>"u"||mO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Di(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ai[e]=new Di(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ai[t]=new Di(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ai[e]=new Di(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ai[e]=new Di(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ai[e]=new Di(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ai[e]=new Di(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ai[e]=new Di(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ai[e]=new Di(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ai[e]=new Di(e,5,!1,e.toLowerCase(),null,!1,!1)});var ow=/[\-:]([a-z])/g;function sw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ow,sw);ai[t]=new Di(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ow,sw);ai[t]=new Di(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ow,sw);ai[t]=new Di(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ai[e]=new Di(e,1,!1,e.toLowerCase(),null,!1,!1)});ai.xlinkHref=new Di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ai[e]=new Di(e,1,!1,e.toLowerCase(),null,!0,!0)});function lw(e,t,n,r){var i=ai.hasOwnProperty(t)?ai[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vO(t,n,i,r)&&(n=null),r||i===null?gO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _s=hO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xp=Symbol.for("react.element"),Mc=Symbol.for("react.portal"),Uc=Symbol.for("react.fragment"),uw=Symbol.for("react.strict_mode"),Ly=Symbol.for("react.profiler"),K_=Symbol.for("react.provider"),Y_=Symbol.for("react.context"),cw=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Fy=Symbol.for("react.suspense_list"),dw=Symbol.for("react.memo"),tl=Symbol.for("react.lazy"),J_=Symbol.for("react.offscreen"),I5=Symbol.iterator;function Af(e){return e===null||typeof e!="object"?null:(e=I5&&e[I5]||e["@@iterator"],typeof e=="function"?e:null)}var or=Object.assign,ev;function $f(e){if(ev===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ev=t&&t[1]||""}return`
`+ev+e}var tv=!1;function nv(e,t){if(!e||tv)return"";tv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{tv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$f(e):""}function yO(e){switch(e.tag){case 5:return $f(e.type);case 16:return $f("Lazy");case 13:return $f("Suspense");case 19:return $f("SuspenseList");case 0:case 2:case 15:return e=nv(e.type,!1),e;case 11:return e=nv(e.type.render,!1),e;case 1:return e=nv(e.type,!0),e;default:return""}}function My(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Uc:return"Fragment";case Mc:return"Portal";case Ly:return"Profiler";case uw:return"StrictMode";case Ry:return"Suspense";case Fy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y_:return(e.displayName||"Context")+".Consumer";case K_:return(e._context.displayName||"Context")+".Provider";case cw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dw:return t=e.displayName||null,t!==null?t:My(e.type)||"Memo";case tl:t=e._payload,e=e._init;try{return My(e(t))}catch{}}return null}function AO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return My(t);case 8:return t===uw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wO(e){var t=X_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zp(e){e._valueTracker||(e._valueTracker=wO(e))}function Z_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function T0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uy(e,t){var n=t.checked;return or({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function P5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eC(e,t){t=t.checked,t!=null&&lw(e,"checked",t,!1)}function zy(e,t){eC(e,t);var n=xl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hy(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hy(e,t.type,xl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function B5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hy(e,t,n){(t!=="number"||T0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vf=Array.isArray;function ed(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Gy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return or({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function T5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(We(92));if(Vf(n)){if(1<n.length)throw Error(We(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xl(n)}}function tC(e,t){var n=xl(t.value),r=xl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function O5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eg,rC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eg=eg||document.createElement("div"),eg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ah(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bO=["Webkit","ms","Moz","O"];Object.keys(Xf).forEach(function(e){bO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xf[t]=Xf[e]})});function iC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xf.hasOwnProperty(e)&&Xf[e]?(""+t).trim():t+"px"}function aC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var xO=or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qy(e,t){if(t){if(xO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function $y(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vy=null;function fw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wy=null,td=null,nd=null;function j5(e){if(e=ep(e)){if(typeof Wy!="function")throw Error(We(280));var t=e.stateNode;t&&(t=Lm(t),Wy(e.stateNode,e.type,t))}}function oC(e){td?nd?nd.push(e):nd=[e]:td=e}function sC(){if(td){var e=td,t=nd;if(nd=td=null,j5(e),t)for(e=0;e<t.length;e++)j5(t[e])}}function lC(e,t){return e(t)}function uC(){}var rv=!1;function cC(e,t,n){if(rv)return e(t,n);rv=!0;try{return lC(e,t,n)}finally{rv=!1,(td!==null||nd!==null)&&(uC(),sC())}}function wh(e,t){var n=e.stateNode;if(n===null)return null;var r=Lm(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(We(231,t,typeof n));return n}var Ky=!1;if(As)try{var wf={};Object.defineProperty(wf,"passive",{get:function(){Ky=!0}}),window.addEventListener("test",wf,wf),window.removeEventListener("test",wf,wf)}catch{Ky=!1}function EO(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Zf=!1,O0=null,j0=!1,Yy=null,kO={onError:function(e){Zf=!0,O0=e}};function _O(e,t,n,r,i,a,o,s,l){Zf=!1,O0=null,EO.apply(kO,arguments)}function CO(e,t,n,r,i,a,o,s,l){if(_O.apply(this,arguments),Zf){if(Zf){var u=O0;Zf=!1,O0=null}else throw Error(We(198));j0||(j0=!0,Yy=u)}}function Ru(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function D5(e){if(Ru(e)!==e)throw Error(We(188))}function SO(e){var t=e.alternate;if(!t){if(t=Ru(e),t===null)throw Error(We(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return D5(i),e;if(a===r)return D5(i),t;a=a.sibling}throw Error(We(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(We(189))}}if(n.alternate!==r)throw Error(We(190))}if(n.tag!==3)throw Error(We(188));return n.stateNode.current===n?e:t}function fC(e){return e=SO(e),e!==null?hC(e):null}function hC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hC(e);if(t!==null)return t;e=e.sibling}return null}var pC=ya.unstable_scheduleCallback,L5=ya.unstable_cancelCallback,NO=ya.unstable_shouldYield,IO=ya.unstable_requestPaint,gr=ya.unstable_now,PO=ya.unstable_getCurrentPriorityLevel,hw=ya.unstable_ImmediatePriority,gC=ya.unstable_UserBlockingPriority,D0=ya.unstable_NormalPriority,BO=ya.unstable_LowPriority,mC=ya.unstable_IdlePriority,Tm=null,To=null;function TO(e){if(To&&typeof To.onCommitFiberRoot=="function")try{To.onCommitFiberRoot(Tm,e,void 0,(e.current.flags&128)===128)}catch{}}var fo=Math.clz32?Math.clz32:DO,OO=Math.log,jO=Math.LN2;function DO(e){return e>>>=0,e===0?32:31-(OO(e)/jO|0)|0}var tg=64,ng=4194304;function Wf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function L0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Wf(s):(a&=o,a!==0&&(r=Wf(a)))}else o=n&~i,o!==0?r=Wf(o):a!==0&&(r=Wf(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fo(t),i=1<<n,r|=e[n],t&=~i;return r}function LO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-fo(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=LO(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function Jy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vC(){var e=tg;return tg<<=1,!(tg&4194240)&&(tg=64),e}function iv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fo(t),e[t]=n}function FO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-fo(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function pw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kn=0;function yC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var AC,gw,wC,bC,xC,Xy=!1,rg=[],fl=null,hl=null,pl=null,bh=new Map,xh=new Map,rl=[],MO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R5(e,t){switch(e){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":hl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":bh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(t.pointerId)}}function bf(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ep(t),t!==null&&gw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function UO(e,t,n,r,i){switch(t){case"focusin":return fl=bf(fl,e,t,n,r,i),!0;case"dragenter":return hl=bf(hl,e,t,n,r,i),!0;case"mouseover":return pl=bf(pl,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return bh.set(a,bf(bh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,xh.set(a,bf(xh.get(a)||null,e,t,n,r,i)),!0}return!1}function EC(e){var t=hu(e.target);if(t!==null){var n=Ru(t);if(n!==null){if(t=n.tag,t===13){if(t=dC(n),t!==null){e.blockedOn=t,xC(e.priority,function(){wC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function n0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vy=r,n.target.dispatchEvent(r),Vy=null}else return t=ep(n),t!==null&&gw(t),e.blockedOn=n,!1;t.shift()}return!0}function F5(e,t,n){n0(e)&&n.delete(t)}function zO(){Xy=!1,fl!==null&&n0(fl)&&(fl=null),hl!==null&&n0(hl)&&(hl=null),pl!==null&&n0(pl)&&(pl=null),bh.forEach(F5),xh.forEach(F5)}function xf(e,t){e.blockedOn===t&&(e.blockedOn=null,Xy||(Xy=!0,ya.unstable_scheduleCallback(ya.unstable_NormalPriority,zO)))}function Eh(e){function t(i){return xf(i,e)}if(0<rg.length){xf(rg[0],e);for(var n=1;n<rg.length;n++){var r=rg[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fl!==null&&xf(fl,e),hl!==null&&xf(hl,e),pl!==null&&xf(pl,e),bh.forEach(t),xh.forEach(t),n=0;n<rl.length;n++)r=rl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rl.length&&(n=rl[0],n.blockedOn===null);)EC(n),n.blockedOn===null&&rl.shift()}var rd=_s.ReactCurrentBatchConfig,R0=!0;function HO(e,t,n,r){var i=kn,a=rd.transition;rd.transition=null;try{kn=1,mw(e,t,n,r)}finally{kn=i,rd.transition=a}}function GO(e,t,n,r){var i=kn,a=rd.transition;rd.transition=null;try{kn=4,mw(e,t,n,r)}finally{kn=i,rd.transition=a}}function mw(e,t,n,r){if(R0){var i=Zy(e,t,n,r);if(i===null)pv(e,t,r,F0,n),R5(e,r);else if(UO(i,e,t,n,r))r.stopPropagation();else if(R5(e,r),t&4&&-1<MO.indexOf(e)){for(;i!==null;){var a=ep(i);if(a!==null&&AC(a),a=Zy(e,t,n,r),a===null&&pv(e,t,r,F0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else pv(e,t,r,null,n)}}var F0=null;function Zy(e,t,n,r){if(F0=null,e=fw(r),e=hu(e),e!==null)if(t=Ru(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return F0=e,null}function kC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PO()){case hw:return 1;case gC:return 4;case D0:case BO:return 16;case mC:return 536870912;default:return 16}default:return 16}}var ol=null,vw=null,r0=null;function _C(){if(r0)return r0;var e,t=vw,n=t.length,r,i="value"in ol?ol.value:ol.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return r0=i.slice(e,1<r?1-r:void 0)}function i0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ig(){return!0}function M5(){return!1}function ba(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ig:M5,this.isPropagationStopped=M5,this}return or(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ig)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ig)},persist:function(){},isPersistent:ig}),t}var Cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yw=ba(Cd),Zh=or({},Cd,{view:0,detail:0}),QO=ba(Zh),av,ov,Ef,Om=or({},Zh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ef&&(Ef&&e.type==="mousemove"?(av=e.screenX-Ef.screenX,ov=e.screenY-Ef.screenY):ov=av=0,Ef=e),av)},movementY:function(e){return"movementY"in e?e.movementY:ov}}),U5=ba(Om),qO=or({},Om,{dataTransfer:0}),$O=ba(qO),VO=or({},Zh,{relatedTarget:0}),sv=ba(VO),WO=or({},Cd,{animationName:0,elapsedTime:0,pseudoElement:0}),KO=ba(WO),YO=or({},Cd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JO=ba(YO),XO=or({},Cd,{data:0}),z5=ba(XO),ZO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ej={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tj[e])?!!t[e]:!1}function Aw(){return nj}var rj=or({},Zh,{key:function(e){if(e.key){var t=ZO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=i0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ej[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aw,charCode:function(e){return e.type==="keypress"?i0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?i0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ij=ba(rj),aj=or({},Om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H5=ba(aj),oj=or({},Zh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aw}),sj=ba(oj),lj=or({},Cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),uj=ba(lj),cj=or({},Om,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dj=ba(cj),fj=[9,13,27,32],ww=As&&"CompositionEvent"in window,eh=null;As&&"documentMode"in document&&(eh=document.documentMode);var hj=As&&"TextEvent"in window&&!eh,CC=As&&(!ww||eh&&8<eh&&11>=eh),G5=" ",Q5=!1;function SC(e,t){switch(e){case"keyup":return fj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zc=!1;function pj(e,t){switch(e){case"compositionend":return NC(t);case"keypress":return t.which!==32?null:(Q5=!0,G5);case"textInput":return e=t.data,e===G5&&Q5?null:e;default:return null}}function gj(e,t){if(zc)return e==="compositionend"||!ww&&SC(e,t)?(e=_C(),r0=vw=ol=null,zc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return CC&&t.locale!=="ko"?null:t.data;default:return null}}var mj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mj[e.type]:t==="textarea"}function IC(e,t,n,r){oC(r),t=M0(t,"onChange"),0<t.length&&(n=new yw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var th=null,kh=null;function vj(e){UC(e,0)}function jm(e){var t=Qc(e);if(Z_(t))return e}function yj(e,t){if(e==="change")return t}var PC=!1;if(As){var lv;if(As){var uv="oninput"in document;if(!uv){var $5=document.createElement("div");$5.setAttribute("oninput","return;"),uv=typeof $5.oninput=="function"}lv=uv}else lv=!1;PC=lv&&(!document.documentMode||9<document.documentMode)}function V5(){th&&(th.detachEvent("onpropertychange",BC),kh=th=null)}function BC(e){if(e.propertyName==="value"&&jm(kh)){var t=[];IC(t,kh,e,fw(e)),cC(vj,t)}}function Aj(e,t,n){e==="focusin"?(V5(),th=t,kh=n,th.attachEvent("onpropertychange",BC)):e==="focusout"&&V5()}function wj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jm(kh)}function bj(e,t){if(e==="click")return jm(t)}function xj(e,t){if(e==="input"||e==="change")return jm(t)}function Ej(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var po=typeof Object.is=="function"?Object.is:Ej;function _h(e,t){if(po(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dy.call(t,i)||!po(e[i],t[i]))return!1}return!0}function W5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function K5(e,t){var n=W5(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W5(n)}}function TC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?TC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function OC(){for(var e=window,t=T0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=T0(e.document)}return t}function bw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kj(e){var t=OC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&TC(n.ownerDocument.documentElement,n)){if(r!==null&&bw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=K5(n,a);var o=K5(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _j=As&&"documentMode"in document&&11>=document.documentMode,Hc=null,eA=null,nh=null,tA=!1;function Y5(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tA||Hc==null||Hc!==T0(r)||(r=Hc,"selectionStart"in r&&bw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nh&&_h(nh,r)||(nh=r,r=M0(eA,"onSelect"),0<r.length&&(t=new yw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hc)))}function ag(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gc={animationend:ag("Animation","AnimationEnd"),animationiteration:ag("Animation","AnimationIteration"),animationstart:ag("Animation","AnimationStart"),transitionend:ag("Transition","TransitionEnd")},cv={},jC={};As&&(jC=document.createElement("div").style,"AnimationEvent"in window||(delete Gc.animationend.animation,delete Gc.animationiteration.animation,delete Gc.animationstart.animation),"TransitionEvent"in window||delete Gc.transitionend.transition);function Dm(e){if(cv[e])return cv[e];if(!Gc[e])return e;var t=Gc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jC)return cv[e]=t[n];return e}var DC=Dm("animationend"),LC=Dm("animationiteration"),RC=Dm("animationstart"),FC=Dm("transitionend"),MC=new Map,J5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bl(e,t){MC.set(e,t),Lu(t,[e])}for(var dv=0;dv<J5.length;dv++){var fv=J5[dv],Cj=fv.toLowerCase(),Sj=fv[0].toUpperCase()+fv.slice(1);Bl(Cj,"on"+Sj)}Bl(DC,"onAnimationEnd");Bl(LC,"onAnimationIteration");Bl(RC,"onAnimationStart");Bl("dblclick","onDoubleClick");Bl("focusin","onFocus");Bl("focusout","onBlur");Bl(FC,"onTransitionEnd");hd("onMouseEnter",["mouseout","mouseover"]);hd("onMouseLeave",["mouseout","mouseover"]);hd("onPointerEnter",["pointerout","pointerover"]);hd("onPointerLeave",["pointerout","pointerover"]);Lu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kf));function X5(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,CO(r,t,void 0,e),e.currentTarget=null}function UC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;X5(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;X5(i,s,u),a=l}}}if(j0)throw e=Yy,j0=!1,Yy=null,e}function Hn(e,t){var n=t[oA];n===void 0&&(n=t[oA]=new Set);var r=e+"__bubble";n.has(r)||(zC(t,e,2,!1),n.add(r))}function hv(e,t,n){var r=0;t&&(r|=4),zC(n,e,r,t)}var og="_reactListening"+Math.random().toString(36).slice(2);function Ch(e){if(!e[og]){e[og]=!0,W_.forEach(function(n){n!=="selectionchange"&&(Nj.has(n)||hv(n,!1,e),hv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[og]||(t[og]=!0,hv("selectionchange",!1,t))}}function zC(e,t,n,r){switch(kC(t)){case 1:var i=HO;break;case 4:i=GO;break;default:i=mw}n=i.bind(null,t,n,e),i=void 0,!Ky||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function pv(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=hu(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}cC(function(){var u=a,c=fw(n),d=[];e:{var h=MC.get(e);if(h!==void 0){var f=yw,v=e;switch(e){case"keypress":if(i0(n)===0)break e;case"keydown":case"keyup":f=ij;break;case"focusin":v="focus",f=sv;break;case"focusout":v="blur",f=sv;break;case"beforeblur":case"afterblur":f=sv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=U5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=$O;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=sj;break;case DC:case LC:case RC:f=KO;break;case FC:f=uj;break;case"scroll":f=QO;break;case"wheel":f=dj;break;case"copy":case"cut":case"paste":f=JO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=H5}var y=(t&4)!==0,A=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var p=u,w;p!==null;){w=p;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,g!==null&&(x=wh(p,g),x!=null&&y.push(Sh(p,x,w)))),A)break;p=p.return}0<y.length&&(h=new f(h,v,null,n,c),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==Vy&&(v=n.relatedTarget||n.fromElement)&&(hu(v)||v[ws]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?hu(v):null,v!==null&&(A=Ru(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(y=U5,x="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=H5,x="onPointerLeave",g="onPointerEnter",p="pointer"),A=f==null?h:Qc(f),w=v==null?h:Qc(v),h=new y(x,p+"leave",f,n,c),h.target=A,h.relatedTarget=w,x=null,hu(c)===u&&(y=new y(g,p+"enter",v,n,c),y.target=w,y.relatedTarget=A,x=y),A=x,f&&v)t:{for(y=f,g=v,p=0,w=y;w;w=fc(w))p++;for(w=0,x=g;x;x=fc(x))w++;for(;0<p-w;)y=fc(y),p--;for(;0<w-p;)g=fc(g),w--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=fc(y),g=fc(g)}y=null}else y=null;f!==null&&Z5(d,h,f,y,!1),v!==null&&A!==null&&Z5(d,A,v,y,!0)}}e:{if(h=u?Qc(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=yj;else if(q5(h))if(PC)C=xj;else{C=wj;var D=Aj}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=bj);if(C&&(C=C(e,u))){IC(d,C,n,c);break e}D&&D(e,h,u),e==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&Hy(h,"number",h.value)}switch(D=u?Qc(u):window,e){case"focusin":(q5(D)||D.contentEditable==="true")&&(Hc=D,eA=u,nh=null);break;case"focusout":nh=eA=Hc=null;break;case"mousedown":tA=!0;break;case"contextmenu":case"mouseup":case"dragend":tA=!1,Y5(d,n,c);break;case"selectionchange":if(_j)break;case"keydown":case"keyup":Y5(d,n,c)}var N;if(ww)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else zc?SC(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(CC&&n.locale!=="ko"&&(zc||I!=="onCompositionStart"?I==="onCompositionEnd"&&zc&&(N=_C()):(ol=c,vw="value"in ol?ol.value:ol.textContent,zc=!0)),D=M0(u,I),0<D.length&&(I=new z5(I,e,null,n,c),d.push({event:I,listeners:D}),N?I.data=N:(N=NC(n),N!==null&&(I.data=N)))),(N=hj?pj(e,n):gj(e,n))&&(u=M0(u,"onBeforeInput"),0<u.length&&(c=new z5("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=N))}UC(d,t)})}function Sh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function M0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=wh(e,n),a!=null&&r.unshift(Sh(e,a,i)),a=wh(e,t),a!=null&&r.push(Sh(e,a,i))),e=e.return}return r}function fc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Z5(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=wh(n,a),l!=null&&o.unshift(Sh(n,l,s))):i||(l=wh(n,a),l!=null&&o.push(Sh(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ij=/\r\n?/g,Pj=/\u0000|\uFFFD/g;function ex(e){return(typeof e=="string"?e:""+e).replace(Ij,`
`).replace(Pj,"")}function sg(e,t,n){if(t=ex(t),ex(e)!==t&&n)throw Error(We(425))}function U0(){}var nA=null,rA=null;function iA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var aA=typeof setTimeout=="function"?setTimeout:void 0,Bj=typeof clearTimeout=="function"?clearTimeout:void 0,tx=typeof Promise=="function"?Promise:void 0,Tj=typeof queueMicrotask=="function"?queueMicrotask:typeof tx<"u"?function(e){return tx.resolve(null).then(e).catch(Oj)}:aA;function Oj(e){setTimeout(function(){throw e})}function gv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Eh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Eh(t)}function gl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sd=Math.random().toString(36).slice(2),Io="__reactFiber$"+Sd,Nh="__reactProps$"+Sd,ws="__reactContainer$"+Sd,oA="__reactEvents$"+Sd,jj="__reactListeners$"+Sd,Dj="__reactHandles$"+Sd;function hu(e){var t=e[Io];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ws]||n[Io]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nx(e);e!==null;){if(n=e[Io])return n;e=nx(e)}return t}e=n,n=e.parentNode}return null}function ep(e){return e=e[Io]||e[ws],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function Lm(e){return e[Nh]||null}var sA=[],qc=-1;function Tl(e){return{current:e}}function Wn(e){0>qc||(e.current=sA[qc],sA[qc]=null,qc--)}function Un(e,t){qc++,sA[qc]=e.current,e.current=t}var El={},Ai=Tl(El),$i=Tl(!1),_u=El;function pd(e,t){var n=e.type.contextTypes;if(!n)return El;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Vi(e){return e=e.childContextTypes,e!=null}function z0(){Wn($i),Wn(Ai)}function rx(e,t,n){if(Ai.current!==El)throw Error(We(168));Un(Ai,t),Un($i,n)}function HC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(We(108,AO(e)||"Unknown",i));return or({},n,r)}function H0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||El,_u=Ai.current,Un(Ai,e),Un($i,$i.current),!0}function ix(e,t,n){var r=e.stateNode;if(!r)throw Error(We(169));n?(e=HC(e,t,_u),r.__reactInternalMemoizedMergedChildContext=e,Wn($i),Wn(Ai),Un(Ai,e)):Wn($i),Un($i,n)}var cs=null,Rm=!1,mv=!1;function GC(e){cs===null?cs=[e]:cs.push(e)}function Lj(e){Rm=!0,GC(e)}function Ol(){if(!mv&&cs!==null){mv=!0;var e=0,t=kn;try{var n=cs;for(kn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cs=null,Rm=!1}catch(i){throw cs!==null&&(cs=cs.slice(e+1)),pC(hw,Ol),i}finally{kn=t,mv=!1}}return null}var $c=[],Vc=0,G0=null,Q0=0,Da=[],La=0,Cu=null,ps=1,gs="";function Xl(e,t){$c[Vc++]=Q0,$c[Vc++]=G0,G0=e,Q0=t}function QC(e,t,n){Da[La++]=ps,Da[La++]=gs,Da[La++]=Cu,Cu=e;var r=ps;e=gs;var i=32-fo(r)-1;r&=~(1<<i),n+=1;var a=32-fo(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ps=1<<32-fo(t)+i|n<<i|r,gs=a+e}else ps=1<<a|n<<i|r,gs=e}function xw(e){e.return!==null&&(Xl(e,1),QC(e,1,0))}function Ew(e){for(;e===G0;)G0=$c[--Vc],$c[Vc]=null,Q0=$c[--Vc],$c[Vc]=null;for(;e===Cu;)Cu=Da[--La],Da[La]=null,gs=Da[--La],Da[La]=null,ps=Da[--La],Da[La]=null}var va=null,pa=null,Xn=!1,co=null;function qC(e,t){var n=Fa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ax(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,va=e,pa=gl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,va=e,pa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cu!==null?{id:ps,overflow:gs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,va=e,pa=null,!0):!1;default:return!1}}function lA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uA(e){if(Xn){var t=pa;if(t){var n=t;if(!ax(e,t)){if(lA(e))throw Error(We(418));t=gl(n.nextSibling);var r=va;t&&ax(e,t)?qC(r,n):(e.flags=e.flags&-4097|2,Xn=!1,va=e)}}else{if(lA(e))throw Error(We(418));e.flags=e.flags&-4097|2,Xn=!1,va=e}}}function ox(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;va=e}function lg(e){if(e!==va)return!1;if(!Xn)return ox(e),Xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!iA(e.type,e.memoizedProps)),t&&(t=pa)){if(lA(e))throw $C(),Error(We(418));for(;t;)qC(e,t),t=gl(t.nextSibling)}if(ox(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pa=gl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pa=null}}else pa=va?gl(e.stateNode.nextSibling):null;return!0}function $C(){for(var e=pa;e;)e=gl(e.nextSibling)}function gd(){pa=va=null,Xn=!1}function kw(e){co===null?co=[e]:co.push(e)}var Rj=_s.ReactCurrentBatchConfig;function kf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(We(309));var r=n.stateNode}if(!r)throw Error(We(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(We(284));if(!n._owner)throw Error(We(290,e))}return e}function ug(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sx(e){var t=e._init;return t(e._payload)}function VC(e){function t(g,p){if(e){var w=g.deletions;w===null?(g.deletions=[p],g.flags|=16):w.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Al(g,p),g.index=0,g.sibling=null,g}function a(g,p,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<p?(g.flags|=2,p):w):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,p,w,x){return p===null||p.tag!==6?(p=Ev(w,g.mode,x),p.return=g,p):(p=i(p,w),p.return=g,p)}function l(g,p,w,x){var C=w.type;return C===Uc?c(g,p,w.props.children,x,w.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===tl&&sx(C)===p.type)?(x=i(p,w.props),x.ref=kf(g,p,w),x.return=g,x):(x=d0(w.type,w.key,w.props,null,g.mode,x),x.ref=kf(g,p,w),x.return=g,x)}function u(g,p,w,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=kv(w,g.mode,x),p.return=g,p):(p=i(p,w.children||[]),p.return=g,p)}function c(g,p,w,x,C){return p===null||p.tag!==7?(p=xu(w,g.mode,x,C),p.return=g,p):(p=i(p,w),p.return=g,p)}function d(g,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ev(""+p,g.mode,w),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xp:return w=d0(p.type,p.key,p.props,null,g.mode,w),w.ref=kf(g,null,p),w.return=g,w;case Mc:return p=kv(p,g.mode,w),p.return=g,p;case tl:var x=p._init;return d(g,x(p._payload),w)}if(Vf(p)||Af(p))return p=xu(p,g.mode,w,null),p.return=g,p;ug(g,p)}return null}function h(g,p,w,x){var C=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:s(g,p,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xp:return w.key===C?l(g,p,w,x):null;case Mc:return w.key===C?u(g,p,w,x):null;case tl:return C=w._init,h(g,p,C(w._payload),x)}if(Vf(w)||Af(w))return C!==null?null:c(g,p,w,x,null);ug(g,w)}return null}function f(g,p,w,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(w)||null,s(p,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xp:return g=g.get(x.key===null?w:x.key)||null,l(p,g,x,C);case Mc:return g=g.get(x.key===null?w:x.key)||null,u(p,g,x,C);case tl:var D=x._init;return f(g,p,w,D(x._payload),C)}if(Vf(x)||Af(x))return g=g.get(w)||null,c(p,g,x,C,null);ug(p,x)}return null}function v(g,p,w,x){for(var C=null,D=null,N=p,I=p=0,R=null;N!==null&&I<w.length;I++){N.index>I?(R=N,N=null):R=N.sibling;var T=h(g,N,w[I],x);if(T===null){N===null&&(N=R);break}e&&N&&T.alternate===null&&t(g,N),p=a(T,p,I),D===null?C=T:D.sibling=T,D=T,N=R}if(I===w.length)return n(g,N),Xn&&Xl(g,I),C;if(N===null){for(;I<w.length;I++)N=d(g,w[I],x),N!==null&&(p=a(N,p,I),D===null?C=N:D.sibling=N,D=N);return Xn&&Xl(g,I),C}for(N=r(g,N);I<w.length;I++)R=f(N,g,I,w[I],x),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?I:R.key),p=a(R,p,I),D===null?C=R:D.sibling=R,D=R);return e&&N.forEach(function(k){return t(g,k)}),Xn&&Xl(g,I),C}function y(g,p,w,x){var C=Af(w);if(typeof C!="function")throw Error(We(150));if(w=C.call(w),w==null)throw Error(We(151));for(var D=C=null,N=p,I=p=0,R=null,T=w.next();N!==null&&!T.done;I++,T=w.next()){N.index>I?(R=N,N=null):R=N.sibling;var k=h(g,N,T.value,x);if(k===null){N===null&&(N=R);break}e&&N&&k.alternate===null&&t(g,N),p=a(k,p,I),D===null?C=k:D.sibling=k,D=k,N=R}if(T.done)return n(g,N),Xn&&Xl(g,I),C;if(N===null){for(;!T.done;I++,T=w.next())T=d(g,T.value,x),T!==null&&(p=a(T,p,I),D===null?C=T:D.sibling=T,D=T);return Xn&&Xl(g,I),C}for(N=r(g,N);!T.done;I++,T=w.next())T=f(N,g,I,T.value,x),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?I:T.key),p=a(T,p,I),D===null?C=T:D.sibling=T,D=T);return e&&N.forEach(function(_){return t(g,_)}),Xn&&Xl(g,I),C}function A(g,p,w,x){if(typeof w=="object"&&w!==null&&w.type===Uc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xp:e:{for(var C=w.key,D=p;D!==null;){if(D.key===C){if(C=w.type,C===Uc){if(D.tag===7){n(g,D.sibling),p=i(D,w.props.children),p.return=g,g=p;break e}}else if(D.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===tl&&sx(C)===D.type){n(g,D.sibling),p=i(D,w.props),p.ref=kf(g,D,w),p.return=g,g=p;break e}n(g,D);break}else t(g,D);D=D.sibling}w.type===Uc?(p=xu(w.props.children,g.mode,x,w.key),p.return=g,g=p):(x=d0(w.type,w.key,w.props,null,g.mode,x),x.ref=kf(g,p,w),x.return=g,g=x)}return o(g);case Mc:e:{for(D=w.key;p!==null;){if(p.key===D)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(g,p.sibling),p=i(p,w.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=kv(w,g.mode,x),p.return=g,g=p}return o(g);case tl:return D=w._init,A(g,p,D(w._payload),x)}if(Vf(w))return v(g,p,w,x);if(Af(w))return y(g,p,w,x);ug(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,w),p.return=g,g=p):(n(g,p),p=Ev(w,g.mode,x),p.return=g,g=p),o(g)):n(g,p)}return A}var md=VC(!0),WC=VC(!1),q0=Tl(null),$0=null,Wc=null,_w=null;function Cw(){_w=Wc=$0=null}function Sw(e){var t=q0.current;Wn(q0),e._currentValue=t}function cA(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function id(e,t){$0=e,_w=Wc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qi=!0),e.firstContext=null)}function Ua(e){var t=e._currentValue;if(_w!==e)if(e={context:e,memoizedValue:t,next:null},Wc===null){if($0===null)throw Error(We(308));Wc=e,$0.dependencies={lanes:0,firstContext:e}}else Wc=Wc.next=e;return t}var pu=null;function Nw(e){pu===null?pu=[e]:pu.push(e)}function KC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Nw(t)):(n.next=i.next,i.next=n),t.interleaved=n,bs(e,r)}function bs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nl=!1;function Iw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ml(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,an&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,bs(e,n)}return i=r.interleaved,i===null?(t.next=t,Nw(r)):(t.next=i.next,i.next=t),r.interleaved=t,bs(e,n)}function a0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pw(e,n)}}function lx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function V0(e,t,n,r){var i=e.updateQueue;nl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,f=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,y=s;switch(h=t,f=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(f,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(f,d,h):v,h==null)break e;d=or({},d,h);break e;case 2:nl=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Nu|=o,e.lanes=o,e.memoizedState=d}}function ux(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(We(191,i));i.call(r)}}}var tp={},Oo=Tl(tp),Ih=Tl(tp),Ph=Tl(tp);function gu(e){if(e===tp)throw Error(We(174));return e}function Pw(e,t){switch(Un(Ph,t),Un(Ih,e),Un(Oo,tp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qy(t,e)}Wn(Oo),Un(Oo,t)}function vd(){Wn(Oo),Wn(Ih),Wn(Ph)}function JC(e){gu(Ph.current);var t=gu(Oo.current),n=Qy(t,e.type);t!==n&&(Un(Ih,e),Un(Oo,n))}function Bw(e){Ih.current===e&&(Wn(Oo),Wn(Ih))}var ir=Tl(0);function W0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vv=[];function Tw(){for(var e=0;e<vv.length;e++)vv[e]._workInProgressVersionPrimary=null;vv.length=0}var o0=_s.ReactCurrentDispatcher,yv=_s.ReactCurrentBatchConfig,Su=0,ar=null,Or=null,Qr=null,K0=!1,rh=!1,Bh=0,Fj=0;function li(){throw Error(We(321))}function Ow(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!po(e[n],t[n]))return!1;return!0}function jw(e,t,n,r,i,a){if(Su=a,ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,o0.current=e===null||e.memoizedState===null?Hj:Gj,e=n(r,i),rh){a=0;do{if(rh=!1,Bh=0,25<=a)throw Error(We(301));a+=1,Qr=Or=null,t.updateQueue=null,o0.current=Qj,e=n(r,i)}while(rh)}if(o0.current=Y0,t=Or!==null&&Or.next!==null,Su=0,Qr=Or=ar=null,K0=!1,t)throw Error(We(300));return e}function Dw(){var e=Bh!==0;return Bh=0,e}function No(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?ar.memoizedState=Qr=e:Qr=Qr.next=e,Qr}function za(){if(Or===null){var e=ar.alternate;e=e!==null?e.memoizedState:null}else e=Or.next;var t=Qr===null?ar.memoizedState:Qr.next;if(t!==null)Qr=t,Or=e;else{if(e===null)throw Error(We(310));Or=e,e={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Qr===null?ar.memoizedState=Qr=e:Qr=Qr.next=e}return Qr}function Th(e,t){return typeof t=="function"?t(e):t}function Av(e){var t=za(),n=t.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=e;var r=Or,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Su&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=r):l=l.next=d,ar.lanes|=c,Nu|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,po(r,t.memoizedState)||(qi=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,ar.lanes|=a,Nu|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wv(e){var t=za(),n=t.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);po(a,t.memoizedState)||(qi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function XC(){}function ZC(e,t){var n=ar,r=za(),i=t(),a=!po(r.memoizedState,i);if(a&&(r.memoizedState=i,qi=!0),r=r.queue,Lw(nS.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Qr!==null&&Qr.memoizedState.tag&1){if(n.flags|=2048,Oh(9,tS.bind(null,n,r,i,t),void 0,null),Vr===null)throw Error(We(349));Su&30||eS(n,t,i)}return i}function eS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tS(e,t,n,r){t.value=n,t.getSnapshot=r,rS(t)&&iS(e)}function nS(e,t,n){return n(function(){rS(t)&&iS(e)})}function rS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!po(e,n)}catch{return!0}}function iS(e){var t=bs(e,1);t!==null&&ho(t,e,1,-1)}function cx(e){var t=No();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Th,lastRenderedState:e},t.queue=e,e=e.dispatch=zj.bind(null,ar,e),[t.memoizedState,e]}function Oh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function aS(){return za().memoizedState}function s0(e,t,n,r){var i=No();ar.flags|=e,i.memoizedState=Oh(1|t,n,void 0,r===void 0?null:r)}function Fm(e,t,n,r){var i=za();r=r===void 0?null:r;var a=void 0;if(Or!==null){var o=Or.memoizedState;if(a=o.destroy,r!==null&&Ow(r,o.deps)){i.memoizedState=Oh(t,n,a,r);return}}ar.flags|=e,i.memoizedState=Oh(1|t,n,a,r)}function dx(e,t){return s0(8390656,8,e,t)}function Lw(e,t){return Fm(2048,8,e,t)}function oS(e,t){return Fm(4,2,e,t)}function sS(e,t){return Fm(4,4,e,t)}function lS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uS(e,t,n){return n=n!=null?n.concat([e]):null,Fm(4,4,lS.bind(null,t,e),n)}function Rw(){}function cS(e,t){var n=za();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ow(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dS(e,t){var n=za();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ow(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fS(e,t,n){return Su&21?(po(n,t)||(n=vC(),ar.lanes|=n,Nu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qi=!0),e.memoizedState=n)}function Mj(e,t){var n=kn;kn=n!==0&&4>n?n:4,e(!0);var r=yv.transition;yv.transition={};try{e(!1),t()}finally{kn=n,yv.transition=r}}function hS(){return za().memoizedState}function Uj(e,t,n){var r=yl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pS(e))gS(t,n);else if(n=KC(e,t,n,r),n!==null){var i=Bi();ho(n,e,r,i),mS(n,t,r)}}function zj(e,t,n){var r=yl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pS(e))gS(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,po(s,o)){var l=t.interleaved;l===null?(i.next=i,Nw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=KC(e,t,i,r),n!==null&&(i=Bi(),ho(n,e,r,i),mS(n,t,r))}}function pS(e){var t=e.alternate;return e===ar||t!==null&&t===ar}function gS(e,t){rh=K0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pw(e,n)}}var Y0={readContext:Ua,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},Hj={readContext:Ua,useCallback:function(e,t){return No().memoizedState=[e,t===void 0?null:t],e},useContext:Ua,useEffect:dx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,s0(4194308,4,lS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return s0(4194308,4,e,t)},useInsertionEffect:function(e,t){return s0(4,2,e,t)},useMemo:function(e,t){var n=No();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=No();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Uj.bind(null,ar,e),[r.memoizedState,e]},useRef:function(e){var t=No();return e={current:e},t.memoizedState=e},useState:cx,useDebugValue:Rw,useDeferredValue:function(e){return No().memoizedState=e},useTransition:function(){var e=cx(!1),t=e[0];return e=Mj.bind(null,e[1]),No().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ar,i=No();if(Xn){if(n===void 0)throw Error(We(407));n=n()}else{if(n=t(),Vr===null)throw Error(We(349));Su&30||eS(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,dx(nS.bind(null,r,a,e),[e]),r.flags|=2048,Oh(9,tS.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=No(),t=Vr.identifierPrefix;if(Xn){var n=gs,r=ps;n=(r&~(1<<32-fo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gj={readContext:Ua,useCallback:cS,useContext:Ua,useEffect:Lw,useImperativeHandle:uS,useInsertionEffect:oS,useLayoutEffect:sS,useMemo:dS,useReducer:Av,useRef:aS,useState:function(){return Av(Th)},useDebugValue:Rw,useDeferredValue:function(e){var t=za();return fS(t,Or.memoizedState,e)},useTransition:function(){var e=Av(Th)[0],t=za().memoizedState;return[e,t]},useMutableSource:XC,useSyncExternalStore:ZC,useId:hS,unstable_isNewReconciler:!1},Qj={readContext:Ua,useCallback:cS,useContext:Ua,useEffect:Lw,useImperativeHandle:uS,useInsertionEffect:oS,useLayoutEffect:sS,useMemo:dS,useReducer:wv,useRef:aS,useState:function(){return wv(Th)},useDebugValue:Rw,useDeferredValue:function(e){var t=za();return Or===null?t.memoizedState=e:fS(t,Or.memoizedState,e)},useTransition:function(){var e=wv(Th)[0],t=za().memoizedState;return[e,t]},useMutableSource:XC,useSyncExternalStore:ZC,useId:hS,unstable_isNewReconciler:!1};function io(e,t){if(e&&e.defaultProps){t=or({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dA(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:or({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mm={isMounted:function(e){return(e=e._reactInternals)?Ru(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bi(),i=yl(e),a=vs(r,i);a.payload=t,n!=null&&(a.callback=n),t=ml(e,a,i),t!==null&&(ho(t,e,i,r),a0(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bi(),i=yl(e),a=vs(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ml(e,a,i),t!==null&&(ho(t,e,i,r),a0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bi(),r=yl(e),i=vs(n,r);i.tag=2,t!=null&&(i.callback=t),t=ml(e,i,r),t!==null&&(ho(t,e,r,n),a0(t,e,r))}};function fx(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!_h(n,r)||!_h(i,a):!0}function vS(e,t,n){var r=!1,i=El,a=t.contextType;return typeof a=="object"&&a!==null?a=Ua(a):(i=Vi(t)?_u:Ai.current,r=t.contextTypes,a=(r=r!=null)?pd(e,i):El),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function hx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mm.enqueueReplaceState(t,t.state,null)}function fA(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Iw(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ua(a):(a=Vi(t)?_u:Ai.current,i.context=pd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(dA(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Mm.enqueueReplaceState(i,i.state,null),V0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yd(e,t){try{var n="",r=t;do n+=yO(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function bv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hA(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qj=typeof WeakMap=="function"?WeakMap:Map;function yS(e,t,n){n=vs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){X0||(X0=!0,EA=r),hA(e,t)},n}function AS(e,t,n){n=vs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hA(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){hA(e,t),typeof r!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function px(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=aD.bind(null,e,t,n),t.then(e,e))}function gx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mx(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vs(-1,1),t.tag=2,ml(n,t,1))),n.lanes|=1),e)}var $j=_s.ReactCurrentOwner,qi=!1;function Ni(e,t,n,r){t.child=e===null?WC(t,null,n,r):md(t,e.child,n,r)}function vx(e,t,n,r,i){n=n.render;var a=t.ref;return id(t,i),r=jw(e,t,n,r,a,i),n=Dw(),e!==null&&!qi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xs(e,t,i)):(Xn&&n&&xw(t),t.flags|=1,Ni(e,t,r,i),t.child)}function yx(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!qw(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,wS(e,t,a,r,i)):(e=d0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:_h,n(o,r)&&e.ref===t.ref)return xs(e,t,i)}return t.flags|=1,e=Al(a,r),e.ref=t.ref,e.return=t,t.child=e}function wS(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(_h(a,r)&&e.ref===t.ref)if(qi=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(qi=!0);else return t.lanes=e.lanes,xs(e,t,i)}return pA(e,t,n,r,i)}function bS(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(Yc,la),la|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Un(Yc,la),la|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Un(Yc,la),la|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Un(Yc,la),la|=r;return Ni(e,t,i,n),t.child}function xS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pA(e,t,n,r,i){var a=Vi(n)?_u:Ai.current;return a=pd(t,a),id(t,i),n=jw(e,t,n,r,a,i),r=Dw(),e!==null&&!qi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xs(e,t,i)):(Xn&&r&&xw(t),t.flags|=1,Ni(e,t,n,i),t.child)}function Ax(e,t,n,r,i){if(Vi(n)){var a=!0;H0(t)}else a=!1;if(id(t,i),t.stateNode===null)l0(e,t),vS(t,n,r),fA(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ua(u):(u=Vi(n)?_u:Ai.current,u=pd(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&hx(t,o,r,u),nl=!1;var h=t.memoizedState;o.state=h,V0(t,r,o,i),l=t.memoizedState,s!==r||h!==l||$i.current||nl?(typeof c=="function"&&(dA(t,n,c,r),l=t.memoizedState),(s=nl||fx(t,n,s,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,YC(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:io(t.type,s),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ua(l):(l=Vi(n)?_u:Ai.current,l=pd(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&hx(t,o,r,l),nl=!1,h=t.memoizedState,o.state=h,V0(t,r,o,i);var v=t.memoizedState;s!==d||h!==v||$i.current||nl?(typeof f=="function"&&(dA(t,n,f,r),v=t.memoizedState),(u=nl||fx(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return gA(e,t,n,r,a,i)}function gA(e,t,n,r,i,a){xS(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&ix(t,n,!1),xs(e,t,a);r=t.stateNode,$j.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=md(t,e.child,null,a),t.child=md(t,null,s,a)):Ni(e,t,s,a),t.memoizedState=r.state,i&&ix(t,n,!0),t.child}function ES(e){var t=e.stateNode;t.pendingContext?rx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rx(e,t.context,!1),Pw(e,t.containerInfo)}function wx(e,t,n,r,i){return gd(),kw(i),t.flags|=256,Ni(e,t,n,r),t.child}var mA={dehydrated:null,treeContext:null,retryLane:0};function vA(e){return{baseLanes:e,cachePool:null,transitions:null}}function kS(e,t,n){var r=t.pendingProps,i=ir.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Un(ir,i&1),e===null)return uA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Hm(o,r,0,null),e=xu(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=vA(n),t.memoizedState=mA,e):Fw(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Vj(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Al(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Al(s,a):(a=xu(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?vA(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=mA,r}return a=e.child,e=a.sibling,r=Al(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fw(e,t){return t=Hm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cg(e,t,n,r){return r!==null&&kw(r),md(t,e.child,null,n),e=Fw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vj(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=bv(Error(We(422))),cg(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Hm({mode:"visible",children:r.children},i,0,null),a=xu(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&md(t,e.child,null,o),t.child.memoizedState=vA(o),t.memoizedState=mA,a);if(!(t.mode&1))return cg(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(We(419)),r=bv(a,r,void 0),cg(e,t,o,r)}if(s=(o&e.childLanes)!==0,qi||s){if(r=Vr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,bs(e,i),ho(r,e,i,-1))}return Qw(),r=bv(Error(We(421))),cg(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=oD.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,pa=gl(i.nextSibling),va=t,Xn=!0,co=null,e!==null&&(Da[La++]=ps,Da[La++]=gs,Da[La++]=Cu,ps=e.id,gs=e.overflow,Cu=t),t=Fw(t,r.children),t.flags|=4096,t)}function bx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cA(e.return,t,n)}function xv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function _S(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ni(e,t,r.children,n),r=ir.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bx(e,n,t);else if(e.tag===19)bx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Un(ir,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&W0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&W0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xv(t,!0,n,null,a);break;case"together":xv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function l0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,n=Al(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Al(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wj(e,t,n){switch(t.tag){case 3:ES(t),gd();break;case 5:JC(t);break;case 1:Vi(t.type)&&H0(t);break;case 4:Pw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Un(q0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Un(ir,ir.current&1),t.flags|=128,null):n&t.child.childLanes?kS(e,t,n):(Un(ir,ir.current&1),e=xs(e,t,n),e!==null?e.sibling:null);Un(ir,ir.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _S(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Un(ir,ir.current),r)break;return null;case 22:case 23:return t.lanes=0,bS(e,t,n)}return xs(e,t,n)}var CS,yA,SS,NS;CS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yA=function(){};SS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,gu(Oo.current);var a=null;switch(n){case"input":i=Uy(e,i),r=Uy(e,r),a=[];break;case"select":i=or({},i,{value:void 0}),r=or({},r,{value:void 0}),a=[];break;case"textarea":i=Gy(e,i),r=Gy(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=U0)}qy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yh.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Hn("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};NS=function(e,t,n,r){n!==r&&(t.flags|=4)};function _f(e,t){if(!Xn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ui(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kj(e,t,n){var r=t.pendingProps;switch(Ew(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(t),null;case 1:return Vi(t.type)&&z0(),ui(t),null;case 3:return r=t.stateNode,vd(),Wn($i),Wn(Ai),Tw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(lg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,co!==null&&(CA(co),co=null))),yA(e,t),ui(t),null;case 5:Bw(t);var i=gu(Ph.current);if(n=t.type,e!==null&&t.stateNode!=null)SS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(We(166));return ui(t),null}if(e=gu(Oo.current),lg(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Io]=t,r[Nh]=a,e=(t.mode&1)!==0,n){case"dialog":Hn("cancel",r),Hn("close",r);break;case"iframe":case"object":case"embed":Hn("load",r);break;case"video":case"audio":for(i=0;i<Kf.length;i++)Hn(Kf[i],r);break;case"source":Hn("error",r);break;case"img":case"image":case"link":Hn("error",r),Hn("load",r);break;case"details":Hn("toggle",r);break;case"input":P5(r,a),Hn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Hn("invalid",r);break;case"textarea":T5(r,a),Hn("invalid",r)}qy(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&sg(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&sg(r.textContent,s,e),i=["children",""+s]):yh.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Hn("scroll",r)}switch(n){case"input":Zp(r),B5(r,a,!0);break;case"textarea":Zp(r),O5(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=U0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Io]=t,e[Nh]=r,CS(e,t,!1,!1),t.stateNode=e;e:{switch(o=$y(n,r),n){case"dialog":Hn("cancel",e),Hn("close",e),i=r;break;case"iframe":case"object":case"embed":Hn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Kf.length;i++)Hn(Kf[i],e);i=r;break;case"source":Hn("error",e),i=r;break;case"img":case"image":case"link":Hn("error",e),Hn("load",e),i=r;break;case"details":Hn("toggle",e),i=r;break;case"input":P5(e,r),i=Uy(e,r),Hn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=or({},r,{value:void 0}),Hn("invalid",e);break;case"textarea":T5(e,r),i=Gy(e,r),Hn("invalid",e);break;default:i=r}qy(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?aC(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rC(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ah(e,l):typeof l=="number"&&Ah(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(yh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Hn("scroll",e):l!=null&&lw(e,a,l,o))}switch(n){case"input":Zp(e),B5(e,r,!1);break;case"textarea":Zp(e),O5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xl(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ed(e,!!r.multiple,a,!1):r.defaultValue!=null&&ed(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=U0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ui(t),null;case 6:if(e&&t.stateNode!=null)NS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(We(166));if(n=gu(Ph.current),gu(Oo.current),lg(t)){if(r=t.stateNode,n=t.memoizedProps,r[Io]=t,(a=r.nodeValue!==n)&&(e=va,e!==null))switch(e.tag){case 3:sg(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sg(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Io]=t,t.stateNode=r}return ui(t),null;case 13:if(Wn(ir),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xn&&pa!==null&&t.mode&1&&!(t.flags&128))$C(),gd(),t.flags|=98560,a=!1;else if(a=lg(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(We(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(We(317));a[Io]=t}else gd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ui(t),a=!1}else co!==null&&(CA(co),co=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ir.current&1?Dr===0&&(Dr=3):Qw())),t.updateQueue!==null&&(t.flags|=4),ui(t),null);case 4:return vd(),yA(e,t),e===null&&Ch(t.stateNode.containerInfo),ui(t),null;case 10:return Sw(t.type._context),ui(t),null;case 17:return Vi(t.type)&&z0(),ui(t),null;case 19:if(Wn(ir),a=t.memoizedState,a===null)return ui(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)_f(a,!1);else{if(Dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=W0(e),o!==null){for(t.flags|=128,_f(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Un(ir,ir.current&1|2),t.child}e=e.sibling}a.tail!==null&&gr()>Ad&&(t.flags|=128,r=!0,_f(a,!1),t.lanes=4194304)}else{if(!r)if(e=W0(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_f(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Xn)return ui(t),null}else 2*gr()-a.renderingStartTime>Ad&&n!==1073741824&&(t.flags|=128,r=!0,_f(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=gr(),t.sibling=null,n=ir.current,Un(ir,r?n&1|2:n&1),t):(ui(t),null);case 22:case 23:return Gw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?la&1073741824&&(ui(t),t.subtreeFlags&6&&(t.flags|=8192)):ui(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function Yj(e,t){switch(Ew(t),t.tag){case 1:return Vi(t.type)&&z0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vd(),Wn($i),Wn(Ai),Tw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bw(t),null;case 13:if(Wn(ir),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));gd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wn(ir),null;case 4:return vd(),null;case 10:return Sw(t.type._context),null;case 22:case 23:return Gw(),null;case 24:return null;default:return null}}var dg=!1,mi=!1,Jj=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Kc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fr(e,t,r)}else n.current=null}function AA(e,t,n){try{n()}catch(r){fr(e,t,r)}}var xx=!1;function Xj(e,t){if(nA=R0,e=OC(),bw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rA={focusedElem:e,selectionRange:n},R0=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){t=pt;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,A=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:io(t.type,y),A);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(x){fr(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}return v=xx,xx=!1,v}function ih(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&AA(t,n,a)}i=i.next}while(i!==r)}}function Um(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wA(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function IS(e){var t=e.alternate;t!==null&&(e.alternate=null,IS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Io],delete t[Nh],delete t[oA],delete t[jj],delete t[Dj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PS(e){return e.tag===5||e.tag===3||e.tag===4}function Ex(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bA(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=U0));else if(r!==4&&(e=e.child,e!==null))for(bA(e,t,n),e=e.sibling;e!==null;)bA(e,t,n),e=e.sibling}function xA(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xA(e,t,n),e=e.sibling;e!==null;)xA(e,t,n),e=e.sibling}var ti=null,so=!1;function Qs(e,t,n){for(n=n.child;n!==null;)BS(e,t,n),n=n.sibling}function BS(e,t,n){if(To&&typeof To.onCommitFiberUnmount=="function")try{To.onCommitFiberUnmount(Tm,n)}catch{}switch(n.tag){case 5:mi||Kc(n,t);case 6:var r=ti,i=so;ti=null,Qs(e,t,n),ti=r,so=i,ti!==null&&(so?(e=ti,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ti.removeChild(n.stateNode));break;case 18:ti!==null&&(so?(e=ti,n=n.stateNode,e.nodeType===8?gv(e.parentNode,n):e.nodeType===1&&gv(e,n),Eh(e)):gv(ti,n.stateNode));break;case 4:r=ti,i=so,ti=n.stateNode.containerInfo,so=!0,Qs(e,t,n),ti=r,so=i;break;case 0:case 11:case 14:case 15:if(!mi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&AA(n,t,o),i=i.next}while(i!==r)}Qs(e,t,n);break;case 1:if(!mi&&(Kc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){fr(n,t,s)}Qs(e,t,n);break;case 21:Qs(e,t,n);break;case 22:n.mode&1?(mi=(r=mi)||n.memoizedState!==null,Qs(e,t,n),mi=r):Qs(e,t,n);break;default:Qs(e,t,n)}}function kx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jj),t.forEach(function(r){var i=sD.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:ti=s.stateNode,so=!1;break e;case 3:ti=s.stateNode.containerInfo,so=!0;break e;case 4:ti=s.stateNode.containerInfo,so=!0;break e}s=s.return}if(ti===null)throw Error(We(160));BS(a,o,i),ti=null,so=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){fr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)TS(t,e),t=t.sibling}function TS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wa(t,e),ko(e),r&4){try{ih(3,e,e.return),Um(3,e)}catch(y){fr(e,e.return,y)}try{ih(5,e,e.return)}catch(y){fr(e,e.return,y)}}break;case 1:Wa(t,e),ko(e),r&512&&n!==null&&Kc(n,n.return);break;case 5:if(Wa(t,e),ko(e),r&512&&n!==null&&Kc(n,n.return),e.flags&32){var i=e.stateNode;try{Ah(i,"")}catch(y){fr(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&eC(i,a),$y(s,o);var u=$y(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?aC(i,d):c==="dangerouslySetInnerHTML"?rC(i,d):c==="children"?Ah(i,d):lw(i,c,d,u)}switch(s){case"input":zy(i,a);break;case"textarea":tC(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?ed(i,!!a.multiple,f,!1):h!==!!a.multiple&&(a.defaultValue!=null?ed(i,!!a.multiple,a.defaultValue,!0):ed(i,!!a.multiple,a.multiple?[]:"",!1))}i[Nh]=a}catch(y){fr(e,e.return,y)}}break;case 6:if(Wa(t,e),ko(e),r&4){if(e.stateNode===null)throw Error(We(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){fr(e,e.return,y)}}break;case 3:if(Wa(t,e),ko(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(y){fr(e,e.return,y)}break;case 4:Wa(t,e),ko(e);break;case 13:Wa(t,e),ko(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(zw=gr())),r&4&&kx(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(mi=(u=mi)||c,Wa(t,e),mi=u):Wa(t,e),ko(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(pt=e,c=e.child;c!==null;){for(d=pt=c;pt!==null;){switch(h=pt,f=h.child,h.tag){case 0:case 11:case 14:case 15:ih(4,h,h.return);break;case 1:Kc(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){fr(r,n,y)}}break;case 5:Kc(h,h.return);break;case 22:if(h.memoizedState!==null){Cx(d);continue}}f!==null?(f.return=h,pt=f):Cx(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=iC("display",o))}catch(y){fr(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){fr(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wa(t,e),ko(e),r&4&&kx(e);break;case 21:break;default:Wa(t,e),ko(e)}}function ko(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(PS(n)){var r=n;break e}n=n.return}throw Error(We(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ah(i,""),r.flags&=-33);var a=Ex(e);xA(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Ex(e);bA(e,s,o);break;default:throw Error(We(161))}}catch(l){fr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zj(e,t,n){pt=e,OS(e)}function OS(e,t,n){for(var r=(e.mode&1)!==0;pt!==null;){var i=pt,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dg;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||mi;s=dg;var u=mi;if(dg=o,(mi=l)&&!u)for(pt=i;pt!==null;)o=pt,l=o.child,o.tag===22&&o.memoizedState!==null?Sx(i):l!==null?(l.return=o,pt=l):Sx(i);for(;a!==null;)pt=a,OS(a),a=a.sibling;pt=i,dg=s,mi=u}_x(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,pt=a):_x(e)}}function _x(e){for(;pt!==null;){var t=pt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mi||Um(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!mi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:io(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ux(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ux(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Eh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}mi||t.flags&512&&wA(t)}catch(h){fr(t,t.return,h)}}if(t===e){pt=null;break}if(n=t.sibling,n!==null){n.return=t.return,pt=n;break}pt=t.return}}function Cx(e){for(;pt!==null;){var t=pt;if(t===e){pt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pt=n;break}pt=t.return}}function Sx(e){for(;pt!==null;){var t=pt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Um(4,t)}catch(l){fr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){fr(t,i,l)}}var a=t.return;try{wA(t)}catch(l){fr(t,a,l)}break;case 5:var o=t.return;try{wA(t)}catch(l){fr(t,o,l)}}}catch(l){fr(t,t.return,l)}if(t===e){pt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,pt=s;break}pt=t.return}}var eD=Math.ceil,J0=_s.ReactCurrentDispatcher,Mw=_s.ReactCurrentOwner,Ma=_s.ReactCurrentBatchConfig,an=0,Vr=null,Nr=null,ii=0,la=0,Yc=Tl(0),Dr=0,jh=null,Nu=0,zm=0,Uw=0,ah=null,Qi=null,zw=0,Ad=1/0,ss=null,X0=!1,EA=null,vl=null,fg=!1,sl=null,Z0=0,oh=0,kA=null,u0=-1,c0=0;function Bi(){return an&6?gr():u0!==-1?u0:u0=gr()}function yl(e){return e.mode&1?an&2&&ii!==0?ii&-ii:Rj.transition!==null?(c0===0&&(c0=vC()),c0):(e=kn,e!==0||(e=window.event,e=e===void 0?16:kC(e.type)),e):1}function ho(e,t,n,r){if(50<oh)throw oh=0,kA=null,Error(We(185));Xh(e,n,r),(!(an&2)||e!==Vr)&&(e===Vr&&(!(an&2)&&(zm|=n),Dr===4&&il(e,ii)),Wi(e,r),n===1&&an===0&&!(t.mode&1)&&(Ad=gr()+500,Rm&&Ol()))}function Wi(e,t){var n=e.callbackNode;RO(e,t);var r=L0(e,e===Vr?ii:0);if(r===0)n!==null&&L5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&L5(n),t===1)e.tag===0?Lj(Nx.bind(null,e)):GC(Nx.bind(null,e)),Tj(function(){!(an&6)&&Ol()}),n=null;else{switch(yC(r)){case 1:n=hw;break;case 4:n=gC;break;case 16:n=D0;break;case 536870912:n=mC;break;default:n=D0}n=zS(n,jS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jS(e,t){if(u0=-1,c0=0,an&6)throw Error(We(327));var n=e.callbackNode;if(ad()&&e.callbackNode!==n)return null;var r=L0(e,e===Vr?ii:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=em(e,r);else{t=r;var i=an;an|=2;var a=LS();(Vr!==e||ii!==t)&&(ss=null,Ad=gr()+500,bu(e,t));do try{rD();break}catch(s){DS(e,s)}while(!0);Cw(),J0.current=a,an=i,Nr!==null?t=0:(Vr=null,ii=0,t=Dr)}if(t!==0){if(t===2&&(i=Jy(e),i!==0&&(r=i,t=_A(e,i))),t===1)throw n=jh,bu(e,0),il(e,r),Wi(e,gr()),n;if(t===6)il(e,r);else{if(i=e.current.alternate,!(r&30)&&!tD(i)&&(t=em(e,r),t===2&&(a=Jy(e),a!==0&&(r=a,t=_A(e,a))),t===1))throw n=jh,bu(e,0),il(e,r),Wi(e,gr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(We(345));case 2:Zl(e,Qi,ss);break;case 3:if(il(e,r),(r&130023424)===r&&(t=zw+500-gr(),10<t)){if(L0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Bi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=aA(Zl.bind(null,e,Qi,ss),t);break}Zl(e,Qi,ss);break;case 4:if(il(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-fo(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=gr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eD(r/1960))-r,10<r){e.timeoutHandle=aA(Zl.bind(null,e,Qi,ss),r);break}Zl(e,Qi,ss);break;case 5:Zl(e,Qi,ss);break;default:throw Error(We(329))}}}return Wi(e,gr()),e.callbackNode===n?jS.bind(null,e):null}function _A(e,t){var n=ah;return e.current.memoizedState.isDehydrated&&(bu(e,t).flags|=256),e=em(e,t),e!==2&&(t=Qi,Qi=n,t!==null&&CA(t)),e}function CA(e){Qi===null?Qi=e:Qi.push.apply(Qi,e)}function tD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!po(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function il(e,t){for(t&=~Uw,t&=~zm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fo(t),r=1<<n;e[n]=-1,t&=~r}}function Nx(e){if(an&6)throw Error(We(327));ad();var t=L0(e,0);if(!(t&1))return Wi(e,gr()),null;var n=em(e,t);if(e.tag!==0&&n===2){var r=Jy(e);r!==0&&(t=r,n=_A(e,r))}if(n===1)throw n=jh,bu(e,0),il(e,t),Wi(e,gr()),n;if(n===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zl(e,Qi,ss),Wi(e,gr()),null}function Hw(e,t){var n=an;an|=1;try{return e(t)}finally{an=n,an===0&&(Ad=gr()+500,Rm&&Ol())}}function Iu(e){sl!==null&&sl.tag===0&&!(an&6)&&ad();var t=an;an|=1;var n=Ma.transition,r=kn;try{if(Ma.transition=null,kn=1,e)return e()}finally{kn=r,Ma.transition=n,an=t,!(an&6)&&Ol()}}function Gw(){la=Yc.current,Wn(Yc)}function bu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bj(n)),Nr!==null)for(n=Nr.return;n!==null;){var r=n;switch(Ew(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&z0();break;case 3:vd(),Wn($i),Wn(Ai),Tw();break;case 5:Bw(r);break;case 4:vd();break;case 13:Wn(ir);break;case 19:Wn(ir);break;case 10:Sw(r.type._context);break;case 22:case 23:Gw()}n=n.return}if(Vr=e,Nr=e=Al(e.current,null),ii=la=t,Dr=0,jh=null,Uw=zm=Nu=0,Qi=ah=null,pu!==null){for(t=0;t<pu.length;t++)if(n=pu[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}pu=null}return e}function DS(e,t){do{var n=Nr;try{if(Cw(),o0.current=Y0,K0){for(var r=ar.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}K0=!1}if(Su=0,Qr=Or=ar=null,rh=!1,Bh=0,Mw.current=null,n===null||n.return===null){Dr=1,jh=t,Nr=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=ii,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=gx(o);if(f!==null){f.flags&=-257,mx(f,o,s,a,t),f.mode&1&&px(a,u,t),t=f,l=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){px(a,u,t),Qw();break e}l=Error(We(426))}}else if(Xn&&s.mode&1){var A=gx(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),mx(A,o,s,a,t),kw(yd(l,s));break e}}a=l=yd(l,s),Dr!==4&&(Dr=2),ah===null?ah=[a]:ah.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=yS(a,l,t);lx(a,g);break e;case 1:s=l;var p=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vl===null||!vl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=AS(a,s,t);lx(a,x);break e}}a=a.return}while(a!==null)}FS(n)}catch(C){t=C,Nr===n&&n!==null&&(Nr=n=n.return);continue}break}while(!0)}function LS(){var e=J0.current;return J0.current=Y0,e===null?Y0:e}function Qw(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Vr===null||!(Nu&268435455)&&!(zm&268435455)||il(Vr,ii)}function em(e,t){var n=an;an|=2;var r=LS();(Vr!==e||ii!==t)&&(ss=null,bu(e,t));do try{nD();break}catch(i){DS(e,i)}while(!0);if(Cw(),an=n,J0.current=r,Nr!==null)throw Error(We(261));return Vr=null,ii=0,Dr}function nD(){for(;Nr!==null;)RS(Nr)}function rD(){for(;Nr!==null&&!NO();)RS(Nr)}function RS(e){var t=US(e.alternate,e,la);e.memoizedProps=e.pendingProps,t===null?FS(e):Nr=t,Mw.current=null}function FS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yj(n,t),n!==null){n.flags&=32767,Nr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dr=6,Nr=null;return}}else if(n=Kj(n,t,la),n!==null){Nr=n;return}if(t=t.sibling,t!==null){Nr=t;return}Nr=t=e}while(t!==null);Dr===0&&(Dr=5)}function Zl(e,t,n){var r=kn,i=Ma.transition;try{Ma.transition=null,kn=1,iD(e,t,n,r)}finally{Ma.transition=i,kn=r}return null}function iD(e,t,n,r){do ad();while(sl!==null);if(an&6)throw Error(We(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(FO(e,a),e===Vr&&(Nr=Vr=null,ii=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fg||(fg=!0,zS(D0,function(){return ad(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ma.transition,Ma.transition=null;var o=kn;kn=1;var s=an;an|=4,Mw.current=null,Xj(e,n),TS(n,e),kj(rA),R0=!!nA,rA=nA=null,e.current=n,Zj(n),IO(),an=s,kn=o,Ma.transition=a}else e.current=n;if(fg&&(fg=!1,sl=e,Z0=i),a=e.pendingLanes,a===0&&(vl=null),TO(n.stateNode),Wi(e,gr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(X0)throw X0=!1,e=EA,EA=null,e;return Z0&1&&e.tag!==0&&ad(),a=e.pendingLanes,a&1?e===kA?oh++:(oh=0,kA=e):oh=0,Ol(),null}function ad(){if(sl!==null){var e=yC(Z0),t=Ma.transition,n=kn;try{if(Ma.transition=null,kn=16>e?16:e,sl===null)var r=!1;else{if(e=sl,sl=null,Z0=0,an&6)throw Error(We(331));var i=an;for(an|=4,pt=e.current;pt!==null;){var a=pt,o=a.child;if(pt.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(pt=u;pt!==null;){var c=pt;switch(c.tag){case 0:case 11:case 15:ih(8,c,a)}var d=c.child;if(d!==null)d.return=c,pt=d;else for(;pt!==null;){c=pt;var h=c.sibling,f=c.return;if(IS(c),c===u){pt=null;break}if(h!==null){h.return=f,pt=h;break}pt=f}}}var v=a.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var A=y.sibling;y.sibling=null,y=A}while(y!==null)}}pt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,pt=o;else e:for(;pt!==null;){if(a=pt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ih(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,pt=g;break e}pt=a.return}}var p=e.current;for(pt=p;pt!==null;){o=pt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,pt=w;else e:for(o=p;pt!==null;){if(s=pt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Um(9,s)}}catch(C){fr(s,s.return,C)}if(s===o){pt=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,pt=x;break e}pt=s.return}}if(an=i,Ol(),To&&typeof To.onPostCommitFiberRoot=="function")try{To.onPostCommitFiberRoot(Tm,e)}catch{}r=!0}return r}finally{kn=n,Ma.transition=t}}return!1}function Ix(e,t,n){t=yd(n,t),t=yS(e,t,1),e=ml(e,t,1),t=Bi(),e!==null&&(Xh(e,1,t),Wi(e,t))}function fr(e,t,n){if(e.tag===3)Ix(e,e,n);else for(;t!==null;){if(t.tag===3){Ix(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vl===null||!vl.has(r))){e=yd(n,e),e=AS(t,e,1),t=ml(t,e,1),e=Bi(),t!==null&&(Xh(t,1,e),Wi(t,e));break}}t=t.return}}function aD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Bi(),e.pingedLanes|=e.suspendedLanes&n,Vr===e&&(ii&n)===n&&(Dr===4||Dr===3&&(ii&130023424)===ii&&500>gr()-zw?bu(e,0):Uw|=n),Wi(e,t)}function MS(e,t){t===0&&(e.mode&1?(t=ng,ng<<=1,!(ng&130023424)&&(ng=4194304)):t=1);var n=Bi();e=bs(e,t),e!==null&&(Xh(e,t,n),Wi(e,n))}function oD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),MS(e,n)}function sD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(We(314))}r!==null&&r.delete(t),MS(e,n)}var US;US=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$i.current)qi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qi=!1,Wj(e,t,n);qi=!!(e.flags&131072)}else qi=!1,Xn&&t.flags&1048576&&QC(t,Q0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;l0(e,t),e=t.pendingProps;var i=pd(t,Ai.current);id(t,n),i=jw(null,t,r,e,i,n);var a=Dw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vi(r)?(a=!0,H0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Iw(t),i.updater=Mm,t.stateNode=i,i._reactInternals=t,fA(t,r,e,n),t=gA(null,t,r,!0,a,n)):(t.tag=0,Xn&&a&&xw(t),Ni(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(l0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=uD(r),e=io(r,e),i){case 0:t=pA(null,t,r,e,n);break e;case 1:t=Ax(null,t,r,e,n);break e;case 11:t=vx(null,t,r,e,n);break e;case 14:t=yx(null,t,r,io(r.type,e),n);break e}throw Error(We(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),pA(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),Ax(e,t,r,i,n);case 3:e:{if(ES(t),e===null)throw Error(We(387));r=t.pendingProps,a=t.memoizedState,i=a.element,YC(e,t),V0(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=yd(Error(We(423)),t),t=wx(e,t,r,n,i);break e}else if(r!==i){i=yd(Error(We(424)),t),t=wx(e,t,r,n,i);break e}else for(pa=gl(t.stateNode.containerInfo.firstChild),va=t,Xn=!0,co=null,n=WC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gd(),r===i){t=xs(e,t,n);break e}Ni(e,t,r,n)}t=t.child}return t;case 5:return JC(t),e===null&&uA(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,iA(r,i)?o=null:a!==null&&iA(r,a)&&(t.flags|=32),xS(e,t),Ni(e,t,o,n),t.child;case 6:return e===null&&uA(t),null;case 13:return kS(e,t,n);case 4:return Pw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=md(t,null,r,n):Ni(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),vx(e,t,r,i,n);case 7:return Ni(e,t,t.pendingProps,n),t.child;case 8:return Ni(e,t,t.pendingProps.children,n),t.child;case 12:return Ni(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Un(q0,r._currentValue),r._currentValue=o,a!==null)if(po(a.value,o)){if(a.children===i.children&&!$i.current){t=xs(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=vs(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),cA(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(We(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),cA(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ni(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,id(t,n),i=Ua(i),r=r(i),t.flags|=1,Ni(e,t,r,n),t.child;case 14:return r=t.type,i=io(r,t.pendingProps),i=io(r.type,i),yx(e,t,r,i,n);case 15:return wS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),l0(e,t),t.tag=1,Vi(r)?(e=!0,H0(t)):e=!1,id(t,n),vS(t,r,i),fA(t,r,i,n),gA(null,t,r,!0,e,n);case 19:return _S(e,t,n);case 22:return bS(e,t,n)}throw Error(We(156,t.tag))};function zS(e,t){return pC(e,t)}function lD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(e,t,n,r){return new lD(e,t,n,r)}function qw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uD(e){if(typeof e=="function")return qw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cw)return 11;if(e===dw)return 14}return 2}function Al(e,t){var n=e.alternate;return n===null?(n=Fa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function d0(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")qw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Uc:return xu(n.children,i,a,t);case uw:o=8,i|=8;break;case Ly:return e=Fa(12,n,t,i|2),e.elementType=Ly,e.lanes=a,e;case Ry:return e=Fa(13,n,t,i),e.elementType=Ry,e.lanes=a,e;case Fy:return e=Fa(19,n,t,i),e.elementType=Fy,e.lanes=a,e;case J_:return Hm(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K_:o=10;break e;case Y_:o=9;break e;case cw:o=11;break e;case dw:o=14;break e;case tl:o=16,r=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Fa(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function xu(e,t,n,r){return e=Fa(7,e,r,t),e.lanes=n,e}function Hm(e,t,n,r){return e=Fa(22,e,r,t),e.elementType=J_,e.lanes=n,e.stateNode={isHidden:!1},e}function Ev(e,t,n){return e=Fa(6,e,null,t),e.lanes=n,e}function kv(e,t,n){return t=Fa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cD(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iv(0),this.expirationTimes=iv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $w(e,t,n,r,i,a,o,s,l){return e=new cD(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Fa(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iw(a),e}function dD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function HS(e){if(!e)return El;e=e._reactInternals;e:{if(Ru(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var n=e.type;if(Vi(n))return HC(e,n,t)}return t}function GS(e,t,n,r,i,a,o,s,l){return e=$w(n,r,!0,e,i,a,o,s,l),e.context=HS(null),n=e.current,r=Bi(),i=yl(n),a=vs(r,i),a.callback=t??null,ml(n,a,i),e.current.lanes=i,Xh(e,i,r),Wi(e,r),e}function Gm(e,t,n,r){var i=t.current,a=Bi(),o=yl(i);return n=HS(n),t.context===null?t.context=n:t.pendingContext=n,t=vs(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ml(i,t,o),e!==null&&(ho(e,i,o,a),a0(e,i,o)),o}function tm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Px(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vw(e,t){Px(e,t),(e=e.alternate)&&Px(e,t)}function fD(){return null}var QS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ww(e){this._internalRoot=e}Qm.prototype.render=Ww.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));Gm(e,t,null,null)};Qm.prototype.unmount=Ww.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Iu(function(){Gm(null,e,null,null)}),t[ws]=null}};function Qm(e){this._internalRoot=e}Qm.prototype.unstable_scheduleHydration=function(e){if(e){var t=bC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rl.length&&t!==0&&t<rl[n].priority;n++);rl.splice(n,0,e),n===0&&EC(e)}};function Kw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bx(){}function hD(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=tm(o);a.call(u)}}var o=GS(t,r,e,0,null,!1,!1,"",Bx);return e._reactRootContainer=o,e[ws]=o.current,Ch(e.nodeType===8?e.parentNode:e),Iu(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=tm(l);s.call(u)}}var l=$w(e,0,!1,null,null,!1,!1,"",Bx);return e._reactRootContainer=l,e[ws]=l.current,Ch(e.nodeType===8?e.parentNode:e),Iu(function(){Gm(t,l,n,r)}),l}function $m(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=tm(o);s.call(l)}}Gm(t,o,e,i)}else o=hD(n,t,e,i,r);return tm(o)}AC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wf(t.pendingLanes);n!==0&&(pw(t,n|1),Wi(t,gr()),!(an&6)&&(Ad=gr()+500,Ol()))}break;case 13:Iu(function(){var r=bs(e,1);if(r!==null){var i=Bi();ho(r,e,1,i)}}),Vw(e,1)}};gw=function(e){if(e.tag===13){var t=bs(e,134217728);if(t!==null){var n=Bi();ho(t,e,134217728,n)}Vw(e,134217728)}};wC=function(e){if(e.tag===13){var t=yl(e),n=bs(e,t);if(n!==null){var r=Bi();ho(n,e,t,r)}Vw(e,t)}};bC=function(){return kn};xC=function(e,t){var n=kn;try{return kn=e,t()}finally{kn=n}};Wy=function(e,t,n){switch(t){case"input":if(zy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Lm(r);if(!i)throw Error(We(90));Z_(r),zy(r,i)}}}break;case"textarea":tC(e,n);break;case"select":t=n.value,t!=null&&ed(e,!!n.multiple,t,!1)}};lC=Hw;uC=Iu;var pD={usingClientEntryPoint:!1,Events:[ep,Qc,Lm,oC,sC,Hw]},Cf={findFiberByHostInstance:hu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gD={bundleType:Cf.bundleType,version:Cf.version,rendererPackageName:Cf.rendererPackageName,rendererConfig:Cf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fC(e),e===null?null:e.stateNode},findFiberByHostInstance:Cf.findFiberByHostInstance||fD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hg.isDisabled&&hg.supportsFiber)try{Tm=hg.inject(gD),To=hg}catch{}}wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pD;wa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kw(t))throw Error(We(200));return dD(e,t,null,n)};wa.createRoot=function(e,t){if(!Kw(e))throw Error(We(299));var n=!1,r="",i=QS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$w(e,1,!1,null,null,n,!1,r,i),e[ws]=t.current,Ch(e.nodeType===8?e.parentNode:e),new Ww(t)};wa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=fC(t),e=e===null?null:e.stateNode,e};wa.flushSync=function(e){return Iu(e)};wa.hydrate=function(e,t,n){if(!qm(t))throw Error(We(200));return $m(null,e,t,!0,n)};wa.hydrateRoot=function(e,t,n){if(!Kw(e))throw Error(We(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=QS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=GS(t,null,e,1,n??null,i,!1,a,o),e[ws]=t.current,Ch(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qm(t)};wa.render=function(e,t,n){if(!qm(t))throw Error(We(200));return $m(null,e,t,!1,n)};wa.unmountComponentAtNode=function(e){if(!qm(e))throw Error(We(40));return e._reactRootContainer?(Iu(function(){$m(null,null,e,!1,function(){e._reactRootContainer=null,e[ws]=null})}),!0):!1};wa.unstable_batchedUpdates=Hw;wa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qm(n))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return $m(e,t,n,!1,r)};wa.version="18.3.1-next-f1338f8080-20240426";function qS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qS)}catch(e){console.error(e)}}qS(),q_.exports=wa;var np=q_.exports;const Yw=Pm(np),mD=tw({__proto__:null,default:Yw},[np]);var Tx=np;jy.createRoot=Tx.createRoot,jy.hydrateRoot=Tx.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jn.apply(this,arguments)}var kr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kr||(kr={}));const Ox="popstate";function vD(e){e===void 0&&(e={});function t(i,a){let{pathname:o="/",search:s="",hash:l=""}=Cs(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Dh("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof a=="string"?a:Pu(a))}function r(i,a){kl(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return AD(t,n,r,e)}function $t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yD(){return Math.random().toString(36).substr(2,8)}function jx(e,t){return{usr:e.state,key:e.key,idx:t}}function Dh(e,t,n,r){return n===void 0&&(n=null),Jn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cs(t):t,{state:n,key:t&&t.key||r||yD()})}function Pu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function AD(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=kr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Jn({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){s=kr.Pop;let A=c(),g=A==null?null:A-u;u=A,l&&l({action:s,location:y.location,delta:g})}function h(A,g){s=kr.Push;let p=Dh(y.location,A,g);n&&n(p,A),u=c()+1;let w=jx(p,u),x=y.createHref(p);try{o.pushState(w,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(x)}a&&l&&l({action:s,location:y.location,delta:1})}function f(A,g){s=kr.Replace;let p=Dh(y.location,A,g);n&&n(p,A),u=c();let w=jx(p,u),x=y.createHref(p);o.replaceState(w,"",x),a&&l&&l({action:s,location:y.location,delta:0})}function v(A){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof A=="string"?A:Pu(A);return p=p.replace(/ $/,"%20"),$t(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return s},get location(){return e(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ox,d),l=A,()=>{i.removeEventListener(Ox,d),l=null}},createHref(A){return t(i,A)},createURL:v,encodeLocation(A){let g=v(A);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(A){return o.go(A)}};return y}var xn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xn||(xn={}));const wD=new Set(["lazy","caseSensitive","path","id","index","children"]);function bD(e){return e.index===!0}function nm(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,a)=>{let o=[...n,String(a)],s=typeof i.id=="string"?i.id:o.join("-");if($t(i.index!==!0||!i.children,"Cannot specify children on an index route"),$t(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),bD(i)){let l=Jn({},i,t(i),{id:s});return r[s]=l,l}else{let l=Jn({},i,t(i),{id:s,children:void 0});return r[s]=l,i.children&&(l.children=nm(i.children,t,o,r)),l}})}function au(e,t,n){return n===void 0&&(n="/"),f0(e,t,n,!1)}function f0(e,t,n,r){let i=typeof t=="string"?Cs(t):t,a=go(i.pathname||"/",n);if(a==null)return null;let o=$S(e);ED(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=jD(a);s=TD(o[l],u,r)}return s}function xD(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function $S(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&($t(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ys([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&($t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$S(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:PD(u,a.index),routesMeta:c})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of VS(a.path))i(a,o,l)}),t}function VS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=VS(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function ED(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:BD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kD=/^:[\w-]+$/,_D=3,CD=2,SD=1,ND=10,ID=-2,Dx=e=>e==="*";function PD(e,t){let n=e.split("/"),r=n.length;return n.some(Dx)&&(r+=ID),t&&(r+=CD),n.filter(i=>!Dx(i)).reduce((i,a)=>i+(kD.test(a)?_D:a===""?SD:ND),r)}function BD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function TD(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=a==="/"?t:t.slice(a.length)||"/",d=rm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=rm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ys([a,d.pathname]),pathnameBase:FD(ys([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=ys([a,d.pathnameBase]))}return o}function rm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=OD(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let y=s[d]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const v=s[d];return f&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function OD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),kl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function jD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function go(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const DD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LD=e=>DD.test(e);function RD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Cs(e):e,a;if(n)if(LD(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),kl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=Lx(n.substring(1),"/"):a=Lx(n,t)}else a=t;return{pathname:a,search:MD(r),hash:UD(i)}}function Lx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _v(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vm(e,t){let n=WS(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wm(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Cs(e):(i=Jn({},e),$t(!i.pathname||!i.pathname.includes("?"),_v("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),_v("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),_v("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?t[d]:"/"}let l=RD(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ys=e=>e.join("/").replace(/\/\/+/g,"/"),FD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class im{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Lh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KS=["post","put","patch","delete"],zD=new Set(KS),HD=["get",...KS],GD=new Set(HD),QD=new Set([301,302,303,307,308]),qD=new Set([307,308]),Cv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$D={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Pc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VD=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),YS="remix-router-transitions";function WD(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;$t(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let fe=e.detectErrorBoundary;i=be=>({hasErrorBoundary:fe(be)})}else i=VD;let a={},o=nm(e.routes,i,void 0,a),s,l=e.basename||"/",u=e.dataStrategy||XD,c=e.patchRoutesOnNavigation,d=Jn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,f=new Set,v=null,y=null,A=null,g=e.hydrationData!=null,p=au(o,e.history.location,l),w=!1,x=null;if(p==null&&!c){let fe=Gi(404,{pathname:e.history.location.pathname}),{matches:be,route:Ie}=Vx(o);p=be,x={[Ie.id]:fe}}p&&!e.hydrationData&&vn(p,o,e.history.location.pathname).active&&(p=null);let C;if(p)if(p.some(fe=>fe.route.lazy))C=!1;else if(!p.some(fe=>fe.route.loader))C=!0;else if(d.v7_partialHydration){let fe=e.hydrationData?e.hydrationData.loaderData:null,be=e.hydrationData?e.hydrationData.errors:null;if(be){let Ie=p.findIndex(je=>be[je.route.id]!==void 0);C=p.slice(0,Ie+1).every(je=>!NA(je.route,fe,be))}else C=p.every(Ie=>!NA(Ie.route,fe,be))}else C=e.hydrationData!=null;else if(C=!1,p=[],d.v7_partialHydration){let fe=vn(null,o,e.history.location.pathname);fe.active&&fe.matches&&(w=!0,p=fe.matches)}let D,N={historyAction:e.history.action,location:e.history.location,matches:p,initialized:C,navigation:Cv,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},I=kr.Pop,R=!1,T,k=!1,_=new Map,O=null,j=!1,z=!1,Z=[],ee=new Set,K=new Map,W=0,Q=-1,U=new Map,B=new Set,L=new Map,H=new Map,G=new Set,M=new Map,V=new Map,te;function J(){if(h=e.history.listen(fe=>{let{action:be,location:Ie,delta:je}=fe;if(te){te(),te=void 0;return}kl(V.size===0||je!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ge=Zt({currentLocation:N.location,nextLocation:Ie,historyAction:be});if(Ge&&je!=null){let ut=new Promise(wt=>{te=wt});e.history.go(je*-1),Lr(Ge,{state:"blocked",location:Ie,proceed(){Lr(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),ut.then(()=>e.history.go(je))},reset(){let wt=new Map(N.blockers);wt.set(Ge,Pc),Ce({blockers:wt})}});return}return oe(be,Ie)}),n){f8(t,_);let fe=()=>h8(t,_);t.addEventListener("pagehide",fe),O=()=>t.removeEventListener("pagehide",fe)}return N.initialized||oe(kr.Pop,N.location,{initialHydration:!0}),D}function de(){h&&h(),O&&O(),f.clear(),T&&T.abort(),N.fetchers.forEach((fe,be)=>Ue(be)),N.blockers.forEach((fe,be)=>Ct(be))}function ye(fe){return f.add(fe),()=>f.delete(fe)}function Ce(fe,be){be===void 0&&(be={}),N=Jn({},N,fe);let Ie=[],je=[];d.v7_fetcherPersist&&N.fetchers.forEach((Ge,ut)=>{Ge.state==="idle"&&(G.has(ut)?je.push(ut):Ie.push(ut))}),G.forEach(Ge=>{!N.fetchers.has(Ge)&&!K.has(Ge)&&je.push(Ge)}),[...f].forEach(Ge=>Ge(N,{deletedFetchers:je,viewTransitionOpts:be.viewTransitionOpts,flushSync:be.flushSync===!0})),d.v7_fetcherPersist?(Ie.forEach(Ge=>N.fetchers.delete(Ge)),je.forEach(Ge=>Ue(Ge))):je.forEach(Ge=>G.delete(Ge))}function Pe(fe,be,Ie){var je,Ge;let{flushSync:ut}=Ie===void 0?{}:Ie,wt=N.actionData!=null&&N.navigation.formMethod!=null&&lo(N.navigation.formMethod)&&N.navigation.state==="loading"&&((je=fe.state)==null?void 0:je._isRedirect)!==!0,it;be.actionData?Object.keys(be.actionData).length>0?it=be.actionData:it=null:wt?it=N.actionData:it=null;let ot=be.loaderData?qx(N.loaderData,be.loaderData,be.matches||[],be.errors):N.loaderData,Ye=N.blockers;Ye.size>0&&(Ye=new Map(Ye),Ye.forEach((St,un)=>Ye.set(un,Pc)));let lt=R===!0||N.navigation.formMethod!=null&&lo(N.navigation.formMethod)&&((Ge=fe.state)==null?void 0:Ge._isRedirect)!==!0;s&&(o=s,s=void 0),j||I===kr.Pop||(I===kr.Push?e.history.push(fe,fe.state):I===kr.Replace&&e.history.replace(fe,fe.state));let bt;if(I===kr.Pop){let St=_.get(N.location.pathname);St&&St.has(fe.pathname)?bt={currentLocation:N.location,nextLocation:fe}:_.has(fe.pathname)&&(bt={currentLocation:fe,nextLocation:N.location})}else if(k){let St=_.get(N.location.pathname);St?St.add(fe.pathname):(St=new Set([fe.pathname]),_.set(N.location.pathname,St)),bt={currentLocation:N.location,nextLocation:fe}}Ce(Jn({},be,{actionData:it,loaderData:ot,historyAction:I,location:fe,initialized:!0,navigation:Cv,revalidation:"idle",restoreScrollPosition:mn(fe,be.matches||N.matches),preventScrollReset:lt,blockers:Ye}),{viewTransitionOpts:bt,flushSync:ut===!0}),I=kr.Pop,R=!1,k=!1,j=!1,z=!1,Z=[]}async function Le(fe,be){if(typeof fe=="number"){e.history.go(fe);return}let Ie=SA(N.location,N.matches,l,d.v7_prependBasename,fe,d.v7_relativeSplatPath,be==null?void 0:be.fromRouteId,be==null?void 0:be.relative),{path:je,submission:Ge,error:ut}=Rx(d.v7_normalizeFormMethod,!1,Ie,be),wt=N.location,it=Dh(N.location,je,be&&be.state);it=Jn({},it,e.history.encodeLocation(it));let ot=be&&be.replace!=null?be.replace:void 0,Ye=kr.Push;ot===!0?Ye=kr.Replace:ot===!1||Ge!=null&&lo(Ge.formMethod)&&Ge.formAction===N.location.pathname+N.location.search&&(Ye=kr.Replace);let lt=be&&"preventScrollReset"in be?be.preventScrollReset===!0:void 0,bt=(be&&be.flushSync)===!0,St=Zt({currentLocation:wt,nextLocation:it,historyAction:Ye});if(St){Lr(St,{state:"blocked",location:it,proceed(){Lr(St,{state:"proceeding",proceed:void 0,reset:void 0,location:it}),Le(fe,be)},reset(){let un=new Map(N.blockers);un.set(St,Pc),Ce({blockers:un})}});return}return await oe(Ye,it,{submission:Ge,pendingError:ut,preventScrollReset:lt,replace:be&&be.replace,enableViewTransition:be&&be.viewTransition,flushSync:bt})}function Ae(){if(nt(),Ce({revalidation:"loading"}),N.navigation.state!=="submitting"){if(N.navigation.state==="idle"){oe(N.historyAction,N.location,{startUninterruptedRevalidation:!0});return}oe(I||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:k===!0})}}async function oe(fe,be,Ie){T&&T.abort(),T=null,I=fe,j=(Ie&&Ie.startUninterruptedRevalidation)===!0,en(N.location,N.matches),R=(Ie&&Ie.preventScrollReset)===!0,k=(Ie&&Ie.enableViewTransition)===!0;let je=s||o,Ge=Ie&&Ie.overrideNavigation,ut=Ie!=null&&Ie.initialHydration&&N.matches&&N.matches.length>0&&!w?N.matches:au(je,be,l),wt=(Ie&&Ie.flushSync)===!0;if(ut&&N.initialized&&!z&&i8(N.location,be)&&!(Ie&&Ie.submission&&lo(Ie.submission.formMethod))){Pe(be,{matches:ut},{flushSync:wt});return}let it=vn(ut,je,be.pathname);if(it.active&&it.matches&&(ut=it.matches),!ut){let{error:Yt,notFoundMatches:$e,route:ce}=er(be.pathname);Pe(be,{matches:$e,loaderData:{},errors:{[ce.id]:Yt}},{flushSync:wt});return}T=new AbortController;let ot=hc(e.history,be,T.signal,Ie&&Ie.submission),Ye;if(Ie&&Ie.pendingError)Ye=[ou(ut).route.id,{type:xn.error,error:Ie.pendingError}];else if(Ie&&Ie.submission&&lo(Ie.submission.formMethod)){let Yt=await Je(ot,be,Ie.submission,ut,it.active,{replace:Ie.replace,flushSync:wt});if(Yt.shortCircuited)return;if(Yt.pendingActionResult){let[$e,ce]=Yt.pendingActionResult;if(ua(ce)&&Lh(ce.error)&&ce.error.status===404){T=null,Pe(be,{matches:Yt.matches,loaderData:{},errors:{[$e]:ce.error}});return}}ut=Yt.matches||ut,Ye=Yt.pendingActionResult,Ge=Sv(be,Ie.submission),wt=!1,it.active=!1,ot=hc(e.history,ot.url,ot.signal)}let{shortCircuited:lt,matches:bt,loaderData:St,errors:un}=await he(ot,be,ut,it.active,Ge,Ie&&Ie.submission,Ie&&Ie.fetcherSubmission,Ie&&Ie.replace,Ie&&Ie.initialHydration===!0,wt,Ye);lt||(T=null,Pe(be,Jn({matches:bt||ut},$x(Ye),{loaderData:St,errors:un})))}async function Je(fe,be,Ie,je,Ge,ut){ut===void 0&&(ut={}),nt();let wt=c8(be,Ie);if(Ce({navigation:wt},{flushSync:ut.flushSync===!0}),Ge){let Ye=await Kr(je,be.pathname,fe.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let lt=ou(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,pendingActionResult:[lt,{type:xn.error,error:Ye.error}]}}else if(Ye.matches)je=Ye.matches;else{let{notFoundMatches:lt,error:bt,route:St}=er(be.pathname);return{matches:lt,pendingActionResult:[St.id,{type:xn.error,error:bt}]}}}let it,ot=Yf(je,be);if(!ot.route.action&&!ot.route.lazy)it={type:xn.error,error:Gi(405,{method:fe.method,pathname:be.pathname,routeId:ot.route.id})};else if(it=(await Be("action",N,fe,[ot],je,null))[ot.route.id],fe.signal.aborted)return{shortCircuited:!0};if(mu(it)){let Ye;return ut&&ut.replace!=null?Ye=ut.replace:Ye=Hx(it.response.headers.get("Location"),new URL(fe.url),l,e.history)===N.location.pathname+N.location.search,await Te(fe,it,!0,{submission:Ie,replace:Ye}),{shortCircuited:!0}}if(ll(it))throw Gi(400,{type:"defer-action"});if(ua(it)){let Ye=ou(je,ot.route.id);return(ut&&ut.replace)!==!0&&(I=kr.Push),{matches:je,pendingActionResult:[Ye.route.id,it]}}return{matches:je,pendingActionResult:[ot.route.id,it]}}async function he(fe,be,Ie,je,Ge,ut,wt,it,ot,Ye,lt){let bt=Ge||Sv(be,ut),St=ut||wt||Kx(bt),un=!j&&(!d.v7_partialHydration||!ot);if(je){if(un){let pn=ue(lt);Ce(Jn({navigation:bt},pn!==void 0?{actionData:pn}:{}),{flushSync:Ye})}let kt=await Kr(Ie,be.pathname,fe.signal);if(kt.type==="aborted")return{shortCircuited:!0};if(kt.type==="error"){let pn=ou(kt.partialMatches).route.id;return{matches:kt.partialMatches,loaderData:{},errors:{[pn]:kt.error}}}else if(kt.matches)Ie=kt.matches;else{let{error:pn,notFoundMatches:Yi,route:xa}=er(be.pathname);return{matches:Yi,loaderData:{},errors:{[xa.id]:pn}}}}let Yt=s||o,[$e,ce]=Mx(e.history,N,Ie,St,be,d.v7_partialHydration&&ot===!0,d.v7_skipActionErrorRevalidation,z,Z,ee,G,L,B,Yt,l,lt);if(Rr(kt=>!(Ie&&Ie.some(pn=>pn.route.id===kt))||$e&&$e.some(pn=>pn.route.id===kt)),Q=++W,$e.length===0&&ce.length===0){let kt=Et();return Pe(be,Jn({matches:Ie,loaderData:{},errors:lt&&ua(lt[1])?{[lt[0]]:lt[1].error}:null},$x(lt),kt?{fetchers:new Map(N.fetchers)}:{}),{flushSync:Ye}),{shortCircuited:!0}}if(un){let kt={};if(!je){kt.navigation=bt;let pn=ue(lt);pn!==void 0&&(kt.actionData=pn)}ce.length>0&&(kt.fetchers=ge(ce)),Ce(kt,{flushSync:Ye})}ce.forEach(kt=>{dt(kt.key),kt.controller&&K.set(kt.key,kt.controller)});let Qe=()=>ce.forEach(kt=>dt(kt.key));T&&T.signal.addEventListener("abort",Qe);let{loaderResults:st,fetcherResults:qt}=await Ke(N,Ie,$e,ce,fe);if(fe.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Qe),ce.forEach(kt=>K.delete(kt.key));let cn=pg(st);if(cn)return await Te(fe,cn.result,!0,{replace:it}),{shortCircuited:!0};if(cn=pg(qt),cn)return B.add(cn.key),await Te(fe,cn.result,!0,{replace:it}),{shortCircuited:!0};let{loaderData:_n,errors:Bn}=Qx(N,Ie,st,lt,ce,qt,M);M.forEach((kt,pn)=>{kt.subscribe(Yi=>{(Yi||kt.done)&&M.delete(pn)})}),d.v7_partialHydration&&ot&&N.errors&&(Bn=Jn({},N.errors,Bn));let sr=Et(),bi=Ot(Q),Li=sr||bi||ce.length>0;return Jn({matches:Ie,loaderData:_n,errors:Bn},Li?{fetchers:new Map(N.fetchers)}:{})}function ue(fe){if(fe&&!ua(fe[1]))return{[fe[0]]:fe[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function ge(fe){return fe.forEach(be=>{let Ie=N.fetchers.get(be.key),je=Sf(void 0,Ie?Ie.data:void 0);N.fetchers.set(be.key,je)}),new Map(N.fetchers)}function Ee(fe,be,Ie,je){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");dt(fe);let Ge=(je&&je.flushSync)===!0,ut=s||o,wt=SA(N.location,N.matches,l,d.v7_prependBasename,Ie,d.v7_relativeSplatPath,be,je==null?void 0:je.relative),it=au(ut,wt,l),ot=vn(it,ut,wt);if(ot.active&&ot.matches&&(it=ot.matches),!it){rt(fe,be,Gi(404,{pathname:wt}),{flushSync:Ge});return}let{path:Ye,submission:lt,error:bt}=Rx(d.v7_normalizeFormMethod,!0,wt,je);if(bt){rt(fe,be,bt,{flushSync:Ge});return}let St=Yf(it,Ye),un=(je&&je.preventScrollReset)===!0;if(lt&&lo(lt.formMethod)){ae(fe,be,Ye,St,it,ot.active,Ge,un,lt);return}L.set(fe,{routeId:be,path:Ye}),ke(fe,be,Ye,St,it,ot.active,Ge,un,lt)}async function ae(fe,be,Ie,je,Ge,ut,wt,it,ot){nt(),L.delete(fe);function Ye(Kn){if(!Kn.route.action&&!Kn.route.lazy){let Cn=Gi(405,{method:ot.formMethod,pathname:Ie,routeId:be});return rt(fe,be,Cn,{flushSync:wt}),!0}return!1}if(!ut&&Ye(je))return;let lt=N.fetchers.get(fe);Ze(fe,d8(ot,lt),{flushSync:wt});let bt=new AbortController,St=hc(e.history,Ie,bt.signal,ot);if(ut){let Kn=await Kr(Ge,new URL(St.url).pathname,St.signal,fe);if(Kn.type==="aborted")return;if(Kn.type==="error"){rt(fe,be,Kn.error,{flushSync:wt});return}else if(Kn.matches){if(Ge=Kn.matches,je=Yf(Ge,Ie),Ye(je))return}else{rt(fe,be,Gi(404,{pathname:Ie}),{flushSync:wt});return}}K.set(fe,bt);let un=W,$e=(await Be("action",N,St,[je],Ge,fe))[je.route.id];if(St.signal.aborted){K.get(fe)===bt&&K.delete(fe);return}if(d.v7_fetcherPersist&&G.has(fe)){if(mu($e)||ua($e)){Ze(fe,Xs(void 0));return}}else{if(mu($e))if(K.delete(fe),Q>un){Ze(fe,Xs(void 0));return}else return B.add(fe),Ze(fe,Sf(ot)),Te(St,$e,!1,{fetcherSubmission:ot,preventScrollReset:it});if(ua($e)){rt(fe,be,$e.error);return}}if(ll($e))throw Gi(400,{type:"defer-action"});let ce=N.navigation.location||N.location,Qe=hc(e.history,ce,bt.signal),st=s||o,qt=N.navigation.state!=="idle"?au(st,N.navigation.location,l):N.matches;$t(qt,"Didn't find any matches after fetcher action");let cn=++W;U.set(fe,cn);let _n=Sf(ot,$e.data);N.fetchers.set(fe,_n);let[Bn,sr]=Mx(e.history,N,qt,ot,ce,!1,d.v7_skipActionErrorRevalidation,z,Z,ee,G,L,B,st,l,[je.route.id,$e]);sr.filter(Kn=>Kn.key!==fe).forEach(Kn=>{let Cn=Kn.key,Dl=N.fetchers.get(Cn),Gu=Sf(void 0,Dl?Dl.data:void 0);N.fetchers.set(Cn,Gu),dt(Cn),Kn.controller&&K.set(Cn,Kn.controller)}),Ce({fetchers:new Map(N.fetchers)});let bi=()=>sr.forEach(Kn=>dt(Kn.key));bt.signal.addEventListener("abort",bi);let{loaderResults:Li,fetcherResults:kt}=await Ke(N,qt,Bn,sr,Qe);if(bt.signal.aborted)return;bt.signal.removeEventListener("abort",bi),U.delete(fe),K.delete(fe),sr.forEach(Kn=>K.delete(Kn.key));let pn=pg(Li);if(pn)return Te(Qe,pn.result,!1,{preventScrollReset:it});if(pn=pg(kt),pn)return B.add(pn.key),Te(Qe,pn.result,!1,{preventScrollReset:it});let{loaderData:Yi,errors:xa}=Qx(N,qt,Li,void 0,sr,kt,M);if(N.fetchers.has(fe)){let Kn=Xs($e.data);N.fetchers.set(fe,Kn)}Ot(cn),N.navigation.state==="loading"&&cn>Q?($t(I,"Expected pending action"),T&&T.abort(),Pe(N.navigation.location,{matches:qt,loaderData:Yi,errors:xa,fetchers:new Map(N.fetchers)})):(Ce({errors:xa,loaderData:qx(N.loaderData,Yi,qt,xa),fetchers:new Map(N.fetchers)}),z=!1)}async function ke(fe,be,Ie,je,Ge,ut,wt,it,ot){let Ye=N.fetchers.get(fe);Ze(fe,Sf(ot,Ye?Ye.data:void 0),{flushSync:wt});let lt=new AbortController,bt=hc(e.history,Ie,lt.signal);if(ut){let $e=await Kr(Ge,new URL(bt.url).pathname,bt.signal,fe);if($e.type==="aborted")return;if($e.type==="error"){rt(fe,be,$e.error,{flushSync:wt});return}else if($e.matches)Ge=$e.matches,je=Yf(Ge,Ie);else{rt(fe,be,Gi(404,{pathname:Ie}),{flushSync:wt});return}}K.set(fe,lt);let St=W,Yt=(await Be("loader",N,bt,[je],Ge,fe))[je.route.id];if(ll(Yt)&&(Yt=await Xw(Yt,bt.signal,!0)||Yt),K.get(fe)===lt&&K.delete(fe),!bt.signal.aborted){if(G.has(fe)){Ze(fe,Xs(void 0));return}if(mu(Yt))if(Q>St){Ze(fe,Xs(void 0));return}else{B.add(fe),await Te(bt,Yt,!1,{preventScrollReset:it});return}if(ua(Yt)){rt(fe,be,Yt.error);return}$t(!ll(Yt),"Unhandled fetcher deferred data"),Ze(fe,Xs(Yt.data))}}async function Te(fe,be,Ie,je){let{submission:Ge,fetcherSubmission:ut,preventScrollReset:wt,replace:it}=je===void 0?{}:je;be.response.headers.has("X-Remix-Revalidate")&&(z=!0);let ot=be.response.headers.get("Location");$t(ot,"Expected a Location header on the redirect Response"),ot=Hx(ot,new URL(fe.url),l,e.history);let Ye=Dh(N.location,ot,{_isRedirect:!0});if(n){let $e=!1;if(be.response.headers.has("X-Remix-Reload-Document"))$e=!0;else if(Jw.test(ot)){const ce=e.history.createURL(ot);$e=ce.origin!==t.location.origin||go(ce.pathname,l)==null}if($e){it?t.location.replace(ot):t.location.assign(ot);return}}T=null;let lt=it===!0||be.response.headers.has("X-Remix-Replace")?kr.Replace:kr.Push,{formMethod:bt,formAction:St,formEncType:un}=N.navigation;!Ge&&!ut&&bt&&St&&un&&(Ge=Kx(N.navigation));let Yt=Ge||ut;if(qD.has(be.response.status)&&Yt&&lo(Yt.formMethod))await oe(lt,Ye,{submission:Jn({},Yt,{formAction:ot}),preventScrollReset:wt||R,enableViewTransition:Ie?k:void 0});else{let $e=Sv(Ye,Ge);await oe(lt,Ye,{overrideNavigation:$e,fetcherSubmission:ut,preventScrollReset:wt||R,enableViewTransition:Ie?k:void 0})}}async function Be(fe,be,Ie,je,Ge,ut){let wt,it={};try{wt=await ZD(u,fe,be,Ie,je,Ge,ut,a,i)}catch(ot){return je.forEach(Ye=>{it[Ye.route.id]={type:xn.error,error:ot}}),it}for(let[ot,Ye]of Object.entries(wt))if(a8(Ye)){let lt=Ye.result;it[ot]={type:xn.redirect,response:n8(lt,Ie,ot,Ge,l,d.v7_relativeSplatPath)}}else it[ot]=await t8(Ye);return it}async function Ke(fe,be,Ie,je,Ge){let ut=fe.matches,wt=Be("loader",fe,Ge,Ie,be,null),it=Promise.all(je.map(async lt=>{if(lt.matches&&lt.match&&lt.controller){let St=(await Be("loader",fe,hc(e.history,lt.path,lt.controller.signal),[lt.match],lt.matches,lt.key))[lt.match.route.id];return{[lt.key]:St}}else return Promise.resolve({[lt.key]:{type:xn.error,error:Gi(404,{pathname:lt.path})}})})),ot=await wt,Ye=(await it).reduce((lt,bt)=>Object.assign(lt,bt),{});return await Promise.all([l8(be,ot,Ge.signal,ut,fe.loaderData),u8(be,Ye,je)]),{loaderResults:ot,fetcherResults:Ye}}function nt(){z=!0,Z.push(...Rr()),L.forEach((fe,be)=>{K.has(be)&&ee.add(be),dt(be)})}function Ze(fe,be,Ie){Ie===void 0&&(Ie={}),N.fetchers.set(fe,be),Ce({fetchers:new Map(N.fetchers)},{flushSync:(Ie&&Ie.flushSync)===!0})}function rt(fe,be,Ie,je){je===void 0&&(je={});let Ge=ou(N.matches,be);Ue(fe),Ce({errors:{[Ge.route.id]:Ie},fetchers:new Map(N.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function Xe(fe){return H.set(fe,(H.get(fe)||0)+1),G.has(fe)&&G.delete(fe),N.fetchers.get(fe)||$D}function Ue(fe){let be=N.fetchers.get(fe);K.has(fe)&&!(be&&be.state==="loading"&&U.has(fe))&&dt(fe),L.delete(fe),U.delete(fe),B.delete(fe),d.v7_fetcherPersist&&G.delete(fe),ee.delete(fe),N.fetchers.delete(fe)}function yt(fe){let be=(H.get(fe)||0)-1;be<=0?(H.delete(fe),G.add(fe),d.v7_fetcherPersist||Ue(fe)):H.set(fe,be),Ce({fetchers:new Map(N.fetchers)})}function dt(fe){let be=K.get(fe);be&&(be.abort(),K.delete(fe))}function Ht(fe){for(let be of fe){let Ie=Xe(be),je=Xs(Ie.data);N.fetchers.set(be,je)}}function Et(){let fe=[],be=!1;for(let Ie of B){let je=N.fetchers.get(Ie);$t(je,"Expected fetcher: "+Ie),je.state==="loading"&&(B.delete(Ie),fe.push(Ie),be=!0)}return Ht(fe),be}function Ot(fe){let be=[];for(let[Ie,je]of U)if(je<fe){let Ge=N.fetchers.get(Ie);$t(Ge,"Expected fetcher: "+Ie),Ge.state==="loading"&&(dt(Ie),U.delete(Ie),be.push(Ie))}return Ht(be),be.length>0}function on(fe,be){let Ie=N.blockers.get(fe)||Pc;return V.get(fe)!==be&&V.set(fe,be),Ie}function Ct(fe){N.blockers.delete(fe),V.delete(fe)}function Lr(fe,be){let Ie=N.blockers.get(fe)||Pc;$t(Ie.state==="unblocked"&&be.state==="blocked"||Ie.state==="blocked"&&be.state==="blocked"||Ie.state==="blocked"&&be.state==="proceeding"||Ie.state==="blocked"&&be.state==="unblocked"||Ie.state==="proceeding"&&be.state==="unblocked","Invalid blocker state transition: "+Ie.state+" -> "+be.state);let je=new Map(N.blockers);je.set(fe,be),Ce({blockers:je})}function Zt(fe){let{currentLocation:be,nextLocation:Ie,historyAction:je}=fe;if(V.size===0)return;V.size>1&&kl(!1,"A router only supports one blocker at a time");let Ge=Array.from(V.entries()),[ut,wt]=Ge[Ge.length-1],it=N.blockers.get(ut);if(!(it&&it.state==="proceeding")&&wt({currentLocation:be,nextLocation:Ie,historyAction:je}))return ut}function er(fe){let be=Gi(404,{pathname:fe}),Ie=s||o,{matches:je,route:Ge}=Vx(Ie);return Rr(),{notFoundMatches:je,route:Ge,error:be}}function Rr(fe){let be=[];return M.forEach((Ie,je)=>{(!fe||fe(je))&&(Ie.cancel(),be.push(je),M.delete(je))}),be}function hn(fe,be,Ie){if(v=fe,A=be,y=Ie||null,!g&&N.navigation===Cv){g=!0;let je=mn(N.location,N.matches);je!=null&&Ce({restoreScrollPosition:je})}return()=>{v=null,A=null,y=null}}function Bt(fe,be){return y&&y(fe,be.map(je=>xD(je,N.loaderData)))||fe.key}function en(fe,be){if(v&&A){let Ie=Bt(fe,be);v[Ie]=A()}}function mn(fe,be){if(v){let Ie=Bt(fe,be),je=v[Ie];if(typeof je=="number")return je}return null}function vn(fe,be,Ie){if(c)if(fe){if(Object.keys(fe[0].params).length>0)return{active:!0,matches:f0(be,Ie,l,!0)}}else return{active:!0,matches:f0(be,Ie,l,!0)||[]};return{active:!1,matches:null}}async function Kr(fe,be,Ie,je){if(!c)return{type:"success",matches:fe};let Ge=fe;for(;;){let ut=s==null,wt=s||o,it=a;try{await c({signal:Ie,path:be,matches:Ge,fetcherKey:je,patch:(lt,bt)=>{Ie.aborted||zx(lt,bt,wt,it,i)}})}catch(lt){return{type:"error",error:lt,partialMatches:Ge}}finally{ut&&!Ie.aborted&&(o=[...o])}if(Ie.aborted)return{type:"aborted"};let ot=au(wt,be,l);if(ot)return{type:"success",matches:ot};let Ye=f0(wt,be,l,!0);if(!Ye||Ge.length===Ye.length&&Ge.every((lt,bt)=>lt.route.id===Ye[bt].route.id))return{type:"success",matches:null};Ge=Ye}}function wi(fe){a={},s=nm(fe,i,void 0,a)}function At(fe,be){let Ie=s==null;zx(fe,be,s||o,a,i),Ie&&(o=[...o],Ce({}))}return D={get basename(){return l},get future(){return d},get state(){return N},get routes(){return o},get window(){return t},initialize:J,subscribe:ye,enableScrollRestoration:hn,navigate:Le,fetch:Ee,revalidate:Ae,createHref:fe=>e.history.createHref(fe),encodeLocation:fe=>e.history.encodeLocation(fe),getFetcher:Xe,deleteFetcher:yt,dispose:de,getBlocker:on,deleteBlocker:Ct,patchRoutes:At,_internalFetchControllers:K,_internalActiveDeferreds:M,_internalSetRoutes:wi},D}function KD(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function SA(e,t,n,r,i,a,o,s){let l,u;if(o){l=[];for(let d of t)if(l.push(d),d.route.id===o){u=d;break}}else l=t,u=t[t.length-1];let c=Wm(i||".",Vm(l,a),go(e.pathname,n)||e.pathname,s==="path");if(i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&u){let d=Zw(c.search);if(u.route.index&&!d)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&d){let h=new URLSearchParams(c.search),f=h.getAll("index");h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let v=h.toString();c.search=v?"?"+v:""}}return r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:ys([n,c.pathname])),Pu(c)}function Rx(e,t,n,r){if(!r||!KD(r))return{path:n};if(r.formMethod&&!s8(r.formMethod))return{path:n,error:Gi(405,{method:r.formMethod})};let i=()=>({path:n,error:Gi(400,{type:"invalid-body"})}),a=r.formMethod||"get",o=e?a.toUpperCase():a.toLowerCase(),s=ZS(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!lo(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,v)=>{let[y,A]=v;return""+f+y+"="+A+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!lo(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}$t(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=IA(r.formData),u=r.formData;else if(r.body instanceof FormData)l=IA(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Gx(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Gx(l)}catch{return i()}let c={formMethod:o,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(lo(c.formMethod))return{path:n,submission:c};let d=Cs(n);return t&&d.search&&Zw(d.search)&&l.append("index",""),d.search="?"+l,{path:Pu(d),submission:c}}function Fx(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(i=>i.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Mx(e,t,n,r,i,a,o,s,l,u,c,d,h,f,v,y){let A=y?ua(y[1])?y[1].error:y[1].data:void 0,g=e.createURL(t.location),p=e.createURL(i),w=n;a&&t.errors?w=Fx(n,Object.keys(t.errors)[0],!0):y&&ua(y[1])&&(w=Fx(n,y[0]));let x=y?y[1].statusCode:void 0,C=o&&x&&x>=400,D=w.filter((I,R)=>{let{route:T}=I;if(T.lazy)return!0;if(T.loader==null)return!1;if(a)return NA(T,t.loaderData,t.errors);if(YD(t.loaderData,t.matches[R],I)||l.some(O=>O===I.route.id))return!0;let k=t.matches[R],_=I;return Ux(I,Jn({currentUrl:g,currentParams:k.params,nextUrl:p,nextParams:_.params},r,{actionResult:A,actionStatus:x,defaultShouldRevalidate:C?!1:s||g.pathname+g.search===p.pathname+p.search||g.search!==p.search||JS(k,_)}))}),N=[];return d.forEach((I,R)=>{if(a||!n.some(j=>j.route.id===I.routeId)||c.has(R))return;let T=au(f,I.path,v);if(!T){N.push({key:R,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let k=t.fetchers.get(R),_=Yf(T,I.path),O=!1;h.has(R)?O=!1:u.has(R)?(u.delete(R),O=!0):k&&k.state!=="idle"&&k.data===void 0?O=s:O=Ux(_,Jn({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:A,actionStatus:x,defaultShouldRevalidate:C?!1:s})),O&&N.push({key:R,routeId:I.routeId,path:I.path,matches:T,match:_,controller:new AbortController})}),[D,N]}function NA(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function YD(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function JS(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ux(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function zx(e,t,n,r,i){var a;let o;if(e){let u=r[e];$t(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),o=u.children}else o=n;let s=t.filter(u=>!o.some(c=>XS(u,c))),l=nm(s,i,[e||"_","patch",String(((a=o)==null?void 0:a.length)||"0")],r);o.push(...l)}function XS(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(a=>XS(n,a))}):!1}async function JD(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];$t(i,"No route found in manifest");let a={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";kl(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!wD.has(o)&&(a[o]=r[o])}Object.assign(i,a),Object.assign(i,Jn({},t(i),{lazy:void 0}))}async function XD(e){let{matches:t}=e,n=t.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,a,o)=>Object.assign(i,{[n[o].route.id]:a}),{})}async function ZD(e,t,n,r,i,a,o,s,l,u){let c=a.map(f=>f.route.lazy?JD(f.route,l,s):void 0),d=a.map((f,v)=>{let y=c[v],A=i.some(p=>p.route.id===f.route.id);return Jn({},f,{shouldLoad:A,resolve:async p=>(p&&r.method==="GET"&&(f.route.lazy||f.route.loader)&&(A=!0),A?e8(t,r,f,y,p,u):Promise.resolve({type:xn.data,result:void 0}))})}),h=await e({matches:d,request:r,params:a[0].params,fetcherKey:o,context:u});try{await Promise.all(c)}catch{}return h}async function e8(e,t,n,r,i,a){let o,s,l=u=>{let c,d=new Promise((v,y)=>c=y);s=()=>c(),t.signal.addEventListener("abort",s);let h=v=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:a},...v!==void 0?[v]:[]),f=(async()=>{try{return{type:"data",result:await(i?i(y=>h(y)):h())}}catch(v){return{type:"error",result:v}}})();return Promise.race([f,d])};try{let u=n.route[e];if(r)if(u){let c,[d]=await Promise.all([l(u).catch(h=>{c=h}),r]);if(c!==void 0)throw c;o=d}else if(await r,u=n.route[e],u)o=await l(u);else if(e==="action"){let c=new URL(t.url),d=c.pathname+c.search;throw Gi(405,{method:t.method,pathname:d,routeId:n.route.id})}else return{type:xn.data,result:void 0};else if(u)o=await l(u);else{let c=new URL(t.url),d=c.pathname+c.search;throw Gi(404,{pathname:d})}$t(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:xn.error,result:u}}finally{s&&t.signal.removeEventListener("abort",s)}return o}async function t8(e){let{result:t,type:n}=e;if(eN(t)){let d;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?d=null:d=await t.json():d=await t.text()}catch(h){return{type:xn.error,error:h}}return n===xn.error?{type:xn.error,error:new im(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:xn.data,data:d,statusCode:t.status,headers:t.headers}}if(n===xn.error){if(Wx(t)){var r,i;if(t.data instanceof Error){var a,o;return{type:xn.error,error:t.data,statusCode:(a=t.init)==null?void 0:a.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:xn.error,error:new im(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:Lh(t)?t.status:void 0,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:xn.error,error:t,statusCode:Lh(t)?t.status:void 0}}if(o8(t)){var s,l;return{type:xn.deferred,deferredData:t,statusCode:(s=t.init)==null?void 0:s.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(Wx(t)){var u,c;return{type:xn.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}}return{type:xn.data,data:t}}function n8(e,t,n,r,i,a){let o=e.headers.get("Location");if($t(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jw.test(o)){let s=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=SA(new URL(t.url),s,i,!0,o,a),e.headers.set("Location",o)}return e}function Hx(e,t,n,r){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Jw.test(e)){let a=e,o=a.startsWith("//")?new URL(t.protocol+a):new URL(a);if(i.includes(o.protocol))throw new Error("Invalid redirect location");let s=go(o.pathname,n)!=null;if(o.origin===t.origin&&s)return o.pathname+o.search+o.hash}try{let a=r.createURL(e);if(i.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return e}function hc(e,t,n,r){let i=e.createURL(ZS(t)).toString(),a={signal:n};if(r&&lo(r.formMethod)){let{formMethod:o,formEncType:s}=r;a.method=o.toUpperCase(),s==="application/json"?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):s==="text/plain"?a.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?a.body=IA(r.formData):a.body=r.formData}return new Request(i,a)}function IA(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Gx(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function r8(e,t,n,r,i){let a={},o=null,s,l=!1,u={},c=n&&ua(n[1])?n[1].error:void 0;return e.forEach(d=>{if(!(d.route.id in t))return;let h=d.route.id,f=t[h];if($t(!mu(f),"Cannot handle redirect results in processLoaderData"),ua(f)){let v=f.error;c!==void 0&&(v=c,c=void 0),o=o||{};{let y=ou(e,h);o[y.route.id]==null&&(o[y.route.id]=v)}a[h]=void 0,l||(l=!0,s=Lh(f.error)?f.error.status:500),f.headers&&(u[h]=f.headers)}else ll(f)?(r.set(h,f.deferredData),a[h]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(s=f.statusCode),f.headers&&(u[h]=f.headers)):(a[h]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(s=f.statusCode),f.headers&&(u[h]=f.headers))}),c!==void 0&&n&&(o={[n[0]]:c},a[n[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:u}}function Qx(e,t,n,r,i,a,o){let{loaderData:s,errors:l}=r8(t,n,r,o);return i.forEach(u=>{let{key:c,match:d,controller:h}=u,f=a[c];if($t(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(ua(f)){let v=ou(e.matches,d==null?void 0:d.route.id);l&&l[v.route.id]||(l=Jn({},l,{[v.route.id]:f.error})),e.fetchers.delete(c)}else if(mu(f))$t(!1,"Unhandled fetcher revalidation redirect");else if(ll(f))$t(!1,"Unhandled fetcher deferred data");else{let v=Xs(f.data);e.fetchers.set(c,v)}}),{loaderData:s,errors:l}}function qx(e,t,n,r){let i=Jn({},t);for(let a of n){let o=a.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&a.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function $x(e){return e?ua(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ou(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Vx(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Gi(e,t){let{pathname:n,routeId:r,method:i,type:a,message:o}=t===void 0?{}:t,s="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?l="defer() is not supported in actions":a==="invalid-body"&&(l="Unable to encode submission body")):e===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",l='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new im(e||500,s,new Error(l),!0)}function pg(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(mu(i))return{key:r,result:i}}}function ZS(e){let t=typeof e=="string"?Cs(e):e;return Pu(Jn({},t,{hash:""}))}function i8(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function a8(e){return eN(e.result)&&QD.has(e.result.status)}function ll(e){return e.type===xn.deferred}function ua(e){return e.type===xn.error}function mu(e){return(e&&e.type)===xn.redirect}function Wx(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function o8(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function eN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function s8(e){return GD.has(e.toLowerCase())}function lo(e){return zD.has(e.toLowerCase())}async function l8(e,t,n,r,i){let a=Object.entries(t);for(let o=0;o<a.length;o++){let[s,l]=a[o],u=e.find(h=>(h==null?void 0:h.route.id)===s);if(!u)continue;let c=r.find(h=>h.route.id===u.route.id),d=c!=null&&!JS(c,u)&&(i&&i[u.route.id])!==void 0;ll(l)&&d&&await Xw(l,n,!1).then(h=>{h&&(t[s]=h)})}}async function u8(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:a,controller:o}=n[r],s=t[i];e.find(u=>(u==null?void 0:u.route.id)===a)&&ll(s)&&($t(o,"Expected an AbortController for revalidating fetcher deferred result"),await Xw(s,o.signal,!0).then(u=>{u&&(t[i]=u)}))}}async function Xw(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:xn.data,data:e.deferredData.unwrappedData}}catch(i){return{type:xn.error,error:i}}return{type:xn.data,data:e.deferredData.data}}}function Zw(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Yf(e,t){let n=typeof t=="string"?Cs(t).search:t.search;if(e[e.length-1].route.index&&Zw(n||""))return e[e.length-1];let r=WS(e);return r[r.length-1]}function Kx(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Sv(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function c8(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Sf(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function d8(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Xs(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function f8(e,t){try{let n=e.sessionStorage.getItem(YS);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&t.set(i,new Set(a||[]))}}catch{}}function h8(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(YS,JSON.stringify(n))}catch(r){kl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wd.apply(this,arguments)}const rp=ie.createContext(null),eb=ie.createContext(null),Ss=ie.createContext(null),tb=ie.createContext(null),Mo=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),tN=ie.createContext(null);function p8(e,t){let{relative:n}=t===void 0?{}:t;Nd()||$t(!1);let{basename:r,navigator:i}=ie.useContext(Ss),{hash:a,pathname:o,search:s}=Km(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ys([r,o])),i.createHref({pathname:l,search:s,hash:a})}function Nd(){return ie.useContext(tb)!=null}function Uo(){return Nd()||$t(!1),ie.useContext(tb).location}function nN(e){ie.useContext(Ss).static||ie.useLayoutEffect(e)}function Ns(){let{isDataRoute:e}=ie.useContext(Mo);return e?N8():g8()}function g8(){Nd()||$t(!1);let e=ie.useContext(rp),{basename:t,future:n,navigator:r}=ie.useContext(Ss),{matches:i}=ie.useContext(Mo),{pathname:a}=Uo(),o=JSON.stringify(Vm(i,n.v7_relativeSplatPath)),s=ie.useRef(!1);return nN(()=>{s.current=!0}),ie.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=Wm(u,JSON.parse(o),a,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ys([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,a,e])}const rN=ie.createContext(null);function m8(){return ie.useContext(rN)}function v8(e){let t=ie.useContext(Mo).outlet;return t&&ie.createElement(rN.Provider,{value:e},t)}function iN(){let{matches:e}=ie.useContext(Mo),t=e[e.length-1];return t?t.params:{}}function Km(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=ie.useContext(Ss),{matches:i}=ie.useContext(Mo),{pathname:a}=Uo(),o=JSON.stringify(Vm(i,r.v7_relativeSplatPath));return ie.useMemo(()=>Wm(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function y8(e,t,n,r){Nd()||$t(!1);let{navigator:i}=ie.useContext(Ss),{matches:a}=ie.useContext(Mo),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Uo(),c;c=u;let d=c.pathname||"/",h=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let f=au(e,{pathname:h});return E8(f&&f.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:ys([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:ys([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r)}function A8(){let e=_8(),t=Lh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},t),n?ie.createElement("pre",{style:i},n):null,null)}const w8=ie.createElement(A8,null);class b8 extends ie.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?ie.createElement(Mo.Provider,{value:this.props.routeContext},ie.createElement(tN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x8(e){let{routeContext:t,match:n,children:r}=e,i=ie.useContext(rp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ie.createElement(Mo.Provider,{value:t},r)}function E8(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);c>=0||$t(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,v=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,v=!1,y=null,A=null;n&&(f=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||w8,l&&(u<0&&h===0?(I8("route-fallback"),v=!0,A=null):u===h&&(v=!0,A=d.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),p=()=>{let w;return f?w=y:v?w=A:d.route.Component?w=ie.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,ie.createElement(x8,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?ie.createElement(b8,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var aN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(aN||{}),oN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oN||{});function sN(e){let t=ie.useContext(rp);return t||$t(!1),t}function lN(e){let t=ie.useContext(eb);return t||$t(!1),t}function k8(e){let t=ie.useContext(Mo);return t||$t(!1),t}function uN(e){let t=k8(),n=t.matches[t.matches.length-1];return n.route.id||$t(!1),n.route.id}function _8(){var e;let t=ie.useContext(tN),n=lN(),r=uN();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}let C8=0;function S8(e){let{router:t,basename:n}=sN(aN.UseBlocker),r=lN(oN.UseBlocker),[i,a]=ie.useState(""),o=ie.useCallback(s=>{if(typeof e!="function")return!!e;if(n==="/")return e(s);let{currentLocation:l,nextLocation:u,historyAction:c}=s;return e({currentLocation:wd({},l,{pathname:go(l.pathname,n)||l.pathname}),nextLocation:wd({},u,{pathname:go(u.pathname,n)||u.pathname}),historyAction:c})},[n,e]);return ie.useEffect(()=>{let s=String(++C8);return a(s),()=>t.deleteBlocker(s)},[t]),ie.useEffect(()=>{i!==""&&t.getBlocker(i,o)},[t,i,o]),i&&r.blockers.has(i)?r.blockers.get(i):Pc}function N8(){let{router:e}=sN(),t=uN(),n=ie.useRef(!1);return nN(()=>{n.current=!0}),ie.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,wd({fromRouteId:t},a)))},[e,t])}const Yx={};function I8(e,t,n){Yx[e]||(Yx[e]=!0)}function P8(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function PA(e){let{to:t,replace:n,state:r,relative:i}=e;Nd()||$t(!1);let{future:a,static:o}=ie.useContext(Ss),{matches:s}=ie.useContext(Mo),{pathname:l}=Uo(),u=Ns(),c=Wm(t,Vm(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return ie.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function B8(e){return v8(e.context)}function T8(e){let{basename:t="/",children:n=null,location:r,navigationType:i=kr.Pop,navigator:a,static:o=!1,future:s}=e;Nd()&&$t(!1);let l=t.replace(/^\/*/,"/"),u=ie.useMemo(()=>({basename:l,navigator:a,static:o,future:wd({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Cs(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:v="default"}=r,y=ie.useMemo(()=>{let A=go(c,l);return A==null?null:{location:{pathname:A,search:d,hash:h,state:f,key:v},navigationType:i}},[l,c,d,h,f,v,i]);return y==null?null:ie.createElement(Ss.Provider,{value:u},ie.createElement(tb.Provider,{children:n,value:y}))}new Promise(()=>{});function O8(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:ie.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:ie.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:ie.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bd.apply(this,arguments)}function cN(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function j8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function D8(e,t){return e.button===0&&(!t||t==="_self")&&!j8(e)}const L8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R8=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],F8="6";try{window.__reactRouterVersion=F8}catch{}function M8(e,t){return WD({basename:void 0,future:bd({},void 0,{v7_prependBasename:!0}),history:vD({window:void 0}),hydrationData:U8(),routes:e,mapRouteProperties:O8,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function U8(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=bd({},t,{errors:z8(t.errors)})),t}function z8(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new im(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let o=new a(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}const dN=ie.createContext({isTransitioning:!1}),H8=ie.createContext(new Map),G8="startTransition",Jx=aO[G8],Q8="flushSync",Xx=mD[Q8];function q8(e){Jx?Jx(e):e()}function Nf(e){Xx?Xx(e):e()}let $8=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function V8(e){let{fallbackElement:t,router:n,future:r}=e,[i,a]=ie.useState(n.state),[o,s]=ie.useState(),[l,u]=ie.useState({isTransitioning:!1}),[c,d]=ie.useState(),[h,f]=ie.useState(),[v,y]=ie.useState(),A=ie.useRef(new Map),{v7_startTransition:g}=r||{},p=ie.useCallback(I=>{g?q8(I):I()},[g]),w=ie.useCallback((I,R)=>{let{deletedFetchers:T,flushSync:k,viewTransitionOpts:_}=R;I.fetchers.forEach((j,z)=>{j.data!==void 0&&A.current.set(z,j.data)}),T.forEach(j=>A.current.delete(j));let O=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!_||O){k?Nf(()=>a(I)):p(()=>a(I));return}if(k){Nf(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:_.currentLocation,nextLocation:_.nextLocation})});let j=n.window.document.startViewTransition(()=>{Nf(()=>a(I))});j.finished.finally(()=>{Nf(()=>{d(void 0),f(void 0),s(void 0),u({isTransitioning:!1})})}),Nf(()=>f(j));return}h?(c&&c.resolve(),h.skipTransition(),y({state:I,currentLocation:_.currentLocation,nextLocation:_.nextLocation})):(s(I),u({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}))},[n.window,h,c,A,p]);ie.useLayoutEffect(()=>n.subscribe(w),[n,w]),ie.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new $8)},[l]),ie.useEffect(()=>{if(c&&o&&n.window){let I=o,R=c.promise,T=n.window.document.startViewTransition(async()=>{p(()=>a(I)),await R});T.finished.finally(()=>{d(void 0),f(void 0),s(void 0),u({isTransitioning:!1})}),f(T)}},[p,o,c,n.window]),ie.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,h,i.location,o]),ie.useEffect(()=>{!l.isTransitioning&&v&&(s(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),y(void 0))},[l.isTransitioning,v]),ie.useEffect(()=>{},[]);let x=ie.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,R,T)=>n.navigate(I,{state:R,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(I,R,T)=>n.navigate(I,{replace:!0,state:R,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[n]),C=n.basename||"/",D=ie.useMemo(()=>({router:n,navigator:x,static:!1,basename:C}),[n,x,C]),N=ie.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return ie.useEffect(()=>P8(r,n.future),[r,n.future]),ie.createElement(ie.Fragment,null,ie.createElement(rp.Provider,{value:D},ie.createElement(eb.Provider,{value:i},ie.createElement(H8.Provider,{value:A.current},ie.createElement(dN.Provider,{value:l},ie.createElement(T8,{basename:C,location:i.location,navigationType:i.historyAction,navigator:x,future:N},i.initialized||n.future.v7_partialHydration?ie.createElement(W8,{routes:n.routes,future:n.future,state:i}):t))))),null)}const W8=ie.memo(K8);function K8(e){let{routes:t,future:n,state:r}=e;return y8(t,void 0,r,n)}const Y8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rh=ie.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=cN(t,L8),{basename:f}=ie.useContext(Ss),v,y=!1;if(typeof u=="string"&&J8.test(u)&&(v=u,Y8))try{let w=new URL(window.location.href),x=u.startsWith("//")?new URL(w.protocol+u):new URL(u),C=go(x.pathname,f);x.origin===w.origin&&C!=null?u=C+x.search+x.hash:y=!0}catch{}let A=p8(u,{relative:i}),g=Z8(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function p(w){r&&r(w),w.defaultPrevented||g(w)}return ie.createElement("a",bd({},h,{href:v||A,onClick:y||a?r:p,ref:n,target:l}))}),Zx=ie.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,viewTransition:u,children:c}=t,d=cN(t,R8),h=Km(l,{relative:d.relative}),f=Uo(),v=ie.useContext(eb),{navigator:y,basename:A}=ie.useContext(Ss),g=v!=null&&eL(h)&&u===!0,p=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,w=f.pathname,x=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(w=w.toLowerCase(),x=x?x.toLowerCase():null,p=p.toLowerCase()),x&&A&&(x=go(x,A)||x);const C=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let D=w===p||!o&&w.startsWith(p)&&w.charAt(C)==="/",N=x!=null&&(x===p||!o&&x.startsWith(p)&&x.charAt(p.length)==="/"),I={isActive:D,isPending:N,isTransitioning:g},R=D?r:void 0,T;typeof a=="function"?T=a(I):T=[a,D?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let k=typeof s=="function"?s(I):s;return ie.createElement(Rh,bd({},d,{"aria-current":R,className:T,ref:n,style:k,to:l,viewTransition:u}),typeof c=="function"?c(I):c)});var BA;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(BA||(BA={}));var e4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(e4||(e4={}));function X8(e){let t=ie.useContext(rp);return t||$t(!1),t}function Z8(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=t===void 0?{}:t,l=Ns(),u=Uo(),c=Km(e,{relative:o});return ie.useCallback(d=>{if(D8(d,n)){d.preventDefault();let h=r!==void 0?r:Pu(u)===Pu(c);l(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,r,i,n,e,a,o,s])}function eL(e,t){t===void 0&&(t={});let n=ie.useContext(dN);n==null&&$t(!1);let{basename:r}=X8(BA.useViewTransitionState),i=Km(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=go(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=go(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rm(i.pathname,o)!=null||rm(i.pathname,a)!=null}var TA=function(e,t){return TA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},TA(e,t)};function nb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");TA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Er=function(){return Er=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Er.apply(this,arguments)};function Id(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function fN(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function hN(e,t){return function(n,r){t(n,r,e)}}function pN(e,t,n,r,i,a){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=r.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var v={};for(var y in r)v[y]=y==="access"?{}:r[y];for(var y in r.access)v.access[y]=r.access[y];v.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(g||null))};var A=(0,n[f])(s==="accessor"?{get:c.get,set:c.set}:c[l],v);if(s==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(d=o(A.get))&&(c.get=d),(d=o(A.set))&&(c.set=d),(d=o(A.init))&&i.unshift(d)}else(d=o(A))&&(s==="field"?i.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),h=!0}function gN(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function mN(e){return typeof e=="symbol"?e:"".concat(e)}function vN(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function yN(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function gt(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}function AN(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ym=Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function wN(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Ym(t,e,n)}function am(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rb(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function bN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rb(arguments[t]));return e}function xN(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function EN(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function xd(e){return this instanceof xd?(this.v=e,this):new xd(e)}function kN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(v){return Promise.resolve(v).then(f,d)}}function s(f,v){r[f]&&(i[f]=function(y){return new Promise(function(A,g){a.push([f,y,A,g])>1||l(f,y)})},v&&(i[f]=v(i[f])))}function l(f,v){try{u(r[f](v))}catch(y){h(a[0][3],y)}}function u(f){f.value instanceof xd?Promise.resolve(f.value.v).then(c,d):h(a[0][2],f)}function c(f){l("next",f)}function d(f){l("throw",f)}function h(f,v){f(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function _N(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:xd(e[i](o)),done:!1}:a?a(o):o}:a}}function CN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof am=="function"?am(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(s,l){o=e[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function SN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var tL=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},OA=function(e){return OA=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},OA(e)};function NN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=OA(e),r=0;r<n.length;r++)n[r]!=="default"&&Ym(t,e,n[r]);return tL(t,e),t}function IN(e){return e&&e.__esModule?e:{default:e}}function PN(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function BN(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function TN(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ON(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var nL=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function jN(e){function t(a){e.error=e.hasError?new nL(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function DN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const rL={__extends:nb,__assign:Er,__rest:Id,__decorate:fN,__param:hN,__esDecorate:pN,__runInitializers:gN,__propKey:mN,__setFunctionName:vN,__metadata:yN,__awaiter:gt,__generator:AN,__createBinding:Ym,__exportStar:wN,__values:am,__read:rb,__spread:bN,__spreadArrays:xN,__spreadArray:EN,__await:xd,__asyncGenerator:kN,__asyncDelegator:_N,__asyncValues:CN,__makeTemplateObject:SN,__importStar:NN,__importDefault:IN,__classPrivateFieldGet:PN,__classPrivateFieldSet:BN,__classPrivateFieldIn:TN,__addDisposableResource:ON,__disposeResources:jN,__rewriteRelativeImportExtension:DN},iL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ON,get __assign(){return Er},__asyncDelegator:_N,__asyncGenerator:kN,__asyncValues:CN,__await:xd,__awaiter:gt,__classPrivateFieldGet:PN,__classPrivateFieldIn:TN,__classPrivateFieldSet:BN,__createBinding:Ym,__decorate:fN,__disposeResources:jN,__esDecorate:pN,__exportStar:wN,__extends:nb,__generator:AN,__importDefault:IN,__importStar:NN,__makeTemplateObject:SN,__metadata:yN,__param:hN,__propKey:mN,__read:rb,__rest:Id,__rewriteRelativeImportExtension:DN,__runInitializers:gN,__setFunctionName:vN,__spread:bN,__spreadArray:EN,__spreadArrays:xN,__values:am,default:rL},Symbol.toStringTag,{value:"Module"})),aL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ib extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class oL extends ib{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class t4 extends ib{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class n4 extends ib{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jA;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jA||(jA={}));class sL{constructor(t,{headers:n={},customFetch:r,region:i=jA.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=aL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return gt(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:f}=r;f||(f=this.region);const v=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let A=c;d&&(o=new AbortController,a=setTimeout(()=>o.abort(),d),c?(A=o.signal,c.addEventListener("abort",()=>o.abort())):A=o.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:A}).catch(C=>{throw new oL(C)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new t4(g);if(!g.ok)throw new n4(g);let w=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return w==="application/json"?x=yield g.json():w==="application/octet-stream"||w==="application/pdf"?x=yield g.blob():w==="text/event-stream"?x=g:w==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof n4||s instanceof t4?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var Ii={};const Pd=GT(iL);var gg={},mg={},vg={},yg={},Ag={},wg={},r4;function LN(){if(r4)return wg;r4=1,Object.defineProperty(wg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return wg.default=e,wg}var i4;function RN(){if(i4)return Ag;i4=1,Object.defineProperty(Ag,"__esModule",{value:!0});const t=Pd.__importDefault(LN());class n{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let f=null,v=null,y=null,A=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const C=await l.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=C:v=JSON.parse(C))}const w=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),x=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");w&&x&&x.length>1&&(y=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(f={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,A=406,g="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const w=await l.text();try{f=JSON.parse(w),Array.isArray(f)&&l.status===404&&(v=[],f=null,A=200,g="OK")}catch{l.status===404&&w===""?(A=204,g="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,A=200,g="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:v,count:y,status:A,statusText:g}});return this.shouldThrowOnError||(s=s.catch(l=>{var u,c,d,h,f,v;let y="";const A=l==null?void 0:l.cause;if(A){const g=(u=A==null?void 0:A.message)!==null&&u!==void 0?u:"",p=(c=A==null?void 0:A.code)!==null&&c!==void 0?c:"";y=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(h=A==null?void 0:A.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(y+=` (${p})`),A!=null&&A.stack&&(y+=`
${A.stack}`)}else y=(f=l==null?void 0:l.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}}return Ag.default=n,Ag}var a4;function FN(){if(a4)return yg;a4=1,Object.defineProperty(yg,"__esModule",{value:!0});const t=Pd.__importDefault(RN());class n extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return yg.default=n,yg}var o4;function ab(){if(o4)return vg;o4=1,Object.defineProperty(vg,"__esModule",{value:!0});const t=Pd.__importDefault(FN()),n=new RegExp("[,()]");class r extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${u}fts${c}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}}return vg.default=r,vg}var s4;function MN(){if(s4)return mg;s4=1,Object.defineProperty(mg,"__esModule",{value:!0});const t=Pd.__importDefault(ab());class n{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},l=o?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return mg.default=n,mg}var l4;function lL(){if(l4)return gg;l4=1,Object.defineProperty(gg,"__esModule",{value:!0});const e=Pd,t=e.__importDefault(MN()),n=e.__importDefault(ab());class r{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${a}`);let f;s||l?(d=s?"HEAD":"GET",Object.entries(o).filter(([y,A])=>A!==void 0).map(([y,A])=>[y,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([y,A])=>{h.searchParams.append(y,A)})):(d="POST",f=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:v,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return gg.default=r,gg}Object.defineProperty(Ii,"__esModule",{value:!0});var UN=Ii.PostgrestError=YN=Ii.PostgrestBuilder=WN=Ii.PostgrestTransformBuilder=$N=Ii.PostgrestFilterBuilder=QN=Ii.PostgrestQueryBuilder=HN=Ii.PostgrestClient=void 0;const Bd=Pd,zN=Bd.__importDefault(lL());var HN=Ii.PostgrestClient=zN.default;const GN=Bd.__importDefault(MN());var QN=Ii.PostgrestQueryBuilder=GN.default;const qN=Bd.__importDefault(ab());var $N=Ii.PostgrestFilterBuilder=qN.default;const VN=Bd.__importDefault(FN());var WN=Ii.PostgrestTransformBuilder=VN.default;const KN=Bd.__importDefault(RN());var YN=Ii.PostgrestBuilder=KN.default;const JN=Bd.__importDefault(LN());UN=Ii.PostgrestError=JN.default;var XN=Ii.default={PostgrestClient:zN.default,PostgrestQueryBuilder:GN.default,PostgrestFilterBuilder:qN.default,PostgrestTransformBuilder:VN.default,PostgrestBuilder:KN.default,PostgrestError:JN.default};const uL=tw({__proto__:null,get PostgrestBuilder(){return YN},get PostgrestClient(){return HN},get PostgrestError(){return UN},get PostgrestFilterBuilder(){return $N},get PostgrestQueryBuilder(){return QN},get PostgrestTransformBuilder(){return WN},default:XN},[Ii]),{PostgrestClient:cL,PostgrestQueryBuilder:Due,PostgrestFilterBuilder:Lue,PostgrestTransformBuilder:Rue,PostgrestBuilder:Fue,PostgrestError:Mue}=XN||uL;class dL{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const fL="2.86.0",hL=`realtime-js/${fL}`,ZN="1.0.0",pL="2.0.0",u4=ZN,DA=1e4,gL=1e3,mL=100;var su;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(su||(su={}));var Tr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tr||(Tr={}));var uo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(uo||(uo={}));var LA;(function(e){e.websocket="websocket"})(LA||(LA={}));var lu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lu||(lu={}));class vL{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+u.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(f),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,s.length),v.setUint8(y++,o.length),v.setUint8(y++,u.length),v.setUint8(y++,d.length),v.setUint8(y++,n),Array.from(l,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(s,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(d,g=>v.setUint8(y++,g.charCodeAt(0)));var A=new Uint8Array(f.byteLength+r.byteLength);return A.set(new Uint8Array(f),0),A.set(new Uint8Array(r),f.byteLength),A.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,s,l]=r;return n({join_ref:i,ref:a,topic:o,event:s,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+a));l=l+a;const d=r.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),f=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:f};return o>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class eI{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rn||(Rn={}));const c4=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=yL(o,e,t,i),a),{}):{}},yL=(e,t,n,r)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?tI(a,o):RA(o)},tI=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return xL(t,n)}switch(e){case Rn.bool:return AL(t);case Rn.float4:case Rn.float8:case Rn.int2:case Rn.int4:case Rn.int8:case Rn.numeric:case Rn.oid:return wL(t);case Rn.json:case Rn.jsonb:return bL(t);case Rn.timestamp:return EL(t);case Rn.abstime:case Rn.date:case Rn.daterange:case Rn.int4range:case Rn.int8range:case Rn.money:case Rn.reltime:case Rn.text:case Rn.time:case Rn.timestamptz:case Rn.timetz:case Rn.tsrange:case Rn.tstzrange:return RA(t);default:return RA(t)}},RA=e=>e,AL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},xL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>tI(t,s))}return e},EL=e=>typeof e=="string"?e.replace(" ","T"):e,nI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nv{constructor(t,n,r={},i=DA){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var d4;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(d4||(d4={}));class sh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sh.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=sh.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=sh.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=a[u];if(d){const h=c.map(A=>A.presence_ref),f=d.map(A=>A.presence_ref),v=c.filter(A=>f.indexOf(A.presence_ref)<0),y=d.filter(A=>h.indexOf(A.presence_ref)<0);v.length>0&&(s[u]=v),y.length>0&&(l[u]=y)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),c.length>0){const d=t[s].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);t[s].unshift(...h)}r(s,c,l)}),this.map(o,(s,l)=>{let u=t[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[s]=u,i(s,u,l),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var f4;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(f4||(f4={}));var lh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lh||(lh={}));var ls;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ls||(ls={}));class ob{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Nv(this,uo.join,this.params,this.timeout),this.rejoinTimer=new eI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(uo.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new sh(this),this.broadcastEndpointURL=nI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Tr.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[lh.PRESENCE]&&this.bindings[lh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(ls.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(ls.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){t==null||t(ls.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,A=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,g=[];for(let p=0;p<A;p++){const w=y[p],{filter:{event:x,schema:C,table:D,filter:N}}=w,I=f&&f[p];if(I&&I.event===x&&I.schema===C&&I.table===D&&I.filter===N)g.push(Object.assign(Object.assign({},w),{id:I.id}));else{this.unsubscribe(),this.state=Tr.errored,t==null||t(ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ls.SUBSCRIBED);return}}).receive("error",f=>{this.state=Tr.errored,t==null||t(ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Tr.joined&&t===lh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(uo.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Nv(this,uo.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Nv(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>mL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=uo;if(r&&[s,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,y,A;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((A=(y=f.filter)===null||y===void 0?void 0:y.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var v,y,A,g,p,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,C=(v=f.filter)===null||v===void 0?void 0:v.event;return x&&((y=n.ids)===null||y===void 0?void 0:y.includes(x))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const x=(p=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:A,commit_timestamp:g,type:p,errors:w}=v;h=Object.assign(Object.assign({},{schema:y,table:A,commit_timestamp:g,eventType:p,new:{},old:{},errors:w}),this._getPayloadRecords(v))}f.callback(h,r)})}_isClosed(){return this.state===Tr.closed}_isJoined(){return this.state===Tr.joined}_isJoining(){return this.state===Tr.joining}_isLeaving(){return this.state===Tr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ob.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(uo.close,{},t)}_onError(t){this._on(uo.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=c4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=c4(t.columns,t.old_record)),n}}const Iv=()=>{},bg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kL=[1e3,2e3,5e3,1e4],_L=1e4,CL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SL{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DA,this.transport=null,this.heartbeatIntervalMs=bg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iv,this.ref=0,this.reconnectTimer=null,this.vsn=u4,this.logger=Iv,this.conn=null,this.sendBuffer=[],this.serializer=new vL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${LA.websocket}`,this.httpEndpoint=nI(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dL.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case su.connecting:return lu.Connecting;case su.open:return lu.Open;case su.closing:return lu.Closing;default:return lu.Closed}}isConnected(){return this.connectionState()===lu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new ob(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(gL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},bg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===su.open||this.conn.readyState===su.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(uo.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([CL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:hL};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(uo.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new eI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,s,l,u,c,d,h,f;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:DA,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:bg.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Iv,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:u4,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>kL[v-1]||_L,this.vsn){case ZN:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,y)=>y(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,y)=>y(JSON.parse(v));break;case pL:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Jm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function rr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class NL extends Jm{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class FA extends Jm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const sb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IL=()=>Response,MA=e=>{if(Array.isArray(e))return e.map(n=>MA(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=MA(r)}),t},PL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},BL=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Pv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},TL=(e,t,n)=>gt(void 0,void 0,void 0,function*(){const r=yield IL();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new NL(Pv(i),a,o))}).catch(i=>{t(new FA(Pv(i),i))}):t(new FA(Pv(e),e))}),OL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(PL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ip(e,t,n,r,i,a){return gt(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,OL(t,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>TL(l,s,r))})})}function Fh(e,t,n,r){return gt(this,void 0,void 0,function*(){return ip(e,"GET",t,n,r)})}function ao(e,t,n,r,i){return gt(this,void 0,void 0,function*(){return ip(e,"POST",t,r,i,n)})}function UA(e,t,n,r,i){return gt(this,void 0,void 0,function*(){return ip(e,"PUT",t,r,i,n)})}function jL(e,t,n,r){return gt(this,void 0,void 0,function*(){return ip(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function lb(e,t,n,r,i){return gt(this,void 0,void 0,function*(){return ip(e,"DELETE",t,r,i,n)})}class DL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return gt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}})}}var rI;class LL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[rI]="BlobDownloadBuilder",this.promise=null}asStream(){return new DL(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return gt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}})}}rI=Symbol.toStringTag;const RL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class FL{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=sb(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return gt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},h4),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(t=="PUT"?UA:ao)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rr(a))return{data:null,error:a};throw a}})}upload(t,n,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return gt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:h4.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield UA(this.fetch,s.toString(),l,{headers:c});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(rr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return gt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield ao(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new Jm("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}update(t,n,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return gt(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return gt(this,void 0,void 0,function*(){try{return{data:{path:(yield ao(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return gt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield ao(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return gt(this,void 0,void 0,function*(){try{const i=yield ao(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>Fh(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new LL(l,this.shouldThrowOnError)}info(t){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Fh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:MA(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}exists(t){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield jL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r)&&r instanceof FA){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(t){return gt(this,void 0,void 0,function*(){try{return{data:yield lb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}list(t,n,r){return gt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},RL),n),{prefix:t||""});return{data:yield ao(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}listV2(t,n){return gt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield ao(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const iI="2.86.0",aI={"X-Client-Info":`storage-js/${iI}`};class ML{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aI),n),this.fetch=sb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return gt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Fh(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}getBucket(t){return gt(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}createBucket(t){return gt(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return gt(this,void 0,void 0,function*(){try{return{data:yield UA(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return gt(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return gt(this,void 0,void 0,function*(){try{return{data:yield lb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Mh=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function UL(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function zL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function HL(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const s=UL(e.baseUrl,r,i),l=await zL(e.auth),u=await t(s,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const f=d?h:void 0,v=f==null?void 0:f.error;throw new Mh((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:f})}return{status:u.status,headers:u.headers,data:h}}}}function xg(e){return e.join("")}var GL=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:xg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xg(e.namespace)}`}),!0}catch(t){if(t instanceof Mh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Mh&&n.status===409)return;throw n}}};function pc(e){return e.join("")}var QL=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pc(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Mh&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Mh&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},qL=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=HL({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new GL(this.client,t),this.tableOps=new QL(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class $L{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aI),n),this.fetch=sb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return gt(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}listBuckets(t){return gt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Fh(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return gt(this,void 0,void 0,function*(){try{return{data:yield lb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}from(t){if(!BL(t))throw new Jm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new qL({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>gt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const ub={"X-Client-Info":`storage-js/${iI}`,"Content-Type":"application/json"};class oI extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function da(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Bv extends oI{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class VL extends oI{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var p4;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(p4||(p4={}));const cb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},g4=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KL=(e,t,n)=>gt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Bv(g4(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Bv(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Bv(s,i,o))}}else t(new VL(g4(e),e))}),YL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(WL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function JL(e,t,n,r,i,a){return gt(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,YL(t,r,i,a)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>KL(l,s,r))})})}function fa(e,t,n,r,i){return gt(this,void 0,void 0,function*(){return JL(e,"POST",t,r,i,n)})}class XL{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ub),n),this.fetch=cb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return gt(this,void 0,void 0,function*(){try{return{data:(yield fa(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}getIndex(t,n){return gt(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(da(r))return{data:null,error:r};throw r}})}listIndexes(t){return gt(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return gt(this,void 0,void 0,function*(){try{return{data:(yield fa(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(da(r))return{data:null,error:r};throw r}})}}class ZL{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ub),n),this.fetch=cb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return gt(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield fa(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}getVectors(t){return gt(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}listVectors(t){return gt(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield fa(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}queryVectors(t){return gt(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}deleteVectors(t){return gt(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield fa(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}}class e7{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ub),n),this.fetch=cb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return gt(this,void 0,void 0,function*(){try{return{data:(yield fa(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}getBucket(t){return gt(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}listBuckets(){return gt(this,arguments,void 0,function*(t={}){try{return{data:yield fa(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}deleteBucket(t){return gt(this,void 0,void 0,function*(){try{return{data:(yield fa(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}}class t7 extends e7{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new n7(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return gt(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return gt(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return gt(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return gt(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class n7 extends XL{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return gt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return gt(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return gt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return gt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new r7(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class r7 extends ZL{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return gt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return gt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return gt(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return gt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return gt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class i7 extends ML{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new FL(this.url,this.headers,t,this.fetch)}get vectors(){return new t7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $L(this.url+"/iceberg",this.headers,this.fetch)}}const a7="2.86.0";let Jf="";typeof Deno<"u"?Jf="deno":typeof document<"u"?Jf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jf="react-native":Jf="node";const o7={"X-Client-Info":`supabase-js-${Jf}/${a7}`},s7={headers:o7},l7={schema:"public"},u7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c7={},d7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),f7=()=>Headers,h7=(e,t,n)=>{const r=d7(n),i=f7();return async(a,o)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:u}))}};function p7(e){return e.endsWith("/")?e:e+"/"}function g7(e,t){var n,r;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function m7(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(p7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const sI="2.86.0",Bc=30*1e3,zA=3,Tv=zA*Bc,v7="http://localhost:9999",y7="supabase.auth.token",A7={"X-Client-Info":`gotrue-js/${sI}`},HA="X-Supabase-Api-Version",lI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,b7=10*60*1e3;class Uh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function vt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class x7 extends Uh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function E7(e){return vt(e)&&e.name==="AuthApiError"}class uu extends Uh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class jl extends Uh{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class oa extends jl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k7(e){return vt(e)&&e.name==="AuthSessionMissingError"}class gc extends jl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Eg extends jl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class kg extends jl{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _7(e){return vt(e)&&e.name==="AuthImplicitGrantRedirectError"}class m4 extends jl{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class GA extends jl{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ov(e){return vt(e)&&e.name==="AuthRetryableFetchError"}class v4 extends jl{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class QA extends jl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const om="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y4=` 	
\r=`.split(""),C7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<y4.length;t+=1)e[y4[t].charCodeAt(0)]=-2;for(let t=0;t<om.length;t+=1)e[om[t].charCodeAt(0)]=t;return e})();function A4(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(om[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(om[r]),t.queuedBits-=6}}function uI(e,t,n){const r=C7[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function w4(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{I7(o,r,n)};for(let o=0;o<e.length;o+=1)uI(e.charCodeAt(o),i,a);return t.join("")}function S7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function N7(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}S7(r,t)}}function I7(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function od(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)uI(e.charCodeAt(i),n,r);return new Uint8Array(t)}function P7(e){const t=[];return N7(e,n=>t.push(n)),new Uint8Array(t)}function vu(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>A4(i,n,r)),A4(null,n,r),t.join("")}function B7(e){return Math.round(Date.now()/1e3)+e}function T7(){return Symbol("auth-callback")}const ei=()=>typeof window<"u"&&typeof document<"u",$l={tested:!1,writable:!1},cI=()=>{if(!ei())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($l.tested)return $l.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$l.tested=!0,$l.writable=!0}catch{$l.tested=!0,$l.writable=!1}return $l.writable};function O7(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const dI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),j7=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Tc=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qs=async(e,t)=>{await e.removeItem(t)};class Xm{constructor(){this.promise=new Xm.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Xm.promiseConstructor=Promise;function jv(e){const t=e.split(".");if(t.length!==3)throw new QA("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!w7.test(t[r]))throw new QA("JWT not in base64url format");return{header:JSON.parse(w4(t[0])),payload:JSON.parse(w4(t[1])),signature:od(t[2]),raw:{header:t[0],payload:t[1]}}}async function D7(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function L7(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function R7(e){return("0"+e.toString(16)).substr(-2)}function F7(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,R7).join("")}async function M7(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function U7(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await M7(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mc(e,t,n=!1){const r=F7();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Tc(e,`${t}-code-verifier`,i);const a=await U7(r);return[a,r===a?"plain":"s256"]}const z7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H7(e){const t=e.headers.get(HA);if(!t||!t.match(z7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function G7(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Q7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vc(e){if(!q7.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dv(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $7(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function b4(e){return JSON.parse(JSON.stringify(e))}const eu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),V7=[502,503,504];async function x4(e){var t;if(!j7(e))throw new GA(eu(e),0);if(V7.includes(e.status))throw new GA(eu(e),e.status);let n;try{n=await e.json()}catch(a){throw new uu(eu(a),a)}let r;const i=H7(e);if(i&&i.getTime()>=lI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new v4(eu(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new oa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new v4(eu(n),e.status,n.weak_password.reasons);throw new x7(eu(n),e.status||500,r)}const W7=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function It(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[HA]||(a[HA]=lI["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await K7(e,t,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function K7(e,t,n,r,i,a){const o=W7(t,r,i,a);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new GA(eu(l),0)}if(s.ok||await x4(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await x4(l)}}function to(e){var t;let n=null;X7(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=B7(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function E4(e){const t=to(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function al(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Y7(e){return{data:e,error:null}}function J7(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Id(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function k4(e){return e}function X7(e){return e.access_token&&e.refresh_token&&e.expires_in}const Lv=["global","local","others"];class Z7{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=dI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Lv[0]){if(Lv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lv.join(", ")}`);try{return await It(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await It(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:al})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Id(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await It(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:J7,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(vt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await It(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:al})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await It(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:k4});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(v.split(";")[1].split("=")[1]);u[`${A}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(vt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){vc(t);try{return await It(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:al})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){vc(t);try{return await It(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:al})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){vc(t);try{return await It(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:al})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){vc(t.userId);try{const{data:n,error:r}=await It(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(vt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){vc(t.userId),vc(t.id);try{return{data:await It(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await It(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:k4});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(v.split(";")[1].split("=")[1]);u[`${A}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(vt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await It(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(vt(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await It(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(vt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await It(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await It(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await It(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(vt(n))return{data:null,error:n};throw n}}}function _4(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const yc={debug:!!(globalThis&&cI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eR extends fI{}async function tR(e,t,n){yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),yc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(yc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function nR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function rR(e){return parseInt(e,16)}function iR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function aR(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=hI(e.address),v=c?`${c}://${r}`:r,y=e.statement?`${e.statement}
`:"",A=`${v} wants you to sign in with your Ethereum account:
${f}

${y}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),s&&(g+=`
Not Before: ${s.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);p+=`
- ${w}`}g+=p}return`${A}
${g}`}class _r extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class sm extends _r{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function oR({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _r({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new _r({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new _r({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new _r({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new _r({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new _r({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new _r({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new _r({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(pI(o)){if(a.rp.id!==o)return new _r({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new _r({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function sR({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _r({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new _r({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(pI(r)){if(n.rpId!==r)return new _r({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class lR{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const uR=new lR;function cR(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Id(e,["challenge","user","excludeCredentials"]),a=od(t).buffer,o=Object.assign(Object.assign({},n),{id:od(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:od(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function dR(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Id(e,["challenge","allowCredentials"]),i=od(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const s=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:od(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function fR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:vu(new Uint8Array(e.response.attestationObject)),clientDataJSON:vu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:vu(new Uint8Array(i.authenticatorData)),clientDataJSON:vu(new Uint8Array(i.clientDataJSON)),signature:vu(new Uint8Array(i.signature)),userHandle:i.userHandle?vu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function C4(){var e,t;return!!(ei()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function pR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sm("Browser returned unexpected credential type",t)}:{data:null,error:new sm("Empty credential response",t)}}catch(t){return{data:null,error:oR({error:t,options:e})}}}async function gR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sm("Browser returned unexpected credential type",t)}:{data:null,error:new sm("Empty credential response",t)}}catch(t){return{data:null,error:sR({error:t,options:e})}}}const mR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function lm(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const s=r[a];t(s)?r[a]=lm(s,o):r[a]=lm(o)}else r[a]=o}return r}function yR(e,t){return lm(mR,e,t||{})}function AR(e,t){return lm(vR,e,t||{})}class wR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:s};const l=i??uR.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=yR(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:c,error:d}=await pR({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=AR(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:c,error:d}=await gR(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return vt(o)?{data:null,error:o}:{data:null,error:new uu("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Uh("rpId is required for WebAuthn authentication")};try{if(!C4())return{data:null,error:new uu("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return vt(o)?{data:null,error:o}:{data:null,error:new uu("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Uh("rpId is required for WebAuthn registration")};try{if(!C4())return{data:null,error:new uu("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return vt(o)?{data:null,error:o}:{data:null,error:new uu("Unexpected error in register",o)}}}}nR();const bR={url:v7,storageKey:y7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function S4(e,t,n){return await n()}const Ac={};class zh{get jwks(){var t,n;return(n=(t=Ac[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ac[this.storageKey]=Object.assign(Object.assign({},Ac[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ac[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ac[this.storageKey]=Object.assign(Object.assign({},Ac[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},bR),t);if(this.storageKey=a.storageKey,this.instanceID=(n=zh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,zh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ei()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Z7({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=dI(a.fetch),this.lock=a.lock||S4,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:ei()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=tR:this.lock=S4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:cI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_4(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=_4(this.memoryStorage)),ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(ei()&&(n=O7(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ei()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_7(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return vt(n)?this._returnResult({error:n}):this._returnResult({error:new uu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:to}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(vt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:c,password:d,options:h}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await mc(this.storage,this.storageKey)),a=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:v},xform:to})}else if("phone"in t){const{phone:c,password:d,options:h}=t;a=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:to})}else throw new Eg("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(vt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:s}=t;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:E4})}else if("phone"in t){const{phone:a,password:o,options:s}=t;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:E4})}else throw new Eg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new gc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,s,l,u,c,d,h;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:y,wallet:A,statement:g,options:p}=t;let w;if(ei())if(typeof A=="object")w=A;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")w=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=A}const x=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),C=await w.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=hI(C[0]);let N=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const R=await w.request({method:"eth_chainId"});N=rR(R)}const I={domain:x.host,address:D,statement:g,uri:x.href,version:"1",chainId:N,nonce:(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=aR(I),v=await w.request({method:"personal_sign",params:[iR(f),D]})}try{const{data:y,error:A}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:to});if(A)throw A;if(!y||!y.session||!y.user){const g=new gc;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:A})}catch(y){if(vt(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var n,r,i,a,o,s,l,u,c,d,h,f;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:A,wallet:g,statement:p,options:w}=t;let x;if(ei())if(typeof g=="object")x=g;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))x=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const C=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const D=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),p?{statement:p}:null));let N;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")N=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)N=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${C.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const D=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=D}}try{const{data:A,error:g}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:vu(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:to});if(g)throw g;if(!A||!A.session||!A.user){const p=new gc;return this._returnResult({data:{user:null,session:null},error:p})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:g})}catch(A){if(vt(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(t){const n=await Vl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await It(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:to});if(await qs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new gc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(vt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,s=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:to}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new gc;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await mc(this.storage,this.storageKey));const{error:d}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:c}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Eg("You must provide either an email or phone number.")}catch(s){if(vt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await It(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:to});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(vt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await mc(this.storage,this.storageKey));const u=await It(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:Y7});return!((a=u.data)===null||a===void 0)&&a.url&&ei()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(vt(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new oa;const{error:i}=await It(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(vt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await It(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:s}=await It(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new Eg("You must provide either an email or phone number and a type")}catch(n){if(vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Vl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Tv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Vl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Dv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=$7(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:al}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new oa}:await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:al})})}catch(n){if(vt(n))return k7(n)&&(await this._removeSession(),await qs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new oa;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await mc(this.storage,this.storageKey));const{data:u,error:c}=await It(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:al});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(vt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new oa;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=jv(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(vt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:s}=n;if(s)throw s;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new oa;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!ei())throw new kg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new kg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new m4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new m4("No code detected.");const{data:p,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=t;if(!a||!s||!o||!u)throw new kg("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=Bc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:y,error:A}=await this._getUser(a);if(A)throw A;const g={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(r){if(vt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Vl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(E7(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await qs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=T7(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await mc(this.storage,this.storageKey,!0));try{return await It(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(vt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,u,c;const{data:d,error:h}=a;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await It(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return ei()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(vt(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:s,token:l,access_token:u,nonce:c}=t,d=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:to}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new gc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(i){if(vt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await It(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await L7(async i=>(i>0&&await D7(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await It(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:to})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Ov(a)&&Date.now()+o-r<Bc})}catch(r){if(this._debug(n,"error",r),vt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ei()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Vl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Vl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Tc(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Dv()}else if(i&&!i.user&&!i.user){const o=await Vl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await qs(this.storage,this.storageKey+"-user"),await Tc(this.storage,this.storageKey,i)):i.user=Dv()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Tv;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Tv}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ov(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new oa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xm;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new oa;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),vt(a)){const o={data:null,error:a};return Ov(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Tc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=b4(i);await Tc(this.storage,this.storageKey,a)}else{const i=b4(n);await Tc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await qs(this.storage,this.storageKey),await qs(this.storage,this.storageKey+"-code-verifier"),await qs(this.storage,this.storageKey+"-user"),this.userStorage&&await qs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ei()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Bc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bc}ms, refresh threshold is ${zA} ticks`),i<=zA&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ei()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await mc(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await It(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await It(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fR(t.webauthn.credential_response):hR(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await It(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await It(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:cR(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:dR(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=jv(r.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await It(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new oa})})}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new oa});const o=await It(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&ei()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new oa});const o=await It(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&ei()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await It(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new oa})})}catch(t){if(vt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await It(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new oa})})}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+b7>i)return r;const{data:a,error:o}=await It(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});r=f.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=jv(r);n!=null&&n.allowExpired||G7(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:a,header:i,signature:o},error:null}}const c=Q7(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,P7(`${s}.${l}`)))throw new QA("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}}}zh.nextInstanceID={};const xR=zh;class ER extends xR{constructor(t){super(t)}}class kR{constructor(t,n,r){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const s=m7(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:l7,realtime:c7,auth:Object.assign(Object.assign({},u7),{storageKey:l}),global:s7},c=g7(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=h7(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new cL(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new i7(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new sL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u,throwOnError:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ER({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new SL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _R=(e,t,n)=>new kR(e,t,n);function CR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}CR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SR="https://ccgiozknvlknbrkzfcdx.supabase.co",NR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjZ2lvemtudmxrbmJya3pmY2R4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NTY3NTMsImV4cCI6MjA3ODQzMjc1M30.lmmuGnynbY_n_4UlsrGw5ofRd6p9QLKCcrfHf7itEg8",ln=_R(SR,NR),IR={success:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),error:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),info:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},PR={success:"bg-green-50 border-green-200 dark:bg-green-900/50 dark:border-green-700 text-green-800 dark:text-green-200",error:"bg-red-50 border-red-200 dark:bg-red-900/50 dark:border-red-700 text-red-800 dark:text-red-200",info:"bg-blue-50 border-blue-200 dark:bg-blue-900/50 dark:border-blue-700 text-blue-800 dark:text-blue-200"},BR=({toast:e,onDismiss:t})=>{const[n,r]=ie.useState(!1);ie.useEffect(()=>{const o=setTimeout(()=>{r(!0),setTimeout(()=>t(e.id),300)},5e3);return()=>clearTimeout(o)},[e.id,t]);const i=()=>{r(!0),setTimeout(()=>t(e.id),300)},a=n?"animate-toast-out":"animate-toast-in";return b.jsxs("div",{role:"alert",className:`w-full p-4 rounded-lg shadow-lg border flex items-start gap-4 ${PR[e.type]} ${a}`,children:[b.jsx("div",{className:"flex-shrink-0",children:IR[e.type]}),b.jsx("div",{className:"flex-1 text-sm font-medium",children:e.message}),b.jsx("button",{onClick:i,className:"p-1 rounded-md -m-1 hover:bg-black/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-current","aria-label":"Dismiss",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},TR=({toasts:e,onDismiss:t})=>b.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-3 w-full max-w-sm","aria-live":"assertive",children:e.map(n=>b.jsx(BR,{toast:n,onDismiss:t},n.id))}),gI=ie.createContext(void 0),OR=({children:e})=>{const[t,n]=ie.useState([]),[r,i]=ie.useState(null);ie.useEffect(()=>{const s=document.getElementById("portal-root");s&&i(s)},[]);const a=ie.useCallback((s,l="info")=>{const u=Date.now().toString()+Math.random().toString();n(c=>[...c,{id:u,message:s,type:l}])},[]),o=ie.useCallback(s=>{n(l=>l.filter(u=>u.id!==s))},[]);return b.jsxs(gI.Provider,{value:{addToast:a},children:[e,r&&Yw.createPortal(b.jsx(TR,{toasts:t,onDismiss:o}),r)]})},Zm=()=>{const e=ie.useContext(gI);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},jR=({focusState:e,emailProgress:t,typingCounter:n,isPasswordVisible:r=!1})=>{const i=()=>e==="email"?`rotate(${Math.max(-8,Math.min(8,t*16-8))}deg)`:"rotate(0deg)",a=()=>e==="password"?"translate(0px, 5px)":e==="email"?`translate(${n%2===0?-1.5:1.5}px, 5px)`:"translate(0px, 0px)",o=()=>e==="password"?r?"translateY(15px)":"translateY(0px)":"translateY(100px)";return b.jsxs("svg",{width:"140",height:"140",viewBox:"0 0 100 100",className:"mx-auto -mb-6",style:{zIndex:10,position:"relative",overflow:"hidden"},"aria-hidden":"true",children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{id:"furGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[b.jsx("stop",{offset:"0%",stopColor:"#D97706"})," ",b.jsx("stop",{offset:"100%",stopColor:"#92400E"})," "]}),b.jsxs("linearGradient",{id:"skinGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[b.jsx("stop",{offset:"0%",stopColor:"#FEF3C7"})," ",b.jsx("stop",{offset:"100%",stopColor:"#FDE68A"})," "]}),b.jsxs("radialGradient",{id:"eyeShine",cx:"30%",cy:"30%",r:"50%",children:[b.jsx("stop",{offset:"0%",stopColor:"white",stopOpacity:"0.9"}),b.jsx("stop",{offset:"100%",stopColor:"white",stopOpacity:"0"})]}),b.jsxs("filter",{id:"softShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[b.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"3"}),b.jsx("feOffset",{dx:"0",dy:"4",result:"offsetblur"}),b.jsx("feComponentTransfer",{children:b.jsx("feFuncA",{type:"linear",slope:"0.2"})}),b.jsxs("feMerge",{children:[b.jsx("feMergeNode",{}),b.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),b.jsxs("g",{id:"head-group",style:{transition:"transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",transform:i(),transformOrigin:"50px 55px"},filter:"url(#softShadow)",children:[b.jsx("circle",{cx:"18",cy:"50",r:"12",fill:"url(#furGradient)"}),b.jsx("circle",{cx:"82",cy:"50",r:"12",fill:"url(#furGradient)"}),b.jsx("ellipse",{cx:"50",cy:"55",rx:"38",ry:"34",fill:"url(#furGradient)"}),b.jsx("path",{d:"M50 35 C 35 35, 25 45, 25 60 C 25 75, 35 85, 50 85 C 65 85, 75 75, 75 60 C 75 45, 65 35, 50 35 Z",fill:"url(#skinGradient)"}),b.jsx("circle",{cx:"18",cy:"50",r:"7",fill:"#FDE68A",opacity:"0.8"}),b.jsx("circle",{cx:"82",cy:"50",r:"7",fill:"#FDE68A",opacity:"0.8"}),b.jsx("path",{d:"M46 22 Q 50 15, 54 22",stroke:"url(#furGradient)",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),b.jsxs("g",{id:"eyes",transform:"translate(0, 2)",children:[b.jsx("circle",{cx:"36",cy:"52",r:"9",fill:"white"}),b.jsx("circle",{cx:"64",cy:"52",r:"9",fill:"white"}),b.jsxs("g",{style:{transition:"transform 0.1s ease-out",transform:a()},children:[b.jsx("circle",{cx:"36",cy:"52",r:"4",fill:"#1E293B"}),b.jsx("circle",{cx:"64",cy:"52",r:"4",fill:"#1E293B"}),b.jsx("circle",{cx:"38",cy:"50",r:"2",fill:"white",opacity:"0.6"}),b.jsx("circle",{cx:"66",cy:"50",r:"2",fill:"white",opacity:"0.6"})]})]}),b.jsx("ellipse",{cx:"50",cy:"68",rx:"5",ry:"3",fill:"#1E293B",opacity:"0.8"}),b.jsx("path",{d:"M42 76 Q 50 82, 58 76",stroke:"#4B5563",strokeWidth:"2",fill:"transparent",strokeLinecap:"round",style:{transition:"d 0.3s"}})]}),b.jsxs("g",{id:"hands-group",style:{transition:"transform 0.5s cubic-bezier(0.25, 1, 0.5, 1)",transform:o()},filter:"url(#softShadow)",children:[b.jsx("path",{d:"M10 100 L 15 60 Q 15 45, 30 45 Q 45 45, 45 60 L 45 100 Z",fill:"url(#furGradient)",stroke:"#78350F",strokeWidth:"1"}),b.jsx("path",{d:"M30 45 L 30 55",stroke:"#78350F",strokeWidth:"2",opacity:"0.3"}),b.jsx("path",{d:"M37 47 L 37 55",stroke:"#78350F",strokeWidth:"2",opacity:"0.3"}),b.jsx("path",{d:"M23 47 L 23 55",stroke:"#78350F",strokeWidth:"2",opacity:"0.3"}),b.jsx("path",{d:"M90 100 L 85 60 Q 85 45, 70 45 Q 55 45, 55 60 L 55 100 Z",fill:"url(#furGradient)",stroke:"#78350F",strokeWidth:"1"}),b.jsx("path",{d:"M70 45 L 70 55",stroke:"#78350F",strokeWidth:"2",opacity:"0.3"}),b.jsx("path",{d:"M63 47 L 63 55",stroke:"#78350F",strokeWidth:"2",opacity:"0.3"}),b.jsx("path",{d:"M77 47 L 77 55",stroke:"#78350F",strokeWidth:"2",opacity:"0.3"})]})]})},DR=()=>{const e=Ns(),[t,n]=ie.useState(!1),[r,i]=ie.useState(""),[a,o]=ie.useState(""),[s,l]=ie.useState(!1),[u,c]=ie.useState(null),{addToast:d}=Zm(),[h,f]=ie.useState("idle"),[v,y]=ie.useState(0),[A,g]=ie.useState(!1),p=()=>f("email"),w=()=>f("password"),x=()=>f("idle"),C=()=>{y(j=>j+1)},D=ie.useMemo(()=>{if(!a)return 0;let j=0;return a.length>=6&&j++,a.length>=10&&j++,/[A-Z]/.test(a)&&j++,(/[0-9]/.test(a)||/[^A-Za-z0-9]/.test(a))&&j++,j},[a]),N=()=>{switch(D){case 0:return"Too Short";case 1:return"Weak";case 2:return"Fair";case 3:return"Good";case 4:return"Strong";default:return""}},I=()=>{switch(D){case 0:case 1:return"bg-red-500";case 2:return"bg-yellow-500";case 3:return"bg-blue-500";case 4:return"bg-green-500";default:return"bg-slate-200"}},R=async()=>{const{error:j}=await ln.auth.signUp({email:r,password:a,options:{emailRedirectTo:"https://aklabx.github.io/diary/"}});if(j)throw j;d("Check your email for the confirmation link!","success")},T=async()=>{const{error:j}=await ln.auth.signInWithPassword({email:r,password:a});if(j)throw j},k=async()=>{n(!0),c(null);try{const{error:j}=await ln.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://aklabx.github.io/diary/"}});if(j)throw j}catch(j){c(j.error_description||j.message),n(!1)}},_=async j=>{j.preventDefault(),n(!0),c(null);try{s?await R():await T()}catch(z){c(z.error_description||z.message)}finally{n(!1)}},O=Math.min(r.length/30,1);return b.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#FBF8F3] dark:bg-slate-900 animate-fade-in relative p-4",children:[b.jsxs("button",{onClick:()=>e("/"),className:"absolute top-6 left-6 flex items-center gap-2 text-slate-500 hover:text-indigo-600 transition-colors font-medium",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Home"]}),b.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700",children:[b.jsx(jR,{focusState:h,emailProgress:O,typingCounter:v,isPasswordVisible:A}),b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Diary"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:s?"Create a secure, encrypted account.":"Sign in to access your journal."})]}),u&&b.jsx("p",{className:"text-center text-red-500 bg-red-50 dark:bg-red-900/20 dark:text-red-300 p-3 rounded-md",children:u}),b.jsxs("form",{className:"space-y-6",onSubmit:_,children:[b.jsx("input",{type:"email",placeholder:"Your email",value:r,required:!0,onChange:j=>{i(j.target.value),C()},onFocus:p,onBlur:x,onKeyDown:C,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200 transition-all",autoComplete:"username"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:A?"text":"password",placeholder:"Your password (min 6 characters)",value:a,required:!0,minLength:6,onChange:j=>{o(j.target.value),C()},onFocus:w,onBlur:x,onKeyDown:C,className:"w-full px-4 py-3 pr-12 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200 transition-all",autoComplete:s?"new-password":"current-password"}),b.jsx("button",{type:"button",onClick:()=>g(!A),className:"absolute inset-y-0 right-0 flex items-center px-4 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 transition-colors",tabIndex:-1,"aria-label":A?"Hide password":"Show password",children:A?b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),b.jsx("path",{fillRule:"evenodd",d:"M.458 10C3.732 4.943 9.522 3 10 3s6.268 1.943 9.542 7c-3.274 5.057-9.042 7-9.542 7S3.732 15.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.27 8.138 15.522 6 10 6c-1.55 0-2.998.48-4.257 1.254l-1.74-1.741zM10 12a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}),b.jsx("path",{d:"M2.042 10c.832 2.345 3.16 4 5.918 4 1.55 0 2.998-.48 4.257-1.254l-1.473-1.473A3.999 3.999 0 0110 14c-2.209 0-4-1.791-4-4a3.999 3.999 0 011.21-2.828L5.293 5.293A10.014 10.014 0 00.458 10c1.274 1.862 4.022 4 9.542 4 1.105 0 2.158-.149 3.168-.43L10.373 12.16A4.003 4.003 0 0110 12z"})]})})]}),s&&a.length>0&&b.jsxs("div",{className:"space-y-2 animate-fade-in",children:[b.jsxs("div",{className:"flex gap-1 h-1.5 w-full",children:[b.jsx("div",{className:`h-full rounded-full flex-1 transition-all duration-300 ${D>=1?I():"bg-slate-100 dark:bg-slate-700"}`}),b.jsx("div",{className:`h-full rounded-full flex-1 transition-all duration-300 ${D>=2?I():"bg-slate-100 dark:bg-slate-700"}`}),b.jsx("div",{className:`h-full rounded-full flex-1 transition-all duration-300 ${D>=3?I():"bg-slate-100 dark:bg-slate-700"}`}),b.jsx("div",{className:`h-full rounded-full flex-1 transition-all duration-300 ${D>=4?I():"bg-slate-100 dark:bg-slate-700"}`})]}),b.jsxs("div",{className:"flex justify-between text-xs",children:[b.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Strength"}),b.jsx("span",{className:`font-medium ${D<2?"text-red-500":D<4?"text-blue-500":"text-green-500"}`,children:N()})]})]}),b.jsx("button",{type:"submit",disabled:t,className:"w-full px-4 py-3 font-bold text-white bg-indigo-500 rounded-xl hover:bg-indigo-600 disabled:bg-indigo-300 transition-all transform active:scale-95 shadow-lg shadow-indigo-500/30",children:t?"Loading...":s?"Sign Up":"Sign In"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-600"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-.white dark:bg-slate-800 text-slate-500 dark:text-slate-400",children:"Or continue with"})})]}),b.jsxs("button",{type:"button",onClick:k,disabled:t,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-slate-200 rounded-xl hover:bg-slate-50 disabled:bg-slate-50 dark:border-slate-600 dark:hover:bg-slate-700 dark:disabled:bg-slate-700 transition-colors",children:[b.jsxs("svg",{className:"w-5 h-5","aria-hidden":"true",viewBox:"0 0 24 24",children:[b.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),b.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.8 0-5.2-1.89-6.06-4.44H2.36v2.84C4.01 20.44 7.7 23 12 23z",fill:"#34A853"}),b.jsx("path",{d:"M5.94 14.06c-.18-.54-.28-1.11-.28-1.69s.1-1.15.28-1.69V7.84H2.36C1.5 9.49 1 11.18 1 12.87s.5 3.38 1.36 4.96l3.58-2.77z",fill:"#FBBC05"}),b.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 1.33 14.97 0 12 0 7.7 0 4.01 2.56 2.36 6.21l3.58 2.84C6.8 4.73 9.2 2.84 12 5.38z",fill:"#EA4335"})]}),b.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Sign in with Google"})]}),b.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[s?"Already have an account? ":"Don't have an account? ",b.jsx("button",{onClick:()=>{l(!s),c(null)},className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:s?"Sign In":"Sign Up"})]})]})]})},LR=()=>{const e=Ns(),[t,n]=ie.useState(0),r=["Thoughts","Secrets","Memories","Dreams"],[i,a]=ie.useState(0),[o,s]=ie.useState(""),[l,u]=ie.useState(!1),[c,d]=ie.useState(null);ie.useEffect(()=>{const v=y=>{console.log("beforeinstallprompt fired",y),y.preventDefault(),d(y)};return window.addEventListener("beforeinstallprompt",v),()=>window.removeEventListener("beforeinstallprompt",v)},[]);const h=async()=>{if(!c){console.log("No install prompt available");return}c.prompt();const{outcome:v}=await c.userChoice;console.log(`User response to the install prompt: ${v}`),d(null)};ie.useEffect(()=>{const v=r[i],A=setTimeout(()=>{if(!l&&o===v)setTimeout(()=>u(!0),2e3);else if(l&&o==="")u(!1),a(g=>(g+1)%r.length);else{const g=l?v.substring(0,o.length-1):v.substring(0,o.length+1);s(g)}},l?50:100);return()=>clearTimeout(A)},[o,l,i]),ie.useEffect(()=>{const v=()=>{n(0),setTimeout(()=>n(1),2500),setTimeout(()=>n(2),4e3),setTimeout(()=>n(0),6e3)};v();const y=setInterval(v,6e3);return()=>clearInterval(y)},[]);const f=()=>{e("/login")};return b.jsxs("div",{className:"min-h-screen bg-[#FBF8F3] text-slate-800 font-sans overflow-x-hidden selection:bg-indigo-200",children:[b.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] rounded-full bg-indigo-200/30 blur-[100px]"}),b.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[60%] h-[60%] rounded-full bg-orange-100/50 blur-[100px]"})]}),b.jsxs("nav",{className:"relative z-20 flex items-center justify-between px-6 py-6 max-w-6xl mx-auto",children:[b.jsxs("div",{className:"text-2xl font-bold font-serif tracking-tight flex items-center gap-2 text-slate-800",children:[b.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-lg shadow-indigo-900/5 border border-slate-100",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),b.jsx("span",{children:"Diary"})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[c&&b.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-2 sm:px-5 sm:py-2.5 rounded-full text-indigo-700 font-semibold bg-white shadow-sm border border-indigo-100 hover:bg-indigo-50 transition-all hover:scale-105 text-sm sm:text-base",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),b.jsx("span",{className:"sm:hidden",children:"Install"}),b.jsx("span",{className:"hidden sm:inline",children:"Install App"})]}),b.jsx("button",{onClick:f,className:"px-8 py-2.5 rounded-full text-white font-semibold bg-gradient-to-br from-indigo-400 to-purple-600 shadow-[inset_0_2px_4px_rgba(255,255,255,0.3),inset_0_-2px_4px_rgba(0,0,0,0.2),0_8px_20px_-6px_rgba(124,58,237,0.5)] hover:scale-105 transition-transform border border-indigo-300/50",children:"Log In"})]})]}),b.jsxs("main",{className:"relative z-10 w-full flex flex-col items-center",children:[b.jsxs("section",{className:"max-w-6xl mx-auto px-6 pb-20 pt-10 w-full flex flex-col items-center",children:[b.jsxs("div",{className:"w-full flex justify-center perspective-1000 py-12 sm:py-16 relative",children:[b.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 w-56 h-8 bg-black/20 blur-2xl rounded-[100%]"}),b.jsxs("div",{className:"relative w-[280px] h-[580px] bg-slate-900 rounded-[3.5rem] border-[6px] border-slate-950 shadow-[0_0_0_1.5px_rgba(255,255,255,0.15),0_50px_100px_-20px_rgba(0,0,0,0.5)] animate-float-phone preserve-3d",children:[b.jsx("div",{className:"absolute inset-0 rounded-[3.2rem] bg-gradient-to-tr from-white/10 via-transparent to-transparent pointer-events-none z-20"}),b.jsx("div",{className:"absolute top-24 -right-[7px] w-[7px] h-16 bg-slate-800 rounded-r-md border-l border-slate-950 shadow-sm"}),b.jsx("div",{className:"absolute top-24 -left-[7px] w-[7px] h-10 bg-slate-800 rounded-l-md border-r border-slate-950 shadow-sm"}),b.jsx("div",{className:"absolute top-36 -left-[7px] w-[7px] h-10 bg-slate-800 rounded-l-md border-r border-slate-950 shadow-sm"}),b.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1/3 h-7 bg-black rounded-b-2xl z-30 flex justify-center items-center",children:b.jsx("div",{className:"w-12 h-1.5 bg-slate-800/50 rounded-full"})}),b.jsxs("div",{className:"absolute inset-[6px] bg-[#FBF8F3] rounded-[3.1rem] overflow-hidden flex flex-col shadow-inner",children:[b.jsxs("div",{className:"h-20 bg-white flex items-end pb-4 px-6 justify-between border-b border-slate-100",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 animate-pulse"}),b.jsx("div",{className:"h-4 w-24 bg-slate-100 rounded"})]}),b.jsxs("div",{className:"flex-1 p-5 space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"h-6 w-3/4 bg-slate-200/50 rounded"}),b.jsx("div",{className:"h-3 w-1/2 bg-slate-200/30 rounded"})]}),b.jsxs("div",{className:"p-5 rounded-2xl bg-white shadow-sm border border-slate-100 min-h-[220px] font-serif text-lg relative overflow-hidden flex flex-col",children:[b.jsx("div",{className:"text-xs font-sans uppercase tracking-wider text-slate-300 mb-4",children:"Nov 18, 2025"}),t===0&&b.jsxs("div",{className:"text-slate-700 leading-relaxed",children:["My deepest secret is",b.jsx("span",{className:"typing-cursor border-indigo-500",children:"|"})]}),t===1&&b.jsx("div",{className:"break-all animate-matrix text-emerald-600 font-mono text-xs leading-relaxed opacity-80",children:"0x9F3a2B1c8D4e5F6a7B8c9D0e1F2a3B4c5D6e7F8a9B0c1D2e3F4a5B6c7D8e9F0a1B2c3D4e5F6a7B8c9D0e1F2a3B4c5D6e7F8a9B0c1D2e3F4a5B6c7D8e9F0a1B2c3D4e5F6a7B8c9D0e1F2a3B4c5D6e7F8a9B0c1D2e3F4a5B6c7D8e9F0a1B2c3D4e5F6a7B8c9D0e1F2a3B4c5D6e7F8a9B0c1D2e3F4a5B6c7D8e9F0a1B2c3D4e5F6a7B8c9D0e1F2a3B4c5D6e7F8a9B0c1D2e3F4a5B6c7D8e9F0a1B2c3D4e5F6a7B8c9D0e1F2a3B4c5D6e7F8a9B0c1D2e3F4a5B6c7D8e9F0a1B2c3D4e5F6a7B8c9D0e1F2a3B4c5D6e7F8a9B0c1D2e3F4a5B6c7D8e9F0a1B2c3D4e5F6a7B8c9D0e1F2a3B4c5D6e7F8a9B0c1D2e3F4a5B6c7D8e9F0a1B2c3D4e5F6a7B8c9D0e1F2a3B4c5D6e7F8a9B0c1D2e3F4a5B6c7D8e9F0a1B2c3D4e"}),t===2&&b.jsxs("div",{className:"flex flex-1 items-center justify-center flex-col gap-3",children:[b.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),b.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:"Secure"})]})]})]}),b.jsx("div",{className:"h-6 w-full flex justify-center items-start pt-1",children:b.jsx("div",{className:"w-1/3 h-1 bg-slate-300 rounded-full"})})]})]})]}),b.jsxs("div",{className:"text-center space-y-8 max-w-2xl",children:[b.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-bold font-serif leading-[1.1] tracking-tight text-slate-900",children:["Your ",b.jsx("span",{className:"text-indigo-600 inline-block min-w-[200px] border-b-4 border-indigo-200",children:o}),b.jsx("br",{}),"Encrypted. Forever."]}),b.jsxs("p",{className:"text-lg sm:text-xl text-slate-500 leading-relaxed max-w-lg mx-auto",children:["Write freely in a beautiful, private space. Secured with military-grade encryption that only ",b.jsx("strong",{children:"you"})," hold the keys to."]}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 justify-center pt-4",children:[b.jsxs("button",{onClick:f,className:"px-8 py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-bold text-lg transition-all hover:scale-105 hover:-translate-y-1 shadow-xl shadow-indigo-200 flex items-center gap-2",children:["Get Started for Free",b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),c&&b.jsxs("button",{onClick:h,className:"px-8 py-4 bg-white text-indigo-700 border-2 border-indigo-100 rounded-2xl font-bold text-lg transition-all hover:scale-105 hover:-translate-y-1 shadow-lg hover:shadow-xl flex items-center gap-2",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{d:"M10.75 2.75a.75.75 0 00-1.5 0v8.614L6.295 8.235a.75.75 0 10-1.09 1.03l4.25 4.5a.75.75 0 001.09 0l4.25-4.5a.75.75 0 00-1.09-1.03l-2.965 3.129V2.75z"}),b.jsx("path",{d:"M3.5 12.75a.75.75 0 00-1.5 0v2.5A2.75 2.75 0 004.75 18h10.5A2.75 2.75 0 0018 15.25v-2.5a.75.75 0 00-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5z"})]}),"Download App"]})]}),b.jsxs("div",{className:"pt-10 flex flex-wrap justify-center gap-x-8 gap-y-4 opacity-60 text-slate-400 font-medium text-sm",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"End-to-End Encrypted"]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Biometric Lock"]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Local First"]})]})]})]}),b.jsx("section",{className:"w-full bg-white py-24 border-y border-slate-100",children:b.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("h2",{className:"text-3xl font-bold font-serif text-slate-900 mb-4",children:"How Your Privacy is Guaranteed"}),b.jsx("p",{className:"text-slate-500 max-w-lg mx-auto",children:"We don't rely on trust. We rely on math. Here is the lifecycle of your diary data."})]}),b.jsxs("div",{className:"relative border-l-2 border-indigo-100 ml-6 md:ml-12 space-y-16",children:[b.jsxs("div",{className:"relative pl-8 md:pl-12",children:[b.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-indigo-500 shadow-lg shadow-indigo-200 ring-4 ring-white"}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-8",children:[b.jsx("div",{className:"w-16 h-16 rounded-2xl bg-orange-50 flex items-center justify-center text-orange-500 flex-shrink-0",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"1. Local Key Generation"}),b.jsx("p",{className:"text-slate-600 leading-relaxed",children:"When you create your account, your browser generates a unique 256-bit encryption key. This process happens entirely on your device. We never see this key."})]})]})]}),b.jsxs("div",{className:"relative pl-8 md:pl-12",children:[b.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-white border-2 border-indigo-300"}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-8",children:[b.jsx("div",{className:"w-16 h-16 rounded-2xl bg-indigo-50 flex items-center justify-center text-indigo-500 flex-shrink-0",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4"})})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"2. The Biometric Vault"}),b.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Your key is wrapped using your device's secure hardware (FaceID or TouchID). This allows you to unlock your diary instantly without typing a password, while keeping the key mathematically secure."})]})]})]}),b.jsxs("div",{className:"relative pl-8 md:pl-12",children:[b.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-white border-2 border-indigo-300"}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-8",children:[b.jsx("div",{className:"w-16 h-16 rounded-2xl bg-emerald-50 flex items-center justify-center text-emerald-500 flex-shrink-0",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"3. Zero-Knowledge Sync"}),b.jsxs("p",{className:"text-slate-600 leading-relaxed",children:["When you save an entry, it is encrypted ",b.jsx("i",{children:"before"}),' it leaves your browser. Our servers only receive a scrambled "blob" of data. We cannot decrypt it even if compelled by law.']})]})]})]})]})]})}),b.jsxs("section",{className:"max-w-6xl mx-auto px-6 py-24",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("h2",{className:"text-3xl font-bold font-serif text-slate-900 mb-4",children:"More Than Just Text"}),b.jsx("p",{className:"text-slate-500",children:"A complete suite of tools to capture your life in high fidelity."})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-slate-100",children:[b.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-2xl flex items-center justify-center text-indigo-600 mb-6",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-3",children:"Rich Editor"}),b.jsx("p",{className:"text-slate-500 leading-relaxed",children:"Format your thoughts with a beautiful, distraction-free editor. Supports custom fonts, lists, and dynamic layouts."})]}),b.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-slate-100",children:[b.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-2xl flex items-center justify-center text-pink-600 mb-6",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-3",children:"Secure Media"}),b.jsx("p",{className:"text-slate-500 leading-relaxed",children:"Attach photos and images. They are encrypted with the same military-grade key as your text."})]}),b.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-slate-100",children:[b.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center text-purple-600 mb-6",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-3",children:"Voice Memos"}),b.jsx("p",{className:"text-slate-500 leading-relaxed",children:"Record encrypted audio notes for when typing feels like too much work. Stored securely in the cloud."})]}),b.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-slate-100",children:[b.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-2xl flex items-center justify-center text-yellow-600 mb-6",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-3",children:"Mood Tracking"}),b.jsx("p",{className:"text-slate-500 leading-relaxed",children:"Track your emotional journey over time. Filter entries by mood to see patterns in your life."})]}),b.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-slate-100",children:[b.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-2xl flex items-center justify-center text-blue-600 mb-6",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-3",children:"Smart Organization"}),b.jsx("p",{className:"text-slate-500 leading-relaxed",children:"Organize entries with tags, journals, and location data (weather). Find any memory instantly."})]}),b.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-slate-100",children:[b.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center text-slate-600 mb-6",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-3",children:"Total Ownership"}),b.jsx("p",{className:"text-slate-500 leading-relaxed",children:"Your data is yours. Export your entire diary history to JSON or ZIP at any time. No lock-in."})]})]})]}),b.jsxs("section",{className:"w-full bg-indigo-900 text-white py-20 mt-12 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white/5 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),b.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-indigo-500/30 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"}),b.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center relative z-10",children:[b.jsx("h2",{className:"text-4xl font-bold font-serif mb-6",children:"Ready to start writing?"}),b.jsx("p",{className:"text-indigo-200 text-lg mb-10 max-w-xl mx-auto",children:"Join thousands of others who have reclaimed their privacy. No credit card required."}),b.jsx("button",{onClick:f,className:"px-10 py-4 bg-white text-indigo-900 rounded-full font-bold text-lg hover:bg-indigo-50 transition-all hover:scale-105 shadow-xl",children:"Create Your Sanctuary"})]})]})]})]})},RR=()=>b.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 font-serif text-slate-700 dark:text-slate-300",children:b.jsxs("div",{className:"max-w-4xl mx-auto p-8 sm:p-12",children:[b.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100 mb-4",children:"Privacy Policy"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Last updated: October 26, 2024"}),b.jsxs("article",{className:"prose prose-lg dark:prose-invert mt-8 max-w-none",children:[b.jsx("p",{children:"Welcome to Diary. Your privacy is critically important to us. This Privacy Policy outlines how your personal information is handled in our application."}),b.jsx("h2",{children:"The Core Principle: End-to-End Encryption"}),b.jsxs("p",{children:["The single most important thing to know about your privacy in this application is that ",b.jsx("strong",{children:"we cannot read your diary entries."})," All your entries are end-to-end encrypted on your device before they are sent to our servers for storage. This means:"]}),b.jsxs("ul",{children:[b.jsx("li",{children:"Your diary entries (titles and content) are encrypted using a key derived from a password only you know."}),b.jsx("li",{children:"This password is never sent to our servers or stored anywhere."}),b.jsx("li",{children:"The encryption and decryption happens exclusively on your device (in your browser)."}),b.jsx("li",{children:"Because we do not have your key, we cannot decrypt your data, and therefore cannot read it, share it, or provide it to any third party."})]}),b.jsx("h2",{children:"Information We Collect"}),b.jsx("p",{children:"We collect the absolute minimum information required to provide the service:"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Account Information:"})," We store your email address for authentication purposes, provided by you or through a third-party OAuth provider like Google."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Encryption Materials:"})," We store your salt and a key-check value. These are used to verify your password during login but cannot be used to derive your password or encryption key."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Encrypted Diary Data:"})," Your diary entries are stored on our servers in an encrypted, unreadable format. We also store the associated Initialization Vector (IV), which is necessary for decryption but does not compromise security."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Metadata:"})," To provide features like the calendar view and search, we store non-sensitive metadata such as entry creation dates, tags, and moods in an unencrypted format."]})]}),b.jsx("h2",{children:"How We Use Your Information ?"}),b.jsx("p",{children:"The information we collect is used solely to:"}),b.jsxs("ul",{children:[b.jsx("li",{children:"Provide, operate, and maintain the Diary service."}),b.jsx("li",{children:"Authenticate your access to your account."}),b.jsx("li",{children:"Securely store and retrieve your encrypted data."})]}),b.jsx("p",{children:"We do not analyze, profile, or sell your data. We cannot read it, so we cannot use it for advertising or any other purpose."}),b.jsx("h2",{children:"Third-Party Services"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Supabase:"})," We use Supabase for our backend, which includes database storage and authentication. All data stored in the database is subject to the security principles described above."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"OpenWeatherMap:"})," If you grant location access, we use your coordinates to fetch weather data from OpenWeatherMap. Your precise location is not stored by us."]})]}),b.jsx("h2",{children:"Your Rights"}),b.jsx("p",{children:"You have full control over your data."}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Data Export:"})," You can export all of your diary entries in a human-readable JSON format at any time from the Profile & Settings page."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Data Deletion:"})," You can delete individual entries or your entire account. Deleting your account will permanently remove all associated data from our servers."]})]}),b.jsx("h2",{children:"Data Security"}),b.jsxs("p",{children:["We implement industry-standard security measures, including robust Row Level Security policies on our database, to prevent unauthorized access to your account metadata and encrypted data. However, the ultimate security of your diary rests on the strength and secrecy of your password. ",b.jsx("strong",{children:"If you lose your password, your data is irrecoverable, as we have no way to decrypt it for you."})]}),b.jsx("h2",{children:"Changes to This Privacy Policy"}),b.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page. You are advised to review this Privacy Policy periodically for any changes."}),b.jsx("h2",{children:"Contact Us"}),b.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us."})]})]})}),FR=()=>b.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 font-serif text-slate-700 dark:text-slate-300",children:b.jsxs("div",{className:"max-w-4xl mx-auto p-8 sm:p-12",children:[b.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100 mb-4",children:"Terms of Use"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Last updated: October 26, 2024"}),b.jsxs("article",{className:"prose prose-lg dark:prose-invert mt-8 max-w-none",children:[b.jsx("h2",{children:"1. Acceptance of Terms"}),b.jsx("p",{children:'By accessing or using the Diary application ("Service"), you agree to be bound by these Terms of Use ("Terms"). If you disagree with any part of the terms, then you may not access the Service.'}),b.jsx("h2",{children:"2. User Accounts and Security"}),b.jsx("p",{children:"To use the Service, you must create an account. You are responsible for safeguarding the password that you use to access the Service and for any activities or actions under your password."}),b.jsxs("p",{children:[b.jsx("strong",{children:"Crucially, our service is end-to-end encrypted. Your password is your key. We do not store your password and have no way to recover it. If you lose your password, you will permanently lose access to all of your data."})," You agree not to disclose your password to any third party. You must notify us immediately upon becoming aware of any breach of security or unauthorized use of your account."]}),b.jsx("h2",{children:"3. User Content"}),b.jsx("p",{children:'You retain full ownership of all the content, including text and metadata, that you create in your diary ("User Content"). We claim no ownership rights over your User Content.'}),b.jsx("p",{children:"You are solely responsible for the User Content that you post on or through the Service. You represent and warrant that the posting of your User Content on or through the Service does not violate the privacy rights, publicity rights, copyrights, contract rights, or any other rights of any person."}),b.jsx("h2",{children:"4. Prohibited Conduct"}),b.jsx("p",{children:"You agree not to use the Service for any unlawful purpose or to engage in any activity that is illegal, harmful, or otherwise objectionable. You may not use the Service to store or transmit any content that is infringing, libelous, or otherwise unlawful or tortious, or to store or transmit material in violation of third-party privacy rights."}),b.jsx("h2",{children:"5. Termination"}),b.jsx("p",{children:"We may terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms."}),b.jsx("p",{children:"Upon termination, your right to use the Service will immediately cease. If you wish to terminate your account, you may do so by signing out and deleting your account, which will result in the permanent deletion of your data."}),b.jsx("h2",{children:"6. Disclaimers"}),b.jsx("p",{children:'The Service is provided on an "AS IS" and "AS AVAILABLE" basis. The Service is provided without warranties of any kind, whether express or implied, including, but not limited to, implied warranties of merchantability, fitness for a particular purpose, non-infringement, or course of performance.'}),b.jsx("h2",{children:"7. Limitation of Liability"}),b.jsx("p",{children:"In no event shall Diary, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from (i) your access to or use of or inability to access or use the Service; (ii) any conduct or content of any third party on the Service; (iii) any content obtained from the Service; and (iv) unauthorized access, use or alteration of your transmissions or content, whether based on warranty, contract, tort (including negligence) or any other legal theory, whether or not we have been informed of the possibility of such damage, and even if a remedy set forth herein is found to have failed of its essential purpose."}),b.jsx("h2",{children:"8. Changes to Terms"}),b.jsx("p",{children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material we will try to provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion."}),b.jsx("h2",{children:"Contact Us"}),b.jsx("p",{children:"If you have any questions about these Terms, please contact us."})]})]})}),MR=()=>b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 font-sans",children:b.jsxs("div",{className:"text-center p-8",children:[b.jsx("h1",{className:"text-6xl font-bold text-indigo-600 mb-4",children:"404"}),b.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Page Not Found"}),b.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8 max-w-md mx-auto",children:"The page you are looking for doesn't exist or has been moved."}),b.jsx(Rh,{to:"/",className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full font-semibold transition-colors shadow-lg shadow-indigo-200 dark:shadow-none",children:"Go Back Home"})]})}),mI="DAILY_DIARY_KEY_CHECK_v1",Bu=e=>btoa(String.fromCharCode(...new Uint8Array(e))),Tu=e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0)).buffer,vI=new TextEncoder,UR=new TextDecoder,zR=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return Bu(e.buffer)},yI=async(e,t)=>{const n=vI.encode(e);let r=1e5,i=t;if(t.startsWith("v1:")){const s=t.split(":");if(s.length===3){const l=parseInt(s[1],10);isNaN(l)||(r=l,i=s[2])}}const a=Tu(i),o=await window.crypto.subtle.importKey("raw",n,{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:a,iterations:r,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])},db=async(e,t)=>{const n=window.crypto.getRandomValues(new Uint8Array(12)),r=vI.encode(t),i=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},e,r);return{iv:Bu(n.buffer),data:Bu(i)}},fb=async(e,t,n)=>{const r=Tu(n),i=Tu(t),a=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},e,i);return UR.decode(a)},HR=async(e,t)=>{const n=window.crypto.getRandomValues(new Uint8Array(12)),r=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},e,t);return{iv:Bu(n.buffer),data:r}},GR=async(e,t,n)=>{const r=Tu(n);return await window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},e,t)};async function QR(e,t){const{data:n,error:r}=await ln.from("profiles").select("*").eq("id",t).single();if(r||!n)return console.error("Profile not found for user:",t),null;const i=n;try{const a=await yI(e,i.salt);return await fb(a,i.key_check_value,i.key_check_iv)===mI?a:null}catch(a){return console.error("Key derivation or verification failed:",a),null}}const hb=async e=>{const t=await window.crypto.subtle.exportKey("raw",e);return Bu(t)},qR=async e=>{const t=Tu(e);return window.crypto.subtle.importKey("raw",t,{name:"AES-GCM"},!0,["encrypt","decrypt"])},AI=ie.createContext(void 0),$R=({children:e})=>{const[t,n]=ie.useState(null),r=ie.useCallback(()=>{n(null)},[]),i={key:t,setKey:n,deriveAndVerifyKey:QR,encrypt:db,decrypt:fb,encryptBinary:HR,decryptBinary:GR,lock:r};return b.jsx(AI.Provider,{value:i,children:e})},Fu=()=>{const e=ie.useContext(AI);if(e===void 0)throw new Error("useCrypto must be used within a CryptoProvider");return e},VR="227b57dcb9e272db9e362fee3a14b924";async function WR(e,t){const n=`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&appid=${VR}&units=metric`;try{const r=await fetch(n);if(!r.ok)throw new Error(`Weather API request failed with status ${r.status}`);const i=await r.json();return{temp:i.main.temp,description:i.weather[0].description,icon:i.weather[0].icon,location:i.name}}catch(r){return console.error("Could not fetch weather data:",r),null}}let KR={one:{},two:{},three:{},four:{}},YR={one:{},two:{},three:{}},JR={},XR=[];const qA={methods:KR,model:YR,compute:JR,hooks:XR},ZR=e=>Object.prototype.toString.call(e)==="[object Array]",eF={compute:function(e){const{world:t}=this,n=t.compute;return typeof e=="string"&&n.hasOwnProperty(e)?n[e](this):ZR(e)?e.forEach(r=>{t.compute.hasOwnProperty(r)?n[r](this):console.warn("no compute:",e)}):typeof e=="function"?e(this):console.warn("no compute:",e),this}},tF=function(e){return this.fullPointer.forEach((n,r)=>{let i=this.update([n]);e(i,r)}),this},nF=function(e,t){let r=this.fullPointer.map((a,o)=>{let s=this.update([a]),l=e(s,o);return l===void 0?this.none():l});if(r.length===0)return t||this.update([]);if(r[0]!==void 0&&(typeof r[0]=="string"||typeof r[0]=="object"&&(r[0]===null||!r[0].isView)))return r;let i=[];return r.forEach(a=>{i=i.concat(a.fullPointer)}),this.toView(i)},rF=function(e){let t=this.fullPointer;return t=t.filter((r,i)=>{let a=this.update([r]);return e(a,i)}),this.update(t)},iF=function(e){let n=this.fullPointer.find((r,i)=>{let a=this.update([r]);return e(a,i)});return this.update([n])},aF=function(e){return this.fullPointer.some((n,r)=>{let i=this.update([n]);return e(i,r)})},oF=function(e=1){let t=this.fullPointer,n=Math.floor(Math.random()*t.length);return n+e>this.length&&(n=this.length-e,n=n<0?0:n),t=t.slice(n,n+e),this.update(t)},sF={forEach:tF,map:nF,filter:rF,find:iF,some:aF,random:oF},mo={termList:function(){return this.methods.one.termList(this.docs)},terms:function(e){let t=this.match(".");return typeof e=="number"?t.eq(e):t},groups:function(e){if(e||e===0)return this.update(this._groups[e]||[]);let t={};return Object.keys(this._groups).forEach(n=>{t[n]=this.update(this._groups[n])}),t},eq:function(e){let t=this.pointer;return t||(t=this.docs.map((n,r)=>[r])),t[e]?this.update([t[e]]):this.none()},first:function(){return this.eq(0)},last:function(){let e=this.fullPointer.length-1;return this.eq(e)},firstTerms:function(){return this.match("^.")},lastTerms:function(){return this.match(".$")},slice:function(e,t){let n=this.pointer||this.docs.map((r,i)=>[i]);return n=n.slice(e,t),this.update(n)},all:function(){return this.update().toView()},fullSentences:function(){let e=this.fullPointer.map(t=>[t[0]]);return this.update(e).toView()},none:function(){return this.update([])},isDoc:function(e){if(!e||!e.isView)return!1;let t=this.fullPointer,n=e.fullPointer;return!t.length===n.length?!1:t.every((r,i)=>n[i]?r[0]===n[i][0]&&r[1]===n[i][1]&&r[2]===n[i][2]:!1)},wordCount:function(){return this.docs.reduce((e,t)=>(e+=t.filter(n=>n.text!=="").length,e),0)},isFull:function(){let e=this.pointer;if(!e)return!0;if(e.length===0||e[0][0]!==0)return!1;let t=0,n=0;return this.document.forEach(r=>t+=r.length),this.docs.forEach(r=>n+=r.length),t===n},getNth:function(e){return typeof e=="number"?this.eq(e):typeof e=="string"?this.if(e):this}};mo.group=mo.groups;mo.fullSentence=mo.fullSentences;mo.sentence=mo.fullSentences;mo.lastTerm=mo.lastTerms;mo.firstTerm=mo.firstTerms;const $A=Object.assign({},mo,eF,sF);$A.get=$A.eq;class wl{constructor(t,n,r={}){[["document",t],["world",qA],["_groups",r],["_cache",null],["viewType","View"]].forEach(a=>{Object.defineProperty(this,a[0],{value:a[1],writable:!0})}),this.ptrs=n}get docs(){let t=this.document;return this.ptrs&&(t=qA.methods.one.getDoc(this.ptrs,this.document)),t}get pointer(){return this.ptrs}get methods(){return this.world.methods}get model(){return this.world.model}get hooks(){return this.world.hooks}get isView(){return!0}get found(){return this.docs.length>0}get length(){return this.docs.length}get fullPointer(){let{docs:t,ptrs:n,document:r}=this;return(n||t.map((a,o)=>[o])).map(a=>{let[o,s,l,u,c]=a;return s=s||0,l=l||(r[o]||[]).length,r[o]&&r[o][s]&&(u=u||r[o][s].id,r[o][l-1]&&(c=c||r[o][l-1].id)),[o,s,l,u,c]})}update(t){let n=new wl(this.document,t);if(this._cache&&t&&t.length>0){let r=[];t.forEach((i,a)=>{let[o,s,l]=i;i.length===1?r[a]=this._cache[o]:s===0&&this.document[o].length===l&&(r[a]=this._cache[o])}),r.length>0&&(n._cache=r)}return n.world=this.world,n}toView(t){return new wl(this.document,t||this.pointer)}fromText(t){const{methods:n}=this;let r=n.one.tokenize.fromString(t,this.world),i=new wl(r);return i.world=this.world,i.compute(["normal","freeze","lexicon"]),this.world.compute.preTagger&&i.compute("preTagger"),i.compute("unfreeze"),i}clone(){let t=this.document.slice(0);t=t.map(r=>r.map(i=>(i=Object.assign({},i),i.tags=new Set(i.tags),i)));let n=this.update(this.pointer);return n.document=t,n._cache=this._cache,n}}Object.assign(wl.prototype,$A);const lF="14.14.4",N4=function(e){return e&&typeof e=="object"&&!Array.isArray(e)};function wI(e,t){if(N4(t))for(const n in t)N4(t[n])?(e[n]||Object.assign(e,{[n]:{}}),wI(e[n],t[n])):Object.assign(e,{[n]:t[n]});return e}function uF(e,t){for(const n in t)e[n]=e[n]||{},Object.assign(e[n],t[n]);return e}const cF=function(e,t){let n=e.two.models||{};Object.keys(t).forEach(r=>{t[r].pastTense&&(n.toPast&&(n.toPast.ex[r]=t[r].pastTense),n.fromPast&&(n.fromPast.ex[t[r].pastTense]=r)),t[r].presentTense&&(n.toPresent&&(n.toPresent.ex[r]=t[r].presentTense),n.fromPresent&&(n.fromPresent.ex[t[r].presentTense]=r)),t[r].gerund&&(n.toGerund&&(n.toGerund.ex[r]=t[r].gerund),n.fromGerund&&(n.fromGerund.ex[t[r].gerund]=r)),t[r].comparative&&(n.toComparative&&(n.toComparative.ex[r]=t[r].comparative),n.fromComparative&&(n.fromComparative.ex[t[r].comparative]=r)),t[r].superlative&&(n.toSuperlative&&(n.toSuperlative.ex[r]=t[r].superlative),n.fromSuperlative&&(n.fromSuperlative.ex[t[r].superlative]=r))})},dF=function(e,t,n,r){const{methods:i,model:a,compute:o,hooks:s}=t;e.methods&&uF(i,e.methods),e.model&&wI(a,e.model),e.irregulars&&cF(a,e.irregulars),e.compute&&Object.assign(o,e.compute),s&&(t.hooks=s.concat(e.hooks||[])),e.api&&e.api(n),e.lib&&Object.keys(e.lib).forEach(l=>r[l]=e.lib[l]),e.tags&&r.addTags(e.tags),e.words&&r.addWords(e.words),e.frozen&&r.addWords(e.frozen,!0),e.mutate&&e.mutate(t,r)};var I4={};const fF=function(e){const t=typeof process>"u"||!I4?self.env||{}:I4;return t.DEBUG_TAGS=e==="tagger"||e===!0?!0:"",t.DEBUG_MATCH=e==="match"||e===!0?!0:"",t.DEBUG_CHUNKS=e==="chunker"||e===!0?!0:"",this},hF=e=>Object.prototype.toString.call(e)==="[object Object]",VA=function(e){return Object.prototype.toString.call(e)==="[object Array]"},pF=function(e){return e.map(t=>t.terms.map(n=>(VA(n.tags)&&(n.tags=new Set(n.tags)),n)))},gF=function(e){return e.map(t=>t.map(n=>({text:n,normal:n,pre:"",post:" ",tags:new Set})))},bI=function(e,t,n){const{methods:r}=n;let i=new t([]);if(i.world=n,typeof e=="number"&&(e=String(e)),!e)return i;if(typeof e=="string"){let a=r.one.tokenize.fromString(e,n);return new t(a)}if(hF(e)&&e.isView)return new t(e.document,e.ptrs);if(VA(e)){if(VA(e[0])){let o=gF(e);return new t(o)}let a=pF(e);return new t(a)}return i};let um=Object.assign({},qA);const Dt=function(e,t){t&&Dt.addWords(t);let n=bI(e,wl,um);return e&&n.compute(um.hooks),n};Object.defineProperty(Dt,"_world",{value:um,writable:!0});Dt.tokenize=function(e,t){const{compute:n}=this._world;t&&Dt.addWords(t);let r=bI(e,wl,um);return n.contractions&&r.compute(["alias","normal","machine","contractions"]),r};Dt.plugin=function(e){return dF(e,this._world,wl,this),this};Dt.extend=Dt.plugin;Dt.world=function(){return this._world};Dt.model=function(){return this._world.model};Dt.methods=function(){return this._world.methods};Dt.hooks=function(){return this._world.hooks};Dt.verbose=fF;Dt.version=lF;const mF=function(e){return e.map(n=>{let r=new Set;return n.forEach(i=>{i.normal!==""&&r.add(i.normal),i.switch&&r.add(`%${i.switch}%`),i.implicit&&r.add(i.implicit),i.machine&&r.add(i.machine),i.root&&r.add(i.root),i.alias&&i.alias.forEach(o=>r.add(o));let a=Array.from(i.tags);for(let o=0;o<a.length;o+=1)r.add("#"+a[o])}),r})},vF={one:{cacheDoc:mF}},yF={cache:function(){return this._cache=this.methods.one.cacheDoc(this.document),this},uncache:function(){return this._cache=null,this}},AF=function(e){Object.assign(e.prototype,yF)},wF={cache:function(e){e._cache=e.methods.one.cacheDoc(e.document)}},bF={api:AF,compute:wF,methods:vF},xF={toLowerCase:function(){return this.termList().forEach(e=>{e.text=e.text.toLowerCase()}),this},toUpperCase:function(){return this.termList().forEach(e=>{e.text=e.text.toUpperCase()}),this},toTitleCase:function(){return this.termList().forEach(e=>{e.text=e.text.replace(/^ *[a-z\u00C0-\u00FF]/,t=>t.toUpperCase())}),this},toCamelCase:function(){return this.docs.forEach(e=>{e.forEach((t,n)=>{n!==0&&(t.text=t.text.replace(/^ *[a-z\u00C0-\u00FF]/,r=>r.toUpperCase())),n!==e.length-1&&(t.post="")})}),this}},P4=e=>new RegExp("^\\p{Lu}[\\p{Ll}']","u").test(e)||new RegExp("^\\p{Lu}$","u").test(e),EF=e=>e.replace(new RegExp("^\\p{Ll}","u"),t=>t.toUpperCase()),kF=e=>e.replace(new RegExp("^\\p{Lu}","u"),t=>t.toLowerCase()),xI=(e,t,n)=>{if(n.forEach(r=>r.dirty=!0),e){let r=[t,0].concat(n);Array.prototype.splice.apply(e,r)}return e},Jc=function(e){const t=/ $/,n=/[-]/;let r=e[e.length-1];r&&!t.test(r.post)&&!n.test(r.post)&&(r.post+=" ")},B4=(e,t,n)=>{const r=/[-.?!,;:)'"]/g;let i=e[t-1];if(!i)return;let a=i.post;if(r.test(a)){let o=a.match(r).join(""),s=n[n.length-1];s.post=o+s.post,i.post=i.post.replace(r,"")}},_F=function(e,t,n){let r=e[t];if(t!==0||!P4(r.text))return;n[0].text=EF(n[0].text);let i=e[t];i.tags.has("ProperNoun")||i.tags.has("Acronym")||P4(i.text)&&i.text.length>1&&(i.text=kF(i.text))},CF=function(e,t,n,r){let[i,a,o]=t;a===0||o===r[i].length?Jc(n):(Jc(n),Jc([e[t[1]]])),_F(e,a,n),xI(e,a,n)},SF=function(e,t,n,r){let[i,,a]=t,o=(r[i]||[]).length;a<o?(B4(e,a,n),Jc(n)):o===a&&(Jc(e),B4(e,a,n),r[i+1]&&(n[n.length-1].post+=" ")),xI(e,t[2],n),t[4]=n[n.length-1].id};let If=0;const T4=e=>(e=e.length<3?"0"+e:e,e.length<3?"0"+e:e),EI=function(e){let[t,n]=e.index||[0,0];If+=1,If=If>46655?0:If,t=t>46655?0:t,n=n>1294?0:n;let r=T4(If.toString(36));r+=T4(t.toString(36));let i=n.toString(36);i=i.length<2?"0"+i:i,r+=i;let a=parseInt(Math.random()*36,10);return r+=a.toString(36),e.normal+"|"+r.toUpperCase()},O4=function(e){e.has("@hasContraction")&&typeof e.contractions=="function"&&e.grow("@hasContraction").contractions().expand()},j4=e=>Object.prototype.toString.call(e)==="[object Array]",NF=function(e){return e=e.map(t=>(t.id=EI(t),t)),e},IF=function(e,t){const{methods:n}=t;return typeof e=="string"?n.one.tokenize.fromString(e,t)[0]:typeof e=="object"&&e.isView?e.clone().docs[0]||[]:j4(e)?j4(e[0])?e[0]:e:[]},D4=function(e,t,n){const{document:r,world:i}=t;t.uncache();let a=t.fullPointer,o=t.fullPointer;t.forEach((l,u)=>{let c=l.fullPointer[0],[d]=c,h=r[d],f=IF(e,i);f.length!==0&&(f=NF(f),n?(O4(t.update([c]).firstTerm()),CF(h,c,f,r)):(O4(t.update([c]).lastTerm()),SF(h,c,f,r)),r[d]&&r[d][c[1]]&&(c[3]=r[d][c[1]].id),o[u]=c,c[2]+=f.length,a[u]=c)});let s=t.toView(a);return t.ptrs=o,s.compute(["id","index","freeze","lexicon"]),s.world.compute.preTagger&&s.compute("preTagger"),s.compute("unfreeze"),s},Ou={insertAfter:function(e){return D4(e,this,!1)},insertBefore:function(e){return D4(e,this,!0)}};Ou.append=Ou.insertAfter;Ou.prepend=Ou.insertBefore;Ou.insert=Ou.insertAfter;const PF=/\$[0-9a-z]+/g,pb={},BF=e=>new RegExp("^\\p{Lu}[\\p{Ll}']","u").test(e)||new RegExp("^\\p{Lu}$","u").test(e),TF=e=>e.replace(new RegExp("^\\p{Ll}","u"),t=>t.toUpperCase()),OF=e=>e.replace(new RegExp("^\\p{Lu}","u"),t=>t.toLowerCase()),jF=function(e,t,n){return e.forEach(r=>{let i=t(r);r.replaceWith(i,n)}),e},DF=function(e,t){if(typeof e!="string")return e;let n=t.groups();return e=e.replace(PF,r=>{let i=r.replace(/\$/,"");return n.hasOwnProperty(i)?n[i].text():r}),e};pb.replaceWith=function(e,t={}){let n=this.fullPointer,r=this;if(this.uncache(),typeof e=="function")return jF(r,e,t);let i=r.docs[0];if(!i)return r;let a=t.possessives&&i[i.length-1].tags.has("Possessive"),o=t.case&&BF(i[0].text);e=DF(e,r);let s=this.update(n);n=n.map(h=>h.slice(0,3));let l=(s.docs[0]||[]).map(h=>Array.from(h.tags)),u=s.docs[0][0].pre,c=s.docs[0][s.docs[0].length-1].post;if(typeof e=="string"&&(e=this.fromText(e).compute("id")),r.insertAfter(e),s.has("@hasContraction")&&r.contractions&&r.grow("@hasContraction+").contractions().expand(),r.delete(s),a){let h=r.docs[0],f=h[h.length-1];f.tags.has("Possessive")||(f.text+="'s",f.normal+="'s",f.tags.add("Possessive"))}if(u&&r.docs[0]&&(r.docs[0][0].pre=u),c&&r.docs[0]){let h=r.docs[0][r.docs[0].length-1];h.post.trim()||(h.post=c)}let d=r.toView(n).compute(["index","freeze","lexicon"]);if(d.world.compute.preTagger&&d.compute("preTagger"),d.compute("unfreeze"),t.tags&&d.terms().forEach((h,f)=>{h.tagSafe(l[f])}),!d.docs[0]||!d.docs[0][0])return d;if(t.case){let h=o?TF:OF;d.docs[0][0].text=h(d.docs[0][0].text)}return d};pb.replace=function(e,t,n){if(e&&!t)return this.replaceWith(e,n);let r=this.match(e);return r.found?(this.soften(),r.replaceWith(t,n)):this};const LF=function(e,t){let n=e.length-1,r=e[n],i=e[n-t];i&&r&&(i.post+=r.post,i.post=i.post.replace(/ +([.?!,;:])/,"$1"),i.post=i.post.replace(/[,;:]+([.?!])/,"$1"))},RF=function(e,t){t.forEach(n=>{let[r,i,a]=n,o=a-i;e[r]&&(a===e[r].length&&a>1&&LF(e[r],o),e[r].splice(i,o))});for(let n=e.length-1;n>=0;n-=1)if(e[n].length===0&&(e.splice(n,1),n===e.length&&e[n-1])){let r=e[n-1],i=r[r.length-1];i&&(i.post=i.post.trimEnd())}return e},FF=function(e,t){return e=e.map(n=>{let[r]=n;return t[r]&&t[r].forEach(i=>{let a=i[2]-i[1];n[1]<=i[1]&&n[2]>=i[2]&&(n[2]-=a)}),n}),e.forEach((n,r)=>{if(n[1]===0&&n[2]==0)for(let i=r+1;i<e.length;i+=1)e[i][0]-=1,e[i][0]<0&&(e[i][0]=0)}),e=e.filter(n=>n[2]-n[1]>0),e=e.map(n=>(n[3]=null,n[4]=null,n)),e},WA={remove:function(e){const{indexN:t}=this.methods.one.pointer;this.uncache();let n=this.all(),r=this;e&&(n=this,r=this.match(e));let i=!n.ptrs;r.has("@hasContraction")&&r.contractions&&r.grow("@hasContraction").contractions().expand();let a=n.fullPointer,o=r.fullPointer.reverse(),s=RF(this.document,o),l=t(o);return a=FF(a,l),n.ptrs=a,n.document=s,n.compute("index"),i&&(n.ptrs=void 0),e?n.toView(a):(this.ptrs=[],n.none())}};WA.delete=WA.remove;const Hh={pre:function(e,t){return e===void 0&&this.found?this.docs[0][0].pre:(this.docs.forEach(n=>{let r=n[0];t===!0?r.pre+=e:r.pre=e}),this)},post:function(e,t){if(e===void 0){let n=this.docs[this.docs.length-1];return n[n.length-1].post}return this.docs.forEach(n=>{let r=n[n.length-1];t===!0?r.post+=e:r.post=e}),this},trim:function(){if(!this.found)return this;let e=this.docs,t=e[0][0];t.pre=t.pre.trimStart();let n=e[e.length-1],r=n[n.length-1];return r.post=r.post.trimEnd(),this},hyphenate:function(){return this.docs.forEach(e=>{e.forEach((t,n)=>{n!==0&&(t.pre=""),e[n+1]&&(t.post="-")})}),this},dehyphenate:function(){const e=/[-]/;return this.docs.forEach(t=>{t.forEach(n=>{e.test(n.post)&&(n.post=" ")})}),this},toQuotations:function(e,t){return e=e||'"',t=t||'"',this.docs.forEach(n=>{n[0].pre=e+n[0].pre;let r=n[n.length-1];r.post=t+r.post}),this},toParentheses:function(e,t){return e=e||"(",t=t||")",this.docs.forEach(n=>{n[0].pre=e+n[0].pre;let r=n[n.length-1];r.post=t+r.post}),this}};Hh.deHyphenate=Hh.dehyphenate;Hh.toQuotation=Hh.toQuotations;const MF=(e,t)=>e.normal<t.normal?-1:e.normal>t.normal?1:0,UF=(e,t)=>{let n=e.normal.trim().length,r=t.normal.trim().length;return n<r?1:n>r?-1:0},zF=(e,t)=>e.words<t.words?1:e.words>t.words?-1:0,HF=(e,t)=>e[0]<t[0]?1:e[0]>t[0]?-1:e[1]>t[1]?1:-1,GF=function(e){let t={};return e.forEach(n=>{t[n.normal]=t[n.normal]||0,t[n.normal]+=1}),e.sort((n,r)=>{let i=t[n.normal],a=t[r.normal];return i<a?1:i>a?-1:0}),e},Rv={alpha:MF,length:UF,wordCount:zF,sequential:HF,byFreq:GF},QF=new Set(["index","sequence","seq","sequential","chron","chronological"]),qF=new Set(["freq","frequency","topk","repeats"]),$F=new Set(["alpha","alphabetical"]),VF=function(e,t){let n=e.fullPointer;return n=n.sort((r,i)=>(r=e.update([r]),i=e.update([i]),t(r,i))),e.ptrs=n,e},WF=function(e){let{docs:t,pointer:n}=this;if(this.uncache(),typeof e=="function")return VF(this,e);e=e||"alpha";let r=n||t.map((a,o)=>[o]),i=t.map((a,o)=>({index:o,words:a.length,normal:a.map(s=>s.machine||s.normal||"").join(" "),pointer:r[o]}));return QF.has(e)&&(e="sequential"),$F.has(e)&&(e="alpha"),qF.has(e)?(i=Rv.byFreq(i),this.update(i.map(a=>a.pointer))):typeof Rv[e]=="function"?(i=i.sort(Rv[e]),this.update(i.map(a=>a.pointer))):this},KF=function(){let e=this.pointer||this.docs.map((t,n)=>[n]);return e=[].concat(e),e=e.reverse(),this._cache&&(this._cache=this._cache.reverse()),this.update(e)},YF=function(){let e=new Set;return this.filter(n=>{let r=n.text("machine");return e.has(r)?!1:(e.add(r),!0)})},JF={unique:YF,reverse:KF,sort:WF},XF=e=>Object.prototype.toString.call(e)==="[object Array]",kI=function(e,t){if(e.length>0){let n=e[e.length-1],r=n[n.length-1];/ /.test(r.post)===!1&&(r.post+=" ")}return e=e.concat(t),e},ZF=function(e,t){if(e.document===t.document){let r=e.fullPointer.concat(t.fullPointer);return e.toView(r).compute("index")}return t.fullPointer.forEach(r=>{r[0]+=e.document.length}),e.document=kI(e.document,t.docs),e.all()},eM={concat:function(e){if(typeof e=="string"){let t=this.fromText(e);if(!this.found||!this.ptrs)this.document=this.document.concat(t.document);else{let n=this.fullPointer,r=n[n.length-1][0];this.document.splice(r,0,...t.document)}return this.all().compute("index")}if(typeof e=="object"&&e.isView)return ZF(this,e);if(XF(e)){let t=kI(this.document,e);return this.document=t,this.all()}return this}},tM=function(){return this.ptrs=this.fullPointer,this},nM=function(){let e=this.ptrs;return!e||e.length<1?this:(e=e.map(t=>t.slice(0,3)),this.ptrs=e,this)},rM={harden:tM,soften:nM},iM=Object.assign({},xF,Ou,pb,WA,Hh,JF,eM,rM),aM=function(e){Object.assign(e.prototype,iM)},oM={id:function(e){let t=e.docs;for(let n=0;n<t.length;n+=1)for(let r=0;r<t[n].length;r+=1){let i=t[n][r];i.id=i.id||EI(i)}}},sM={api:aM,compute:oM},lM=[{word:"@",out:["at"]},{word:"arent",out:["are","not"]},{word:"alot",out:["a","lot"]},{word:"brb",out:["be","right","back"]},{word:"cannot",out:["can","not"]},{word:"dun",out:["do","not"]},{word:"can't",out:["can","not"]},{word:"shan't",out:["should","not"]},{word:"won't",out:["will","not"]},{word:"that's",out:["that","is"]},{word:"what's",out:["what","is"]},{word:"let's",out:["let","us"]},{word:"dunno",out:["do","not","know"]},{word:"gonna",out:["going","to"]},{word:"gotta",out:["have","got","to"]},{word:"gimme",out:["give","me"]},{word:"outta",out:["out","of"]},{word:"tryna",out:["trying","to"]},{word:"gtg",out:["got","to","go"]},{word:"im",out:["i","am"]},{word:"imma",out:["I","will"]},{word:"imo",out:["in","my","opinion"]},{word:"irl",out:["in","real","life"]},{word:"ive",out:["i","have"]},{word:"rn",out:["right","now"]},{word:"tbh",out:["to","be","honest"]},{word:"wanna",out:["want","to"]},{word:"c'mere",out:["come","here"]},{word:"c'mon",out:["come","on"]},{word:"shoulda",out:["should","have"]},{word:"coulda",out:["coulda","have"]},{word:"woulda",out:["woulda","have"]},{word:"musta",out:["must","have"]},{word:"tis",out:["it","is"]},{word:"twas",out:["it","was"]},{word:"y'know",out:["you","know"]},{word:"ne'er",out:["never"]},{word:"o'er",out:["over"]},{after:"ll",out:["will"]},{after:"ve",out:["have"]},{after:"re",out:["are"]},{after:"m",out:["am"]},{before:"c",out:["ce"]},{before:"m",out:["me"]},{before:"n",out:["ne"]},{before:"qu",out:["que"]},{before:"s",out:["se"]},{before:"t",out:["tu"]},{word:"shouldnt",out:["should","not"]},{word:"couldnt",out:["could","not"]},{word:"wouldnt",out:["would","not"]},{word:"hasnt",out:["has","not"]},{word:"wasnt",out:["was","not"]},{word:"isnt",out:["is","not"]},{word:"cant",out:["can","not"]},{word:"dont",out:["do","not"]},{word:"wont",out:["will","not"]},{word:"howd",out:["how","did"]},{word:"whatd",out:["what","did"]},{word:"whend",out:["when","did"]},{word:"whered",out:["where","did"]}],ta=!0,uM={st:ta,nd:ta,rd:ta,th:ta,am:ta,pm:ta,max:ta,"":ta,s:ta,e:ta,er:ta,re:ta,me:ta},cM={one:{contractions:lM,numberSuffixes:uM}},Fv=function(e,t,n){let[r,i]=t;!n||n.length===0||(n=n.map((a,o)=>(a.implicit=a.text,a.machine=a.text,a.pre="",a.post="",a.text="",a.normal="",a.index=[r,i+o],a)),n[0]&&(n[0].pre=e[r][i].pre,n[n.length-1].post=e[r][i].post,n[0].text=e[r][i].text,n[0].normal=e[r][i].normal),e[r].splice(i,1,...n))},dM=/'/,fM=new Set(["what","how","when","where","why"]),hM=new Set(["be","go","start","think","need"]),pM=new Set(["been","gone"]),gM=function(e,t){let n=e[t].normal.split(dM)[0];if(fM.has(n))return[n,"did"];if(e[t+1]){if(pM.has(e[t+1].normal))return[n,"had"];if(hM.has(e[t+1].normal))return[n,"would"]}return null},mM=function(e,t){return e[t].normal==="ain't"||e[t].normal==="aint"?null:[e[t].normal.replace(/n't/,""),"not"]},gb=/'/,vM=/(e||aison|sion|tion)$/,yM=/(age|isme|acle|ege|oire)$/,AM=(e,t)=>{let n=e[t].normal.split(gb)[1];return n&&n.endsWith("e")?["la",n]:["le",n]},wM=(e,t)=>{let n=e[t].normal.split(gb)[1];return n&&vM.test(n)&&!yM.test(n)?["du",n]:n&&n.endsWith("s")?["des",n]:["de",n]},bM=(e,t)=>["je",e[t].normal.split(gb)[1]],Mv={preJ:bM,preL:AM,preD:wM},xM=/^([0-9.]{1,4}[a-z]{0,2}) ?[-] ?([0-9]{1,4}[a-z]{0,2})$/i,EM=/^([0-9]{1,2}(:[0-9][0-9])?(am|pm)?) ?[-] ?([0-9]{1,2}(:[0-9][0-9])?(am|pm)?)$/i,kM=/^[0-9]{3}-[0-9]{4}$/,_M=function(e,t){let n=e[t],r=n.text.match(xM);return r!==null?n.tags.has("PhoneNumber")===!0||kM.test(n.text)?null:[r[1],"to",r[2]]:(r=n.text.match(EM),r!==null?[r[1],"to",r[4]]:null)},CM=/^([+-]?[0-9][.,0-9]*)([a-z/]+)$/,SM=function(e,t,n){const r=n.model.one.numberSuffixes||{};let a=e[t].text.match(CM);if(a!==null){let o=a[2].toLowerCase().trim();return r.hasOwnProperty(o)?null:[a[1],o]}return null},L4=/'/,NM=/^[0-9][^-]*[-].*?[0-9]/,R4=function(e,t,n,r){let i=t.update();i.document=[e];let a=n+r;n>0&&(n-=1),e[a]&&(a+=1),i.ptrs=[[0,n,a]]},F4={t:(e,t)=>mM(e,t),d:(e,t)=>gM(e,t)},M4={j:(e,t)=>Mv.preJ(e,t),l:(e,t)=>Mv.preL(e,t),d:(e,t)=>Mv.preD(e,t)},IM=function(e,t,n,r){for(let i=0;i<e.length;i+=1){let a=e[i];if(a.word===t.normal)return a.out;if(r!==null&&r===a.after)return[n].concat(a.out);if(n!==null&&n===a.before&&r&&r.length>2)return a.out.concat(r)}return null},Uv=function(e,t){let n=t.fromText(e.join(" "));return n.compute(["id","alias"]),n.docs[0]},PM=function(e,t){for(let n=t+1;n<5&&e[n];n+=1)if(e[n].normal==="been")return["there","has"];return["there","is"]},BM=e=>{let{world:t,document:n}=e;const{model:r,methods:i}=t;let a=r.one.contractions||[];n.forEach((o,s)=>{for(let l=o.length-1;l>=0;l-=1){let u=null,c=null;if(L4.test(o[l].normal)===!0){let h=o[l].normal.split(L4);u=h[0],c=h[1]}let d=IM(a,o[l],u,c);if(!d&&F4.hasOwnProperty(c)&&(d=F4[c](o,l,t)),!d&&M4.hasOwnProperty(u)&&(d=M4[u](o,l)),u==="there"&&c==="s"&&(d=PM(o,l)),d){d=Uv(d,e),Fv(n,[s,l],d),R4(n[s],e,l,d.length);continue}if(NM.test(o[l].normal)){d=_M(o,l),d&&(d=Uv(d,e),Fv(n,[s,l],d),i.one.setTag(d,"NumberRange",t),d[2]&&d[2].tags.has("Time")&&i.one.setTag([d[0]],"Time",t,null,"time-range"),R4(n[s],e,l,d.length));continue}d=SM(o,l,t),d&&(d=Uv(d,e),Fv(n,[s,l],d),i.one.setTag([d[1]],"Unit",t,null,"contraction-unit"))}})},TM={contractions:BM},OM={model:cM,compute:TM,hooks:["contractions"]},U4=function(e){const t=e.world,{model:n,methods:r}=e.world,i=r.one.setTag,{frozenLex:a}=n.one,o=n.one._multiCache||{};e.docs.forEach(s=>{for(let l=0;l<s.length;l+=1){let u=s[l],c=u.machine||u.normal;if(o[c]!==void 0&&s[l+1]){let d=l+o[c]-1;for(let h=d;h>l;h-=1){let f=s.slice(l,h+1),v=f.map(y=>y.machine||y.normal).join(" ");if(a.hasOwnProperty(v)===!0){i(f,a[v],t,!1,"1-frozen-multi-lexicon"),f.forEach(y=>y.frozen=!0);continue}}}if(a[c]!==void 0&&a.hasOwnProperty(c)){i([u],a[c],t,!1,"1-freeze-lexicon"),u.frozen=!0;continue}}})},jM=function(e){return e.docs.forEach(t=>{t.forEach(n=>{delete n.frozen})}),e},DM={frozen:U4,freeze:U4,unfreeze:jM},z4=e=>"\x1B[34m"+e+"\x1B[0m",H4=e=>"\x1B[3m\x1B[2m"+e+"\x1B[0m",G4=function(e){e.docs.forEach(t=>{console.log(z4(`
  `)),t.forEach(n=>{let r=`  ${H4("")}  `,i=n.implicit||n.text||"-";n.frozen===!0?r+=`${z4(i)} `:r+=H4(i),console.log(r)})})},LM={compute:DM,mutate:e=>{const t=e.methods.one;t.termMethods.isFrozen=n=>n.frozen===!0,t.debug.freeze=G4,t.debug.frozen=G4},api:function(e){e.prototype.freeze=function(){return this.docs.forEach(t=>{t.forEach(n=>{n.frozen=!0})}),this},e.prototype.unfreeze=function(){this.compute("unfreeze")},e.prototype.isFrozen=function(){return this.match("@isFrozen+")}},hooks:["freeze"]},RM=function(e,t,n){const{model:r,methods:i}=n,a=i.one.setTag,o=r.one._multiCache||{},{lexicon:s}=r.one||{};let l=e[t],u=l.machine||l.normal;if(o[u]!==void 0&&e[t+1]){let c=t+o[u]-1;for(let d=c;d>t;d-=1){let h=e.slice(t,d+1);if(h.length<=1)return!1;let f=h.map(v=>v.machine||v.normal).join(" ");if(s.hasOwnProperty(f)===!0){let v=s[f];return a(h,v,n,!1,"1-multi-lexicon"),v&&v.length===2&&(v[0]==="PhrasalVerb"||v[1]==="PhrasalVerb")&&a([h[1]],"Particle",n,!1,"1-phrasal-particle"),!0}}return!1}return null},Q4=/^(under|over|mis|re|un|dis|semi|pre|post)-?/,FM=new Set(["Verb","Infinitive","PastTense","Gerund","PresentTense","Adjective","Participle"]),MM=function(e,t,n){const{model:r,methods:i}=n,a=i.one.setTag,{lexicon:o}=r.one;let s=e[t],l=s.machine||s.normal;if(o[l]!==void 0&&o.hasOwnProperty(l))return a([s],o[l],n,!1,"1-lexicon"),!0;if(s.alias){let u=s.alias.find(c=>o.hasOwnProperty(c));if(u)return a([s],o[u],n,!1,"1-lexicon-alias"),!0}if(Q4.test(l)===!0){let u=l.replace(Q4,"");if(o.hasOwnProperty(u)&&u.length>3&&FM.has(o[u]))return a([s],o[u],n,!1,"1-lexicon-prefix"),!0}return null},UM=function(e){const t=e.world;e.docs.forEach(n=>{for(let r=0;r<n.length;r+=1)if(n[r].tags.size===0){let i=null;i=i||RM(n,r,t),i=i||MM(n,r,t)}})},zM={lexicon:UM},HM=function(e){let t={},n={};return Object.keys(e).forEach(r=>{let i=e[r];r=r.toLowerCase().trim(),r=r.replace(/'s\b/,"");let a=r.split(/ /);a.length>1&&(n[a[0]]===void 0||a.length>n[a[0]])&&(n[a[0]]=a.length),t[r]=t[r]||i}),delete t[""],delete t[null],delete t[" "],{lex:t,_multi:n}},GM={one:{expandLexicon:HM}},QM=function(e,t=!1){const n=this.world(),{methods:r,model:i}=n;if(!e)return;if(Object.keys(e).forEach(s=>{typeof e[s]=="string"&&e[s].startsWith("#")&&(e[s]=e[s].replace(/^#/,""))}),t===!0){let{lex:s,_multi:l}=r.one.expandLexicon(e,n);Object.assign(i.one._multiCache,l),Object.assign(i.one.frozenLex,s);return}if(r.two.expandLexicon){let{lex:s,_multi:l}=r.two.expandLexicon(e,n);Object.assign(i.one.lexicon,s),Object.assign(i.one._multiCache,l)}let{lex:a,_multi:o}=r.one.expandLexicon(e,n);Object.assign(i.one.lexicon,a),Object.assign(i.one._multiCache,o)},qM={addWords:QM},$M={one:{lexicon:{},_multiCache:{},frozenLex:{}}},VM={model:$M,methods:GM,compute:zM,lib:qM,hooks:["lexicon"]},WM=function(e,t){const{methods:n,model:r}=t;return n.one.tokenize.splitTerms(e,r).map(a=>n.one.tokenize.splitWhitespace(a,r)).map(a=>a.text.toLowerCase())},_I=function(e,t){let n=[{}],r=[null],i=[0],a=[],o=0;e.forEach(function(s){let l=0,u=WM(s,t);for(let c=0;c<u.length;c++){let d=u[c];n[l]&&n[l].hasOwnProperty(d)?l=n[l][d]:(o++,n[l][d]=o,n[o]={},l=o,r[o]=null)}r[l]=[u.length]});for(let s in n[0])o=n[0][s],i[o]=0,a.push(o);for(;a.length;){let s=a.shift(),l=Object.keys(n[s]);for(let u=0;u<l.length;u+=1){let c=l[u],d=n[s][c];for(a.push(d),o=i[s];o>0&&!n[o].hasOwnProperty(c);)o=i[o];if(n.hasOwnProperty(o)){let h=n[o][c];i[d]=h,r[h]&&(r[d]=r[d]||[],r[d]=r[d].concat(r[h]))}else i[d]=0}}return{goNext:n,endAs:r,failTo:i}},KM=function(e,t,n){let r=0,i=[];for(let a=0;a<e.length;a++){let o=e[a][n.form]||e[a].normal;for(;r>0&&(t.goNext[r]===void 0||!t.goNext[r].hasOwnProperty(o));)r=t.failTo[r]||0;if(t.goNext[r].hasOwnProperty(o)&&(r=t.goNext[r][o],t.endAs[r])){let s=t.endAs[r];for(let l=0;l<s.length;l++){let u=s[l],c=e[a-u+1],[d,h]=c.index;i.push([d,h,h+u,c.id])}}}return i},YM=function(e,t){for(let n=0;n<e.length;n+=1)if(t.has(e[n])===!0)return!1;return!0},JM=function(e,t,n){let r=[];n.form=n.form||"normal";let i=e.docs;if(!t.goNext||!t.goNext[0])return console.error("Compromise invalid lookup trie"),e.none();let a=Object.keys(t.goNext[0]);for(let o=0;o<i.length;o++){if(e._cache&&e._cache[o]&&YM(a,e._cache[o])===!0)continue;let s=i[o],l=KM(s,t,n);l.length>0&&(r=r.concat(l))}return e.update(r)},XM=e=>Object.prototype.toString.call(e)==="[object Object]";function ZM(e){e.prototype.lookup=function(t,n={}){if(!t)return this.none();typeof t=="string"&&(t=[t]);let r=XM(t)?t:_I(t,this.world),i=JM(this,r,n);return i=i.settle(),i}}const zv=(e,t)=>{for(let n=e.length-1;n>=0;n-=1)if(e[n]!==t)return e=e.slice(0,n+1),e;return e},e9=function(e){return e.goNext=e.goNext.map(t=>{if(Object.keys(t).length!==0)return t}),e.goNext=zv(e.goNext,void 0),e.failTo=zv(e.failTo,0),e.endAs=zv(e.endAs,null),e},KA={buildTrie:function(e){const t=_I(e,this.world());return e9(t)}};KA.compile=KA.buildTrie;const t9={api:ZM,lib:KA},q4=function(e,t){return t&&e.forEach(n=>{let r=n[0];t[r]&&(n[0]=t[r][0],n[1]+=t[r][1],n[2]+=t[r][1])}),e},CI=function(e,t){let{ptrs:n,byGroup:r}=e;return n=q4(n,t),Object.keys(r).forEach(i=>{r[i]=q4(r[i],t)}),{ptrs:n,byGroup:r}},ap=function(e,t,n){const r=n.methods.one;return typeof e=="number"&&(e=String(e)),typeof e=="string"&&(e=r.killUnicode(e,n),e=r.parseMatch(e,t,n)),e},SI=e=>Object.prototype.toString.call(e)==="[object Object]",op=e=>e&&SI(e)&&e.isView===!0,sp=e=>e&&SI(e)&&e.isNet===!0,n9=function(e,t,n){const r=this.methods.one;if(op(e))return this.intersection(e);if(sp(e))return this.sweep(e,{tagger:!1}).view.settle();e=ap(e,n,this.world);let i={regs:e,group:t},a=r.match(this.docs,i,this._cache),{ptrs:o,byGroup:s}=CI(a,this.fullPointer),l=this.toView(o);return l._groups=s,l},r9=function(e,t,n){const r=this.methods.one;if(op(e))return this.intersection(e).eq(0);if(sp(e))return this.sweep(e,{tagger:!1,matchOne:!0}).view;e=ap(e,n,this.world);let i={regs:e,group:t,justOne:!0},a=r.match(this.docs,i,this._cache),{ptrs:o,byGroup:s}=CI(a,this.fullPointer),l=this.toView(o);return l._groups=s,l},i9=function(e,t,n){const r=this.methods.one;if(op(e))return this.intersection(e).fullPointer.length>0;if(sp(e))return this.sweep(e,{tagger:!1}).view.found;e=ap(e,n,this.world);let i={regs:e,group:t,justOne:!0};return r.match(this.docs,i,this._cache).ptrs.length>0},a9=function(e,t,n){const r=this.methods.one;if(op(e))return this.filter(l=>l.intersection(e).found);if(sp(e)){let l=this.sweep(e,{tagger:!1}).view.settle();return this.if(l)}e=ap(e,n,this.world);let i={regs:e,group:t,justOne:!0},a=this.fullPointer,o=this._cache||[];a=a.filter((l,u)=>{let c=this.update([l]);return r.match(c.docs,i,o[u]).ptrs.length>0});let s=this.update(a);return this._cache&&(s._cache=a.map(l=>o[l[0]])),s},o9=function(e,t,n){const{methods:r}=this,i=r.one;if(op(e))return this.filter(s=>!s.intersection(e).found);if(sp(e)){let s=this.sweep(e,{tagger:!1}).view.settle();return this.ifNo(s)}e=ap(e,n,this.world);let a=this._cache||[],o=this.filter((s,l)=>{let u={regs:e,group:t,justOne:!0};return i.match(s.docs,u,a[l]).ptrs.length===0});return this._cache&&(o._cache=o.ptrs.map(s=>a[s[0]])),o},s9={matchOne:r9,match:n9,has:i9,if:a9,ifNo:o9},l9=function(e,t,n){const{indexN:r}=this.methods.one.pointer;let i=[],a=r(this.fullPointer);Object.keys(a).forEach(s=>{let l=a[s].sort((u,c)=>u[1]>c[1]?1:-1)[0];l[1]>0&&i.push([l[0],0,l[1]])});let o=this.toView(i);return e?o.match(e,t,n):o},u9=function(e,t,n){const{indexN:r}=this.methods.one.pointer;let i=[],a=r(this.fullPointer),o=this.document;Object.keys(a).forEach(l=>{let u=a[l].sort((h,f)=>h[1]>f[1]?-1:1)[0],[c,,d]=u;d<o[c].length&&i.push([c,d,o[c].length])});let s=this.toView(i);return e?s.match(e,t,n):s},c9=function(e,t,n){typeof e=="string"&&(e=this.world.methods.one.parseMatch(e,n,this.world)),e[e.length-1].end=!0;let r=this.fullPointer;return this.forEach((i,a)=>{let o=i.before(e,t);if(o.found){let s=o.terms();r[a][1]-=s.length,r[a][3]=s.docs[0][0].id}}),this.update(r)},d9=function(e,t,n){typeof e=="string"&&(e=this.world.methods.one.parseMatch(e,n,this.world)),e[0].start=!0;let r=this.fullPointer;return this.forEach((i,a)=>{let o=i.after(e,t);if(o.found){let s=o.terms();r[a][2]+=s.length,r[a][4]=null}}),this.update(r)},f9=function(e,t,n){return this.growRight(e,t,n).growLeft(e,t,n)},h9={before:l9,after:u9,growLeft:c9,growRight:d9,grow:f9},NI=function(e,t){return[e[0],e[1],t[2]]},p9=function(e){return Object.prototype.toString.call(e)==="[object Array]"},mb=(e,t,n)=>typeof e=="string"||p9(e)?t.match(e,n):e||t.none(),vb=function(e,t){let[n,r,i]=e;return t.document[n]&&t.document[n][r]&&(e[3]=e[3]||t.document[n][r].id,t.document[n][i-1]&&(e[4]=e[4]||t.document[n][i-1].id)),e},Ed={};Ed.splitOn=function(e,t){const{splitAll:n}=this.methods.one.pointer;let r=mb(e,this,t).fullPointer,i=n(this.fullPointer,r),a=[];return i.forEach(o=>{a.push(o.passthrough),a.push(o.before),a.push(o.match),a.push(o.after)}),a=a.filter(o=>o),a=a.map(o=>vb(o,this)),this.update(a)};Ed.splitBefore=function(e,t){const{splitAll:n}=this.methods.one.pointer;let r=mb(e,this,t).fullPointer,i=n(this.fullPointer,r);for(let o=0;o<i.length;o+=1)!i[o].after&&i[o+1]&&i[o+1].before&&i[o].match&&i[o].match[0]===i[o+1].before[0]&&(i[o].after=i[o+1].before,delete i[o+1].before);let a=[];return i.forEach(o=>{a.push(o.passthrough),a.push(o.before),o.match&&o.after?a.push(NI(o.match,o.after)):a.push(o.match)}),a=a.filter(o=>o),a=a.map(o=>vb(o,this)),this.update(a)};Ed.splitAfter=function(e,t){const{splitAll:n}=this.methods.one.pointer;let r=mb(e,this,t).fullPointer,i=n(this.fullPointer,r),a=[];return i.forEach(o=>{a.push(o.passthrough),o.before&&o.match?a.push(NI(o.before,o.match)):(a.push(o.before),a.push(o.match)),a.push(o.after)}),a=a.filter(o=>o),a=a.map(o=>vb(o,this)),this.update(a)};Ed.split=Ed.splitAfter;const g9=function(e,t){return!e||!t||e[0]!==t[0]?!1:e[2]===t[1]},$4=function(e,t,n){const r=e.world,i=r.methods.one.parseMatch;t=t||".$",n=n||"^.";let a=i(t,{},r),o=i(n,{},r);a[a.length-1].end=!0,o[0].start=!0;let s=e.fullPointer,l=[s[0]];for(let u=1;u<s.length;u+=1){let c=l[l.length-1],d=s[u],h=e.update([c]),f=e.update([d]);g9(c,d)&&h.has(a)&&f.has(o)?l[l.length-1]=[c[0],c[1],d[2],c[3],d[4]]:l.push(d)}return e.update(l)},m9={joinIf:function(e,t){return $4(this,e,t)},join:function(){return $4(this)}},vo=Object.assign({},s9,h9,Ed,m9);vo.lookBehind=vo.before;vo.lookBefore=vo.before;vo.lookAhead=vo.after;vo.lookAfter=vo.after;vo.notIf=vo.ifNo;const v9=function(e){Object.assign(e.prototype,vo)},y9=/(?:^|\s)([![^]*(?:<[^<]*>)?\/.*?[^\\/]\/[?\]+*$~]*)(?:\s|$)/,A9=/([!~[^]*(?:<[^<]*>)?\([^)]+[^\\)]\)[?\]+*$~]*)(?:\s|$)/,w9=/ /g,b9=e=>/^[![^]*(<[^<]*>)?\(/.test(e)&&/\)[?\]+*$~]*$/.test(e),V4=e=>/^[![^]*(<[^<]*>)?\//.test(e)&&/\/[?\]+*$~]*$/.test(e),W4=function(e){return e=e.map(t=>t.trim()),e=e.filter(t=>t),e},x9=function(e){let t=e.split(y9),n=[];t.forEach(i=>{if(V4(i)){n.push(i);return}n=n.concat(i.split(A9))}),n=W4(n);let r=[];return n.forEach(i=>{b9(i)||V4(i)?r.push(i):r=r.concat(i.split(w9))}),r=W4(r),r},K4=/\{([0-9]+)?(, *[0-9]*)?\}/,Y4=/&&/,E9=new RegExp(/^<\s*(\S+)\s*>/),J4=e=>e.charAt(0).toUpperCase()+e.substring(1),Pa=e=>e.charAt(e.length-1),na=e=>e.charAt(0),Oc=e=>e.substring(1),jc=e=>e.substring(0,e.length-1),Pf=function(e){return e=Oc(e),e=jc(e),e},II=function(e,t){let n={};for(let r=0;r<2;r+=1){if(Pa(e)==="$"&&(n.end=!0,e=jc(e)),na(e)==="^"&&(n.start=!0,e=Oc(e)),Pa(e)==="?"&&(n.optional=!0,e=jc(e)),(na(e)==="["||Pa(e)==="]")&&(n.group=null,na(e)==="["&&(n.groupStart=!0),Pa(e)==="]"&&(n.groupEnd=!0),e=e.replace(/^\[/,""),e=e.replace(/\]$/,""),na(e)==="<")){const i=E9.exec(e);i.length>=2&&(n.group=i[1],e=e.replace(i[0],""))}if(Pa(e)==="+"&&(n.greedy=!0,e=jc(e)),e!=="*"&&Pa(e)==="*"&&e!=="\\*"&&(n.greedy=!0,e=jc(e)),na(e)==="!"&&(n.negative=!0,e=Oc(e)),na(e)==="~"&&Pa(e)==="~"&&e.length>2&&(e=Pf(e),n.fuzzy=!0,n.min=t.fuzzy||.85,/\(/.test(e)===!1))return n.word=e,n;if(na(e)==="/"&&Pa(e)==="/")return e=Pf(e),t.caseSensitive&&(n.use="text"),n.regex=new RegExp(e),n;if(K4.test(e)===!0&&(e=e.replace(K4,(i,a,o)=>(o===void 0?(n.min=Number(a),n.max=Number(a)):(o=o.replace(/, */,""),a===void 0?(n.min=0,n.max=Number(o)):(n.min=Number(a),n.max=Number(o||999))),n.greedy=!0,n.min||(n.optional=!0),""))),na(e)==="("&&Pa(e)===")"){Y4.test(e)?(n.choices=e.split(Y4),n.operator="and"):(n.choices=e.split("|"),n.operator="or"),n.choices[0]=Oc(n.choices[0]);let i=n.choices.length-1;n.choices[i]=jc(n.choices[i]),n.choices=n.choices.map(a=>a.trim()),n.choices=n.choices.filter(a=>a),n.choices=n.choices.map(a=>a.split(/ /g).map(o=>II(o,t))),e=""}if(na(e)==="{"&&Pa(e)==="}"){if(e=Pf(e),n.root=e,/\//.test(e)){let i=n.root.split(/\//);n.root=i[0],n.pos=i[1],n.pos==="adj"&&(n.pos="Adjective"),n.pos=n.pos.charAt(0).toUpperCase()+n.pos.substr(1).toLowerCase(),i[2]!==void 0&&(n.sense=i[2])}return n}if(na(e)==="<"&&Pa(e)===">")return e=Pf(e),n.chunk=J4(e),n.greedy=!0,n;if(na(e)==="%"&&Pa(e)==="%")return e=Pf(e),n.switch=e,n}return na(e)==="#"?(n.tag=Oc(e),n.tag=J4(n.tag),n):na(e)==="@"?(n.method=Oc(e),n):e==="."?(n.anything=!0,n):e==="*"?(n.anything=!0,n.greedy=!0,n.optional=!0,n):(e&&(e=e.replace("\\*","*"),e=e.replace("\\.","."),t.caseSensitive?n.use="text":e=e.toLowerCase(),n.word=e),n)},k9=/[a-z0-9][-][a-z]/i,_9=function(e,t){let n=t.model.one.prefixes;for(let r=e.length-1;r>=0;r-=1){let i=e[r];if(i.word&&k9.test(i.word)){let a=i.word.split(/[-]/g);if(n.hasOwnProperty(a[0]))continue;a=a.filter(o=>o).reverse(),e.splice(r,1),a.forEach(o=>{let s=Object.assign({},i);s.word=o,e.splice(r,0,s)})}}return e},X4=function(e,t){let{all:n}=t.methods.two.transform.verb||{},r=e.root;return n?n(r,t.model):[]},Z4=function(e,t){let{all:n}=t.methods.two.transform.noun||{};return n?n(e.root,t.model):[e.root]},eE=function(e,t){let{all:n}=t.methods.two.transform.adjective||{};return n?n(e.root,t.model):[e.root]},C9=function(e,t){return e=e.map(n=>{if(n.root)if(t.methods.two&&t.methods.two.transform){let r=[];n.pos?n.pos==="Verb"?r=r.concat(X4(n,t)):n.pos==="Noun"?r=r.concat(Z4(n,t)):n.pos==="Adjective"&&(r=r.concat(eE(n,t))):(r=r.concat(X4(n,t)),r=r.concat(Z4(n,t)),r=r.concat(eE(n,t))),r=r.filter(i=>i),r.length>0&&(n.operator="or",n.fastOr=new Set(r))}else n.machine=n.root,delete n.id,delete n.root;return n}),e},S9=function(e){let t=0,n=null;for(let r=0;r<e.length;r++){const i=e[r];i.groupStart===!0&&(n=i.group,n===null&&(n=String(t),t+=1)),n!==null&&(i.group=n),i.groupEnd===!0&&(n=null)}return e},N9=function(e){return e.map(t=>{if(t.choices!==void 0){if(t.operator!=="or"||t.fuzzy===!0)return t;t.choices.every(r=>{if(r.length!==1)return!1;let i=r[0];return i.fuzzy===!0||i.start||i.end?!1:i.word!==void 0&&i.negative!==!0&&i.optional!==!0&&i.method!==!0})===!0&&(t.fastOr=new Set,t.choices.forEach(r=>{t.fastOr.add(r[0].word)}),delete t.choices)}return t})},I9=function(e){return e.map(t=>(t.fuzzy&&t.choices&&t.choices.forEach(n=>{n.length===1&&n[0].word&&(n[0].fuzzy=!0,n[0].min=t.min)}),t))},P9=function(e){return e=S9(e),e=N9(e),e=I9(e),e},B9=function(e,t,n){if(e==null||e==="")return[];t=t||{},typeof e=="number"&&(e=String(e));let r=x9(e);return r=r.map(i=>II(i,t)),r=_9(r,n),r=C9(r,n),r=P9(r),r},T9=function(e,t){for(let n of t)if(e.has(n))return!0;return!1},O9=function(e,t){for(let n=0;n<e.length;n+=1){let r=e[n];if(!(r.optional===!0||r.negative===!0||r.fuzzy===!0)){if(r.word!==void 0&&t.has(r.word)===!1||r.tag!==void 0&&t.has("#"+r.tag)===!1)return!0;if(r.fastOr&&T9(r.fastOr,t)===!1)return!1}}return!1},j9=function(e,t){let n=e.length,r=t.length;if(n===0)return r;if(r===0)return n;let i=(r>n?r:n)+1;if(Math.abs(n-r)>(i||100))return i||100;let a=[];for(let h=0;h<i;h++)a[h]=[h],a[h].length=i;for(let h=0;h<i;h++)a[0][h]=h;let o,s,l,u,c,d;for(let h=1;h<=n;++h)for(s=e[h-1],o=1;o<=r;++o){if(h===o&&a[h][o]>4)return n;l=t[o-1],u=s===l?0:1,c=a[h-1][o]+1,(d=a[h][o-1]+1)<c&&(c=d),(d=a[h-1][o-1]+u)<c&&(c=d),h>1&&o>1&&s===t[o-2]&&e[h-2]===l&&(d=a[h-2][o-2]+u)<c?a[h][o]=d:a[h][o]=c}return a[n][r]},D9=function(e,t,n=3){if(e===t)return 1;if(e.length<n||t.length<n)return 0;const r=j9(e,t);let i=Math.max(e.length,t.length);return 1-(i===0?0:r/i)},L9=/([\u0022\uFF02\u0027\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F])/,R9=/([\u0022\uFF02\u0027\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4])/,tE=/^[-]$/,nE=/ [-]{1,3} /,_o=(e,t)=>e.post.indexOf(t)!==-1,Gh={hasQuote:e=>L9.test(e.pre)||R9.test(e.post),hasComma:e=>_o(e,","),hasPeriod:e=>_o(e,".")===!0&&_o(e,"...")===!1,hasExclamation:e=>_o(e,"!"),hasQuestionMark:e=>_o(e,"?")||_o(e,""),hasEllipses:e=>_o(e,"..")||_o(e,""),hasSemicolon:e=>_o(e,";"),hasColon:e=>_o(e,":"),hasSlash:e=>/\//.test(e.text),hasHyphen:e=>tE.test(e.post)||tE.test(e.pre),hasDash:e=>nE.test(e.post)||nE.test(e.pre),hasContraction:e=>!!e.implicit,isAcronym:e=>e.tags.has("Acronym"),isKnown:e=>e.tags.size>0,isTitleCase:e=>new RegExp("^\\p{Lu}[a-z'\\u00C0-\\u00FF]","u").test(e.text),isUpperCase:e=>new RegExp("^\\p{Lu}+$","u").test(e.text)};Gh.hasQuotation=Gh.hasQuote;let Wr=function(){};const F9=function(e,t,n,r){if(t.anything===!0)return!0;if(t.start===!0&&n!==0||t.end===!0&&n!==r-1)return!1;if(t.id!==void 0&&t.id===e.id)return!0;if(t.word!==void 0)return t.use?t.word===e[t.use]:e.machine!==null&&e.machine===t.word||e.alias!==void 0&&e.alias.hasOwnProperty(t.word)||t.fuzzy===!0&&(t.word===e.root||D9(t.word,e.normal)>=t.min)||e.alias&&e.alias.some(i=>i===t.word)?!0:t.word===e.text||t.word===e.normal;if(t.tag!==void 0)return e.tags.has(t.tag)===!0;if(t.method!==void 0)return typeof Gh[t.method]=="function"&&Gh[t.method](e)===!0;if(t.pre!==void 0)return e.pre&&e.pre.includes(t.pre);if(t.post!==void 0)return e.post&&e.post.includes(t.post);if(t.regex!==void 0){let i=e.normal;return t.use&&(i=e[t.use]),t.regex.test(i)}if(t.chunk!==void 0)return e.chunk===t.chunk;if(t.switch!==void 0)return e.switch===t.switch;if(t.machine!==void 0)return e.normal===t.machine||e.machine===t.machine||e.root===t.machine;if(t.sense!==void 0)return e.sense===t.sense;if(t.fastOr!==void 0){if(t.pos&&!e.tags.has(t.pos))return null;let i=e.root||e.implicit||e.machine||e.normal;return t.fastOr.has(i)||t.fastOr.has(e.text)}return t.choices!==void 0?t.operator==="and"?t.choices.every(i=>Wr(e,i,n,r)):t.choices.some(i=>Wr(e,i,n,r)):!1};Wr=function(e,t,n,r){let i=F9(e,t,n,r);return t.negative===!0?!i:i};const M9=function(e,t){let n=Object.assign({},e.regs[e.r],{start:!1,end:!1}),r=e.t;for(;e.t<e.terms.length;e.t+=1){if(t&&Wr(e.terms[e.t],t,e.start_i+e.t,e.phrase_length))return e.t;let i=e.t-r+1;if(n.max!==void 0&&i===n.max)return e.t;if(Wr(e.terms[e.t],n,e.start_i+e.t,e.phrase_length)===!1)return n.min!==void 0&&i<n.min?null:e.t}return e.t},U9=function(e,t){let n=e.t;if(!t)return e.terms.length;for(;n<e.terms.length;n+=1)if(Wr(e.terms[n],t,e.start_i+n,e.phrase_length)===!0)return n;return null},z9=function(e,t){if(e.end===!0&&e.greedy===!0&&t.start_i+t.t<t.phrase_length-1){let n=Object.assign({},e,{end:!1});if(Wr(t.terms[t.t],n,t.start_i+t.t,t.phrase_length)===!0)return!0}return!1},e1=function(e,t){return e.groups[e.inGroup]||(e.groups[e.inGroup]={start:t,length:0}),e.groups[e.inGroup]},H9=function(e){let{regs:t}=e,n=t[e.r],r=U9(e,t[e.r+1]);if(r===null||r===0||n.min!==void 0&&r-e.t<n.min)return null;if(n.max!==void 0&&r-e.t>n.max)return e.t=e.t+n.max,!0;if(e.hasGroup===!0){const i=e1(e,e.t);i.length=r-e.t}return e.t=r,!0},G9=function(e){return Object.prototype.toString.call(e)==="[object Array]"},PI=function(e,t=0){let n=e.regs[e.r],r=!1;for(let i=0;i<n.choices.length;i+=1){let a=n.choices[i];if(!G9(a))return!1;if(r=a.every((o,s)=>{let l=0,u=e.t+s+t+l;if(e.terms[u]===void 0)return!1;let c=Wr(e.terms[u],o,u+e.start_i,e.phrase_length);if(c===!0&&o.greedy===!0)for(let d=1;d<e.terms.length;d+=1){let h=e.terms[u+d];if(h)if(Wr(h,o,e.start_i+d,e.phrase_length)===!0)l+=1;else break}return t+=l,c}),r){t+=a.length;break}}return r&&n.greedy===!0?PI(e,t):t},Q9=function(e){let t=0;return e.regs[e.r].choices.every(i=>{let a=i.every((o,s)=>{let l=e.t+s;return e.terms[l]===void 0?!1:Wr(e.terms[l],o,l,e.phrase_length)});return a===!0&&i.length>t&&(t=i.length),a})===!0?t:!1},q9=function(e){const{regs:t}=e;let n=t[e.r],r=PI(e);if(r){if(n.negative===!0)return null;if(e.hasGroup===!0){const i=e1(e,e.t);i.length+=r}if(n.end===!0){let i=e.phrase_length;if(e.t+e.start_i+r!==i)return null}return e.t+=r,!0}else if(!n.optional)return null;return!0},$9=function(e){const{regs:t}=e;let n=t[e.r],r=Q9(e);if(r){if(n.negative===!0)return null;if(e.hasGroup===!0){const i=e1(e,e.t);i.length+=r}if(n.end===!0){let i=e.phrase_length-1;if(e.t+e.start_i!==i)return null}return e.t+=r,!0}else if(!n.optional)return null;return!0},V9=function(e,t,n){let r=0;for(let i=e.t;i<e.terms.length;i+=1){let a=Wr(e.terms[i],t,e.start_i+e.t,e.phrase_length);if(a||n&&(a=Wr(e.terms[i],n,e.start_i+e.t,e.phrase_length),a)||(r+=1,t.max!==void 0&&r===t.max))break}return r===0||t.min&&t.min>r?!1:(e.t+=r,!0)},W9=function(e){const{regs:t}=e;let n=t[e.r],r=Object.assign({},n);if(r.negative=!1,Wr(e.terms[e.t],r,e.start_i+e.t,e.phrase_length))return!1;if(n.optional){let a=t[e.r+1];a&&(Wr(e.terms[e.t],a,e.start_i+e.t,e.phrase_length)?e.r+=1:a.optional&&t[e.r+2]&&Wr(e.terms[e.t],t[e.r+2],e.start_i+e.t,e.phrase_length)&&(e.r+=2))}return n.greedy?V9(e,r,t[e.r+1]):(e.t+=1,!0)},K9=function(e){const{regs:t}=e;let n=t[e.r],r=e.terms[e.t],i=Wr(r,t[e.r+1],e.start_i+e.t,e.phrase_length);if(n.negative||i){let a=e.terms[e.t+1];(!a||!Wr(a,t[e.r+1],e.start_i+e.t,e.phrase_length))&&(e.r+=1)}},Y9=function(e){const{regs:t,phrase_length:n}=e;let r=t[e.r];return e.t=M9(e,t[e.r+1]),e.t===null||r.min&&r.min>e.t||r.end===!0&&e.start_i+e.t!==n?null:!0},J9=function(e){let t=e.terms[e.t],n=e.regs[e.r];if(t.implicit&&e.terms[e.t+1]){if(!e.terms[e.t+1].implicit)return;n.word===t.normal&&(e.t+=1),n.method==="hasContraction"&&(e.t+=1)}},X9=function(e,t){let n=e.regs[e.r];const r=e1(e,t);e.t>1&&n.greedy?r.length+=e.t-t:r.length++},Hv=function(e){const{regs:t}=e;let n=t[e.r],r=e.terms[e.t],i=e.t;return n.optional&&t[e.r+1]&&n.negative?!0:(n.optional&&t[e.r+1]&&K9(e),r.implicit&&e.terms[e.t+1]&&J9(e),e.t+=1,n.end===!0&&e.t!==e.terms.length&&n.greedy!==!0||n.greedy===!0&&!Y9(e)?null:(e.hasGroup===!0&&X9(e,i),!0))},yb=function(e,t,n,r){if(e.length===0||t.length===0)return null;let i={t:0,terms:e,r:0,regs:t,groups:{},start_i:n,phrase_length:r,inGroup:null};for(;i.r<t.length;i.r+=1){let s=t[i.r];if(i.hasGroup=!!s.group,i.hasGroup===!0?i.inGroup=s.group:i.inGroup=null,!i.terms[i.t]){if(t.slice(i.r).some(c=>!c.optional)===!1)break;return null}if(s.anything===!0&&s.greedy===!0){if(!H9(i))return null;continue}if(s.choices!==void 0&&s.operator==="or"){if(!q9(i))return null;continue}if(s.choices!==void 0&&s.operator==="and"){if(!$9(i))return null;continue}if(s.anything===!0){if(s.negative&&s.anything||!Hv(i))return null;continue}if(z9(s,i)===!0){if(!Hv(i))return null;continue}if(s.negative){if(!W9(i))return null;continue}if(Wr(i.terms[i.t],s,i.start_i+i.t,i.phrase_length)===!0){if(!Hv(i))return null;continue}if(s.optional!==!0)return null}let a=[null,n,i.t+n];if(a[1]===a[2])return null;let o={};return Object.keys(i.groups).forEach(s=>{let l=i.groups[s],u=n+l.start;o[s]=[null,u,u+l.length]}),{pointer:a,groups:o}},Z9=function(e,t){let n=[],r={};return e.length===0?{ptrs:n,byGroup:r}:(typeof t=="number"&&(t=String(t)),t?e.forEach(i=>{i.groups[t]&&n.push(i.groups[t])}):e.forEach(i=>{n.push(i.pointer),Object.keys(i.groups).forEach(a=>{r[a]=r[a]||[],r[a].push(i.groups[a])})}),{ptrs:n,byGroup:r})},eU=function(e,t,n){return e=e.filter(r=>{let[i,a,o]=r.pointer,s=n[i].slice(a,o);for(let l=0;l<s.length;l+=1){let u=s.slice(l);if(yb(u,t,l,s.length)!==null)return!1}return!0}),e},BI=function(e,t){return e.pointer[0]=t,Object.keys(e.groups).forEach(n=>{e.groups[n][0]=t}),e},tU=function(e,t,n){let r=yb(e,t,0,e.length);return r?(r=BI(r,n),r):null},nU=function(e,t,n){n=n||[];let{regs:r,group:i,justOne:a}=t,o=[];if(!r||r.length===0)return{ptrs:[],byGroup:{}};const s=r.filter(l=>l.optional!==!0&&l.negative!==!0).length;e:for(let l=0;l<e.length;l+=1){let u=e[l];if(!(n[l]&&O9(r,n[l]))){if(r[0].start===!0){let c=tU(u,r,l);c&&o.push(c);continue}for(let c=0;c<u.length;c+=1){let d=u.slice(c);if(d.length<s)break;let h=yb(d,r,c,u.length);if(h){if(h=BI(h,l),o.push(h),a===!0)break e;let f=h.pointer[2];Math.abs(f-1)>c&&(c=Math.abs(f-1))}}}}return r[r.length-1].end===!0&&(o=o.filter(l=>{let u=l.pointer[0];return e[u].length===l.pointer[2]})),t.notIf&&(o=eU(o,t.notIf,e)),o=Z9(o,i),o.ptrs.forEach(l=>{let[u,c,d]=l;l[3]=e[u][c].id,l[4]=e[u][d-1].id}),o},rU={one:{termMethods:Gh,parseMatch:B9,match:nU}},iU={parseMatch:function(e,t){const n=this.world();let r=n.methods.one.killUnicode;return r&&(e=r(e,n)),n.methods.one.parseMatch(e,t,n)}},aU={api:v9,methods:rU,lib:iU},oU=/^\../,sU=/^#./,lU=e=>(e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&apos;"),e),uU=function(e){let t="",n="</span>";return e=lU(e),oU.test(e)?t=`<span class="${e.replace(/^\./,"")}"`:sU.test(e)?t=`<span id="${e.replace(/^#/,"")}"`:(t=`<${e}`,n=`</${e}>`),t+=">",{start:t,end:n}},cU=function(e,t){let n={},r={};return Object.keys(t).forEach(i=>{let a=t[i],o=uU(i);typeof a=="string"&&(a=e.match(a)),a.docs.forEach(s=>{if(s.every(c=>c.implicit))return;let l=s[0].id;n[l]=n[l]||[],n[l].push(o.start);let u=s[s.length-1].id;r[u]=r[u]||[],r[u].push(o.end)})}),{starts:n,ends:r}},dU=function(e){let{starts:t,ends:n}=cU(this,e),r="";return this.docs.forEach(i=>{for(let a=0;a<i.length;a+=1){let o=i[a];t.hasOwnProperty(o.id)&&(r+=t[o.id].join("")),r+=o.pre||"",r+=o.text||"",n.hasOwnProperty(o.id)&&(r+=n[o.id].join("")),r+=o.post||""}}),r},fU={html:dU},TI=/[,:;)\]*.?~!\u0022\uFF02\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4-]+$/,YA=/^[(['"*~\uFF02\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F]+/,hU=/[,:;)('"\u201D\]]/,pU=/^[-]$/,gU=/ /,tu=function(e,t,n=!0){let r="";return e.forEach(i=>{let a=i.pre||"",o=i.post||"";t.punctuation==="some"&&(a=a.replace(YA,""),pU.test(o)&&(o=" "),o=o.replace(hU,""),o=o.replace(/\?!+/,"?"),o=o.replace(/!+/,"!"),o=o.replace(/\?+/,"?"),o=o.replace(/\.{2,}/,""),i.tags.has("Abbreviation")&&(o=o.replace(/\./,""))),t.whitespace==="some"&&(a=a.replace(/\s/,""),o=o.replace(/\s+/," ")),t.keepPunct||(a=a.replace(YA,""),o==="-"?o=" ":o=o.replace(TI,""));let s=i[t.form||"text"]||i.normal||"";t.form==="implicit"&&(s=i.implicit||i.text),t.form==="root"&&i.implicit&&(s=i.root||i.implicit||i.normal),(t.form==="machine"||t.form==="implicit"||t.form==="root")&&i.implicit&&(!o||!gU.test(o))&&(o+=" "),r+=a+s+o}),n===!1&&(r=r.trim()),t.lowerCase===!0&&(r=r.toLowerCase()),r},mU=function(e,t){let n="";if(!e||!e[0]||!e[0][0])return n;for(let r=0;r<e.length;r+=1)n+=tu(e[r],t,!0);if(t.keepSpace||(n=n.trim()),t.keepEndPunct===!1){e[0][0].tags.has("Emoticon")||(n=n.replace(YA,""));let r=e[e.length-1];r[r.length-1].tags.has("Emoticon")||(n=n.replace(TI,"")),n.endsWith("'")&&!n.endsWith("s'")&&(n=n.replace(/'/,""))}return t.cleanWhitespace===!0&&(n=n.trim()),n},_l={text:{form:"text"},normal:{whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"normal"},machine:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"none",unicode:"some",form:"machine"},root:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"root"},implicit:{form:"implicit"}};_l.clean=_l.normal;_l.reduced=_l.root;let OI=[],yu=0;for(;yu<64;)OI[yu]=0|Math.sin(++yu%Math.PI)*4294967296;const Ab=function(e){let t,n,r,i=[t=1732584193,n=4023233417,~t,~n],a=[],o=decodeURI(encodeURI(e))+"",s=o.length;for(e=--s/4+2|15,a[--e]=s*8;~s;)a[s>>2]|=o.charCodeAt(s)<<8*s--;for(yu=o=0;yu<e;yu+=16){for(s=i;o<64;s=[r=s[3],t+((r=s[0]+[t&n|~t&r,r&t|~r&n,t^n^r,n^(t|~r)][s=o>>4]+OI[o]+~~a[yu|[o,5*o+1,3*o+5,7*o][s]&15])<<(s=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*s+o++%4])|r>>>-s),t,n])t=s[1]|0,n=s[2];for(o=4;o;)i[--o]+=s[o]}for(e="";o<32;)e+=(i[o>>3]>>(1^o++)*4&15).toString(16);return e},vU={text:!0,terms:!0};let rE={case:"none",unicode:"some",form:"machine",punctuation:"some"};const Gv=function(e,t){return Object.assign({},e,t)},Es={text:e=>tu(e,{keepPunct:!0},!1),normal:e=>tu(e,Gv(_l.normal,{keepPunct:!0}),!1),implicit:e=>tu(e,Gv(_l.implicit,{keepPunct:!0}),!1),machine:e=>tu(e,rE,!1),root:e=>tu(e,Gv(rE,{form:"root"}),!1),hash:e=>Ab(tu(e,{keepPunct:!0},!1)),offset:e=>{let t=Es.text(e).length;return{index:e[0].offset.index,start:e[0].offset.start,length:t}},terms:e=>e.map(t=>{let n=Object.assign({},t);return n.tags=Array.from(t.tags),n}),confidence:(e,t,n)=>t.eq(n).confidence(),syllables:(e,t,n)=>t.eq(n).syllables(),sentence:(e,t,n)=>t.eq(n).fullSentence().text(),dirty:e=>e.some(t=>t.dirty===!0)};Es.sentences=Es.sentence;Es.clean=Es.normal;Es.reduced=Es.root;const yU=function(e,t){return t=t||{},typeof t=="string"&&(t={}),t=Object.assign({},vU,t),t.offset&&e.compute("offset"),e.docs.map((n,r)=>{let i={};return Object.keys(t).forEach(a=>{t[a]&&Es[a]&&(i[a]=Es[a](n,e,r))}),i})},JA={json:function(e){let t=yU(this,e);return typeof e=="number"?t[e]:t}};JA.data=JA.json;const AU=()=>typeof window<"u"&&window.document,wU=function(e){let t=this.methods.one.debug||{};return e&&t.hasOwnProperty(e)?(t[e](this),this):AU()?(t.clientSide(this),this):(t.tags(this),this)},bU=function(e){let t=e.pre||"",n=e.post||"";return t+e.text+n},xU=function(e,t){let n={};return Object.keys(t).forEach(r=>{e.match(r).fullPointer.forEach(a=>{n[a[3]]={fn:t[r],end:a[2]}})}),n},jI=function(e,t){let n=xU(e,t),r="";return e.docs.forEach((i,a)=>{for(let o=0;o<i.length;o+=1){let s=i[o];if(n.hasOwnProperty(s.id)){let{fn:l,end:u}=n[s.id],c=e.update([[a,o,u]]);r+=i[o].pre||"",r+=l(c),o=u-1,r+=i[o].post||""}else r+=bU(s)}}),r},EU=e=>Object.prototype.toString.call(e)==="[object Object]",kU=function(e){let t={};return e.forEach(r=>{t[r]=t[r]||0,t[r]+=1}),Object.keys(t).map(r=>({normal:r,count:t[r]})).sort((r,i)=>r.count>i.count?-1:0)},_U=function(e){if(EU(e))return jI(this,e);if(e==="text")return this.text();if(e==="normal")return this.text("normal");if(e==="root")return this.text("root");if(e==="machine"||e==="reduced")return this.text("machine");if(e==="hash"||e==="md5")return Ab(this.text());if(e==="json")return this.json();if(e==="offset"||e==="offsets")return this.compute("offset"),this.json({offset:!0});if(e==="array")return this.docs.map(n=>n.reduce((r,i)=>r+i.pre+i.text+i.post,"").trim()).filter(n=>n);if(e==="freq"||e==="frequency"||e==="topk")return kU(this.json({normal:!0}).map(t=>t.normal));if(e==="terms"){let t=[];return this.docs.forEach(n=>{let r=n.map(i=>i.text);r=r.filter(i=>i),t=t.concat(r)}),t}return e==="tags"?this.docs.map(t=>t.reduce((n,r)=>(n[r.implicit||r.normal]=Array.from(r.tags),n),{})):e==="debug"?this.debug():this.text()},CU={debug:wU,out:_U,wrap:function(e){return jI(this,e)}},SU=e=>Object.prototype.toString.call(e)==="[object Object]",NU={text:function(e){let t={};if(e&&typeof e=="string"&&_l.hasOwnProperty(e)?t=Object.assign({},_l[e]):e&&SU(e)&&(t=Object.assign({},e)),t.keepSpace===void 0&&!this.isFull()&&(t.keepSpace=!1),t.keepEndPunct===void 0&&this.pointer){let n=this.pointer[0];n&&n[1]?t.keepEndPunct=!1:t.keepEndPunct=!0}return t.keepPunct===void 0&&(t.keepPunct=!0),t.keepSpace===void 0&&(t.keepSpace=!0),mU(this.docs,t)}},IU=Object.assign({},CU,NU,JA,fU),PU=function(e){Object.assign(e.prototype,IU)},BU=function(e){console.log("%c -=-=- ","background-color:#6699cc;"),e.forEach(t=>{console.groupCollapsed(t.text());let r=t.docs[0].map(i=>{let a=i.text||"-";i.implicit&&(a="["+i.implicit+"]");let o="["+Array.from(i.tags).join(", ")+"]";return{text:a,tags:o}});console.table(r,["text","tags"]),console.groupEnd()})},Jo="\x1B[0m",ca={green:e=>"\x1B[32m"+e+Jo,red:e=>"\x1B[31m"+e+Jo,blue:e=>"\x1B[34m"+e+Jo,magenta:e=>"\x1B[35m"+e+Jo,cyan:e=>"\x1B[36m"+e+Jo,yellow:e=>"\x1B[33m"+e+Jo,black:e=>"\x1B[30m"+e+Jo,dim:e=>"\x1B[2m"+e+Jo,i:e=>"\x1B[3m"+e+Jo},TU=function(e,t){return t.one.tagSet&&(e=e.map(n=>{if(!t.one.tagSet.hasOwnProperty(n))return n;const r=t.one.tagSet[n].color||"blue";return ca[r](n)})),e.join(", ")},OU=function(e){let{docs:t,model:n}=e;t.length===0&&console.log(ca.blue(`
     `)),t.forEach(r=>{console.log(ca.blue(`
  `)),r.forEach(i=>{let a=[...i.tags||[]],o=i.text||"-";i.sense&&(o=`{${i.normal}/${i.sense}}`),i.implicit&&(o="["+i.implicit+"]"),o=ca.yellow(o);let s="'"+o+"'";if(i.reference){let u=e.update([i.reference]).text("normal");s+=` - ${ca.dim(ca.i("["+u+"]"))}`}s=s.padEnd(18);let l=ca.blue("   ")+ca.i(s)+"  - "+TU(a,n);console.log(l)})}),console.log(`
`)},jU=function(e){let{docs:t}=e;console.log(""),t.forEach(n=>{let r=[];n.forEach(i=>{i.chunk==="Noun"?r.push(ca.blue(i.implicit||i.normal)):i.chunk==="Verb"?r.push(ca.green(i.implicit||i.normal)):i.chunk==="Adjective"?r.push(ca.yellow(i.implicit||i.normal)):i.chunk==="Pivot"?r.push(ca.red(i.implicit||i.normal)):r.push(i.implicit||i.normal)}),console.log(r.join(" "),`
`)}),console.log(`
`)},DU=(e,t,n)=>{let r=n*9,i=t.start+r,a=i+t.length,o=e.substring(0,i),s=e.substring(i,a),l=e.substring(a,e.length);return[o,s,l]},LU=function(e,t,n){let r=DU(e,t,n);return`${r[0]}${ca.blue(r[1])}${r[2]}`},RU=function(e){if(!e.found)return;let t={};e.fullPointer.forEach(n=>{t[n[0]]=t[n[0]]||[],t[n[0]].push(n)}),Object.keys(t).forEach(n=>{let i=e.update([[Number(n)]]).text();e.update(t[n]).json({offset:!0}).forEach((s,l)=>{i=LU(i,s.offset,l)}),console.log(i)}),console.log(`
`)},FU={tags:OU,clientSide:BU,chunks:jU,highlight:RU},MU={api:PU,methods:{one:{hash:Ab,debug:FU}}},DI=function(e,t){if(e[0]!==t[0])return!1;let[,n,r]=e,[,i,a]=t;return n<=i&&r>i||i<=n&&a>n},UU=function(e){let t=e[0][1],n=e[0][2];return e.forEach(r=>{r[1]<t&&(t=r[1]),r[2]>n&&(n=r[2])}),[e[0][0],t,n]},t1=function(e){let t={};return e.forEach(n=>{t[n[0]]=t[n[0]]||[],t[n[0]].push(n)}),t},zU=function(e){let t={};for(let n=0;n<e.length;n+=1)t[e[n].join(",")]=e[n];return Object.values(t)},HU=function(e,t){let[n,r]=e,i=t[1],a=t[2],o={};if(r<i){let s=i<e[2]?i:e[2];o.before=[n,r,s]}return o.match=t,e[2]>a&&(o.after=[n,a,e[2]]),o},GU=function(e,t){return e[1]<=t[1]&&t[2]<=e[2]},LI=function(e,t){let n=t1(t),r=[];return e.forEach(i=>{let[a]=i,o=n[a]||[];if(o=o.filter(l=>GU(i,l)),o.length===0){r.push({passthrough:i});return}o=o.sort((l,u)=>l[1]-u[1]);let s=i;o.forEach((l,u)=>{let c=HU(s,l);o[u+1]?(r.push({before:c.before,match:c.match}),c.after&&(s=c.after)):r.push(c)})}),r},QU=20,qU=function(e,t,n){for(let r=0;r<QU;r+=1){if(t[n-r]){let i=t[n-r].findIndex(a=>a.id===e);if(i!==-1)return[n-r,i]}if(t[n+r]){let i=t[n+r].findIndex(a=>a.id===e);if(i!==-1)return[n+r,i]}}return null},$U=function(e,t){let[n,r,,,i]=e,a=t[n],o=a.findIndex(s=>s.id===i);return o===-1?(e[2]=t[n].length,e[4]=a.length?a[a.length-1].id:null):e[2]=o,t[n].slice(r,e[2]+1)},VU=function(e,t){let n=[];return e.forEach((r,i)=>{if(!r)return;let[a,o,s,l,u]=r,c=t[a]||[];if(o===void 0&&(o=0),s===void 0&&(s=c.length),l&&(!c[o]||c[o].id!==l)){let d=qU(l,t,a);if(d!==null){let h=s-o;c=t[d[0]].slice(d[1],d[1]+h);let f=c[0]?c[0].id:null;e[i]=[d[0],d[1],d[1]+h,f]}}else c=c.slice(o,s);c.length!==0&&o!==s&&(u&&c[c.length-1].id!==u&&(c=$U(r,t)),n.push(c))}),n=n.filter(r=>r.length>0),n},WU=function(e){let t=[];for(let n=0;n<e.length;n+=1)for(let r=0;r<e[n].length;r+=1)t.push(e[n][r]);return t},KU={one:{termList:WU,getDoc:VU,pointer:{indexN:t1,splitAll:LI}}},RI=function(e,t){let n=e.concat(t),r=t1(n),i=[];return n.forEach(a=>{let[o]=a;if(r[o].length===1){i.push(a);return}let s=r[o].filter(u=>DI(a,u));s.push(a);let l=UU(s);i.push(l)}),i=zU(i),i},FI=function(e,t){let n=[];return LI(e,t).forEach(i=>{i.passthrough&&n.push(i.passthrough),i.before&&n.push(i.before),i.after&&n.push(i.after)}),n},YU=function(e,t){let n=e[1]<t[1]?t[1]:e[1],r=e[2]>t[2]?t[2]:e[2];return n<r?[e[0],n,r]:null},JU=function(e,t){let n=t1(t),r=[];return e.forEach(i=>{let a=n[i[0]]||[];a=a.filter(o=>DI(i,o)),a.length!==0&&a.forEach(o=>{let s=YU(i,o);s&&r.push(s)})}),r},XU=function(e){return Object.prototype.toString.call(e)==="[object Array]"},wb=(e,t)=>typeof e=="string"||XU(e)?t.match(e):e||t.none(),lp=function(e,t){return e.map(n=>{let[r,i]=n;return t[r]&&t[r][i]&&(n[3]=t[r][i].id),n})},Fo={};Fo.union=function(e){e=wb(e,this);let t=RI(this.fullPointer,e.fullPointer);return t=lp(t,this.document),this.toView(t)};Fo.and=Fo.union;Fo.intersection=function(e){e=wb(e,this);let t=JU(this.fullPointer,e.fullPointer);return t=lp(t,this.document),this.toView(t)};Fo.not=function(e){e=wb(e,this);let t=FI(this.fullPointer,e.fullPointer);return t=lp(t,this.document),this.toView(t)};Fo.difference=Fo.not;Fo.complement=function(){let e=this.all(),t=FI(e.fullPointer,this.fullPointer);return t=lp(t,this.document),this.toView(t)};Fo.settle=function(){let e=this.fullPointer;return e.forEach(t=>{e=RI(e,[t])}),e=lp(e,this.document),this.update(e)};const ZU=function(e){Object.assign(e.prototype,Fo)},ez={methods:KU,api:ZU},tz={buildNet:function(e){let n=this.methods().one.buildNet(e,this.world());return n.isNet=!0,n}},nz=function(e){e.prototype.sweep=function(t,n={}){const{world:r,docs:i}=this,{methods:a}=r;let o=a.one.bulkMatch(i,t,this.methods,n);n.tagger!==!1&&a.one.bulkTagger(o,i,this.world),o=o.map(l=>{let u=l.pointer,c=i[u[0]][u[1]],d=u[2]-u[1];return c.index&&(l.pointer=[c.index[0],c.index[1],u[1]+d]),l});let s=o.map(l=>l.pointer);return o=o.map(l=>(l.view=this.update([l.pointer]),delete l.regs,delete l.needs,delete l.pointer,delete l._expanded,l)),{view:this.update(s),found:o}}},XA=function(e){return e.optional===!0||e.negative===!0?null:e.tag?"#"+e.tag:e.word?e.word:e.switch?`%${e.switch}%`:null},rz=function(e){let t=[];return e.forEach(n=>{t.push(XA(n)),n.operator==="and"&&n.choices&&n.choices.forEach(r=>{r.forEach(i=>{t.push(XA(i))})})}),t.filter(n=>n)},iz=function(e){let t=[],n=0;return e.forEach(r=>{r.operator==="or"&&!r.optional&&!r.negative&&(r.fastOr&&Array.from(r.fastOr).forEach(i=>{t.push(i)}),r.choices&&r.choices.forEach(i=>{i.forEach(a=>{let o=XA(a);o&&t.push(o)})}),n+=1)}),{wants:t,count:n}},az=function(e,t){const n=t.methods.one.parseMatch;return e.forEach(r=>{r.regs=n(r.match,{},t),typeof r.ifNo=="string"&&(r.ifNo=[r.ifNo]),r.notIf&&(r.notIf=n(r.notIf,{},t)),r.needs=rz(r.regs);let{wants:i,count:a}=iz(r.regs);r.wants=i,r.minWant=a,r.minWords=r.regs.filter(o=>!o.optional).length}),e},oz=function(e,t){e=az(e,t);let n={};e.forEach(i=>{i.needs.forEach(a=>{n[a]=Array.isArray(n[a])?n[a]:[],n[a].push(i)}),i.wants.forEach(a=>{n[a]=Array.isArray(n[a])?n[a]:[],n[a].push(i)})}),Object.keys(n).forEach(i=>{let a={};n[i]=n[i].filter(o=>typeof a[o.match]=="boolean"?!1:(a[o.match]=!0,!0))});let r=e.filter(i=>i.needs.length===0&&i.wants.length===0);return{hooks:n,always:r}},sz=function(e,t){return e.map((n,r)=>{let i=[];Object.keys(t).forEach(o=>{e[r].has(o)&&(i=i.concat(t[o]))});let a={};return i=i.filter(o=>typeof a[o.match]=="boolean"?!1:(a[o.match]=!0,!0)),i})},lz=function(e,t){return e.map((n,r)=>{let i=t[r];return n=n.filter(a=>a.needs.every(o=>i.has(o))),n=n.filter(a=>!(a.ifNo!==void 0&&a.ifNo.some(o=>i.has(o))===!0)),n=n.filter(a=>a.wants.length===0?!0:a.wants.filter(s=>i.has(s)).length>=a.minWant),n})},uz=function(e,t,n,r,i){let a=[];for(let o=0;o<e.length;o+=1)for(let s=0;s<e[o].length;s+=1){let l=e[o][s],u=r.one.match([t[o]],l);if(u.ptrs.length>0&&(u.ptrs.forEach(c=>{c[0]=o;let d=Object.assign({},l,{pointer:c});l.unTag!==void 0&&(d.unTag=l.unTag),a.push(d)}),i.matchOne===!0))return[a[0]]}return a},cz=function(e,t){return e.map((n,r)=>{let i=t[r].length;return n=n.filter(a=>i>=a.minWords),n})},dz=function(e,t,n,r={}){let i=n.one.cacheDoc(e),a=sz(i,t.hooks);return a=lz(a,i),t.always.length>0&&(a=a.map(s=>s.concat(t.always))),a=cz(a,e),uz(a,e,i,n,r)},fz=function(e,t,n){let r=n.one.tagSet;if(!r.hasOwnProperty(t))return!0;let i=r[t].not||[];for(let a=0;a<e.length;a+=1){let o=e[a];for(let s=0;s<i.length;s+=1)if(o.tags.has(i[s])===!0)return!1}return!0};var iE={};const hz=function(e,t,n){const{model:r,methods:i}=n,{getDoc:a,setTag:o,unTag:s}=i.one,l=i.two.looksPlural;return e.length===0?e:((typeof process>"u"||!iE?self.env||{}:iE).DEBUG_TAGS&&console.log(`

  \x1B[32m ${e.length} post-tagger:\x1B[0m`),e.map(c=>{if(!c.tag&&!c.chunk&&!c.unTag)return;let d=c.reason||c.match,h=a([c.pointer],t)[0];if(!(c.safe===!0&&(fz(h,c.tag,r)===!1||h[h.length-1].post==="-"))){if(c.tag!==void 0){if(o(h,c.tag,n,c.safe,`[post] '${d}'`),c.tag==="Noun"&&l){let f=h[h.length-1];l(f.text)?o([f],"Plural",n,c.safe,"quick-plural"):o([f],"Singular",n,c.safe,"quick-singular")}c.freeze===!0&&h.forEach(f=>f.frozen=!0)}c.unTag!==void 0&&s(h,c.unTag,n,c.safe,d),c.chunk&&h.forEach(f=>f.chunk=c.chunk)}}))},pz={buildNet:oz,bulkMatch:dz,bulkTagger:hz},gz={lib:tz,api:nz,methods:{one:pz}};var aE={};const MI=/ /,oE=function(e,t){t==="Noun"&&(e.chunk=t),t==="Verb"&&(e.chunk=t)},UI=function(e,t,n,r){if(e.tags.has(t)===!0||t===".")return null;e.frozen===!0&&(r=!0);let i=n[t];if(i){if(i.not&&i.not.length>0)for(let a=0;a<i.not.length;a+=1){if(r===!0&&e.tags.has(i.not[a]))return null;e.tags.delete(i.not[a])}if(i.parents&&i.parents.length>0)for(let a=0;a<i.parents.length;a+=1)e.tags.add(i.parents[a]),oE(e,i.parents[a])}return e.tags.add(t),e.dirty=!0,oE(e,t),!0},mz=function(e,t,n,r){let i=t.split(MI);e.forEach((a,o)=>{let s=i[o];s&&(s=s.replace(/^#/,""),UI(a,s,n,r))})},vz=function(e){return Object.prototype.toString.call(e)==="[object Array]"},yz=(e,t,n="")=>{const r=o=>"\x1B[33m\x1B[3m"+o+"\x1B[0m",i=o=>"\x1B[3m"+o+"\x1B[0m";let a=e.map(o=>o.text||"["+o.implicit+"]").join(" ");typeof t!="string"&&t.length>2&&(t=t.slice(0,2).join(", #")+" +"),t=typeof t!="string"?t.join(", #"):t,console.log(` ${r(a).padEnd(24)} \x1B[32m\x1B[0m #${t.padEnd(22)}  ${i(n)}`)},zI=function(e,t,n={},r,i){const a=n.model.one.tagSet||{};if(!t)return;const o=typeof process>"u"||!aE?self.env||{}:aE;if(o&&o.DEBUG_TAGS&&yz(e,t,i),vz(t)===!0){t.forEach(s=>zI(e,s,n,r));return}if(typeof t!="string"){console.warn(`compromise: Invalid tag '${t}'`);return}if(t=t.trim(),MI.test(t)){mz(e,t,a,r);return}t=t.replace(/^#/,"");for(let s=0;s<e.length;s+=1)UI(e[s],t,a,r)},Az=function(e,t,n){t=t.trim().replace(/^#/,"");for(let r=0;r<e.length;r+=1){let i=e[r];if(i.frozen===!0)continue;if(t==="*"){i.tags.clear();continue}let a=n[t];if(a&&a.children.length>0)for(let o=0;o<a.children.length;o+=1)i.tags.delete(a.children[o]);i.tags.delete(t)}},wz=function(e,t,n){if(!n.hasOwnProperty(t))return!0;let r=n[t].not||[];for(let i=0;i<r.length;i+=1)if(e.tags.has(r[i]))return!1;return!0},ul=function(e){return e.children=e.children||[],e._cache=e._cache||{},e.props=e.props||{},e._cache.parents=e._cache.parents||[],e._cache.children=e._cache.children||[],e},bz=/^ *(#|\/\/)/,xz=function(e){let t=e.trim().split(/->/),n=[];t.forEach(i=>{n=n.concat(function(a){if(!(a=a.trim()))return null;if(/^\[/.test(a)&&/\]$/.test(a)){let o=(a=(a=a.replace(/^\[/,"")).replace(/\]$/,"")).split(/,/);return o=o.map(s=>s.trim()).filter(s=>s),o=o.map(s=>ul({id:s})),o}return[ul({id:a})]}(i))}),n=n.filter(i=>i);let r=n[0];for(let i=1;i<n.length;i+=1)r.children.push(n[i]),r=n[i];return n[0]},hs=(e,t)=>{let n=[],r=[e];for(;r.length>0;){let i=r.pop();n.push(i),i.children&&i.children.forEach(a=>{t&&t(i,a),r.push(a)})}return n},bb=e=>Object.prototype.toString.call(e)==="[object Array]",_g=e=>(e=e||"").trim(),Ez=function(e=[]){return typeof e=="string"?function(n){let r=n.split(/\r?\n/),i=[];r.forEach(o=>{if(!o.trim()||bz.test(o))return;let s=(l=>{const u=/^( {2}|\t)/;let c=0;for(;u.test(l);)l=l.replace(u,""),c+=1;return c})(o);i.push({indent:s,node:xz(o)})});let a=function(o){let s={children:[]};return o.forEach((l,u)=>{l.indent===0?s.children=s.children.concat(l.node):o[u-1]&&function(c,d){let h=c[d].indent;for(;d>=0;d-=1)if(c[d].indent<h)return c[d];return c[0]}(o,u).node.children.push(l.node)}),s}(i);return a=ul(a),a}(e):bb(e)?function(n){let r={};n.forEach(a=>{r[a.id]=a});let i=ul({});return n.forEach(a=>{if((a=ul(a)).parent)if(r.hasOwnProperty(a.parent)){let o=r[a.parent];delete a.parent,o.children.push(a)}else console.warn(`[Grad] - missing node '${a.parent}'`);else i.children.push(a)}),i}(e):(hs(t=e).forEach(ul),t);var t},kz=e=>"\x1B[31m"+e+"\x1B[0m",_z=e=>"\x1B[2m"+e+"\x1B[0m",ZA=function(e,t){let n="-> ";t&&(n=_z(" "));let r="";return hs(e).forEach((i,a)=>{let o=i.id||"";if(t&&(o=kz(o)),a===0&&!i.id)return;let s=i._cache.parents.length;r+="    ".repeat(s)+n+o+`
`}),r},sE=function(e){let t=hs(e);t.forEach(r=>{delete(r=Object.assign({},r)).children});let n=t[0];return n&&!n.id&&Object.keys(n.props).length===0&&t.shift(),t},lE={text:ZA,txt:ZA,array:sE,flat:sE},uE=function(e,t){return t==="nested"||t==="json"?e:t==="debug"?(console.log(ZA(e,!0)),null):lE.hasOwnProperty(t)?lE[t](e):e},Qv=e=>{hs(e,(t,n)=>{t.id&&(t._cache.parents=t._cache.parents||[],n._cache.parents=t._cache.parents.concat([t.id]))})},Cz=(e,t)=>(Object.keys(t).forEach(n=>{if(t[n]instanceof Set){let r=e[n]||new Set;e[n]=new Set([...r,...t[n]])}else if((r=>r&&typeof r=="object"&&!Array.isArray(r))(t[n])){let r=e[n]||{};e[n]=Object.assign({},t[n],r)}else bb(t[n])?e[n]=t[n].concat(e[n]||[]):e[n]===void 0&&(e[n]=t[n])}),e),Sz=/\//;let Nz=class h0{constructor(t={}){Object.defineProperty(this,"json",{enumerable:!1,value:t,writable:!0})}get children(){return this.json.children}get id(){return this.json.id}get found(){return this.json.id||this.json.children.length>0}props(t={}){let n=this.json.props||{};return typeof t=="string"&&(n[t]=!0),this.json.props=Object.assign(n,t),this}get(t){if(t=_g(t),!Sz.test(t)){let r=this.json.children.find(i=>i.id===t);return new h0(r)}let n=((r,i)=>{let a=(o=>typeof o!="string"?o:(o=o.replace(/^\//,"")).split(/\//))(i=i||"");for(let o=0;o<a.length;o+=1){let s=r.children.find(l=>l.id===a[o]);if(!s)return null;r=s}return r})(this.json,t)||ul({});return new h0(n)}add(t,n={}){if(bb(t))return t.forEach(i=>this.add(_g(i),n)),this;t=_g(t);let r=ul({id:t,props:n});return this.json.children.push(r),new h0(r)}remove(t){return t=_g(t),this.json.children=this.json.children.filter(n=>n.id!==t),this}nodes(){return hs(this.json).map(t=>(delete(t=Object.assign({},t)).children,t))}cache(){return(t=>{let n=hs(t,(i,a)=>{i.id&&(i._cache.parents=i._cache.parents||[],i._cache.children=i._cache.children||[],a._cache.parents=i._cache.parents.concat([i.id]))}),r={};n.forEach(i=>{i.id&&(r[i.id]=i)}),n.forEach(i=>{i._cache.parents.forEach(a=>{r.hasOwnProperty(a)&&r[a]._cache.children.push(i.id)})}),t._cache.children=Object.keys(r)})(this.json),this}list(){return hs(this.json)}fillDown(){var t;return t=this.json,hs(t,(n,r)=>{r.props=Cz(r.props,n.props)}),this}depth(){Qv(this.json);let t=hs(this.json),n=t.length>1?1:0;return t.forEach(r=>{if(r._cache.parents.length===0)return;let i=r._cache.parents.length+1;i>n&&(n=i)}),n}out(t){return Qv(this.json),uE(this.json,t)}debug(){return Qv(this.json),uE(this.json,"debug"),this}};const HI=function(e){let t=Ez(e);return new Nz(t)};HI.prototype.plugin=function(e){e(this)};const wc={Noun:"blue",Verb:"green",Negative:"green",Date:"red",Value:"red",Adjective:"magenta",Preposition:"cyan",Conjunction:"cyan",Determiner:"cyan",Hyphenated:"cyan",Adverb:"cyan"},Iz=function(e){if(wc.hasOwnProperty(e.id))return wc[e.id];if(wc.hasOwnProperty(e.is))return wc[e.is];let t=e._cache.parents.find(n=>wc[n]);return wc[t]},Pz=function(e){const t={};return e.forEach(n=>{let{not:r,also:i,is:a,novel:o}=n.props,s=n._cache.parents;i&&(s=s.concat(i)),t[n.id]={is:a,not:r,novel:o,also:i,parents:s,children:n._cache.children,color:Iz(n)}}),Object.keys(t).forEach(n=>{let r=new Set(t[n].not);t[n].not.forEach(i=>{t[i]&&t[i].children.forEach(a=>r.add(a))}),t[n].not=Array.from(r)}),t},cE=function(e){return e?typeof e=="string"?[e]:e:[]},Bz=function(e,t){return Object.keys(e).forEach(n=>{e[n].isA&&(e[n].is=e[n].isA),e[n].notA&&(e[n].not=e[n].notA),e[n].is&&typeof e[n].is=="string"&&!t.hasOwnProperty(e[n].is)&&!e.hasOwnProperty(e[n].is)&&(e[e[n].is]={}),e[n].not&&typeof e[n].not=="string"&&!e.hasOwnProperty(e[n].not)&&!t.hasOwnProperty(e[n].not)&&!e.hasOwnProperty(e[n].not)&&(e[e[n].not]={})}),e},Tz=function(e,t){return e=Bz(e,t),Object.keys(e).forEach(n=>{e[n].children=cE(e[n].children),e[n].not=cE(e[n].not)}),Object.keys(e).forEach(n=>{(e[n].not||[]).forEach(i=>{e[i]&&e[i].not&&e[i].not.push(n)})}),e},Oz=function(e){const t=Object.keys(e).map(r=>{let i=e[r];const a={not:new Set(i.not),also:i.also,is:i.is,novel:i.novel};return{id:r,parent:i.is,props:a,children:[]}});return HI(t).cache().fillDown().out("array")},jz=function(e){return Object.keys(e).forEach(t=>{e[t]=Object.assign({},e[t]),e[t].novel=!0}),e},Dz=function(e,t){Object.keys(t).length>0&&(e=jz(e)),e=Tz(e,t);let n=Object.assign({},t,e);const r=Oz(n);return Pz(r)},Lz={one:{setTag:zI,unTag:Az,addTags:Dz,canBe:wz}},dE=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Rz={tag:function(e,t="",n){if(!this.found||!e)return this;let r=this.termList();if(r.length===0)return this;const{methods:i,verbose:a,world:o}=this;return a===!0&&console.log(" +  ",e,t||""),dE(e)?e.forEach(s=>i.one.setTag(r,s,o,n,t)):i.one.setTag(r,e,o,n,t),this.uncache(),this},tagSafe:function(e,t=""){return this.tag(e,t,!0)},unTag:function(e,t){if(!this.found||!e)return this;let n=this.termList();if(n.length===0)return this;const{methods:r,verbose:i,model:a}=this;i===!0&&console.log(" -  ",e,t||"");let o=a.one.tagSet;return dE(e)?e.forEach(s=>r.one.unTag(n,s,o)):r.one.unTag(n,e,o),this.uncache(),this},canBe:function(e){e=e.replace(/^#/,"");let t=this.model.one.tagSet,n=this.methods.one.canBe,r=[];this.document.forEach((a,o)=>{a.forEach((s,l)=>{n(s,e,t)||r.push([o,l,l+1])})});let i=this.update(r);return this.difference(i)}},Fz=function(e){Object.assign(e.prototype,Rz)},Mz=function(e){const{model:t,methods:n}=this.world(),r=t.one.tagSet,i=n.one.addTags;let a=i(e,r);return t.one.tagSet=a,this},Uz={addTags:Mz},fE=new Set(["Auxiliary","Possessive"]),zz=function(e,t){return e=e.sort((n,r)=>{if(fE.has(n)||!t.hasOwnProperty(r))return 1;if(fE.has(r)||!t.hasOwnProperty(n))return-1;let i=t[n].children||[],a=i.length;i=t[r].children||[];let o=i.length;return a-o}),e},Hz=function(e){const{document:t,world:n}=e,r=n.model.one.tagSet;t.forEach(i=>{i.forEach(a=>{let o=Array.from(a.tags);a.tagRank=zz(o,r)})})},Gz={model:{one:{tagSet:{}}},compute:{tagRank:Hz},methods:Lz,api:Fz,lib:Uz},Qz=/([.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s)/g,qz=/^[.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s$/,$z=/((?:\r?\n|\r)+)/,Vz=function(e){let t=[],n=e.split($z);for(let r=0;r<n.length;r++){let i=n[r].split(Qz);for(let a=0;a<i.length;a++)i[a+1]&&qz.test(i[a+1])===!0&&(i[a]+=i[a+1],i[a+1]=""),i[a]!==""&&t.push(i[a])}return t},Wz=/[a-z0-9\u00C0-\u00FF\u00a9\u00ae\u2000-\u3300\ud000-\udfff]/i,Kz=/\S/,Yz=function(e){let t=[];for(let n=0;n<e.length;n++){let r=e[n];if(!(r===void 0||r==="")){if(Kz.test(r)===!1||Wz.test(r)===!1){if(t[t.length-1]){t[t.length-1]+=r;continue}else if(e[n+1]){e[n+1]=r+e[n+1];continue}}t.push(r)}}return t},Jz=function(e,t){const n=t.methods.one.tokenize.isSentence,r=t.model.one.abbreviations||new Set;let i=[];for(let a=0;a<e.length;a++){let o=e[a];e[a+1]&&n(o,r)===!1?e[a+1]=o+(e[a+1]||""):o&&o.length>0&&(i.push(o),e[a]="")}return i},hE=280,GI={'"':'"',"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},Xz=RegExp("["+Object.keys(GI).join("")+"]","g"),Zz=RegExp("["+Object.values(GI).join("")+"]","g"),pE=function(e){if(!e)return!1;let t=e.match(Zz);return t!==null&&t.length===1},eH=function(e){let t=[];for(let n=0;n<e.length;n+=1){let i=e[n].match(Xz);if(i!==null&&i.length===1){if(pE(e[n+1])&&e[n+1].length<hE){e[n]+=e[n+1],t.push(e[n]),e[n+1]="",n+=1;continue}if(pE(e[n+2])){let a=e[n+1]+e[n+2];if(a.length<hE){e[n]+=a,t.push(e[n]),e[n+1]="",e[n+2]="",n+=2;continue}}}t.push(e[n])}return t},tH=250,gE=/\(/g,nH=/\)/g,rH=function(e){let t=[];for(let n=0;n<e.length;n+=1){let i=e[n].match(gE);if(i!==null&&i.length===1&&e[n+1]&&e[n+1].length<tH&&e[n+1].match(nH)!==null&&i.length===1&&!gE.test(e[n+1])){e[n]+=e[n+1],t.push(e[n]),e[n+1]="",n+=1;continue}t.push(e[n])}return t},iH=/\S/,mE=/^\s+/,aH=function(e,t){if(e=e||"",e=String(e),!e||typeof e!="string"||iH.test(e)===!1)return[];e=e.replace(""," ");let n=Vz(e),r=Yz(n);if(r=Jz(r,t),r=eH(r),r=rH(r),r.length===0)return[e];for(let i=1;i<r.length;i+=1){let a=r[i].match(mE);a!==null&&(r[i-1]+=a[0],r[i]=r[i].replace(mE,""))}return r},oH=function(e,t){let n=e.split(/[-]/);if(n.length<=1)return!1;const{prefixes:r,suffixes:i}=t.one;return n[0].length===1&&/[a-z]/i.test(n[0])||r.hasOwnProperty(n[0])||(n[1]=n[1].trim().replace(/[.?!]$/,""),i.hasOwnProperty(n[1]))?!1:/^([a-z\u00C0-\u00FF`"'/]+)[-]([a-z0-9\u00C0-\u00FF].*)/i.test(e)===!0||/^[('"]?([0-9]{1,4})[-]([a-z\u00C0-\u00FF`"'/-]+[)'"]?$)/i.test(e)===!0},sH=function(e){let t=[];const n=e.split(/[-]/);let r="-",i=e.match(/[-]/);i&&i[0]&&(r=i);for(let a=0;a<n.length;a++)a===n.length-1?t.push(n[a]):t.push(n[a]+r);return t},lH=function(e){const t=/^[0-9]{1,4}(:[0-9][0-9])?([a-z]{1,2})? ?[-] ?$/,n=/^[0-9]{1,4}([a-z]{1,2})? ?$/;for(let r=0;r<e.length-1;r+=1)e[r+1]&&t.test(e[r])&&n.test(e[r+1])&&(e[r]=e[r]+e[r+1],e[r+1]=null);return e},uH=new RegExp("\\p{L} ?\\/ ?\\p{L}+$","u"),cH=function(e){for(let t=1;t<e.length-1;t++)uH.test(e[t])&&(e[t-1]+=e[t]+e[t+1],e[t]=null,e[t+1]=null);return e},dH=/\S/,fH=/^[!?.]+$/,hH=/(\S+)/;let e2=[".","?","!",":",";","-","","","--","...","(",")","[","]",'"',"'","`","","","*",""];e2=e2.reduce((e,t)=>(e[t]=!0,e),{});const pH=function(e){return Object.prototype.toString.call(e)==="[object Array]"},gH=function(e,t){let n=[],r=[];if(e=e||"",typeof e=="number"&&(e=String(e)),pH(e))return e;const i=e.split(hH);for(let o=0;o<i.length;o++){if(oH(i[o],t)===!0){r=r.concat(sH(i[o]));continue}r.push(i[o])}let a="";for(let o=0;o<r.length;o++){let s=r[o];dH.test(s)===!0&&e2.hasOwnProperty(s)===!1&&fH.test(s)===!1?(n.length>0?(n[n.length-1]+=a,n.push(s)):n.push(a+s),a=""):a+=s}return a&&(n.length===0&&(n[0]=""),n[n.length-1]+=a),n=cH(n),n=lH(n),n=n.filter(o=>o),n},vE=new RegExp("\\p{Letter}","u"),Cg=/[\p{Number}\p{Currency_Symbol}]/u,mH=/^[a-z]\.([a-z]\.)+/i,vH=/[sn][']$/,yH=function(e,t){let{prePunctuation:n,postPunctuation:r,emoticons:i}=t.one,a=e,o="",s="",l=Array.from(e);if(i.hasOwnProperty(e.trim()))return{str:e.trim(),pre:o,post:" "};let u=l.length;for(let c=0;c<u;c+=1){let d=l[0];if(n[d]!==!0){if((d==="+"||d==="-")&&Cg.test(l[1])||d==="'"&&d.length===3&&Cg.test(l[1])||vE.test(d)||Cg.test(d))break;o+=l.shift()}}u=l.length;for(let c=0;c<u;c+=1){let d=l[l.length-1];if(r[d]!==!0){if(vE.test(d)||Cg.test(d))break;d==="."&&mH.test(a)===!0||d==="'"&&vH.test(a)===!0||(s=l.pop()+s)}}return e=l.join(""),e===""&&(a=a.replace(/ *$/,c=>(s=c||"","")),e=a,o=""),{str:e,pre:o,post:s}},AH=(e,t)=>{let{str:n,pre:r,post:i}=yH(e,t);return{text:n,pre:r,post:i,tags:new Set}},wH=function(e,t){const n=t.model.one.unicode||{};e=e||"";let r=e.split("");return r.forEach((i,a)=>{n[i]&&(r[a]=n[i])}),r.join("")},bH=function(e){e=e||"",e=e.toLowerCase(),e=e.trim();let t=e;return e=e.replace(/[,;.!?]+$/,""),e=e.replace(/\u2026/g,"..."),e=e.replace(/\u2013/g,"-"),/^[:;]/.test(e)===!1&&(e=e.replace(/\.{3,}$/g,""),e=e.replace(/[",.!:;?)]+$/g,""),e=e.replace(/^['"(]+/g,"")),e=e.replace(/[\u200B-\u200D\uFEFF]/g,""),e=e.trim(),e===""&&(e=t),e=e.replace(/([0-9]),([0-9])/g,"$1$2"),e},xH=/([A-Z]\.)+[A-Z]?,?$/,EH=/^[A-Z]\.,?$/,kH=/[A-Z]{2,}('s|,)?$/,_H=/([a-z]\.)+[a-z]\.?$/,CH=function(e){return xH.test(e)===!0||_H.test(e)===!0||EH.test(e)===!0||kH.test(e)===!0},SH=function(e){return CH(e)&&(e=e.replace(/\./g,"")),e},QI=function(e,t){const n=t.methods.one.killUnicode;let r=e.text||"";r=bH(r),r=n(r,t),r=SH(r),e.normal=r},NH=function(e,t){const{methods:n,model:r}=t,{splitSentences:i,splitTerms:a,splitWhitespace:o}=n.one.tokenize;return e=e||"",e=i(e,t).map(l=>{let u=a(l,r);return u=u.map(c=>o(c,r)),u.forEach(c=>{QI(c,t)}),u}),e},IH=/[ .][A-Z]\.? *$/i,PH=/(?:\u2026|\.{2,}) *$/,BH=new RegExp("\\p{L}","u"),TH=/\. *$/,OH=/^[A-Z]\. $/,jH=function(e,t){if(BH.test(e)===!1||IH.test(e)===!0||e.length===3&&OH.test(e)||PH.test(e)===!0)return!1;let r=e.replace(/[.!?\u203D\u2E18\u203C\u2047-\u2049] *$/,"").split(" "),i=r[r.length-1].toLowerCase();return!(t.hasOwnProperty(i)===!0&&TH.test(e)===!0)},DH={one:{killUnicode:wH,tokenize:{splitSentences:aH,isSentence:jH,splitTerms:gH,splitWhitespace:AH,fromString:NH}}},LH={"&":"and","@":"at","%":"percent",plz:"please",bein:"being"},RH=["approx","apt","bc","cyn","eg","esp","est","etc","ex","exp","prob","pron","gal","min","pseud","fig","jd","lat","lng","vol","fm","def","misc","plz","ea","ps","sec","pt","pref","pl","pp","qt","fr","sq","nee","ss","tel","temp","vet","ver","fem","masc","eng","adj","vb","rb","inf","situ","vivo","vitro","wr"],FH=["adj","adm","adv","asst","atty","bldg","brig","capt","cmdr","comdr","cpl","det","dr","esq","gen","gov","hon","jr","llb","lt","maj","messrs","mlle","mme","mr","mrs","ms","mstr","phd","prof","pvt","rep","reps","res","rev","sen","sens","sfc","sgt","sir","sr","supt","surg"],MH=["jan","feb","mar","apr","jun","jul","aug","sep","sept","oct","nov","dec"],UH=["ad","al","arc","ba","bl","ca","cca","col","corp","ft","fy","ie","lit","ma","md","pd","tce"],zH=["dept","univ","assn","bros","inc","ltd","co"],HH=["rd","st","dist","mt","ave","blvd","cl","cres","hwy","ariz","cal","calif","colo","conn","fla","fl","ga","ida","ia","kan","kans","minn","neb","nebr","okla","penna","penn","pa","dak","tenn","tex","ut","vt","va","wis","wisc","wy","wyo","usafa","alta","ont","que","sask"],GH=["dl","ml","gal","qt","pt","tbl","tsp","tbsp","km","dm","cm","mm","mi","td","hr","hrs","kg","hg","dg","cg","mg","g","lb","oz","sq ft","hz","mps","mph","kmph","kb","mb","tb","lx","lm","fl oz","yb"];let QH=[[RH],[GH,"Unit"],[UH,"Noun"],[FH,"Honorific"],[MH,"Month"],[zH,"Organization"],[HH,"Place"]],qI={},p0={};QH.forEach(e=>{e[0].forEach(t=>{qI[t]=!0,p0[t]="Abbreviation",e[1]!==void 0&&(p0[t]=[p0[t],e[1]])})});const qH=["anti","bi","co","contra","de","extra","infra","inter","intra","macro","micro","mis","mono","multi","peri","pre","pro","proto","pseudo","re","sub","supra","trans","tri","un","out","ex"].reduce((e,t)=>(e[t]=!0,e),{}),$H={like:!0,ish:!0,less:!0,able:!0,elect:!0,type:!0,designate:!0};let yE={"!":"","?":"",'"':'"',"'":"","-":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",I:"",i:"i",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""},$I={};Object.keys(yE).forEach(function(e){yE[e].split("").forEach(function(t){$I[t]=e})});const VH={"#":!0,"@":!0,_:!0,"":!0,"":!0,"":!0,"":!0,"\uFEFF":!0},WH={"%":!0,_:!0,"":!0,"":!0,"":!0,"":!0,"\uFEFF":!0},KH={"<3":!0,"</3":!0,"<\\3":!0,":^P":!0,":^p":!0,":^O":!0,":^3":!0},YH={one:{aliases:LH,abbreviations:qI,prefixes:qH,suffixes:$H,prePunctuation:VH,postPunctuation:WH,lexicon:p0,unicode:$I,emoticons:KH}},AE=/\//,JH=/[a-z]\.[a-z]/i,XH=/[0-9]/,ZH=function(e,t){let n=e.normal||e.text||e.machine;const r=t.model.one.aliases;if(r.hasOwnProperty(n)&&(e.alias=e.alias||[],e.alias.push(r[n])),AE.test(n)&&!JH.test(n)&&!XH.test(n)){let i=n.split(AE);i.length<=3&&i.forEach(a=>{a=a.trim(),a!==""&&(e.alias=e.alias||[],e.alias.push(a))})}return e},eG=new RegExp("^\\p{Letter}+-\\p{Letter}+$","u"),tG=function(e){let t=e.implicit||e.normal||e.text;t=t.replace(/[']s$/,""),t=t.replace(/s[']$/,"s"),t=t.replace(/([aeiou][ktrp])in'$/,"$1ing"),eG.test(t)&&(t=t.replace(/-/g,"")),t=t.replace(/^[#@]/,""),t!==e.normal&&(e.machine=t)},nG=function(e){let t=e.docs,n={};for(let r=0;r<t.length;r+=1)for(let i=0;i<t[r].length;i+=1){let a=t[r][i],o=a.machine||a.normal;n[o]=n[o]||0,n[o]+=1}for(let r=0;r<t.length;r+=1)for(let i=0;i<t[r].length;i+=1){let a=t[r][i],o=a.machine||a.normal;a.freq=n[o]}},rG=function(e){let t=0,n=0,r=e.document;for(let i=0;i<r.length;i+=1)for(let a=0;a<r[i].length;a+=1){let o=r[i][a];o.offset={index:n,start:t+o.pre.length,length:o.text.length},t+=o.pre.length+o.text.length+o.post.length,n+=1}},iG=function(e){let t=e.document;for(let n=0;n<t.length;n+=1)for(let r=0;r<t[n].length;r+=1)t[n][r].index=[n,r]},aG=function(e){let t=0,n=e.docs;for(let r=0;r<n.length;r+=1)for(let i=0;i<n[r].length;i+=1)n[r][i].normal!==""&&(t+=1,n[r][i].wordCount=t)},qv=function(e,t){let n=e.docs;for(let r=0;r<n.length;r+=1)for(let i=0;i<n[r].length;i+=1)t(n[r][i],e.world)},oG={alias:e=>qv(e,ZH),machine:e=>qv(e,tG),normal:e=>qv(e,QI),freq:nG,offset:rG,index:iG,wordCount:aG},sG={compute:oG,methods:DH,model:YH,hooks:["alias","machine","index","id"]},lG=function(e){const t=e.model.one.typeahead,n=e.docs;if(n.length===0||Object.keys(t).length===0)return;let r=n[n.length-1]||[],i=r[r.length-1];if(!i.post&&t.hasOwnProperty(i.normal)){let a=t[i.normal];i.implicit=a,i.machine=a,i.typeahead=!0,e.compute.preTagger&&e.last().unTag("*").compute(["lexicon","preTagger"])}},uG={typeahead:lG},cG=function(){const e=this.docs;if(e.length===0)return this;let t=e[e.length-1]||[],n=t[t.length-1];return n.typeahead===!0&&n.machine&&(n.text=n.machine,n.normal=n.machine),this},dG=function(e){e.prototype.autoFill=cG},fG=function(e,t,n){let r={},i=[],a=n.prefixes||{};return e.forEach(o=>{o=o.toLowerCase().trim();let s=o.length;t.max&&s>t.max&&(s=t.max);for(let l=t.min;l<s;l+=1){let u=o.substring(0,l);if(!(t.safe&&n.model.one.lexicon.hasOwnProperty(u))){if(a.hasOwnProperty(u)===!0){i.push(u);continue}if(r.hasOwnProperty(u)===!0){i.push(u);continue}r[u]=o}}}),r=Object.assign({},a,r),i.forEach(o=>{delete r[o]}),r},hG=e=>Object.prototype.toString.call(e)==="[object Object]",pG={safe:!0,min:3},gG=function(e=[],t={}){let n=this.model();t=Object.assign({},pG,t),hG(e)&&(Object.assign(n.one.lexicon,e),e=Object.keys(e));let r=fG(e,t,this.world());return Object.keys(r).forEach(i=>{if(n.one.typeahead.hasOwnProperty(i)){delete n.one.typeahead[i];return}n.one.typeahead[i]=r[i]}),this},mG={typeahead:gG},vG={one:{typeahead:{}}},yG={model:vG,api:dG,lib:mG,compute:uG,hooks:["typeahead"]};Dt.extend(sM);Dt.extend(MU);Dt.extend(aU);Dt.extend(ez);Dt.extend(Gz);Dt.plugin(OM);Dt.extend(sG);Dt.extend(LM);Dt.plugin(bF);Dt.extend(t9);Dt.extend(yG);Dt.extend(VM);Dt.extend(gz);const VI={addendum:"addenda",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",opus:"opera",ovum:"ova",phenomenon:"phenomena",referendum:"referenda",alga:"algae",alumna:"alumnae",antenna:"antennae",formula:"formulae",larva:"larvae",nebula:"nebulae",vertebra:"vertebrae",analysis:"analyses",axis:"axes",diagnosis:"diagnoses",parenthesis:"parentheses",prognosis:"prognoses",synopsis:"synopses",thesis:"theses",neurosis:"neuroses",appendix:"appendices",index:"indices",matrix:"matrices",ox:"oxen",sex:"sexes",alumnus:"alumni",bacillus:"bacilli",cactus:"cacti",fungus:"fungi",hippopotamus:"hippopotami",libretto:"libretti",modulus:"moduli",nucleus:"nuclei",octopus:"octopi",radius:"radii",stimulus:"stimuli",syllabus:"syllabi",cookie:"cookies",calorie:"calories",auntie:"aunties",movie:"movies",pie:"pies",rookie:"rookies",tie:"ties",zombie:"zombies",leaf:"leaves",loaf:"loaves",thief:"thieves",foot:"feet",goose:"geese",tooth:"teeth",beau:"beaux",chateau:"chateaux",tableau:"tableaux",bus:"buses",gas:"gases",circus:"circuses",crisis:"crises",virus:"viruses",database:"databases",excuse:"excuses",abuse:"abuses",avocado:"avocados",barracks:"barracks",child:"children",clothes:"clothes",echo:"echoes",embargo:"embargoes",epoch:"epochs",deer:"deer",halo:"halos",man:"men",woman:"women",mosquito:"mosquitoes",mouse:"mice",person:"people",quiz:"quizzes",rodeo:"rodeos",shoe:"shoes",sombrero:"sombreros",stomach:"stomachs",tornado:"tornados",tuxedo:"tuxedos",volcano:"volcanoes"},wE={Comparative:"truebett1f0;arth0ew0in0;er",Superlative:"trueearlier",PresentTense:"truebests,sounds",Condition:"truelest,unless",PastTense:"truebegan,came,d4had,kneel3l2m0sa4we1;ea0sg2;nt;eap0i0;ed;id",Participle:"true0:09;a06b01cZdXeat0fSgQhPoJprov0rHs7t6u4w1;ak0ithdra02o2r1;i02uY;k0v0;nd1pr04;ergoJoJ;ak0hHo3;e9h7lain,o6p5t4un3w1;o1um;rn;g,k;ol0reS;iQok0;ught,wn;ak0o1runk;ne,wn;en,wn;ewriNi1uJ;dd0s0;ut3ver1;do4se0t1;ak0h2;do2g1;roG;ne;ast0i7;iv0o1;ne,tt0;all0loBor1;bi3g2s1;ak0e0;iv0o9;dd0;ove,r1;a5eamt,iv0;hos0lu1;ng;e4i3lo2ui1;lt;wn;tt0;at0en,gun;r2w1;ak0ok0;is0;en",Gerund:"trueaccord0be0doin,go0result0stain0;ing",Expression:"truea0Yb0Uc0Sd0Oe0Mfarew0Lg0FhZjeez,lWmVnToOpLsJtIuFvEw7y0;a5e3i1u0;ck,p;k04p0;ee,pee;a0p,s;!h;!a,h,y;a5h2o1t0;af,f;rd up,w;atsoever,e1o0;a,ops;e,w;hoo,t;ery w06oi0L;gh,h0;! 0h,m;huh,oh;here nPsk,ut tut;h0ic;eesh,hh,it,oo;ff,h1l0ow,sst;ease,s,z;ew,ooey;h1i,mg,o0uch,w,y;h,o,ps;! 0h;hTmy go0wT;d,sh;a7evertheless,o0;!pe;eh,mm;ah,eh,m1ol0;!s;ao,fao;aCeBi9o2u0;h,mph,rra0zzC;h,y;l1o0;r6y9;la,y0;! 0;c1moCsmok0;es;ow;!p hip hoor0;ay;ck,e,llo,y;ha1i,lleluj0;ah;!ha;ah,ee4o1r0;eat scott,r;l1od0sh; grief,bye;ly;! whiz;ell;e0h,t cetera,ureka,ww,xcuse me;k,p;'oh,a0rat,uh;m0ng;mit,n0;!it;mon,o0;ngratulations,wabunga;a2oo1r0tw,ye;avo,r;!ya;h,m; 1h0ka,las,men,rgh,ye;!a,em,h,oy;la",Negative:"truen0;ever,o0;n,t",QuestionWord:"truehow3wh0;at,e1ich,o0y;!m,se;n,re; come,'s",Reflexive:"trueh4it5my5o1the0your2;ir1m1;ne3ur0;sel0;f,ves;er0im0;self",Plural:"truedick0gre0ones,records;ens","Unit|Noun":"truecEfDgChBinchAk9lb,m6newt5oz,p4qt,t1y0;ardEd;able1b0ea1sp;!l,sp;spo1;a,t,x;on9;!b,g,i1l,m,p0;h,s;!les;!b,elvin,g,m;!es;g,z;al,b;eet,oot,t;m,up0;!s",Value:"truea few",Imperative:"truebewa0come he0;re","Plural|Verb":"trueleaves",Demonym:"true0:15;1:12;a0Vb0Oc0Dd0Ce08f07g04h02iYjVkTlPmLnIomHpEqatari,rCs7t5u4v3welAz2;am0Gimbabwe0;enezuel0ietnam0I;gAkrai1;aiwTex0hai,rinida0Ju2;ni0Prkmen;a5cotti4e3ingapoOlovak,oma0Spaniard,udRw2y0W;ede,iss;negal0Cr09;sh;mo0uT;o5us0Jw2;and0;a2eru0Fhilippi0Nortugu07uerto r0S;kist3lesti1na2raguay0;ma1;ani;ami00i2orweP;caragu0geri2;an,en;a3ex0Lo2;ngo0Drocc0;cedo1la2;gasy,y07;a4eb9i2;b2thua1;e0Cy0;o,t01;azakh,eny0o2uwaiI;re0;a2orda1;ma0Ap2;anO;celandic,nd4r2sraeli,ta01vo05;a2iB;ni0qi;i0oneU;aiAin2ondur0unO;di;amEe2hanai0reek,uatemal0;or2rm0;gi0;ilipino,ren8;cuadoVgyp4mira3ngli2sto1thiopi0urope0;shm0;ti;ti0;aPominUut3;a9h6o4roat3ub0ze2;ch;!i0;lom2ngol5;bi0;a6i2;le0n2;ese;lifor1m2na3;bo2eroo1;di0;angladeshi,el6o4r3ul2;gaE;azi9it;li2s1;vi0;aru2gi0;si0;fAl7merBngol0r5si0us2;sie,tr2;a2i0;li0;genti2me1;ne;ba1ge2;ri0;ni0;gh0r2;ic0;an",Organization:"true0:4Q;a3Tb3Bc2Od2He2Df27g1Zh1Ti1Pj1Nk1Ll1Gm12n0Po0Mp0Cqu0Br02sTtHuCv9w3xiaomi,y1;amaha,m1Bou1w1B;gov,tu3C;a4e2iki1orld trade organizati33;leaRped0O;lls fargo,st1;fie2Hinghou2R;l1rner br3U;gree3Jl street journ2Im1E;an halOeriz2Xisa,o1;dafo2Yl1;kswagMvo;b4kip,n2ps,s1;a tod3Aps;es3Mi1;lev3Fted natio3C;er,s; mobi32aco beRd bOe9gi frida3Lh3im horto3Amz,o1witt3D;shi49y1;ota,s r 05;e 1in lizzy;b3carpen3Jdaily ma3Dguess w2holli0s1w2;mashing pumpki35uprem0;ho;ea1lack eyed pe3Xyr0Q;ch bo3Dtl0;l2n3Qs1xas instrumen1U;co,la m1F;efoni0Kus;a8cientology,e5ieme2Ymirnoff,np,o3pice gir6quare0Ata1ubaru;rbuc1to34;ks;ny,undgard1;en;a2x pisto1;ls;g1Wrs;few2Minsbur31lesfor03msu2E;adiohead,b8e4o1yana3C;man empi1Xyal 1;b1dutch she4;ank;a3d 1max,vl20;bu1c2Ahot chili peppe2Ylobst2N;ll;ders dige1Ll madrid;c,s;ant3Aizn2Q;a8bs,e5fiz2Ihilip4i3r1;emier 1udenti1D;leagTo2K;nk floyd,zza hut; morrBs;psi2tro1uge0E;br33chi0Tn33;!co;lant2Un1yp16; 2ason27da2P;ld navy,pec,range juli2xf1;am;us;aAb9e6fl,h5i4o1sa,vid3wa;k2tre dame,vart1;is;ia;ke,ntendo,ss0QvZ;l,s;c,st1Otflix,w1; 1sweek;kids on the block,york0D;a,c;nd22s2t1;ional aca2Po,we0U;a,c02d0S;aDcdonalCe9i6lb,o3tv,y1;spa1;ce;b1Tnsanto,ody blu0t1;ley cr1or0T;ue;c2t1;as,subisO;helin,rosoft;dica2rcedes benz,talli1;ca;id,re;ds;cs milk,tt19z24;a3e1g,ittle caesa1P; ore09novo,x1;is,mark,us; 1bour party;pres0Dz boy;atv,fc,kk,lm,m1od1O;art;iffy lu0Roy divisi0Jpmorgan1sa;! cha09;bm,hop,k3n1tv;g,te1;l,rpol;ea;a5ewlett pack1Vi3o1sbc,yundai;me dep1n1P;ot;tac1zbollah;hi;lliburt08sbro;eneral 6hq,ithub,l5mb,o2reen d0Ou1;cci,ns n ros0;ldman sachs,o1;dye1g0H;ar;axo smith kli04encoW;electr0Nm1;oto0Z;a5bi,c barcelo4da,edex,i2leetwood m03o1rito l0G;rd,xcY;at,fa,nancial1restoZ; tim0;na;cebook,nnie mae;b0Asa,u3xxon1; m1m1;ob0J;!rosceptics;aiml0De5isney,o4u1;nkin donu2po0Zran dur1;an;ts;j,w jon0;a,f lepp12ll,peche mode,r spieg02stiny's chi1;ld;aJbc,hFiDloudflaCnn,o3r1;aigsli5eedence clearwater reviv1ossra09;al;c7inba6l4m1o0Est09;ca2p1;aq;st;dplSg1;ate;se;a c1o chanQ;ola;re;a,sco1tigroup;! systems;ev2i1;ck fil a,na daily;r1y;on;d2pital o1rls jr;ne;bury,ill1;ac;aEbc,eBf9l5mw,ni,o1p,rexiteeU;ei3mbardiIston 1;glo1pizza;be;ng;o2ue c1;roV;ckbuster video,omingda1;le; g1g1;oodriL;cht2e ge0rkshire hathaw1;ay;el;cardi,idu,nana republ3s1xt5y5;f,kin robbi1;ns;ic;bYcTdidSerosmith,iRlKmEnheuser busDol,ppleAr6s4u3v2y1;er;is,on;di,todesk;hland o1sociated E;il;b3g2m1;co;os;ys; compu1be0;te1;rs;ch;c,d,erican3t1;!r1;ak; ex1;pre1;ss; 5catel2ta1;ir;! lu1;ce1;nt;jazeera,qae1;da;g,rbnb;as;/dc,a3er,tivision1;! blizz1;ard;demy of scienc0;es;ba",Possessive:"trueits,my,our0thy;!s","Noun|Verb":"true0:9W;1:AA;2:96;3:A3;4:9R;5:A2;6:9K;7:8N;8:7L;9:A8;A:93;B:8D;C:8X;a9Ob8Qc7Id6Re6Gf5Sg5Hh55i4Xj4Uk4Rl4Em40n3Vo3Sp2Squ2Rr21s0Jt02u00vVwGyFzD;ip,oD;ne,om;awn,e6Fie68;aOeMhJiHoErD;ap,e9Oink2;nd0rDuC;kDry,sh5Hth;!shop;ck,nDpe,re,sh;!d,g;e86iD;p,sD;k,p0t2;aDed,lco8W;r,th0;it,lk,rEsDt4ve,x;h,te;!ehou1ra9;aGen5FiFoD;iDmAte,w;ce,d;be,ew,sA;cuum,l4B;pDr7;da5gra6Elo6A;aReQhrPiOoMrGuEwiDy5Z;n,st;nDrn;e,n7O;aGeFiEoDu6;t,ub2;bu5ck4Jgg0m,p;at,k,nd;ck,de,in,nsDp,v7J;f0i8R;ll,ne,p,r4Yss,t94uD;ch,r;ck,de,e,le,me,p,re;e5Wow,u6;ar,e,ll,mp0st,xt;g,lDng2rg7Ps5x;k,ly;a0Sc0Ne0Kh0Fi0Dk0Cl0Am08n06o05pXquaBtKuFwD;ea88iD;ng,pe,t4;bGit,m,ppErD;fa3ge,pri1v2U;lDo6S;e6Py;!je8;aMeLiKoHrEuDy2;dy,ff,mb2;a85eEiDo5Pugg2;ke,ng;am,ss,t4;ckEop,p,rD;e,m;ing,pi2;ck,nk,t4;er,m,p;ck,ff,ge,in,ke,lEmp,nd,p2rDte,y;!e,t;k,l;aJeIiHlGoFrDur,y;ay,e56inDu3;g,k2;ns8Bt;a5Qit;ll,n,r87te;ed,ll;m,n,rk;b,uC;aDee1Tow;ke,p;a5Je4FiDo53;le,rk;eep,iDou4;ce,p,t;ateboa7Ii;de,gnDl2Vnk,p,ze;!al;aGeFiEoDuff2;ck,p,re,w;ft,p,v0;d,i3Ylt0;ck,de,pe,re,ve;aEed,nDrv1It;se,t2N;l,r4t;aGhedu2oBrD;aEeDibb2o3Z;en,w;pe,t4;le,n,r2M;cDfegua72il,mp2;k,rifi3;aZeHhy6LiGoEuD;b,in,le,n,s5X;a6ck,ll,oDpe,u5;f,t;de,ng,ot,p,s1W;aTcSdo,el,fQgPje8lOmMnLo17pJque6sFturn,vDwa6V;eDi27;al,r1;er74oFpe8tEuD;lt,me;!a55;l71rt;air,eaDly,o53;l,t;dezvo2Zt;aDedy;ke,rk;ea1i4G;a6Iist0r5N;act6Yer1Vo71uD;nd,se;a38o6F;ch,s6G;c1Dge,iEke,lly,nDp1Wt1W;ge,k,t;n,se;es6Biv0;a04e00hYiXlToNrEsy4uD;mp,n4rcha1sh;aKeIiHoDu4O;be,ceFdu3fi2grDje8mi1p,te6;amDe6W;!me;ed,ss;ce,de,nt;sDy;er6Cs;cti3i1;iHlFoEp,re,sDuCw0;e,i5Yt;l,p;iDl;ce,sh;nt,s5V;aEce,e32uD;g,mp,n7;ce,nDy;!t;ck,le,n17pe,tNvot;a1oD;ne,tograph;ak,eFnErDt;fu55mA;!c32;!l,r;ckJiInHrFsEtDu1y;ch,e9;s,te;k,tD;!y;!ic;nt,r,se;!a7;bje8ff0il,oErDutli3Qver4B;bAd0ie9;ze;a4ReFoDur1;d,tD;e,i3;ed,gle8tD;!work;aMeKiIoEuD;rd0;ck,d3Rld,nEp,uDve;nt,th;it5EkD;ey;lk,n4Brr5CsDx;s,ta2B;asuBn4UrDss;ge,it;il,nFp,rk3WsEtD;ch,t0;h,k,t0;da5n0oeuvB;aLeJiHoEuD;mp,st;aEbby,ck,g,oDve;k,t;d,n;cDe,ft,mAnIst;en1k;aDc0Pe4vK;ch,d,k,p,se;bFcEnd,p,t4uD;gh,n4;e,k;el,o2U;eEiDno4E;ck,d,ll,ss;el,y;aEo1OuD;i3mp;m,zz;mpJnEr46ssD;ue;c1Rdex,fluGha2k,se2HteDvoi3;nt,rD;e6fa3viD;ew;en3;a8le2A;aJeHiGoEuD;g,nt;l3Ano2Dok,pDr1u1;!e;ghli1Fke,nt,re,t;aDd7lp;d,t;ck,mGndFrEsh,tDu9;ch,e;bo3Xm,ne4Eve6;!le;!m0;aMear,ift,lKossJrFuD;arDe4Alp,n;antee,d;aFiEoDumb2;uCwth;ll,nd,p;de,sp;ip;aBoDue;ss,w;g,in,me,ng,s,te,ze;aZeWiRlNoJrFuD;ck,el,nDss,zz;c38d;aEoDy;st,wn;cDgme,me,nchi1;tuB;cFg,il,ld,rD;ce,e29mDwa31;!at;us;aFe0Vip,oDy;at,ck,od,wD;!er;g,ke,me,re,sh,vo1E;eGgFlEnDre,sh,t,x;an3i0Q;e,m,t0;ht,uB;ld;aEeDn3;d,l;r,tuB;ce,il,ll,rm,vo2W;cho,d7ffe8nMsKxFyeD;!baD;ll;cGerci1hFpDtra8;eriDo0W;en3me9;au6ibA;el,han7u1;caDtima5;pe;count0d,vy;a01eSiMoJrEuDye;b,el,mp,pli2X;aGeFiEoD;ne,p;ft,ll,nk,p,ve;am,ss;ft,g,in;cEd7ubt,wnloD;ad;k,u0E;ge6p,sFt4vD;e,iDor3;de;char7gui1h,liEpD;at4lay,u5;ke;al,bKcJfeIlGmaCposAsEtaD;il;e07iD;gn,re;ay,ega5iD;ght;at,ct;li04rea1;a5ut;b,ma7n3rDte;e,t;a0Eent0Dh06irc2l03oKrFuD;be,e,rDt;b,e,l,ve;aGeFoEuDy;sh;p,ss,wd;dAep;ck,ft,sh;at,de,in,lTmMnFordina5py,re,st,uDv0;gh,nDp2rt;s01t;ceHdu8fli8glomeIsFtDveN;a8rD;a6ol;e9tru8;ct;ntDrn;ra5;bHfoGmFpD;leDouCromi1;me9;aCe9it,u5;rt;at,iD;ne;lap1oD;r,ur;aEiDoud,ub;ck,p;im,w;aEeDip;at,ck,er;iGllen7nErD;ge,m,t;ge,nD;el;n,r;er,re;ke,ll,mp,noe,pGrXsFtEuDve;se,ti0I;alog,ch;h,t;!tuB;re;a03eZiXlToPrHuEyD;pa11;bb2ck2dgEff0mp,rDst,zz;den,n;et;anJeHiFoadEuD;i1sh;ca6;be,d7;ge;aDed;ch,k;ch,d;aFg,mb,nEoDrd0tt2x,ycott;k,st,t;d,e;rd,st;aFeCiDoYur;nk,tz;nd;me;as,d,ke,nd,opsy,tD;!ch,e;aFef,lt,nDt;d,efA;it;r,t;ck,il,lan3nIrFsEtt2;le;e,h;!gDk;aDe;in;!d,g,k;bu1c05dZge,iYlVnTppQrLsIttGucEwaD;rd;tiD;on;aDempt;ck;k,sD;i6ocia5;st;chFmD;!oD;ur;!iD;ve;eEroa4;ch;al;chDg0sw0;or;aEt0;er;rm;d,m,r;dreHvD;an3oD;ca5;te;ce;ss;cDe,he,t;eFoD;rd,u9;nt;nt,ss;se",Actor:"true0:7B;1:7G;2:6A;3:7F;4:7O;5:7K;a6Nb62c4Ud4Be41f3Sg3Bh30i2Uj2Qkin2Pl2Km26n1Zo1Sp0Vqu0Tr0JsQtJuHvEw8yo6;gi,ut6;h,ub0;aAe9i8o7r6;estl0it0;m2rk0;fe,nn0t2Bza2H;atherm2ld0;ge earn0it0nder0rri1;eter7i6oyF;ll5Qp,s3Z;an,ina2U;n6s0;c6Uder03;aoisea23e9herapi5iktok0o8r6ut1yco6S;a6endseLo43;d0mp,nscri0Bvel0;ddl0u1G;a0Qchn7en6na4st0;ag0;i3Oo0D;aiXcUeRhPiMki0mu26oJpGquaFtBu7wee6;p0theart;lt2per7r6;f0ge6Iviv1;h6inten0Ist5Ivis1;ero,um2;a8ep7r6;ang0eam0;bro2Nc2Ofa2Nmo2Nsi20;ff0tesm2;tt0;ec7ir2Do6;kesp59u0M;ia5Jt3;l7me6An,rcere6ul;r,ss;di0oi5;n7s6;sy,t0;g0n0;am2ephe1Iow6;girl,m2r2Q;cretInior cit3Fr6;gea4v6;a4it1;hol4Xi7reen6ulpt1;wr2C;e01on;l1nt;aEe9o8u6;l0nn6;er up,ingE;g40le mod3Zof0;a4Zc8fug2Ppo32searQv6;ere4Uolution6;ary;e6luYru22;ptio3T;bbi,dic5Vpp0;arter6e2Z;back;aYeWhSiRlOoKr8sycho7u6;nk,p31;logi5;aGeDiBo6;d9fess1g7ph47s6;pe2Ktitu51;en6ramm0;it1y;igy,uc0;est4Nme mini0Unce6s3E;!ss;a7si6;de4;ch0;ctiti39nk0P;dca0Oet,li6pula50rnst42;c2Itic6;al scie6i2;nti5;a6umb0;nn0y6;er,ma4Lwright;lgrim,one0;a8iloso7otogra7ra6ysi1V;se;ph0;ntom,rmaci5;r6ssi1T;form0s4O;i3El,nel3Yr8st1tr6wn;i6on;arWot;ent4Wi42tn0;ccupa4ffBp8r7ut6;ca5l0B;ac4Iganiz0ig2Fph2;er3t6;i1Jomet6;ri5;ic0spring;aBe9ie4Xo7u6;n,rser3J;b6mad,vi4V;le2Vo4D;i6mesis,phew;ce,ghb1;nny,rr3t1X;aEeDiAo7u6yst1Y;m8si16;der3gul,m7n6th0;arDk;!my;ni7s6;f02s0Jt0;on,st0;chan1Qnt1rcha4;gi9k0n8rtyr,t6y1;e,riar6;ch;ag0iac;ci2stra3I;a7e2Aieutena4o6;rd,s0v0;bor0d7ndlo6ss,urea3Fwy0ym2;rd;!y;!s28;e8o7u6;ggl0;gg0urna2U;st0;c3Hdol,llu3Ummigra4n6; l9c1Qfa4habi42nov3s7ve6;nt1stig3;pe0Nt6;a1Fig3ru0M;aw;airFeBistoAo8u6ygie1K;man6sba2H;!ita8;bo,st6usekN;age,e3P;ri2;ir,r6;m7o6;!ine;it;dress0sty2C;aLeIhostGirl26ladi3oCrand7u6;e5ru;c9daug0Jfa8m7pa6s2Y;!re4;a,o6;th0;hi1B;al7d6lf0;!de3A;ie,k6te26;eep0;!wr6;it0;isha,n6;i6tl04;us;mbl0rden0;aDella,iAo7r6;eela2Nie1P;e,re6ster pare4;be1Hm2r6st0;unn0;an2ZgZlmm17nanci0r6tt0;e6st la2H; marsh2OfigXm2;rm0th0;conoEdDlectriCm8n7x6;amin0cellency,i2A;emy,trepreneur,vironmenta1J;c8p6;er1loye6;e,r;ee;ci2;it1;mi5;aKeBi8ork,ri7u6we02;de,tche2H;ft0v0;ct3eti7plom2Hre6va;ct1;ci2ti2;aDcor3fencCi0InAput9s7tectLvel6;op0;ce1Ge6ign0;rt0;ee,y;iz6;en;em2;c1Ml0;d8nc0redev7ug6;ht0;il;!dy;a06e04fo,hXitizenWlToBr9u6;r3stomer6;! representat6;ive;e3it6;ic;lJmGnAord9rpor1Nu7w6;boy,ork0;n6ri0;ciTte1Q;in3;fidantAgressSs9t6;e0Kr6;ibut1o6;ll0;tab13ul1O;!e;edi2m6pos0rade;a0EeQissi6;on0;leag8on7um6;ni5;el;ue;e6own;an0r6;ic,k;!s;a9e7i6um;ld;erle6f;ad0;ir7nce6plFract0;ll1;m2wI;lebri6o;ty;dBptAr6shi0;e7pe6;nt0;r,t6;ak0;ain;et;aMeLiJlogg0oErBu6;dd0Fild0rgl9siness6;m2p7w6;om2;ers05;ar;i7o6;!k0th0;cklay0de,gadi0;hemi2oge8y6;!frie6;nd;ym2;an;cyc6sR;li5;atbox0ings;by,nk0r6;b0on7te6;nd0;!e07;c04dWge4nQpLrHsFtAu7yatull6;ah;nt7t6;h1oG;!ie;h8t6;e6orney;nda4;ie5le6;te;sis00tron6;aut,om0;chbis8isto7tis6;an,t;crU;hop;ost9p6;ari6rentiS;ti6;on;le;a9cest1im3nou8y6;bo6;dy;nc0;ly5rc6;hi5;mi8v6;entur0is1;er;ni7r6;al;str3;at1;or;counBquaintanArob9t6;ivi5or,re6;ss;st;at;ce;ta4;nt","Adj|Noun":"true0:16;a1Db17c0Ud0Re0Mf0Dg0Ah08i06ju05l02mWnUoSpNrIsBt7u4v1watershed;a1ision0Z;gabo4nilla,ria1;b0Vnt;ndergr1pstairs;adua14ou1;nd;a3e1oken,ri0;en,r1;min0rori13;boo,n;age,e5ilv0Flack,o3quat,ta2u1well;bordina0Xper5;b0Lndard;ciali0Yl1vereign;e,ve16;cret,n1ri0;ior;a4e2ou1ubbiL;nd,tiY;ar,bBl0Wnt0p1side11;resent0Vublican;ci0Qsh;a4eriodic0last0Zotenti0r1;emi2incip0o1;!fession0;er,um;rall4st,tie0U;ff1pposi0Hv0;ens0Oi0C;agg01ov1uts;el;a5e3iniatJo1;bi01der07r1;al,t0;di1tr0N;an,um;le,riG;attOi2u1;sh;ber0ght,qC;stice,veniT;de0mpressioYn1;cumbe0Edividu0no0Dsta0Eterim;alf,o1umdrum;bby,melF;en2old,ra1;ph0Bve;er0ious;a7e5i4l3u1;git03t1;ure;uid;ne;llow,m1;aFiL;ir,t,vo1;riOuriO;l3p00x1;c1ecutUpeV;ess;d1iK;er;ar2e1;mographUrivO;k,l2;hiGlassSo2rude,unn1;ing;m5n1operK;creCstitueOte2vertab1;le;mpor1nt;ary;ic,m2p1;anion,lex;er2u1;ni8;ci0;al;e5lank,o4r1;i2u1;te;ef;ttom,urgeois;st;cadem9d6l2ntarct9r1;ab,ct8;e3tern1;at1;ive;rt;oles1ult;ce1;nt;ic","Adj|Past":"true0:4Q;1:4C;2:4H;3:4E;a44b3Tc36d2Je29f20g1Wh1Si1Jj1Gkno1Fl1Am15n12o0Xp0Mqu0Kr08sLtEuAv9w4yellow0;a7ea6o4rinkl0;r4u3Y;n,ri0;k31th3;rp0sh0tZ;ari0e1O;n5p4s0;d1li1Rset;cov3derstood,i4;fi0t0;a8e3Rhr7i6ouTr4urn0wi4C;a4imm0ou2G;ck0in0pp0;ed,r0;eat2Qi37;m0nn0r4;get0ni2T;aOcKeIhGimFm0Hoak0pDt7u4;bsid3Ogge44s4;pe4ta2Y;ct0nd0;a8e7i2Eok0r5u4;ff0mp0nn0;ength2Hip4;ed,p0;am0reotyp0;in0t0;eci4ik0oH;al3Efi0;pRul1;a4ock0ut;d0r0;a4c1Jle2t31;l0s3Ut0;a6or5r4;at4e25;ch0;r0tt3;t4ut0;is2Mur1;aEe5o4;tt0;cAdJf2Bg9je2l8m0Knew0p7qu6s4;eTpe2t4;or0ri2;e3Dir0;e1lac0;at0e2Q;i0Rul1;eiv0o4ycl0;mme2Lrd0v3;in0lli0ti2A;a4ot0;li28;aCer30iBlAo9r5u4;mp0zzl0;e6i2Oo4;ce2Fd4lo1Anou30pos0te2v0;uc0;fe1CocCp0Iss0;i2Kli1L;ann0e2CuS;ck0erc0ss0;ck0i2Hr4st0;allLk0;bse7c6pp13rgan2Dver4;lo4whelm0;ok0;cupi0;rv0;aJe5o4;t0uri1A;ed0gle2;a6e5ix0o4ut0ys1N;di1Nt15u26;as0Clt0;n4rk0;ag0ufact0A;e6i5o4;ad0ck0st,v0;cens0m04st0;ft,v4;el0;tt0wn;a5o15u4;dg0s1B;gg0;llumSmpAn4sol1;br0cre1Ldebt0f8jZspir0t5v4;it0olv0;e4ox0Y;gr1n4re23;d0si15;e2l1o1Wuri1;li0o01r4;ov0;a6e1o4um03;ok0r4;ri0Z;mm3rm0;i6r5u4;a1Bid0;a0Ui0Rown;ft0;aAe9i8l6oc0Ir4;a4i0oz0Y;ctHg19m0;avo0Ju4;st3;ni08tt0x0;ar0;d0il0sc4;in1;dCl1mBn9quipp0s8x4;agger1c6p4te0T;a0Se4os0;ct0rie1D;it0;cap0tabliZ;cha0XgFha1As4;ur0;a0Zbarra0N;i0Buc1;aMeDi5r4;a01i0;gni08miniSre2s4;a9c6grun0Ft4;o4re0Hu17;rt0;iplWou4;nt0r4;ag0;bl0;cBdRf9l8p7ra6t5v4;elop0ot0;ail0ermQ;ng0;re07;ay0ight0;e4in0o0M;rr0;ay0enTor1;m5t0z4;ed,zl0;ag0p4;en0;aPeLhIlHo9r6u4;lt4r0stom03;iv1;a5owd0u4;sh0;ck0mp0;d0loAm7n4ok0v3;centr1f5s4troC;id3olid1;us0;b5pl4;ic1;in0;r0ur0;assi9os0utt3;ar5i4;ll0;g0m0;lebr1n6r4;ti4;fi0;tralJ;g0lcul1;aDewild3iCl9o7r5urn4;ed,t;ok4uis0;en;il0r0t4und;tl0;e5i4;nd0;ss0;as0;ffl0k0laMs0tt3;bPcNdKfIg0lFmaz0nDppBrm0ss9u5wa4;rd0;g5thor4;iz0;me4;nt0;o6u4;m0r0;li0re4;ci1;im1ticip1;at0;a5leg0t3;er0;rm0;fe2;ct0;ju5o7va4;nc0;st0;ce4knowledg0;pt0;and5so4;rb0;on0;ed",Singular:"true0:5J;1:5H;2:4W;3:4S;4:52;5:57;6:5L;7:56;8:5B;a52b4Lc3Nd35e2Xf2Og2Jh28in24j23k22l1Um1Ln1Ho1Bp0Rqu0Qr0FsZtMuHvCw9x r58yo yo;a9ha3Po3Q;f3i4Rt0Gy9;! arou39;arCeAideo ga2Qo9;cabu4Jl5C;gOr9t;di4Zt1Y;iety,ni4P;nBp30rAs 9;do43s5E;bani1in0;coordinat3Ader9;estima1to24we41; rex,aKeJhHiFoErBuAv9;! show;m2On2rntLto1D;agedy,ib9o4E;e,u9;n0ta46;ni1p2rq3L;c,er,m9;etF;ing9ree26;!y;am,mp3F;ct2le6x return;aNcMeKhor4QiJkHoGpin off,tDuBy9;ll9ner7st4T;ab2X;b9i1n28per bowl,rro1X;st3Ltot0;atAipe2Go1Lrate7udent9;! lo0I;i39u1;ft ser4Lmeo1I;elet5i9;ll,r3V;b38gn2Tte;ab2Jc9min3B;t,urity gua2N;e6ho2Y;bbatic0la3Jndwi0Qpi5;av5eDhetor2iAo9;de6om,w;tAv9;erb2C;e,u0;bDcBf9publ2r10spi1;er9orm3;e6r0;i9ord label;p2Ht0;a1u46;estion mark,ot2F;aPeMhoLiIlGoErAu9yram1F;ddi3HpErpo1Js3J;eBo9;bl3Zs9;pe3Jta1;dic1Rmi1Fp1Qroga8ss relea1F;p9rt0;py;a9ebisci1;q2Dte;cn2eAg9;!gy;!r;ne call,tocoK;anut,dAr9t0yo1;cen3Jsp3K;al,est0;nop4rAt9;e,hog5;adi11i2V;atme0bj3FcBpia1rde0thers,utspok5ve9wn3;n,r9;ti0Pview;cuAe9;an;pi3;arBitAot9umb3;a2Fhi2R;e,ra1;cot2ra8;aFeCiAo9ur0;nopo4p18rni2Nsq1Rti36uld;c,li11n0As9tt5;chief,si34;dAnu,t9;al,i3;al,ic;gna1mm0nd15rsupi0te9yf4;ri0;aDegCiBu9;ddi1n9;ch;me,p09; Be0M;bor14y9; 9er;up;eyno1itt5;el4ourn0;cBdices,itia8ni25sAtel0Lvert9;eb1J;e28titu1;en8i2T;aIeEighDoAu9;man right,s22;me9rmoFsp1Ftb0K;! r9;un; scho0YriY;a9i1N;d9v5; start,pho9;ne;ndful,sh brown,v5ze;aBelat0Ilaci3r9ul4yp1S;an9enadi3id;a1Cd slam,ny;df4r9;l2ni1I;aGeti1HiFlu1oCrAun9;er0;ee market,i9onti3;ga1;l4ur9;so9;me;ePref4;br2mi4;conoFffi7gg,lecto0Rmbas1EnCpidem2s1Zth2venBxAyel9;id;ampZempl0Nte6;i19t;er7terp9;ri9;se;my;eLiEoBr9ump tru0U;agonf4i9;er,ve thru;cAg7i4or,ssi3wn9;side;to0EumenE;aEgniDnn3sAvide9;nd;conte6incen8p9tri11;osi9;ti0C;ta0H;le0X;athBcAf9ni0terre6;ault 05err0;al,im0;!b9;ed;aWeThMiLlJoDr9;edit caBuc9;ib9;le;rd;efficDke,lCmmuniqLnsApi3rr0t0Xus9yo1;in;erv9uI;ato02;ic,lQ;ie6;er7i9oth;e6n2;ty,vil wM;aDeqCick5ocoBr9;istmas car9ysanthemum;ol;la1;ue;ndeli3racteri9;st2;iAllEr9;e0tifica1;liZ;hi3nFpErCt9ucus;erpi9hedr0;ll9;ar;!bohyd9ri3;ra1;it0;aAe,nib0t9;on;l,ry;aMeLiop2leJoHrDu9;nny,r9tterf4;g9i0;la9;ry;eakAi9;ck;fa9throB;st;dy,ro9wl;ugh;mi9;sh;an,l4;nkiArri3;er;ng;cSdMlInFppeti1rDsBtt2utop9;sy;ic;ce6pe9;ct;r9sen0;ay;ecAoma4tiA;ly;do1;i5l9;er7y;gy;en; hominDjAvan9;tage;ec8;ti9;ve;em;cCeAqui9;tt0;ta1;te;iAru0;al;de6;nt","Person|Noun":"truea0Eb07c03dWeUfQgOhLjHkiGlFmCnBolive,p7r4s3trini06v1wa0;ng,rd,tts;an,enus,iol0;a,et;ky,onPumm09;ay,e1o0uby;bin,d,se;ed,x;a2e1o0;l,tt04;aLnJ;dYge,tR;at,orm;a0eloW;t0x,ya;!s;a9eo,iH;ng,tP;a2e1o0;lGy;an,w3;de,smi4y;a0erb,iOolBuntR;ll,z0;el;ail,e0iLuy;ne;a1ern,i0lo;elds,nn;ith,n0;ny;a0dEmir,ula,ve;rl;a4e3i1j,ol0;ly;ck,x0;ie;an,ja;i0wn;sy;am,h0liff,rystal;a0in,ristian;mbers,ri0;ty;a4e3i2o,r0ud;an0ook;dy;ll;nedict,rg;k0nks;er;l0rt;fredo,ma","Actor|Verb":"trueaCb8c5doctor,engineAfool,g3host,judge,m2nerd,p1recruit,scout,ushAvolunteAwi0;mp,tneA;arent,ilot;an,ime;eek,oof,r0uide;adu8oom;ha1o0;ach,nscript,ok;mpion,uffeur;o2u0;lly,tch0;er;ss;ddi1ffili0rchite1;ate;ct",MaleName:"true0:H6;1:FZ;2:DS;3:GQ;4:CZ;5:FV;6:GM;7:FP;8:GW;9:ET;A:C2;B:GD;aF8bE1cCQdBMeASfA1g8Yh88i7Uj6Sk6Bl5Mm48n3So3Ip33qu31r26s1Et0Ru0Ov0CwTxSyHzC;aCor0;cChC1karia,nAT;!hDkC;!aF6;!ar7CeF5;aJevgenBSoEuC;en,rFVsCu3FvEF;if,uf;nDs6OusC;ouf,s6N;aCg;s,tC;an,h0;hli,nCrosE1ss09;is,nC;!iBU;avi2ho5;aPeNiDoCyaEL;jcieBJlfgang,odrFutR;lFnC;f8TsC;lCt1;ow;bGey,frEhe4QlC;aE5iCy;am,e,s;ed8iC;d,ed;eAur;i,ndeD2rn2sC;!l9t1;lDyC;l1ne;lDtC;!er;aCHy;aKernDAiFladDoC;jteB0lodymyr;!iC;mFQsDB;cFha0ktBZnceDrgCOvC;a0ek;!nC;t,zo;!e4StBV;lCnC7sily;!entC;in9J;ghE2lCm70nax,ri,sm0;riCyss87;ch,k;aWeRhNiLoGrEuDyC;!l2roEDs1;n6r6E;avD0eCist0oy,um0;ntCRvBKy;bFdAWmCny;!asDmCoharu;aFFie,y;!z;iA6y;mCt4;!my,othy;adEeoDia0SomC;!as;!dor91;!de4;dFrC;enBKrC;anBJeCy;ll,nBI;!dy;dgh,ha,iCnn2req,tsu5V;cDAka;aYcotWeThPiMlobod0oKpenc2tEurDvenAEyCzym1;ed,lvest2;aj,e9V;anFeDuC;!aA;fan17phEQvCwaA;e77ie;!islaCl9;v,w;lom1rBuC;leymaDHta;dDgmu9UlCm1yabonga;as,v8B;!dhart8Yn9;aEeClo75;lCrm0;d1t1;h9Jne,qu1Jun,wn,yne;aDbastiEDk2Yl5Mpp,rgCth,ymoCU;e1Dio;m4n;!tC;!ie,y;eDPlFmEnCq67tosCMul;dCj2UtiA5;e01ro;!iATkeB6mC4u5;!ik,vato9K;aZeUheC8iRoGuDyC;an,ou;b99dDf4peAssC;!elEG;ol00y;an,bLc7MdJel,geIh0lHmGnEry,sDyC;!ce;ar7Ocoe,s;!aCnBU;ld,n;an,eo;a7Ef;l7Jr;e3Eg2n9olfo,riC;go;bBNeDH;cCl9;ar87c86h54kCo;!ey,ie,y;cFeA3gDid,ubByCza;an8Ln06;g85iC;naC6s;ep;ch8Kfa5hHin2je8HlGmFndEoHpha5sDul,wi36yC;an,mo8O;h9Im4;alDSol3O;iD0on;f,ph;ul;e9CinC;cy,t1;aOeLhilJiFrCyoG;aDeC;m,st1;ka85v2O;eDoC;tr;r8GtC;er,ro;!ipCl6H;!p6U;dCLrcy,tC;ar,e9JrC;!o7;b9Udra8So9UscAHtri62ulCv8I;!ie,o7;ctav6Ji2lImHndrBRrGsDtCum6wB;is,to;aDc6k6m0vCwaBE;al79;ma;i,vR;ar,er;aDeksandr,ivC;er,i2;f,v;aNeLguyBiFoCu3O;aDel,j4l0ma0rC;beAm0;h,m;cFels,g5i9EkDlC;es,s;!au,h96l78olaC;!i,y;hCkCol76;ol75;al,d,il,ls1vC;ilAF;hom,tC;e,hC;anCy;!a5i5;aYeViLoGuDyC;l4Nr1;hamDr84staC;fa,p6E;ed,mG;di10e,hamEis4JntDritz,sCussa;es,he;e,y;ad,ed,mC;ad,ed;cGgu5hai,kFlEnDtchC;!e8O;a9Pik;house,o7t1;ae73eC3ha8Iolaj;ah,hDkC;!ey,y;aDeC;al,l;el,l;hDlv3rC;le,ri8Ev4T;di,met;ay0c00gn4hWjd,ks2NlTmadZnSrKsXtDuric7VxC;imilBKwe8B;eHhEi69tCus,y69;!eo,hCia7;ew,i67;eDiC;as,eu,s;us,w;j,o;cHiGkFlEqu8Qsha83tCv3;iCy;!m,n;in,on;el,o7us;a6Yo7us;!elCin,o7us;!l8o;frAEi5Zny,u5;achDcoCik;lm;ai,y;amDdi,e5VmC;oud;adCm6W;ou;aulCi9P;ay;aWeOiMloyd,oJuDyC;le,nd1;cFdEiDkCth2uk;a7e;gi,s,z;ov7Cv6Hw6H;!as,iC;a6Een;g0nn52renDuCvA4we7D;!iS;!zo;am,n4oC;n5r;a9Yevi,la5KnHoFst2thaEvC;eCi;nte;bo;nCpo8V;!a82el,id;!nC;aAy;mEnd1rDsz73urenCwr6K;ce,t;ry,s;ar,beAont;aOeIhalHiFla4onr63rDu5SylC;e,s;istCzysztof;i0oph2;er0ngsl9p,rC;ilA9k,ollos;ed,id;en0iGnDrmCv4Z;it;!dDnCt1;e2Ny;ri4Z;r,th;cp2j4mEna8BrDsp6them,uC;ri;im,l;al,il;a03eXiVoFuC;an,lCst3;en,iC;an,en,o,us;aQeOhKkub4AnIrGsDzC;ef;eDhCi9Wue;!ua;!f,ph;dCge;i,on;!aCny;h,s,th6J;anDnC;!ath6Hie,n72;!nC;!es;!l,sCy;ph;o,qu3;an,mC;!i,m6V;d,ffFns,rCs4;a7JemDmai7QoCry;me,ni1H;i9Dy;!e73rC;ey,y;cKdBkImHrEsDvi2yC;dBs1;on,p2;ed,oDrCv67;e6Qod;d,s61;al,es5Wis1;a,e,oCub;b,v;ob,qu13;aTbNchiMgLke53lija,nuKonut,rIsEtCv0;ai,suC;ki;aDha0i8XmaCsac;el,il;ac,iaC;h,s;a,vinCw3;!g;k,nngu6X;nac1Xor;ka;ai,rahC;im;aReLoIuCyd6;beAgGmFsC;eyDsC;a3e3;in,n;ber5W;h,o;m2raDsse3wC;a5Pie;c49t1K;a0Qct3XiGnDrC;beAman08;dr7VrC;iCy2N;!k,q1R;n0Tt3S;bKlJmza,nIo,rEsDyC;a5KdB;an,s0;lEo67r2IuCv9;hi5Hki,tC;a,o;an,ey;k,s;!im;ib;a08e00iUlenToQrMuCyorgy;iHnFsC;!taC;f,vC;!e,o;n6tC;er,h2;do,lC;herDlC;auCerQ;me;aEegCov2;!g,orC;!io,y;dy,h7C;dfr9nza3XrDttfC;ri6C;an,d47;!n;acoGlEno,oCuseppe;rgiCvan6O;!o,s;be6Ies,lC;es;mo;oFrC;aDha4HrC;it,y;ld,rd8;ffErgC;!e7iCy;!os;!r9;bElBrCv3;eCla1Nr4Hth,y;th;e,rC;e3YielC;!i4;aXeSiQlOorrest,rCyod2E;aHedFiC;edDtC;s,z;ri18;!d42eri11riC;ck,k;nCs2;cEkC;ie,lC;in,yn;esLisC;!co,z3M;etch2oC;ri0yd;d5lConn;ip;deriFliEng,rC;dinaCg4nan0B;nd8;pe,x;co;bCdi,hd;iEriC;ce,zC;io;an,en,o;benez2dZfrYit0lTmMnJo3rFsteb0th0ugenEvCymBzra;an,eCge4D;ns,re3K;!e;gi,iDnCrol,v3w3;est8ie,st;cCk;!h,k;o0DriCzo;co,qC;ue;aHerGiDmC;aGe3A;lCrh0;!iC;a10o,s;s1y;nu5;beAd1iEliDm2t1viCwood;n,s;ot28s;!as,j5Hot,sC;ha;a3en;!dGg6mFoDua2QwC;a2Pin;arC;do;oZuZ;ie;a04eTiOmitrNoFrag0uEwDylC;an,l0;ay3Hig4D;a3Gdl9nc0st3;minFnDri0ugCvydGy2S;!lF;!a36nCov0;e1Eie,y;go,iDykC;as;cCk;!k;i,y;armuFetDll1mitri7neCon,rk;sh;er,m6riC;ch;id;andLepak,j0lbeAmetri4nIon,rGsEvDwCxt2;ay30ey;en,in;hawn,moC;nd;ek,riC;ck;is,nC;is,y;rt;re;an,le,mKnIrEvC;e,iC;!d;en,iEne0PrCyl;eCin,yl;l45n;n,o,us;!iCny;el,lo;iCon;an,en,on;a0Fe0Ch03iar0lRoJrFuDyrC;il,us;rtC;!is;aEistC;iaCob12;no;ig;dy,lInErC;ey,neliCy;s,us;nEor,rDstaC;nt3;ad;or;by,e,in,l3t1;aHeEiCyde;fCnt,ve;fo0Xt1;menDt4;us;s,t;rFuDyC;!t1;dCs;e,io;enC;ce;aHeGrisC;!toC;phCs;!eC;!r;st2t;d,rCs;b5leC;s,y;cDdrCs6;ic;il;lHmFrC;ey,lDroCy;ll;!o7t1;er1iC;lo;!eb,v3;a09eZiVjorn,laUoSrEuCyr1;ddy,rtKst2;er;aKeFiEuDyC;an,ce,on;ce,no;an,ce;nDtC;!t;dDtC;!on;an,on;dFnC;dDisC;lav;en,on;!foOl9y;bby,gd0rCyd;is;i0Lke;bElDshC;al;al,lL;ek;nIrCshoi;at,nEtC;!raC;m,nd;aDhaCie;rd;rd8;!iDjam3nCs1;ie,y;to;kaMlazs,nHrC;n9rDtC;!holomew;eCy;tt;ey;dCeD;ar,iC;le;ar1Nb1Dd16fon15gust3hm12i0Zja0Yl0Bm07nTputsiSrGsaFugustEveDyCziz;a0kh0;ry;o,us;hi;aMchiKiJjun,mHnEon,tCy0;em,hCie,ur8;ur;aDoC;!ld;ud,v;aCin;an,nd8;!el,ki;baCe;ld;ta;aq;aMdHgel8tCw6;hoFoC;iDnC;!i8y;ne;ny;er7rCy;eDzC;ej;!as,i,j,s,w;!s;s,tolC;iCy;!y;ar,iEmaCos;nu5r;el;ne,r,t;aVbSdBeJfHiGl01onFphonsEt1vC;aPin;on;e,o;so,zo;!sR;!onZrC;ed;c,jaHksFssaHxC;!andC;er,rC;e,os,u;andCei;ar,er,r;ndC;ro;en;eDrecC;ht;rt8;dd3in,n,sC;taC;ir;ni;dDm6;ar;an,en;ad,eC;d,t;in;so;aGi,olErDvC;ik;ian8;f8ph;!o;mCn;!a;dGeFraDuC;!bakr,lfazl;hCm;am;!l;allFel,oulaye,ulC;!lDrahm0;an;ah,o;ah;av,on",Uncountable:"true0:2E;1:2L;2:33;a2Ub2Lc29d22e1Rf1Ng1Eh16i11j0Yk0Wl0Rm0Hn0Do0Cp03rZsLt9uran2Jv7w3you gu0E;a5his17i4oo3;d,l;ldlife,ne;rm8t1;apor,ernacul29i3;neg28ol1Otae;eDhBiAo8r4un3yranny;a,gst1B;aff2Oea1Ko4ue nor3;th;o08u3;bleshoot2Ose1Tt;night,othpas1Vwn3;foEsfoE;me off,n;er3und1;e,mod2S;a,nnis;aDcCeBhAi9ki8o7p6t4u3weepstak0;g1Unshi2Hshi;ati08e3;am,el;ace2Keci0;ap,cc1meth2C;n,ttl0;lk;eep,ingl0or1C;lf,na1Gri0;ene1Kisso1C;d0Wfe2l4nd,t3;i0Iurn;m1Ut;abi0e4ic3;e,ke15;c3i01laxa11search;ogni10rea10;a9e8hys7luto,o5re3ut2;amble,mis0s3ten20;en1Zs0L;l3rk;i28l0EyH; 16i28;a24tr0F;nt3ti0M;i0s;bstetri24vercrowd1Qxyg09;a5e4owada3utella;ys;ptu1Ows;il poliZtional securi2;aAe8o5u3;m3s1H;ps;n3o1K;ey,o3;gamy;a3cha0Elancholy,rchandi1Htallurgy;sl0t;chine3g1Aj1Hrs,thema1Q; learn1Cry;aught1e6i5ogi4u3;ck,g12;c,s1M;ce,ghtn18nguis1LteratWv1;ath1isVss;ara0EindergartPn3;icke0Aowled0Y;e3upit1;a3llyfiGwel0G;ns;ce,gnor6mp5n3;forma00ter3;net,sta07;atiSort3rov;an18;a7e6isto09o3ung1;ckey,mework,ne4o3rseradi8spitali2use arrest;ky;s2y;adquarteXre;ir,libut,ppiHs3;hi3te;sh;ene8l6o5r3um,ymnas11;a3eZ;niUss;lf,re;ut3yce0F;en; 3ti0W;edit0Hpo3;ol;aNicFlour,o4urnit3;ure;od,rgive3uri1wl;ness;arCcono0LducaBlectr9n7quip8thi0Pvery6x3;ist4per3;ti0B;en0J;body,o08th07;joy3tertain3;ment;ici2o3;ni0H;tiS;nings,th;emi02i6o4raugh3ynas2;ts;pe,wnstai3;rs;abet0ce,s3;honZrepu3;te;aDelciChAivi07l8o3urrency;al,ld w6mmenta5n3ral,ttIuscoB;fusiHt 3;ed;ry;ar;assi01oth0;es;aos,e3;eMwK;us;d,rO;a8i6lood,owlHread5u3;ntGtt1;er;!th;lliarJs3;on;g3ss;ga3;ge;cKdviJeroGirFmBn6ppeal court,r4spi3thleL;rin;ithmet3sen3;ic;i6y3;o4th3;ing;ne;se;en5n3;es2;ty;ds;craft;bi8d3nau7;yna3;mi6;ce;id,ous3;ti3;cs",Infinitive:"true0:9G;1:9T;2:AD;3:90;4:9Z;5:84;6:AH;7:A9;8:92;9:A0;A:AG;B:AI;C:9V;D:8R;E:8O;F:97;G:6H;H:7D;a94b8Hc7Jd68e4Zf4Mg4Gh4Ai3Qj3Nk3Kl3Bm34nou48o2Vp2Equ2Dr1Es0CtZuTvRwI;aOeNiLors5rI;eJiI;ng,te;ak,st3;d5e8TthI;draw,er;a2d,ep;i2ke,nIrn;d1t;aIie;liADniAry;nJpI;ho8Llift;cov1dJear8Hfound8DlIplug,rav82tie,ve94;eaAo3X;erIo;cut,go,staAFvalA3w2G;aSeQhNoMrIu73;aIe72;ffi3Smp3nsI;aBfo7CpI;i8oD;pp3ugh5;aJiJrIwaD;eat5i2;nk;aImA0;ch,se;ck3ilor,keImp1r8L;! paD;a0Ic0He0Fh0Bi0Al08mugg3n07o05p02qu01tUuLwI;aJeeIim;p,t5;ll7Wy;bNccMffLggeCmmKppJrI;mouFpa6Zvi2;o0re6Y;ari0on;er,i4;e7Numb;li9KmJsiIveD;de,st;er9it;aMe8MiKrI;ang3eIi2;ng27w;fIng;f5le;b,gg1rI;t3ve;a4AiA;a4UeJit,l7DoI;il,of;ak,nd;lIot7Kw;icEve;atGeak,i0O;aIi6;m,y;ft,ng,t;aKi6CoJriIun;nk,v6Q;ot,rt5;ke,rp5tt1;eIll,nd,que8Gv1w;!k,m;aven9ul8W;dd5tis1Iy;a0FeKiJoI;am,t,ut;d,p5;a0Ab08c06d05f01group,hea00iZjoi4lXmWnVpTq3MsOtMup,vI;amp,eJiIo3B;sEve;l,rI;e,t;i8rI;ie2ofE;eLiKpo8PtIurfa4;o24rI;aHiBuctu8;de,gn,st;mb3nt;el,hra0lIreseF;a4e71;d1ew,o07;aHe3Fo2;a7eFiIo6Jy;e2nq41ve;mbur0nf38;r0t;inKleBocus,rJuI;el,rbiA;aBeA;an4e;aBu4;ei2k8Bla43oIyc3;gni39nci3up,v1;oot,uI;ff;ct,d,liIp;se,ze;tt3viA;aAenGit,o7;aWerUinpoiFlumm1LoTrLuI;b47ke,niArIt;poDsuI;aFe;eMoI;cKd,fe4XhibEmo7noJpo0sp1tru6vI;e,i6o5L;un4;la3Nu8;aGclu6dJf1occupy,sup0JvI;a6BeF;etermi4TiB;aGllu7rtr5Ksse4Q;cei2fo4NiAmea7plex,sIva6;eve8iCua6;mp1rItrol,ve;a6It6E;bOccuNmEpMutLverIwe;l07sJtu6Yu0wI;helm;ee,h1F;gr5Cnu2Cpa4;era7i4Ipo0;py,r;ey,seItaH;r2ss;aMe0ViJoIultiply;leCu6Pw;micJnIspla4;ce,g3us;!k;iIke,na9;m,ntaH;aPeLiIo0u3N;ke,ng1quIv5;eIi6S;fy;aKnIss5;d,gI;th5;rn,ve;ng2Gu1N;eep,idnJnI;e4Cow;ap;oHuI;gg3xtaI;po0;gno8mVnIrk;cTdRfQgeChPitia7ju8q1CsNtKun6EvI;a6eIo11;nt,rt,st;erJimi6BoxiPrI;odu4u6;aBn,pr03ru6C;iCpi8tIu8;all,il,ruB;abEibE;eCo3Eu0;iIul9;ca7;i7lu6;b5Xmer0pI;aLer4Uin9ly,oJrI;e3Ais6Bo2;rt,se,veI;riA;le,rt;aLeKiIoiCuD;de,jaInd1;ck;ar,iT;mp1ng,pp5raIve;ng5Mss;ath1et,iMle27oLrI;aJeIow;et;b,pp3ze;!ve5A;gg3ve;aTer45i5RlSorMrJuI;lf4Cndrai0r48;eJiIolic;ght5;e0Qsh5;b3XeLfeEgJsI;a3Dee;eIi2;!t;clo0go,shIwa4Z;ad3F;att1ee,i36;lt1st5;a0OdEl0Mm0FnXquip,rWsVtGvTxI;aRcPeDhOiNpJtIu6;ing0Yol;eKi8lIo0un9;aHoI;it,re;ct,di7l;st,t;a3oDu3B;e30lI;a10u6;lt,mi28;alua7oI;ke,l2;chew,pou0tab19;a0u4U;aYcVdTfSgQhan4joy,lPqOrNsuMtKvI;e0YisI;a9i50;er,i4rI;aHenGuC;e,re;iGol0F;ui8;ar9iC;a9eIra2ulf;nd1;or4;ang1oIu8;r0w;irc3lo0ou0ErJuI;mb1;oaGy4D;b3ct;bKer9pI;hasiIow1;ze;aKody,rI;a4oiI;d1l;lm,rk;ap0eBuI;ci40de;rIt;ma0Rn;a0Re04iKo,rIwind3;aw,ed9oI;wn;agno0e,ff1g,mi2Kne,sLvI;eIul9;rIst;ge,t;aWbVcQlod9mant3pNru3TsMtI;iIoDu37;lJngI;uiA;!l;ol2ua6;eJlIo0ro2;a4ea0;n0r0;a2Xe36lKoIu0S;uIv1;ra9;aIo0;im;a3Kur0;b3rm;af5b01cVduBep5fUliTmQnOpMrLsiCtaGvI;eIol2;lop;ch;a20i2;aDiBloIoD;re,y;oIy;te,un4;eJoI;liA;an;mEv1;a4i0Ao06raud,y;ei2iMla8oKrI;ee,yI;!pt;de,mIup3;missi34po0;de,ma7ph1;aJrief,uI;g,nk;rk;mp5rk5uF;a0Dea0h0Ai09l08oKrIurta1G;a2ea7ipp3uI;mb3;ales4e04habEinci6ll03m00nIrro6;cXdUfQju8no7qu1sLtKvI;eIin4;ne,r9y;aHin2Bribu7;er2iLoli2Epi8tJuI;lt,me;itu7raH;in;d1st;eKiJoIroFu0;rm;de,gu8rm;ss;eJoI;ne;mn,n0;eIlu6ur;al,i2;buCe,men4pI;eIi3ly;l,te;eBi6u6;r4xiC;ean0iT;rcumveFte;eJirp,oI;o0p;riAw;ncIre5t1ulk;el;a02eSi6lQoPrKuI;iXrIy;st,y;aLeaKiJoad5;en;ng;stfeLtX;ke;il,l11mba0WrrMth1;eIow;ed;!coQfrie1LgPhMliLqueaKstJtrIwild1;ay;ow;th;e2tt3;a2eJoI;ld;ad;!in,ui3;me;bysEckfi8ff3tI;he;b15c0Rd0Iff0Ggree,l0Cm09n03ppZrXsQttOuMvJwaE;it;eDoI;id;rt;gIto0X;meF;aIeCraB;ch,in;pi8sJtoI;niA;aKeIi04u8;mb3rt,ss;le;il;re;g0Hi0ou0rI;an9i2;eaKly,oiFrI;ai0o2;nt;r,se;aMi0GnJtI;icipa7;eJoIul;un4y;al;ly0;aJu0;se;lga08ze;iKlI;e9oIu6;t,w;gn;ix,oI;rd;a03jNmiKoJsoI;rb;pt,rn;niIt;st1;er;ouJuC;st;rn;cLhie2knowled9quiItiva7;es4re;ce;ge;eQliOoKrJusI;e,tom;ue;mIst;moJpI;any,liA;da7;ma7;te;pt;andPduBet,i6oKsI;coKol2;ve;liArt,uI;nd;sh;de;ct;on",Person:"true0:1Q;a29b1Zc1Md1Ee18f15g13h0Ri0Qj0Nk0Jl0Gm09n06o05p00rPsItCusain bolt,v9w4xzibit,y1;anni,oko on2uji,v1;an,es;en,o;a3ednesday adams,i2o1;lfram,o0Q;ll ferrell,z khalifa;lt disn1Qr1;hol,r0G;a2i1oltai06;n dies0Zrginia wo17;lentino rossi,n goG;a4h3i2ripp,u1yra banks;lZpac shakur;ger woods,mba07;eresa may,or;kashi,t1ylor;um,ya1B;a5carlett johanss0h4i3lobodan milosevic,no2ocr1Lpider1uperm0Fwami; m0Em0E;op dogg,w whi1H;egfried,nbad;akespeaTerlock holm1Sia labeouf;ddam hussa16nt1;a cla11ig9;aAe6i5o3u1za;mi,n dmc,paul,sh limbau1;gh;bin hood,d stew16nald1thko;in0Mo;han0Yngo starr,valdo;ese witherspo0i1mbrandt;ll2nh1;old;ey,y;chmaninoff,ffi,iJshid,y roma1H;a4e3i2la16o1uff daddy;cahont0Ie;lar,p19;le,rZ;lm17ris hilt0;leg,prah winfr0Sra;a2e1iles cra1Bostradam0J; yo,l5tt06wmQ;pole0s;a5e4i2o1ubar03;by,lie5net,rriss0N;randa ju1tt romn0M;ly;rl0GssiaB;cklemo1rkov,s0ta hari,ya angelou;re;ady gaga,e1ibera0Pu;bron jam0Xch wale1e;sa;anye west,e3i1obe bryant;d cudi,efer suther1;la0P;ats,sha;a2effers0fk,k rowling,rr tolki1;en;ck the ripp0Mwaharlal nehru,y z;liTnez,ron m7;a7e5i3u1;lk hog5mphrey1sa01;! bog05;l1tl0H;de; m1dwig,nry 4;an;ile selassFlle ber4m3rrison1;! 1;ford;id,mo09;ry;ast0iannis,o1;odwPtye;ergus0lorence nightinga08r1;an1ederic chopN;s,z;ff5m2nya,ustaXzeki1;el;eril lagasse,i1;le zatop1nem;ek;ie;a6e4i2octor w1rake;ho;ck w1ego maradoC;olf;g1mi lovaOnzel washingt0;as;l1nHrth vadR;ai lNt0;a8h5lint0o1thulhu;n1olio;an,fuci1;us;on;aucKop2ristian baMy1;na;in;millo,ptain beefhe4r1;dinal wols2son1;! palmF;ey;art;a8e5hatt,i3oHro1;ck,n1;te;ll g1ng crosby;atB;ck,nazir bhut2rtil,yon1;ce;to;nksy,rack ob1;ama;l 6r3shton kutch2vril lavig8yn ra1;nd;er;chimed2istot1;le;es;capo2paci1;no;ne",Adjective:"true0:AI;1:BS;2:BI;3:BA;4:A8;5:84;6:AV;7:AN;8:AF;9:7H;A:BQ;B:AY;C:BC;D:BH;E:9Y;aA2b9Ec8Fd7We79f6Ng6Eh61i4Xj4Wk4Tl4Im41n3Po36p2Oquart7Pr2Ds1Dt14uSvOwFye29;aMeKhIiHoF;man5oFrth7G;dADzy;despreB1n w97s86;acked1UoleF;!sa6;ather1PeFll o70ste1D;!k5;nt1Ist6Ate4;aHeGiFola5T;bBUce versa,gi3Lle;ng67rsa5R;ca1gBSluAV;lt0PnLpHrGsFttermoBL;ef9Ku3;b96ge1; Hb32pGsFtiAH;ca6ide d4R;er,i85;f52to da2;a0Fbeco0Hc0Bd04e02f01gu1XheaBGiXkn4OmUnTopp06pRrNsJtHus0wF;aFiel3K;nt0rra0P;app0eXoF;ld,uS;eHi37o5ApGuF;perv06spec39;e1ok9O;en,ttl0;eFu5;cogn06gul2RlGqu84sF;erv0olv0;at0en33;aFrecede0E;id,rallel0;am0otic0;aFet;rri0tF;ch0;nFq26vers3;sur0terFv7U;eFrupt0;st0;air,inish0orese98;mploy0n7Ov97xpF;ect0lain0;eHisFocume01ue;clFput0;os0;cid0rF;!a8Scov9ha8Jlyi8nea8Gprivileg0sMwF;aFei9I;t9y;hGircumcFonvin2U;is0;aFeck0;lleng0rt0;b20ppea85ssuGttend0uthorF;iz0;mi8;i4Ara;aLeIhoHip 25oGrF;anspare1encha1i2;geth9leADp notch,rpB;rny,ugh6H;ena8DmpGrFs6U;r49tia4;eCo8P;leFst4M;nt0;a0Dc09e07h06i04ki03l01mug,nobbi4XoVpRqueami4XtKuFymb94;bHccinAi generis,pFr5;erFre7N;! dup9b,vi70;du0li7Lp6IsFurb7J;eq9Atanda9X;aKeJi16o2QrGubboFy4Q;rn;aightFin5GungS; fFfF;or7V;adfa9Pri6;lwa6Ftu82;arHeGir6NlendBot Fry;on;c3Qe1S;k5se; call0lImb9phistic16rHuFviV;ndFth1B;proof;dBry;dFub6; o2A;e60ipF;pe4shod;ll0n d7R;g2HnF;ceEg6ist9;am3Se9;co1Zem5lfFn6Are7; suf4Xi43;aGholFient3A;ar5;rlFt4A;et;cr0me,tisfac7F;aOeIheumatoBiGoF;bu8Ztt7Gy3;ghtFv3; 1Sf6X;cJdu8PlInown0pro69sGtF;ard0;is47oF;lu2na1;e1Suc45;alcit8Xe1ondi2;bBci3mpa1;aSePicayu7laOoNrGuF;bl7Tnjabi;eKiIoF;b7VfGmi49pFxi2M;er,ort81;a7uD;maFor,sti7va2;!ry;ciDexis0Ima2CpaB;in55puli8G;cBid;ac2Ynt 3IrFti2;ma40tFv7W;!i3Z;i2YrFss7R;anoBtF; 5XiF;al,s5V;bSffQkPld OnMrLth9utKverF;!aIbMdHhGni75seas,t,wF;ei74rou74;a63e7A;ue;ll;do1Ger,si6A;d3Qg2Aotu5Z; bFbFe on o7g3Uli7;oa80;fashion0school;!ay; gua7XbFha5Uli7;eat;eHligGsF;ce7er0So1C;at0;diFse;a1e1;aOeNiMoGuF;anc0de; moEnHrthFt6V;!eFwe7L;a7Krn;chaGdescri7Iprof30sF;top;la1;ght5;arby,cessa4ighbor5wlyw0xt;k0usiaFv3;ti8;aQeNiLoHuF;dIltiF;facet0p6;deHlGnFot,rbBst;ochro4Xth5;dy;rn,st;ddle ag0nF;dbloZi,or;ag9diocEga,naGrFtropolit4Q;e,ry;ci8;cIgenta,inHj0Fkeshift,mmGnFri4Oscu61ver18;da5Dy;ali4Lo4U;!stream;abEho;aOeLiIoFumberi8;ngFuti1R;stan3RtF;erm,i4H;ghtGteraF;l,ry,te;heart0wei5O;ft JgFss9th3;al,eFi0M;nda4;nguBps0te5;apGind5noF;wi8;ut;ad0itte4uniW;ce co0Hgno6Mll0Cm04nHpso 2UrF;a2releF;va1; ZaYcoWdReQfOgrNhibi4Ri05nMoLsHtFvalu5M;aAeF;nDrdepe2K;a7iGolFuboI;ub6ve1;de,gF;nifica1;rdi5N;a2er;own;eriIiLluenVrF;ar0eq5H;pt,rt;eHiGoFul1O;or;e,reA;fiFpe26termi5E;ni2;mpFnsideCrreA;le2;ccuCdeq5Ene,ppr4J;fFsitu,vitro;ro1;mJpF;arHeGl15oFrop9;li2r11;n2LrfeA;ti3;aGeFi18;d4BnD;tuE;egGiF;c0YteC;al,iF;tiF;ma2;ld;aOelNiLoFuma7;a4meInHrrGsFur5;ti6;if4E;e58o3U; ma3GsF;ick;ghfalut2HspF;an49;li00pf33;i4llow0ndGrdFtM; 05coEworki8;sy,y;aLener44iga3Blob3oKrGuF;il1Nng ho;aFea1Fizzl0;cGtF;ef2Vis;ef2U;ld3Aod;iFuc2D;nf2R;aVeSiQlOoJrF;aGeFil5ug3;q43tf2O;gFnt3S;i6ra1;lk13oHrF; keeps,eFge0Vm9tu41;g0Ei2Ds3R;liF;sh;ag4Mowe4uF;e1or45;e4nF;al,i2;d Gmini7rF;ti6ve1;up;bl0lDmIr Fst pac0ux;oGreacF;hi8;ff;ed,ili0R;aXfVlTmQnOqu3rMthere3veryday,xF;aApIquisi2traHuF;be48lF;ta1;!va2L;edRlF;icF;it;eAstF;whi6; Famor0ough,tiE;rou2sui2;erGiF;ne1;ge1;dFe2Aoq34;er5;ficF;ie1;g9sF;t,ygF;oi8;er;aWeMiHoGrFue;ea4owY;ci6mina1ne,r31ti8ubQ;dact2Jfficult,m,sGverF;ge1se;creGePjoi1paCtF;a1inA;et,te; Nadp0WceMfiLgeneCliJmuEpeIreliAsGvoF;id,ut;pFtitu2ul1L;eCoF;nde1;ca2ghF;tf13;a1ni2;as0;facto;i5ngero0I;ar0Ce09h07i06l05oOrIuF;rmudgeon5stoma4teF;sy;ly;aIeHu1EystalF; cleFli7;ar;epy;fFv17z0;ty;erUgTloSmPnGrpoCunterclVveFy;rt;cLdJgr21jIsHtrF;aFi2;dic0Yry;eq1Yta1;oi1ug3;escenFuN;di8;a1QeFiD;it0;atoDmensuCpF;ass1SulF;so4;ni3ss3;e1niza1;ci1J;ockwiD;rcumspeAvil;eFintzy;e4wy;leGrtaF;in;ba2;diac,ef00;a00ePiLliJoGrFuck nak0;and new,isk,on22;gGldface,naF; fi05fi05;us;nd,tF;he;gGpartisFzarE;an;tiF;me;autifOhiNlLnHsFyoN;iWtselF;li8;eGiFt;gn;aFfi03;th;at0oF;v0w;nd;ul;ckwards,rF;e,rT; priori,b13c0Zd0Tf0Ng0Ihe0Hl09mp6nt06pZrTsQttracti0MuLvIwF;aGkF;wa1B;ke,re;ant garGeraF;ge;de;diIsteEtF;heFoimmu7;nt07;re;to4;hGlFtu2;eep;en;bitIchiv3roHtF;ifiFsy;ci3;ga1;ra4;ry;pFt;aHetizi8rF;oprF;ia2;llFre1;ed,i8;ng;iquFsy;at0e;ed;cohKiJkaHl,oGriFterX;ght;ne,of;li7;ne;ke,ve;olF;ic;ad;ain07gressiIi6rF;eeF;ab6;le;ve;fGraB;id;ectGlF;ue1;ioF;na2; JaIeGvF;erD;pt,qF;ua2;ma1;hoc,infinitum;cuCquiGtu3u2;al;esce1;ra2;erSjeAlPoNrKsGuF;nda1;e1olu2trF;aAuD;se;te;eaGuF;pt;st;aFve;rd;aFe;ze;ct;ra1;nt",Pronoun:"trueelle,h3i2me,she,th0us,we,you;e0ou;e,m,y;!l,t;e,im",Preposition:"trueaPbMcLdKexcept,fIinGmid,notwithstandiWoDpXqua,sCt7u4v2w0;/o,hereSith0;! whHin,oW;ersus,i0;a,s a vis;n1p0;!on;like,til;h1ill,oward0;!s;an,ereby,r0;ough0u;!oM;ans,ince,o that,uch G;f1n0ut;!to;!f;! 0to;effect,part;or,r0;om;espite,own,u3;hez,irca;ar1e0oBy;sides,tween;ri7;bo8cross,ft7lo6m4propos,round,s1t0;!op;! 0;a whole,long 0;as;id0ong0;!st;ng;er;ut",SportsTeam:"true0:18;1:1E;2:1D;3:14;a1Db15c0Sd0Kfc dallas,g0Ihouston 0Hindiana0Gjacksonville jagua0k0El0Am01new UoRpKqueens parkJreal salt lake,sBt6utah jazz,vancouver whitecaps,w4yW;ashington 4h10;natio1Mredski2wizar0W;ampa bay 7e6o4;ronto 4ttenham hotspur;blue ja0Mrapto0;nnessee tita2xasD;buccanee0ra0K;a8eattle 6porting kansas0Wt4; louis 4oke0V;c1Drams;marine0s4;eah13ounH;cramento Rn 4;antonio spu0diego 4francisco gJjose earthquak1;char08paB; ran07;a9h6ittsburgh 5ortland t4;imbe0rail blaze0;pirat1steele0;il4oenix su2;adelphia 4li1;eagl1philNunE;dr1;akland 4klahoma city thunder,rlando magic;athle0Lrai4;de0;england 8orleans 7york 4;g5je3knYme3red bul0Xy4;anke1;ian3;pelica2sain3;patrio3revolut4;ion;anchEeAi4ontreal impact;ami 8lwaukee b7nnesota 4;t5vi4;kings;imberwolv1wi2;rewe0uc0J;dolphi2heat,marli2;mphis grizz4ts;li1;a6eic5os angeles 4;clippe0dodFlaB;esterV; galaxy,ke0;ansas city 4nF;chiefs,roya0D; pace0polis col3;astr05dynamo,rocke3texa2;olden state warrio0reen bay pac4;ke0;allas 8e4i04od6;nver 6troit 4;lio2pisto2ti4;ge0;broncYnugge3;cowbo5maver4;icZ;ys;arEelLhAincinnati 8leveland 6ol4;orado r4umbus crew sc;api7ocki1;brow2cavalie0guar4in4;dia2;bengaVre4;ds;arlotte horAicago 4;b5cubs,fire,wh4;iteB;ea0ulQ;diff4olina panthe0; city;altimore Alackburn rove0oston 6rooklyn 4uffalo bilN;ne3;ts;cel5red4; sox;tics;rs;oriol1rave2;rizona Ast8tlanta 4;brav1falco2h4;awA;ns;es;on villa,r4;os;c6di4;amondbac4;ks;ardi4;na4;ls",Unit:"truea07b04cXdWexVfTgRhePinYjoule0BkMlJmDnan08oCp9quart0Bsq ft,t7volts,w6y2ze310;g,s;c,f,n;dVear1o0;ttR; 0s 0;old;att,b;erNon0;!ne02;ascals,e1i0;cXnt00;rcent,tJ;hms,unceY;/s,e4i0m,,;/h,cro2l0;e0liK;!;grLsR;gCtJ;it1u0;menQx;erPreP;b5elvins,ilo1m0notO;/h,ph,;!byGgrEmCs;ct0rtzL;aJogrC;allonJb0ig3rB;ps;a0emtEl oz,t4;hrenheit,radG;aby9;eci3m1;aratDe1m0oulombD;,;lsius,nti0;gr2lit1m0;et0;er8;am7;b1y0;te5;l,ps;c2tt0;os0;econd1;re0;!s","Noun|Gerund":"true0:3O;1:3M;2:3N;3:3D;4:32;5:2V;6:3E;7:3K;8:36;9:3J;A:3B;a3Pb37c2Jd27e23f1Vg1Sh1Mi1Ij1Gk1Dl18m13n11o0Wp0Pques0Sr0EsTtNunderMvKwFyDzB;eroi0oB;ni0o3P;aw2eB;ar2l3;aEed4hispe5i5oCrB;ap8est3i1;n0ErB;ki0r31;i1r2s9tc9;isualizi0oB;lunt1Vti0;stan4ta6;aFeDhin6iCraBy8;c6di0i2vel1M;mi0p8;aBs1;c9si0;l6n2s1;aUcReQhOiMkatKl2Wmo6nowJpeItFuCwB;ea5im37;b35f0FrB;fi0vB;e2Mi2J;aAoryt1KrCuB;d2KfS;etc9ugg3;l3n4;bCi0;ebBi0;oar4;gnBnAt1;a3i0;ip8oB;p8rte2u1;a1r27t1;hCo5reBulp1;a2Qe2;edu3oo3;i3yi0;aKeEi4oCuB;li0n2;oBwi0;fi0;aFcEhear7laxi0nDpor1sB;pon4tructB;r2Iu5;de5;or4yc3;di0so2;p8ti0;aFeacek20laEoCrBublis9;a1Teten4in1oces7;iso2siB;tio2;n2yi0;ckaAin1rB;ki0t1O;fEpeDrganiCvB;erco24ula1;si0zi0;ni0ra1;fe5;avi0QeBur7;gotia1twor6;aDeCi2oB;de3nito5;a2dita1e1ssaA;int0XnBrke1;ifUufactu5;aEeaDiBodAyi0;cen7f1mi1stB;e2i0;r2si0;n4ug9;iCnB;ea4it1;c6l3;ogAuB;dAgg3stif12;ci0llust0VmDnBro2;nova1sp0NterBven1;ac1vie02;agi2plo4;aDea1iCoBun1;l4w3;ki0ri0;nd3rB;roWvB;es1;aCene0Lli4rBui4;ee1ie0N;rde2the5;aHeGiDlCorBros1un4;e0Pmat1;ir1oo4;gh1lCnBs9;anZdi0;i0li0;e3nX;r0Zscina1;a1du01nCxB;erci7plo5;chan1di0ginB;ee5;aLeHiGoub1rCum8wB;el3;aDeCiB;bb3n6vi0;a0Qs7;wi0;rTscoDvi0;ba1coZlBvelo8;eCiB;ve5;ga1;nGti0;aVelebUhSlPoDrBur3yc3;aBos7yi0;f1w3;aLdi0lJmFnBo6pi0ve5;dDsCvinB;ci0;trBul1;uc1;muniDpB;lBo7;ai2;ca1;lBo5;ec1;c9ti0;ap8eaCimToBubT;ni0t9;ni0ri0;aBee5;n1t1;ra1;m8rCs1te5;ri0;vi0;aPeNitMlLoGrDuB;dge1il4llBr8;yi0;an4eat9oadB;cas1;di0;a1mEokB;i0kB;ee8;pi0;bi0;es7oa1;c9i0;gin2lonAt1;gi0;bysit1c6ki0tt3;li0;ki0;bando2cGdverti7gi0pproac9rgDssuCtB;trac1;mi0;ui0;hi0;si0;coun1ti0;ti0;ni0;ng",PhrasalVerb:"true0:92;1:96;2:8H;3:8V;4:8A;5:83;6:85;7:98;8:90;9:8G;A:8X;B:8R;C:8U;D:8S;E:70;F:97;G:8Y;H:81;I:7H;J:79;a9Fb7Uc6Rd6Le6Jf5Ig50h4Biron0j47k40l3Em31n2Yo2Wp2Cquiet Hr1Xs0KtZuXvacuu6QwNyammerBzK;ero Dip LonK;e0k0;by,ov9up;aQeMhLiKor0Mrit19;mp0n3Fpe0r5s5;ackAeel Di0S;aLiKn33;gh 3Wrd0;n Dr K;do1in,oJ;it 79k5lk Lrm 69sh Kt83v60;aw3do1o7up;aw3in,oC;rgeBsK;e 2herE;a00eYhViRoQrMuKypP;ckErn K;do1in,oJup;aLiKot0y 30;ckl7Zp F;ck HdK;e 5Y;n7Wp 3Es5K;ck MdLe Kghten 6me0p o0Rre0;aw3ba4do1in,up;e Iy 2;by,oG;ink Lrow K;aw3ba4in,up;ba4ov9up;aKe 77ll62;m 2r 5M;ckBke Llk K;ov9shit,u47;aKba4do1in,leave,o4Dup;ba4ft9pa69w3;a0Vc0Te0Mh0Ii0Fl09m08n07o06p01quar5GtQuOwK;earMiK;ngLtch K;aw3ba4o8K; by;cKi6Bm 2ss0;k 64;aReQiPoNrKud35;aigh2Det75iK;ke 7Sng K;al6Yup;p Krm2F;by,in,oG;c3Ln3Lr 2tc4O;p F;c3Jmp0nd LrKveAy 2O;e Ht 2L;ba4do1up;ar3GeNiMlLrKurB;ead0ingBuc5;a49it 6H;c5ll o3Cn 2;ak Fe1Xll0;a3Bber 2rt0und like;ap 5Vow Duggl5;ash 6Noke0;eep NiKow 6;cLp K;o6Dup;e 68;in,oK;ff,v9;de19gn 4NnKt 6Gz5;gKkE; al6Ale0;aMoKu5W;ot Kut0w 7M;aw3ba4f48oC;c2WdeEk6EveA;e Pll1Nnd Orv5tK; Ktl5J;do1foLin,o7upK;!on;ot,r5Z;aw3ba4do1in,o33up;oCto;al66out0rK;ap65ew 6J;ilAv5;aXeUiSoOuK;b 5Yle0n Kstl5;aLba4do1inKo2Ith4Nu5P;!to;c2Xr8w3;ll Mot LpeAuK;g3Ind17;a2Wf3Po7;ar8in,o7up;ng 68p oKs5;ff,p18;aKelAinEnt0;c6Hd K;o4Dup;c27t0;aZeYiWlToQrOsyc35uK;ll Mn5Kt K;aKba4do1in,oJto47up;pa4Dw3;a3Jdo1in,o21to45up;attleBess KiNop 2;ah2Fon;iLp Kr4Zu1Gwer 6N;do1in,o6Nup;nt0;aLuK;gEmp 6;ce u20y 6D;ck Kg0le 4An 6p5B;oJup;el 5NncilE;c53ir 39n0ss MtLy K;ba4oG; Hc2R;aw3ba4in,oJ;pKw4Y;e4Xt D;aLerd0oK;dAt53;il Hrrow H;aTeQiPoLuK;ddl5ll I;c1FnkeyMp 6uthAve K;aKdo1in,o4Lup;l4Nw3; wi4K;ss0x 2;asur5e3SlLss K;a21up;t 6;ke Ln 6rKs2Ax0;k 6ryA;do,fun,oCsure,up;a02eViQoLuK;ck0st I;aNc4Fg MoKse0;k Kse4D;aft9ba4do1forw37in56o0Zu46;in,oJ;d 6;e NghtMnLsKve 00;ten F;e 2k 2; 2e46;ar8do1in;aMt LvelK; oC;do1go,in,o7up;nEve K;in,oK;pKut;en;c5p 2sh LtchBughAy K;do1o59;in4Po7;eMick Lnock K;do1oCup;oCup;eLy K;in,up;l Ip K;aw3ba4do1f04in,oJto,up;aMoLuK;ic5mpE;ke3St H;c43zz 2;a01eWiToPuK;nLrrKsh 6;y 2;keLt K;ar8do1;r H;lKneErse3K;d Ke 2;ba4dKfast,o0Cup;ear,o1;de Lt K;ba4on,up;aw3o7;aKlp0;d Ml Ir Kt 2;fKof;rom;f11in,o03uW;cPm 2nLsh0ve Kz2P;at,it,to;d Lg KkerP;do1in,o2Tup;do1in,oK;ut,v9;k 2;aZeTive Rloss IoMrLunK; f0S;ab hold,in43ow 2U; Kof 2I;aMb1Mit,oLr8th1IuK;nd9;ff,n,v9;bo7ft9hQw3;aw3bKdo1in,oJrise,up,w3;a4ir2H;ar 6ek0t K;aLb1Fdo1in,oKr8up;ff,n,ut,v9;cLhKl2Fr8t,w3;ead;ross;d aKng 2;bo7;a0Ee07iYlUoQrMuK;ck Ke2N;ar8up;eLighten KownBy 2;aw3oG;eKshe27; 2z5;g 2lMol Krk I;aKwi20;bo7r8;d 6low 2;aLeKip0;sh0;g 6ke0mKrKtten H;e F;gRlPnNrLsKzzle0;h F;e Km 2;aw3ba4up;d0isK;h 2;e Kl 1T;aw3fPin,o7;ht ba4ure0;ePnLsK;s 2;cMd K;fKoG;or;e D;d04l 2;cNll Krm0t1G;aLbKdo1in,o09sho0Eth08victim;a4ehi2O;pa0C;e K;do1oGup;at Kdge0nd 12y5;in,o7up;aOi1HoNrK;aLess 6op KuN;aw3b03in,oC;gBwB; Ile0ubl1B;m 2;a0Ah05l02oOrLut K;aw3ba4do1oCup;ackBeep LoKy0;ss Dwd0;by,do1in,o0Uup;me NoLuntK; o2A;k 6l K;do1oG;aRbQforOin,oNtKu0O;hLoKrue;geth9;rough;ff,ut,v9;th,wK;ard;a4y;paKr8w3;rt;eaLose K;in,oCup;n 6r F;aNeLiK;ll0pE;ck Der Kw F;on,up;t 2;lRncel0rOsMtch LveE; in;o1Nup;h Dt K;doubt,oG;ry LvK;e 08;aw3oJ;l Km H;aLba4do1oJup;ff,n,ut;r8w3;a0Ve0MiteAl0Fo04rQuK;bblNckl05il0Dlk 6ndl05rLsKtMy FzzA;t 00;n 0HsK;t D;e I;ov9;anWeaUiLush K;oGup;ghQng K;aNba4do1forMin,oLuK;nd9p;n,ut;th;bo7lKr8w3;ong;teK;n 2;k K;do1in,o7up;ch0;arTg 6iRn5oPrNssMttlLunce Kx D;aw3ba4;e 6; ar8;e H;do1;k Dt 2;e 2;l 6;do1up;d 2;aPeed0oKurt0;cMw K;aw3ba4do1o7up;ck;k K;in,oC;ck0nk0stA; oQaNef 2lt0nd K;do1ov9up;er;up;r Lt K;do1in,oCup;do1o7;ff,nK;to;ck Pil0nMrgLsK;h D;ainBe D;g DkB; on;in,o7;aw3do1in,oCup;ff,ut;ay;ct FdQir0sk MuctionA; oG;ff;ar8o7;ouK;nd; o7;d K;do1oKup;ff,n;wn;o7up;ut",ProperNoun:"trueaIbDc8dalhousHe7f5gosford,h4iron maiden,kirby,landsdowne,m2nis,r1s0wembF;herwood,paldiB;iel,othwe1;cgi0ercedes,issy;ll;intBudsB;airview,lorence,ra0;mpt9nco;lmo,uro;a1h0;arlt6es5risti;rl0talina;et4i0;ng;arb3e0;et1nt0rke0;ley;on;ie;bid,jax","Person|Place":"truea8d6h4jordan,k3orlando,s1vi0;ctor9rgin9;a0ydney;lvador,mara,ntia4;ent,obe;amil0ous0;ton;arw2ie0;go;lexandr1ust0;in;ia",LastName:"true0:BR;1:BF;2:B5;3:BH;4:AX;5:9Y;6:B6;7:BK;8:B0;9:AV;A:AL;B:8Q;C:8G;D:7K;E:BM;F:AH;aBDb9Zc8Wd88e81f7Kg6Wh64i60j5Lk4Vl4Dm39n2Wo2Op25quispe,r1Ls0Pt0Ev03wTxSyKzG;aIhGimmerm6A;aGou,u;ng,o;khar5ytsE;aKeun9BiHoGun;koya32shiBU;!lG;diGmaz;rim,z;maGng;da,g52mo83sGzaC;aChiBV;iao,u;aLeJiHoGright,u;jcA5lff,ng;lGmm0nkl0sniewsC;kiB1liams33s3;bGiss,lt0;b,er,st0;a6Vgn0lHtG;anabe,s3;k0sh,tG;e2Non;aLeKiHoGukD;gt,lk5roby5;dHllalGnogr3Kr1Css0val3S;ba,ob1W;al,ov4;lasHsel8W;lJn dIrgBEsHzG;qu7;ilyEqu7siljE;en b6Aijk,yk;enzueAIverde;aPeix1VhKi2j8ka43oJrIsui,uG;om5UrG;c2n0un1;an,emblA7ynisC;dorAMlst3Km4rrAth;atch0i8UoG;mHrG;are84laci79;ps3sG;en,on;hirDkah9Mnaka,te,varA;a06ch01eYhUiRmOoMtIuHvGzabo;en9Jobod3N;ar7bot4lliv2zuC;aIeHoG;i7Bj4AyanAB;ele,in2FpheBvens25;l8rm0;kol5lovy5re7Tsa,to,uG;ng,sa;iGy72;rn5tG;!h;l71mHnGrbu;at9cla9Egh;moBo7M;aIeGimizu;hu,vchG;en8Luk;la,r1G;gu9infe5YmGoh,pulveA7rra5P;jGyG;on5;evi6iltz,miHneid0roed0uGwarz;be3Elz;dHtG;!t,z;!t;ar4Th8ito,ka4OlJnGr4saCto,unde19v4;ch7dHtGz;a5Le,os;b53e16;as,ihDm4Po0Y;aVeSiPoJuHyG;a6oo,u;bio,iz,sG;so,u;bKc8Fdrigue67ge10j9YmJosevelt,sItHux,wG;e,li6;a9Ch;enb4Usi;a54e4L;erts15i93;bei4JcHes,vGzzo;as,e9;ci,hards12;ag2es,iHut0yG;es,nol5N;s,t0;dImHnGsmu97v6C;tan1;ir7os;ic,u;aUeOhMiJoHrGut8;asad,if6Zochazk27;lishc2GpGrti72u10we76;e3Aov51;cHe45nG;as,to;as70hl0;aGillips;k,m,n6I;a3Hde3Wete0Bna,rJtG;ersHrovGters54;!a,ic;!en,on;eGic,kiBss3;i9ra,tz,z;h86k,padopoulIrk0tHvG;ic,l4N;el,te39;os;bMconn2Ag2TlJnei6PrHsbor6XweBzG;dem7Rturk;ella4DtGwe6N;ega,iz;iGof7Hs8I;vGyn1R;ei9;aSri1;aPeNiJoGune50ym2;rHvGwak;ak4Qik5otn66;odahl,r4S;cholsZeHkolGls4Jx3;ic,ov84;ls1miG;!n1;ils3mG;co4Xec;gy,kaGray2sh,var38;jiGmu9shiG;ma;a07c04eZiWoMuHyeG;rs;lJnIrGssoli6S;atGp03r7C;i,ov4;oz,te58;d0l0;h2lOnNo0RrHsGza1A;er,s;aKeJiIoz5risHtG;e56on;!on;!n7K;au,i9no,t5J;!lA;r1Btgome59;i3El0;cracFhhail5kkeHlG;l0os64;ls1;hmeJiIj30lHn3Krci0ssiGyer2N;!er;n0Po;er,j0;dDti;cartHlG;aughl8e2;hy;dQe7Egnu68i0jer3TkPmNnMrItHyG;er,r;ei,ic,su21thews;iHkDquAroqu8tinG;ez,s;a5Xc,nG;!o;ci5Vn;a5UmG;ad5;ar5e6Kin1;rig77s1;aVeOiLoJuHyG;!nch;k4nGo;d,gu;mbarGpe3Fvr4we;di;!nGu,yana2B;coln,dG;b21holm,strom;bedEfeKhIitn0kaHn8rGw35;oy;!j;m11tG;in1on1;bvGvG;re;iGmmy,ng,rs2Qu,voie,ws3;ne,t1F;aZeYh2iWlUnez50oNrJuHvar2woG;k,n;cerGmar68znets5;a,o34;aHem0isGyeziu;h23t3O;m0sni4Fus3KvG;ch4O;bay57ch,rh0Usk16vaIwalGzl5;czGsC;yk;cIlG;!cGen4K;huk;!ev4ic,s;e8uiveG;rt;eff0kGl4mu9nnun1;ucF;ll0nnedy;hn,llKminsCne,pIrHstra3Qto,ur,yGzl5;a,s0;j0Rls22;l2oG;or;oe;aPenOha6im14oHuG;ng,r4;e32hInHrge32u6vG;anD;es,ss3;anHnsG;en,on,t3;nesGs1R;en,s1;kiBnings,s1;cJkob4EnGrv0E;kDsG;en,sG;en0Ion;ks3obs2A;brahimDglesi5Nke5Fl0Qno07oneIshikHto,vanoG;u,v54;awa;scu;aVeOiNjaltal8oIrist50uG;!aGb0ghAynh;m2ng;a6dz4fIjgaa3Hk,lHpUrGwe,x3X;ak1Gvat;mAt;er,fm3WmG;ann;ggiBtchcock;iJmingw4BnHrGss;nand7re9;deGriks1;rs3;kkiHnG;on1;la,n1;dz4g1lvoQmOns0ZqNrMsJuIwHyG;asFes;kiB;g1ng;anHhiG;mo14;i,ov0J;di6p0r10t;ue;alaG;in1;rs1;aVeorgUheorghe,iSjonRoLrJuGw3;errGnnar3Co,staf3Ctierr7zm2;a,eG;ro;ayli6ee2Lg4iffithGub0;!s;lIme0UnHodGrbachE;e,m2;calvAzale0S;dGubE;bGs0E;erg;aj,i;bs3l,mGordaO;en7;iev3U;gnMlJmaIndFo,rGsFuthi0;cGdn0za;ia;ge;eaHlG;agh0i,o;no;e,on;aVerQiLjeldsted,lKoIrHuG;chs,entAji41ll0;eem2iedm2;ntaGrt8urni0wl0;na;emi6orA;lipIsHtzgeraG;ld;ch0h0;ovG;!ic;hatDnanIrG;arGei9;a,i;deY;ov4;b0rre1D;dKinsJriksIsGvaB;cob3GpGtra3D;inoza,osiQ;en,s3;te8;er,is3warG;ds;aXePiNjurhuMoKrisco15uHvorakG;!oT;arte,boHmitru,nn,rGt3C;and,ic;is;g2he0Omingu7nErd1ItG;to;us;aGcki2Hmitr2Ossanayake,x3;s,z; JbnaIlHmirGrvisFvi,w2;!ov4;gado,ic;th;bo0groot,jo6lHsilGvriA;va;a cruz,e3uG;ca;hl,mcevsCnIt2WviG;dGes,s;ov,s3;ielsGku22;!en;ki;a0Be06hRiobQlarkPoIrGunningh1H;awfo0RivGuz;elli;h1lKntJoIrGs2Nx;byn,reG;a,ia;ke,p0;i,rer2K;em2liB;ns;!e;anu;aOeMiu,oIristGu6we;eGiaG;ns1;i,ng,p9uHwGy;!dH;dGng;huJ;!n,onGu6;!g;kJnIpm2ttHudhGv7;ry;erjee,o14;!d,g;ma,raboG;rty;bJl0Cng4rG;eghetHnG;a,y;ti;an,ota1C;cerAlder3mpbeLrIstGvadi0B;iGro;llo;doHl0Er,t0uGvalho;so;so,zo;ll;a0Fe01hYiXlUoNrKuIyG;rLtyG;qi;chan2rG;ke,ns;ank5iem,oGyant;oks,wG;ne;gdan5nIruya,su,uchaHyKziG;c,n5;rd;darGik;enG;ko;ov;aGond15;nco,zG;ev4;ancFshw16;a08oGuiy2;umGwmG;ik;ckRethov1gu,ktPnNrG;gJisInG;ascoGds1;ni;ha;er,mG;anG;!n;gtGit7nP;ss3;asF;hi;er,hG;am;b4ch,ez,hRiley,kk0ldw8nMrIshHtAu0;es;ir;bInHtlGua;ett;es,i0;ieYosa;dGik;a9yoG;padhyG;ay;ra;k,ng;ic;bb0Acos09d07g04kht05lZnPrLsl2tJyG;aHd8;in;la;chis3kiG;ns3;aImstro6sl2;an;ng;ujo,ya;dJgelHsaG;ri;ovG;!a;ersJov,reG;aGjEws;ss1;en;en,on,s3;on;eksejEiyEmeiIvG;ar7es;ez;da;ev;arwHuilG;ar;al;ams,l0;er;ta;as",Ordinal:"trueeBf7nin5s3t0zeroE;enDhir1we0;lfCn7;d,t3;e0ixt8;cond,vent7;et0th;e6ie7;i2o0;r0urt3;tie4;ft1rst;ight0lev1;e0h,ie1;en0;th",Cardinal:"truebEeBf5mEnine7one,s4t0zero;en,h2rDw0;e0o;lve,n5;irt6ousands,ree;even2ix2;i3o0;r1ur0;!t2;ty;ft0ve;e2y;ight0lev1;!e0y;en;illions",Multiple:"trueb3hundred,m3qu2se1t0;housand,r2;pt1xt1;adr0int0;illion",City:"true0:74;1:61;2:6G;3:6J;4:5S;a68b53c4Id48e44f3Wg3Hh39i31j2Wk2Fl23m1Mn1Co19p0Wq0Ur0Os05tRuQvLwDxiBy9z5;a7h5i4Muri4O;a5e5ongsh0;ng3H;greb,nzib5G;ang2e5okoha3Sunfu;katerin3Hrev0;a5n0Q;m5Hn;arsBeAi6roclBu5;h0xi,zh5P;c7n5;d5nipeg,terth4;hoek,s1L;hi5Zkl3A;l63xford;aw;a8e6i5ladivost5Molgogr6L;en3lni6S;ni22r5;o3saill4N;lenc4Wncouv3Sr3ughn;lan bat1Crumqi,trecht;aFbilisi,eEheDiBo9r7u5;l21n63r5;in,ku;i5ondh62;es51poli;kyo,m2Zron1Pulo5;n,uS;an5jua3l2Tmisoa6Bra3;j4Tshui; hag62ssaloni2H;gucigal26hr0l av1U;briz,i6llinn,mpe56ng5rtu,shk2R;i3Esh0;an,chu1n0p2Eyu0;aEeDh8kopje,owe1Gt7u5;ra5zh4X;ba0Ht;aten is55ockholm,rasbou67uttga2V;an8e6i5;jiazhua1llo1m5Xy0;f50n5;ya1zh4H;gh3Kt4Q;att45o1Vv44;cramen16int ClBn5o paulo,ppo3Rrajevo; 7aa,t5;a 5o domin3E;a3fe,m1M;antonio,die3Cfrancisco,j5ped3Nsalvad0J;o5u0;se;em,t lake ci5Fz25;lou58peters24;a9e8i6o5;me,t59;ga,o5yadh;! de janei3F;cife,ims,nn3Jykjavik;b4Sip4lei2Inc2Pwalpindi;ingdao,u5;ez2i0Q;aFeEhDiCo9r7u6yong5;ya1;eb59ya1;a5etor3M;g52to;rt5zn0; 5la4Co;au prin0Melizabe24sa03;ls3Prae5Atts26;iladelph3Gnom pe1Aoenix;ki1tah tik3E;dua,lerYnaji,r4Ot5;na,r32;ak44des0Km1Mr6s5ttawa;a3Vlo;an,d06;a7ew5ing2Fovosibir1Jyc; 5cast36;del24orlea44taip14;g8iro4Wn5pl2Wshv33v0;ch6ji1t5;es,o1;a1o1;a6o5p4;ya;no,sa0W;aEeCi9o6u5;mb2Ani26sc3Y;gadishu,nt6s5;c13ul;evideo,pelli1Rre2Z;ami,l6n14s5;kolc,sissauga;an,waukee;cca,d5lbour2Mmph41ndo1Cssi3;an,ell2Xi3;cau,drAkass2Sl9n8r5shh4A;aca6ib5rakesh,se2L;or;i1Sy;a4EchFdal0Zi47;mo;id;aDeAi8o6u5vSy2;anMckn0Odhia3;n5s angel26;d2g bea1N;brev2Be3Lma5nz,sb2verpo28;!ss27; ma39i5;c5pzig;est16; p6g5ho2Wn0Cusan24;os;az,la33;aHharFiClaipeBo9rak0Du7y5;iv,o5;to;ala lump4n5;mi1sh0;hi0Hlka2Xpavog4si5wlo2;ce;da;ev,n5rkuk;gst2sha5;sa;k5toum;iv;bHdu3llakuric0Qmpa3Fn6ohsiu1ra5un1Iwaguc0Q;c0Pj;d5o,p4;ah1Ty;a7e6i5ohannesV;l1Vn0;dd36rusalem;ip4k5;ar2H;bad0mph1OnArkutUs7taXz5;mir,tapala5;pa;fah0l6tanb5;ul;am2Zi2H;che2d5;ianap2Mo20;aAe7o5yder2W; chi mi5ms,nolulu;nh;f6lsin5rakli2;ki;ei;ifa,lifax,mCn5rb1Dva3;g8nov01oi;aFdanEenDhCiPlasgBo9raz,u5;a5jr23;dal6ng5yaquil;zh1J;aja2Oupe;ld coa1Bthen5;bu2S;ow;ent;e0Uoa;sk;lw7n5za;dhi5gt1E;nag0U;ay;aisal29es,o8r6ukuya5;ma;ankfu5esno;rt;rt5sh0; wor6ale5;za;th;d5indhov0Pl paso;in5mont2;bur5;gh;aBe8ha0Xisp4o7resd0Lu5;b5esseldorf,nkirk,rb0shanbe;ai,l0I;ha,nggu0rtmu13;hradSl6nv5troit;er;hi;donghIe6k09l5masc1Zr es sala1KugavpiY;i0lU;gu,je2;aJebu,hAleve0Vo5raio02uriti1Q;lo7n6penhag0Ar5;do1Ok;akKst0V;gUm5;bo;aBen8i6ongqi1ristchur5;ch;ang m7ca5ttago1;go;g6n5;ai;du,zho1;ng5ttogr14;ch8sha,zh07;gliari,i9lga8mayenJn6pe town,r5tanO;acCdiff;ber1Ac5;un;ry;ro;aWeNhKirmingh0WoJr9u5;chareTdapeTenos air7r5s0tu0;g5sa;as;es;a9is6usse5;ls;ba6t5;ol;ne;sil8tisla7zzav5;il5;le;va;ia;goZst2;op6ubaneshw5;ar;al;iCl9ng8r5;g6l5n;in;en;aluru,hazi;fa6grade,o horizon5;te;st;ji1rut;ghd0BkFn9ot8r7s6yan n4;ur;el,r07;celo3i,ranquil09;ou;du1g6ja lu5;ka;alo6k5;ok;re;ng;ers5u;field;a05b02cc01ddis aba00gartaZhmedXizawl,lSmPnHqa00rEsBt7uck5;la5;nd;he7l5;an5;ta;ns;h5unci2;dod,gab5;at;li5;ngt2;on;a8c5kaOtwerp;hora6o3;na;ge;h7p5;ol5;is;eim;aravati,m0s5;terd5;am; 7buquerq6eppo,giers,ma5;ty;ue;basrah al qadim5mawsil al jadid5;ah;ab5;ad;la;ba;ra;idj0u dha5;bi;an;lbo6rh5;us;rg",Region:"true0:2O;1:2L;2:2U;3:2F;a2Sb2Fc21d1Wes1Vf1Tg1Oh1Ki1Fj1Bk16l13m0Sn09o07pYqVrSsJtEuBverAw6y4zacatec2W;akut0o0Fu4;cat1k09;a5est 4isconsin,yomi1O;bengal,virgin0;rwick3shington4;! dc;acruz,mont;dmurt0t4;ah,tar4; 2Pa12;a6e5laxca1Vripu21u4;scaEva;langa2nnessee,x2J;bas10m4smQtar29;aulip2Hil nadu;a9elang07i7o5taf16u4ylh1J;ff02rr09s1E;me1Gno1Uuth 4;cZdY;ber0c4kkim,naloa;hu1ily;n5rawak,skatchew1xo4;ny; luis potosi,ta catari2;a4hodeA;j4ngp0C;asth1shahi;ingh29u4;e4intana roo;bec,en6retaro;aAe6rince edward4unjab; i4;sl0G;i,n5r4;ak,nambu0F;a0Rnsylv4;an0;ha0Pra4;!na;axa0Zdisha,h4klaho21ntar4reg7ss0Dx0I;io;aLeEo6u4;evo le4nav0X;on;r4tt18va scot0;f9mandy,th4; 4ampton3;c6d5yo4;rk3;ako1O;aroli2;olk;bras1Nva0Dw4; 6foundland4;! and labrad4;or;brunswick,hamp3jers5mexiTyork4;! state;ey;galPyarit;aAeghala0Mi6o4;nta2r4;dov0elos;ch6dlanDn5ss4zor11;issippi,ouri;as geraPneso18;ig1oac1;dhy12harasht0Gine,lac07ni5r4ssachusetts;anhao,i el,ylG;p4toba;ur;anca3e4incoln3ouisI;e4iR;ds;a6e5h4omi;aka06ul2;dah,lant1ntucky,ra01;bardino,lmyk0ns0Qr4;achay,el0nata0X;alis6har4iangxi;kh4;and;co;daho,llino7n4owa;d5gush4;et0;ia2;is;a6ert5i4un1;dalFm0D;ford3;mp3rya2waii;ansu,eorg0lou7oa,u4;an4izhou,jarat;ajuato,gdo4;ng;cester3;lori4uji1;da;sex;ageUe7o5uran4;go;rs4;et;lawaMrby3;aFeaEh9o4rim08umbr0;ahui7l6nnectic5rsi4ventry;ca;ut;i03orado;la;e5hattisgarh,i4uvash0;apRhuahua;chn5rke4;ss0;ya;ra;lGm4;bridge3peche;a9ihar,r8u4;ck4ryat0;ingham3;shi4;re;emen,itish columb0;h0ja cal8lk7s4v7;hkorto4que;st1;an;ar0;iforn0;ia;dygHguascalientes,lBndhr9r5ss4;am;izo2kans5un4;achal 7;as;na;a 4;pradesh;a6ber5t4;ai;ta;ba5s4;ka;ma;ea",Place:"true0:4T;1:4V;2:44;3:4B;4:3I;a4Eb3Gc2Td2Ge26f25g1Vh1Ji1Fk1Cl14m0Vn0No0Jp08r04sTtNuLvJw7y5;a5o0Syz;kut1Bngtze;aDeChitBi9o5upatki,ycom2P;ki26o5;d5l1B;b3Ps5;i4to3Y;c0SllowbroCn5;c2Qgh2;by,chur1P;ed0ntw3Gs22;ke6r3St5;erf1f1; is0Gf3V;auxha3Mirgin is0Jost5;ok;laanbaatar,pto5xb3E;n,wn;a9eotihuac43h7ive49o6ru2Nsarskoe selo,u5;l2Dzigo47;nto,rquay,tt2J;am3e 5orn3E;bronx,hamptons;hiti,j mah0Iu1N;aEcotts bluff,eCfo,herbroQoApring9t7u5yd2F;dbu1Wn5;der03set3B;aff1ock2Nr5;atf1oud;hi37w24;ho,uth5; 1Iam1Zwo3E;a5i2O;f2Tt0;int lawrence riv3Pkhal2D;ayleigh,ed7i5oc1Z;chmo1Eo gran4ver5;be1Dfr09si4; s39cliffe,hi2Y;aCe9h8i5ompeii,utn2;c6ne5tcai2T; 2Pc0G;keri13t0;l,x;k,lh2mbr6n5r2J;n1Hzance;oke;cif38pahanaumokuak30r5;k5then0;si4w1K;ak7r6x5;f1l2X;ange county,d,f1inoco;mTw1G;e8i1Uo5;r5tt2N;th5wi0E; 0Sam19;uschwanste1Pw5; eng6a5h2market,po36;rk;la0P;a8co,e6i5uc;dt1Yll0Z;adow5ko0H;lands;chu picchu,gad2Ridsto1Ql8n7ple6r5;kh2; g1Cw11;hatt2Osf2B;ibu,t0ve1Z;a8e7gw,hr,in5owlOynd02;coln memori5dl2C;al;asi4w3;kefr7mbe1On5s,x;ca2Ig5si05;f1l27t0;ont;azan kreml14e6itchen2Gosrae,rasnoyar5ul;sk;ns0Hs1U;ax,cn,lf1n6ps5st;wiN;d5glew0Lverness;ian27ochina;aDeBi6kg,nd,ov5unti2H;d,enweep;gh6llc5;reL;bu03l5;and5;!s;r5yw0C;ef1tf1;libu24mp6r5stings;f1lem,row;stead,t0;aDodavari,r5uelph;avenAe5imsS;at 8en5; 6f1Fwi5;ch;acr3vall1H;brita0Flak3;hur5;st;ng3y villa0W;airhavHco,ra;aAgli9nf17ppi8u7ver6x5;et1Lf1;glad3t0;rope,st0;ng;nt0;rls1Ls5;t 5;e5si4;nd;aCe9fw,ig8o7ryd6u5xb;mfri3nstab00rh2tt0;en;nca18rcKv19wnt0B;by;n6r5vonpo1D;ry;!h2;nu8r5;l6t5;f1moor;ingt0;be;aLdg,eIgk,hClBo5royd0;l6m5rnwa0B;pt0;c7lingw6osse5;um;ood;he0S;earwat0St;a8el6i5uuk;chen itza,mney ro07natSricahua;m0Zt5;enh2;mor5rlottetPth2;ro;dar 5ntervilA;breaks,faZg5;rove;ld9m8r5versh2;lis6rizo pla5;in;le;bLpbellf1;weQ;aZcn,eNingl01kk,lackLolt0r5uckV;aGiAo5;ckt0ok5wns cany0;lyn,s5;i4to5;ne;de;dge6gh5;am,t0;n6t5;own;or5;th;ceb6m5;lNpt0;rid5;ge;bu5pool,wa8;rn;aconsfEdf1lBr9verly7x5;hi5;ll; hi5;lls;wi5;ck; air,l5;ingh2;am;ie5;ld;ltimore,rnsl6tters5;ea;ey;bLct0driadic,frica,ginJlGmFn9rc8s7tl6yleOzor3;es;!ant8;hcroft,ia; de triomphe,t6;adyr,ca8dov9tarct5;ic5; oce5;an;st5;er;ericas,s;be6dersh5hambra,list0;ot;rt0;cou5;rt;bot7i5;ngd0;on;sf1;ord",Country:"true0:38;1:2L;2:3B;a2Xb2Ec22d1Ye1Sf1Mg1Ch1Ai14j12k0Zl0Um0Gn05om2pZqat1KrXsKtCu7v5wal4yemTz3;a25imbabwe;es,lis and futu2Y;a3enezue32ietnam;nuatu,tican city;gTk6nited 4ruXs3zbeE; 2Ca,sr;arab emirat0Kkingdom,states3;! of am2Y;!raiV;a8haCimor les0Co7rinidad 5u3;nis0rk3valu;ey,me2Zs and caic1V;and t3t3;oba1L;go,kel10nga;iw2ji3nz2T;ki2V;aDcotl1eCi9lov8o6pa2Dri lanka,u5w3yr0;az3edAitzerl1;il1;d2riname;lomon1Xmal0uth 3;afr2KkMsud2;ak0en0;erra leoFn3;gapo1Yt maart3;en;negLrb0ychellZ;int 3moa,n marino,udi arab0;hele26luc0mart21;epublic of ir0Eom2Euss0w3;an27;a4eIhilippinUitcairn1Mo3uerto riN;l1rtugF;ki2Dl4nama,pua new0Vra3;gu7;au,esti3;ne;aBe9i7or3;folk1Ith4w3;ay; k3ern mariana1D;or0O;caragua,ger3ue;!ia;p3ther1Aw zeal1;al;mib0u3;ru;a7exi6icro0Bo3yanm06;ldova,n3roc5zambA;a4gol0t3;enegro,serrat;co;cAdagasc01l7r5urit4yot3;te;an0i16;shall0Xtin3;ique;a4div3i,ta;es;wi,ys0;ao,ed02;a6e5i3uxembourg;b3echtenste12thu1G;er0ya;ban0Isotho;os,tv0;azakh1Fe4iriba04o3uwait,yrgyz1F;rXsovo;eling0Knya;a3erG;ma16p2;c7nd6r4s3taly,vory coast;le of m2rael;a3el1;n,q;ia,oJ;el1;aiTon3ungary;dur0Ng kong;aBermany,ha0QibraltAre8u3;a6ern5inea3ya0P;! biss3;au;sey;deloupe,m,tema0Q;e3na0N;ce,nl1;ar;bUmb0;a7i6r3;ance,ench 3;guia0Epoly3;nes0;ji,nl1;lklandUroeU;ast tim7cu6gypt,l salv6ngl1quatorial4ritr5st3thiop0;on0; guin3;ea;ad3;or;enmark,jibou5ominica4r con3;go;!n C;ti;aBentral african Ah8o5roat0u4yprRzech3; 9ia;ba,racao;c4lo3morQngo brazzaville,okGsta r04te de ivoiL;mb0;osE;i3ristmasG;le,na;republic;m3naUpe verde,ymanA;bod0ero3;on;aGeDhut2o9r5u3;lgar0r3;kina faso,ma,undi;azil,itish 3unei;virgin3; is3;lands;liv0nai5snia and herzegoviHtswaHuvet3; isl1;and;re;l3n8rmuG;ar3gium,ize;us;h4ngladesh,rbad3;os;am4ra3;in;as;fghaGlDmBn6r4ustr3zerbaij2;al0ia;genti3men0uba;na;dorra,g5t3;arct7igua and barbu3;da;o3uil3;la;er3;ica;b3ger0;an0;ia;ni3;st2;an",FirstName:"trueaTblair,cQdOfrancoZgabMhinaLilya,jHkClBm6ni4quinn,re3s0;h0umit,yd;ay,e0iloh;a,lby;g9ne;co,ko0;!s;a1el0ina,org6;!okuhF;ds,naia,r1tt0xiB;i,y;ion,lo;ashawn,eif,uca;a3e1ir0rM;an;lsFn0rry;dall,yat5;i,sD;a0essIie,ude;i1m0;ie,mG;me;ta;rie0y;le;arcy,ev0;an,on;as1h0;arl8eyenne;ey,sidy;drien,kira,l4nd1ubr0vi;ey;i,r0;a,e0;a,y;ex2f1o0;is;ie;ei,is",WeekDay:"truefri2mon2s1t0wednesd3;hurs1ues1;aturd1und1;!d0;ay0;!s",Month:"truedec0february,july,nov0octo1sept0;em0;ber",Date:"trueago,on4som4t1week0yesterd5; end,ends;mr1o0;d2morrow;!w;ed0;ay",Duration:"truecenturAd8h7m5q4se3w1y0;ear8r8;eek0k7;!end,s;ason,c5;tr,uarter;i0onth3;llisecond2nute2;our1r1;ay0ecade0;!s;ies,y",FemaleName:"true0:J7;1:JB;2:IJ;3:IK;4:J1;5:IO;6:JS;7:JO;8:HB;9:JK;A:H4;B:I2;C:IT;D:JH;E:IX;F:BA;G:I4;aGTbFLcDRdD0eBMfB4gADh9Ti9Gj8Dk7Cl5Wm48n3Lo3Hp33qu32r29s15t0Eu0Cv02wVxiTyOzH;aLeIineb,oHsof3;e3Sf3la,ra;h2iKlIna,ynH;ab,ep;da,ma;da,h2iHra;nab;aKeJi0FolB7uIvH;et8onDP;i0na;le0sen3;el,gm3Hn,rGLs8W;aoHme0nyi;m5XyAD;aMendDZhiDGiH;dele9lJnH;if48niHo0;e,f47;a,helmi0lHma;a,ow;ka0nB;aNeKiHusa5;ck84kIl8oleAviH;anFenJ4;ky,toriBK;da,lA8rHs0;a,nHoniH9;a,iFR;leHnesH9;nILrH;i1y;g9rHs6xHA;su5te;aYeUhRiNoLrIuHy2;i,la;acJ3iHu0J;c3na,sH;hFta;nHr0F;iFya;aJffaEOnHs6;a,gtiH;ng;!nFSra;aIeHomasi0;a,l9Oo8Ares1;l3ndolwethu;g9Fo88rIssH;!a,ie;eHi,ri7;sa,za;bOlMmKnIrHs6tia0wa0;a60yn;iHya;a,ka,s6;arFe2iHm77ra;!ka;a,iH;a,t6;at6it6;a0Ecarlett,e0AhWiSkye,neza0oQri,tNuIyH;bIGlvi1;ha,mayIJniAsIzH;an3Net8ie,y;anHi7;!a,e,nH;aCe;aIeH;fan4l5Dphan6E;cI5r5;b3fiAAm0LnHphi1;d2ia,ja,ya;er2lJmon1nIobh8QtH;a,i;dy;lETv3;aMeIirHo0risFDy5;a,lDM;ba,e0i5lJrH;iHr6Jyl;!d8Ifa;ia,lDZ;hd,iMki2nJrIu0w0yH;la,ma,na;i,le9on,ron,yn;aIda,ia,nHon;a,on;!ya;k6mH;!aa;lJrItaye82vH;da,inj;e0ife;en1i0ma;anA9bLd5Oh1SiBkKlJmInd2rHs6vannaC;aCi0;ant6i2;lDOma,ome;ee0in8Tu2;in1ri0;a05eZhXiUoHuthDM;bScRghQl8LnPsJwIxH;anB3ie,y;an,e0;aIeHie,lD;ann7ll1marDGtA;!lHnn1;iHyn;e,nH;a,dF;da,i,na;ayy8G;hel67io;bDRerAyn;a,cIkHmas,nFta,ya;ki,o;h8Xki;ea,iannGMoH;da,n1P;an0bJemFgi0iInHta,y0;a8Bee;han86na;a,eH;cHkaC;a,ca;bi0chIe,i0mo0nHquETy0;di,ia;aERelHiB;!e,le;een4ia0;aPeOhMiLoJrHute6A;iHudenCV;scil3LyamvaB;lHrt3;i0ly;a,paluk;ilome0oebe,ylH;is,lis;ggy,nelope,r5t2;ige,m0VnKo5rvaDMtIulH;a,et8in1;ricHt4T;a,e,ia;do2i07;ctav3dIfD3is6ksa0lHphD3umC5yunbileg;a,ga,iv3;eHvAF;l3t8;aWeUiMoIurHy5;!ay,ul;a,eJor,rIuH;f,r;aCeEma;ll1mi;aNcLhariBQkKlaJna,sHta,vi;anHha;ur;!y;a,iDZki;hoGk9YolH;a,e4P;!mh;hir,lHna,risDEsreE;!a,lBV;asuMdLh3i6Dl5nKomi7rgEVtH;aHhal4;lHs6;i1ya;cy,et8;e9iF0ya;nngu2X;a0Ackenz4e02iMoJrignayani,uriDJyH;a,rH;a,iOlNna,tG;bi0i2llBJnH;a,iH;ca,ka,qD9;a,cUdo4ZkaTlOmi,nMrItzi,yH;ar;aJiIlH;anET;am;!l,nB;dy,eHh,n4;nhGrva;aKdJe0iCUlH;iHy;cent,e;red;!gros;!e5;ae5hH;ae5el3Z;ag5DgNi,lKrH;edi7AiIjem,on,yH;em,l;em,sCG;an4iHliCF;nHsCJ;a,da;!an,han;b09cASd07e,g05ha,i04ja,l02n00rLsoum5YtKuIv84xBKyHz4;bell,ra,soBB;d7rH;a,eE;h8Gild1t4;a,cUgQiKjor4l7Un4s6tJwa,yH;!aHbe6Xja9lAE;m,nBL;a,ha,in1;!aJbCGeIja,lDna,sHt63;!a,ol,sa;!l1D;!h,mInH;!a,e,n1;!awit,i;arJeIie,oHr48ueri8;!t;!ry;et46i3B;el4Xi7Cy;dHon,ue5;akranAy;ak,en,iHlo3S;a,ka,nB;a,re,s4te;daHg4;!l3E;alDd4elHge,isDJon0;ei9in1yn;el,le;a0Ne0CiXoQuLyH;d3la,nH;!a,dIe2OnHsCT;!a,e2N;a,sCR;aD4cJel0Pis1lIna,pHz;e,iA;a,u,wa;iHy;a0Se,ja,l2NnB;is,l1UrItt1LuHvel4;el5is1;aKeIi7na,rH;aADi7;lHn1tA;ei;!in1;aTbb9HdSepa,lNnKsJvIzH;!a,be5Ret8z4;!ia;a,et8;!a,dH;a,sHy;ay,ey,i,y;a,iJja,lH;iHy;aA8e;!aH;!nF;ia,ya;!nH;!a,ne;aPda,e0iNjYla,nMoKsJtHx93y5;iHt4;c3t3;e2PlCO;la,nHra;a,ie,o2;a,or1;a,gh,laH;!ni;!h,nH;a,d2e,n5V;cOdon9DiNkes6mi9Gna,rMtJurIvHxmi,y5;ern1in3;a,e5Aie,yn;as6iIoH;nya,ya;fa,s6;a,isA9;a,la;ey,ie,y;a04eZhXiOlASoNrJyH;lHra;a,ee,ie;istHy6I;a,en,iIyH;!na;!e,n5F;nul,ri,urtnB8;aOerNlB7mJrHzzy;a,stH;en,in;!berlImernH;aq;eHi,y;e,y;a,stE;!na,ra;aHei2ongordzol;dij1w5;el7UiKjsi,lJnIrH;a,i,ri;d2na,za;ey,i,lBLs4y;ra,s6;biAcARdiat7MeBAiSlQmPnyakuma1DrNss6NtKviAyH;!e,lH;a,eH;e,i8T;!a6HeIhHi4TlDri0y;ar8Her8Hie,leErBAy;!lyn8Ori0;a,en,iHl5Xoli0yn;!ma,nFs95;a5il1;ei8Mi,lH;e,ie;a,tl6O;a0AeZiWoOuH;anMdLlHst88;es,iH;a8NeHs8X;!n9tH;!a,te;e5Mi3My;a,iA;!anNcelDdMelGhan7VleLni,sIva0yH;a,ce;eHie;fHlDph7Y;a,in1;en,n1;i7y;!a,e,n45;lHng;!i1DlH;!i1C;anNle0nKrJsH;i8JsH;!e,i8I;i,ri;!a,elGif2CnH;a,et8iHy;!e,f2A;a,eJiInH;a,eIiH;e,n1;!t8;cMda,mi,nIque4YsminFvie2y9zH;min7;a7eIiH;ce,e,n1s;!lHs82t0F;e,le;inIk6HlDquelH;in1yn;da,ta;da,lRmPnOo0rNsIvaHwo0zaro;!a0lu,na;aJiIlaHob89;!n9R;do2;belHdo2;!a,e,l3B;a7Ben1i0ma;di2es,gr72ji;a9elBogH;en1;a,e9iHo0se;a0na;aSeOiJoHus7Kyacin2C;da,ll4rten24snH;a,i9U;lImaH;ri;aIdHlaI;a,egard;ry;ath1BiJlInrietArmi9sH;sa,t1A;en2Uga,mi;di;bi2Fil8MlNnMrJsItHwa,yl8M;i5Tt4;n60ti;iHmo51ri53;etH;!te;aCnaC;a,ey,l4;a02eWiRlPoNrKunJwH;enHyne1R;!dolD;ay,el;acieIetHiselB;a,chE;!la;ld1CogooH;sh;adys,enHor3yn2K;a,da,na;aKgi,lIna,ov8EselHta;a,e,le;da,liH;an;!n0;mLnJorgIrH;ald5Si,m3Etrud7;et8i4X;a,eHna;s29vieve;ma;bIle,mHrnet,yG;al5Si5;iIrielH;a,l1;!ja;aTeQiPlorOoz3rH;anJeIiH;da,eB;da,ja;!cH;esIiHoi0P;n1s66;!ca;a,enc3;en,o0;lIn0rnH;anB;ec3ic3;jr,nArKtHy7;emIiHma,oumaA;ha,ma,n;eh;ah,iBrah,za0;cr4Rd0Re0Qi0Pk0Ol07mXn54rUsOtNuMvHwa;aKelIiH;!e,ta;inFyn;!a;!ngel4V;geni1ni47;h5Yien9ta;mLperanKtH;eIhHrel5;er;l31r7;za;a,eralB;iHma,ne4Lyn;cHka,n;a,ka;aPeNiKmH;aHe21ie,y;!li9nuH;elG;lHn1;e7iHy;a,e,ja;lHrald;da,y;!nue5;aWeUiNlMma,no2oKsJvH;a,iH;na,ra;a,ie;iHuiH;se;a,en,ie,y;a0c3da,e,f,nMsJzaH;!betHveA;e,h;aHe,ka;!beH;th;!a,or;anor,nH;!a,i;!in1na;ate1Rta;leEs6;vi;eIiHna,wi0;e,th;l,n;aYeMh3iLjeneKoH;lor5Vminiq4Ln3FrHtt4;a,eEis,la,othHthy;ea,y;ba;an09naCon9ya;anQbPde,eOiMlJmetr3nHsir5M;a,iH;ce,se;a,iIla,orHphi9;es,is;a,l6F;dHrdH;re;!d5Ena;!b2ForaCraC;a,d2nH;!a,e;hl3i0l0GmNnLphn1rIvi1WyH;le,na;a,by,cIia,lH;a,en1;ey,ie;a,et8iH;!ca,el1Aka,z;arHia;is;a0Re0Nh04i02lUoJristIynH;di,th3;al,i0;lPnMrIurH;tn1D;aJd2OiHn2Ori9;!nH;a,e,n1;!l4;cepci5Cn4sH;tanHuelo;ce,za;eHleE;en,t8;aJeoIotH;il54;!pat2;ir7rJudH;et8iH;a,ne;a,e,iH;ce,sZ;a2er2ndH;i,y;aReNloe,rH;isJyH;stH;al;sy,tH;a1Sen,iHy;an1e,n1;deJlseIrH;!i7yl;a,y;li9;nMrH;isKlImH;ai9;a,eHot8;n1t8;!sa;d2elGtH;al,elG;cIlH;es8i47;el3ilH;e,ia,y;itlYlXmilWndVrMsKtHy5;aIeIhHri0;er1IleErDy;ri0;a38sH;a37ie;a,iOlLmeJolIrH;ie,ol;!e,in1yn;lHn;!a,la;a,eIie,otHy;a,ta;ne,y;na,s1X;a0Ii0I;a,e,l1;isAl4;in,yn;a0Ke02iZlXoUrH;andi7eRiJoIyH;an0nn;nwDoke;an3HdgMgiLtH;n31tH;!aInH;ey,i,y;ny;d,t8;etH;!t7;an0e,nH;da,na;bbi7glarIlo07nH;iAn4;ka;ancHythe;a,he;an1Clja0nHsm3M;iAtH;ou;aWcVlinUniArPssOtJulaCvH;!erlH;ey,y;hJsy,tH;e,iHy7;e,na;!anH;ie,y;!ie;nItHyl;ha,ie;adIiH;ce;et8i9;ay,da;ca,ky;!triH;ce,z;rbJyaH;rmH;aa;a2o2ra;a2Ub2Od25g21i1Sj5l18m0Zn0Boi,r06sWtVuPvOwa,yIzH;ra,u0;aKes6gJlIn,seH;!l;in;un;!nH;a,na;a,i2K;drLguJrIsteH;ja;el3;stH;in1;a,ey,i,y;aahua,he0;hIi2Gja,miAs2DtrH;id;aMlIraqHt21;at;eIi7yH;!n;e,iHy;gh;!nH;ti;iJleIo6piA;ta;en,n1t8;aHelG;!n1J;a01dje5eZgViTjRnKohito,toHya;inet8nH;el5ia;te;!aKeIiHmJ;e,ka;!mHtt7;ar4;!belIliHmU;sa;!l1;a,eliH;ca;ka,sHta;a,sa;elHie;a,iH;a,ca,n1qH;ue;!tH;a,te;!bImHstasiMya;ar3;el;aLberKeliJiHy;e,l3naH;!ta;a,ja;!ly;hGiIl3nB;da;a,ra;le;aWba,ePiMlKthJyH;a,c3sH;a,on,sa;ea;iHys0N;e,s0M;a,cIn1sHza;a,e,ha,on,sa;e,ia,ja;c3is6jaKksaKna,sJxH;aHia;!nd2;ia,saH;nd2;ra;ia;i0nIyH;ah,na;a,is,naCoud;la;c6da,leEmNnLsH;haClH;inHyY;g,n;!h;a,o,slH;ey;ee;en;at6g4nIusH;ti0;es;ie;aWdiTelMrH;eJiH;anMenH;a,e,ne;an0;na;!aLeKiIyH;nn;a,n1;a,e;!ne;!iH;de;e,lDsH;on;yn;!lH;i9yn;ne;aKbIiHrL;!e,gaK;ey,i7y;!e;gaH;il;dKliyJradhIs6;ha;ya;ah;a,ya",Honorific:"truedirector1field marsh2lieutenant1rear0sergeant major,vice0; admir1; gener0;al","Adj|Gerund":"true0:3F;1:3H;2:31;3:2X;4:35;5:33;6:3C;7:2Z;8:36;9:29;a33b2Tc2Bd1Te1If19g12h0Zi0Rl0Nm0Gnu0Fo0Ap04rYsKtEuBvAw1Ayiel3;ar6e08;nBpA;l1Rs0B;fol3n1Zsett2;aEeDhrBi4ouc7rAwis0;e0Bif2oub2us0yi1;ea1SiA;l2vi1;l2mp0rr1J;nt1Vxi1;aMcreec7enten2NhLkyrocke0lo0Vmi2oJpHtDuBweA;e0Ul2;pp2ArA;gi1pri5roun3;aBea8iAri2Hun9;mula0r4;gge4rA;t2vi1;ark2eAraw2;e3llb2F;aAot7;ki1ri1;i9oc29;dYtisf6;aEeBive0oAus7;a4l2;assu4defi9fres7ig9juve07mai9s0vAwar3;ea2italiAol1G;si1zi1;gi1ll6mb2vi1;a6eDier23lun1VrAun2C;eBoA;mi5vo1Z;ce3s5vai2;n3rpleA;xi1;ffCpWutBverAwi1;arc7lap04p0Pri3whel8;goi1l6st1J;en3sA;et0;m2Jrtu4;aEeDiCoBuAyst0L;mb2;t1Jvi1;s5tiga0;an1Rl0n3smeri26;dAtu4;de9;aCeaBiAo0U;fesa0Tvi1;di1ni1;c1Fg19s0;llumiGmFnArri0R;cDfurHsCtBviA;go23ti1;e1Oimi21oxica0rig0V;pi4ul0;orpo20r0K;po5;na0;eaBorr02umilA;ia0;li1rtwar8;lFrA;atiDipCoBuelA;i1li1;undbrea10wi1;pi1;f6ng;a4ea8;a3etc7it0lEoCrBulfA;il2;ee1FighXust1L;rAun3;ebo3thco8;aCoA;a0wA;e4i1;mi1tte4;lectrJmHnExA;aCci0hBis0pA;an3lo3;aOila1B;c0spe1A;ab2coura0CdBergi13ga0Clive9ric7s02tA;hral2i0J;ea4u4;barras5er09pA;owe4;if6;aQeIiBrA;if0;sAzz6;aEgDhearCsen0tA;rAur11;ac0es5;te9;us0;ppoin0r8;biliGcDfi9gra3ligh0mBpres5sAvasG;erE;an3ea9orA;ali0L;a6eiBli9rA;ea5;vi1;ta0;maPri1s7un0zz2;aPhMlo5oAripp2ut0;mGnArrespon3;cer9fDspi4tA;inBrA;as0ibu0ol2;ui1;lic0u5;ni1;fDmCpA;eAromi5;l2ti1;an3;or0;aAil2;llenAnAr8;gi1;l8ptAri1;iva0;aff2eGin3lFoDrBuA;d3st2;eathtaAui5;ki1;gg2i2o8ri1unA;ci1;in3;co8wiA;lAtc7;de4;bsorVcOgonMlJmHnno6ppea2rFsA;pi4su4toA;nBun3;di1;is7;hi1;res0;li1;aFu5;si1;ar8lu4;ri1;mi1;iAzi1;zi1;cAhi1;eleDomA;moBpan6;yi1;da0;ra0;ti1;bi1;ng",Comparable:"true0:3C;1:3Q;2:3F;a3Tb3Cc33d2Te2Mf2Ag1Wh1Li1Fj1Ek1Bl13m0Xn0So0Rp0Iqu0Gr07sHtCug0vAw4y3za0Q;el10ouN;ary,e6hi5i3ry;ck0Cde,l3n1ry,se;d,y;ny,te;a3i3R;k,ry;a3erda2ulgar;gue,in,st;a6en2Xhi5i4ouZr3;anqu2Cen1ue;dy,g36me0ny;ck,rs28;ll,me,rt,wd3I;aRcaPeOhMiLkin0BlImGoEpDt6u4w3;eet,ift;b3dd0Wperfi21rre28;sta26t21;a8e7iff,r4u3;pUr1;a4ict,o3;ng;ig2Vn0N;a1ep,rn;le,rk,te0;e1Si2Vright0;ci1Yft,l3on,re;emn,id;a3el0;ll,rt;e4i3y;g2Mm0Z;ek,nd2T;ck24l0mp1L;a3iRrill,y;dy,l01rp;ve0Jxy;n1Jr3;ce,y;d,fe,int0l1Hv0V;a8e6i5o3ude;mantic,o19sy,u3;gh;pe,t1P;a3d,mo0A;dy,l;gg4iFndom,p3re,w;id;ed;ai2i3;ck,et;hoAi1Fl9o8r5u3;ny,r3;e,p11;egna2ic4o3;fouSud;ey,k0;liXor;ain,easa2;ny;dd,i0ld,ranL;aive,e5i4o3u14;b0Sisy,rm0Ysy;bb0ce,mb0R;a3r1w;r,t;ad,e5ild,o4u3;nda12te;ist,o1;a4ek,l3;low;s0ty;a8e7i6o3ucky;f0Jn4o15u3ve0w10y0N;d,sy;e0g;ke0l,mp,tt0Eve0;e1Qwd;me,r3te;ge;e4i3;nd;en;ol0ui19;cy,ll,n3;secu6t3;e3ima4;llege2rmedia3;te;re;aAe7i6o5u3;ge,m3ng1C;bYid;me0t;gh,l0;a3fXsita2;dy,rWv3;en0y;nd13ppy,r3;d3sh;!y;aFenEhCiBlAoofy,r3;a8e6i5o3ue0Z;o3ss;vy;m,s0;at,e3y;dy,n;nd,y;ad,ib,ooD;a2d1;a3o3;st0;tDuiS;u1y;aCeebBi9l8o6r5u3;ll,n3r0N;!ny;aCesh,iend0;a3nd,rmD;my;at,ir7;erce,nan3;ci9;le;r,ul3;ty;a6erie,sse4v3xtre0B;il;nti3;al;r4s3;tern,y;ly,th0;appZe9i5ru4u3;mb;nk;r5vi4z3;zy;ne;e,ty;a3ep,n9;d3f,r;!ly;agey,h8l7o5r4u3;dd0r0te;isp,uel;ar3ld,mmon,st0ward0zy;se;evKou1;e3il0;ap,e3;sy;aHiFlCoAr5u3;ff,r0sy;ly;a6i3oad;g4llia2;nt;ht;sh,ve;ld,un3;cy;a4o3ue;nd,o1;ck,nd;g,tt3;er;d,ld,w1;dy;bsu6ng5we3;so3;me;ry;rd",Adverb:"truea08b05d00eYfSheQinPjustOkinda,likewiZmMnJoEpCquite,r9s5t2u0very,well;ltima01p0; to,wards5;h1iny bit,o0wiO;o,t6;en,us;eldom,o0uch;!me1rt0; of;how,times,w0C;a1e0;alS;ndomRth05;ar excellenEer0oint blank; Lhaps;f3n0utright;ce0ly;! 0;ag05moX; courGten;ewJo0; longWt 0;onHwithstand9;aybe,eanwhiNore0;!ovT;! aboX;deed,steY;lla,n0;ce;or3u0;ck1l9rther0;!moK;ing; 0evK;exampCgood,suH;n mas0vI;se;e0irect2; 2fini0;te0;ly;juAtrop;ackward,y 0;far,no0; means,w; GbroFd nauseam,gEl7ny5part,s4t 2w0;ay,hi0;le;be7l0mo7wor7;arge,ea6; soon,i4;mo0way;re;l 3mo2ongsi1ready,so,togeth0ways;er;de;st;b1t0;hat;ut;ain;ad;lot,posteriori",Conjunction:"trueaXbTcReNhowMiEjust00noBo9p8supposing,t5wh0yet;e1il0o3;e,st;n1re0thN; if,by,vM;evL;h0il,o;erefOo0;!uU;lus,rovided th9;r0therwiM;! not; mattEr,w0;! 0;since,th4w7;f4n0; 0asmuch;as mIcaForder t0;h0o;at;! 0;only,t0w0;hen;!ev3;ith2ven0;! 0;if,tB;er;o0uz;s,z;e0ut,y the time;cau1f0;ore;se;lt3nd,s 0;far1if,m0soon1t2;uch0; as;hou0;gh",Currency:"true$,aud,bQcOdJeurIfHgbp,hkd,iGjpy,kElDp8r7s3usd,x2y1z0,,,,,,,,,,,;lotyQ;en,uanP;af,of;h0t5;e0il5;k0q0;elK;oubleJp,upeeJ;e2ound st0;er0;lingG;n0soF;ceEnies;empi7i7;n,r0wanzaCyatC;!onaBw;ls,nr;ori7ranc9;!os;en3i2kk,o0;b0ll2;ra5;me4n0rham4;ar3;e0ny;nt1;aht,itcoin0;!s",Determiner:"trueaBboth,d9e6few,le5mu8neiDplenty,s4th2various,wh0;at0ich0;evC;a0e4is,ose;!t;everal,ome;!ast,s;a1l0very;!se;ch;e0u;!s;!n0;!o0y;th0;er","Adj|Present":"truea07b04cVdQeNfJhollIidRlEmCnarrIoBp9qua8r7s3t2uttFw0;aKet,ro0;ng,u08;endChin;e2hort,l1mooth,our,pa9tray,u0;re,speU;i2ow;cu6da02leSpaN;eplica01i02;ck;aHerfePr0;eseUime,omV;bscu1pen,wn;atu0e3odeH;re;a2e1ive,ow0;er;an;st,y;ow;a2i1oul,r0;ee,inge;rm;iIke,ncy,st;l1mpty,x0;emHpress;abo4ic7;amp,e2i1oub0ry,ull;le;ffu9re6;fu8libe0;raE;alm,l5o0;mpleCn3ol,rr1unterfe0;it;e0u7;ct;juga8sum7;ea1o0;se;n,r;ankru1lu0;nt;pt;li2pproxi0rticula1;ma0;te;ght","Person|Adj":"trueb3du2earnest,frank,mi2r0san1woo1;an0ich,u1;dy;sty;ella,rown",Modal:"truec5lets,m4ought3sh1w0;ill,o5;a0o4;ll,nt;! to,a;ight,ust;an,o0;uld",Verb:"trueborn,cannot,gonna,has,keep tabs,msg","Person|Verb":"trueb8ch7dr6foster,gra5ja9lan4ma2ni9ollie,p1rob,s0wade;kip,pike,t5ue;at,eg,ier2;ck,r0;k,shal;ce;ce,nt;ew;ase,u1;iff,l1ob,u0;ck;aze,ossom","Person|Date":"truea2j0sep;an0une;!uary;p0ugust,v0;ril"},Au=36,t2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",bE=t2.split("").reduce(function(e,t,n){return e[t]=n,e},{}),AG=function(e){if(t2[e]!==void 0)return t2[e];let t=1,n=Au,r="";for(;e>=n;e-=n,t++,n*=Au);for(;t--;){const i=e%Au;r=String.fromCharCode((i<10?48:55)+i)+r,e=(e-i)/Au}return r},wG=function(e){if(bE[e]!==void 0)return bE[e];let t=0,n=1,r=Au,i=1;for(;n<e.length;t+=r,n++,r*=Au);for(let a=e.length-1;a>=0;a--,i*=Au){let o=e.charCodeAt(a)-48;o>10&&(o-=7),t+=o*i}return t},n2={toAlphaCode:AG,fromAlphaCode:wG},bG=function(e){const t=new RegExp("([0-9A-Z]+):([0-9A-Z]+)");for(let n=0;n<e.nodes.length;n++){const r=t.exec(e.nodes[n]);if(!r){e.symCount=n;break}e.syms[n2.fromAlphaCode(r[1])]=n2.fromAlphaCode(r[2])}e.nodes=e.nodes.slice(e.symCount,e.nodes.length)},xG=function(e,t,n){const r=n2.fromAlphaCode(t);return r<e.symCount?e.syms[r]:n+r+1-e.symCount},EG=function(e){const t=[],n=(r,i)=>{let a=e.nodes[r];a[0]==="!"&&(t.push(i),a=a.slice(1));const o=a.split(/([A-Z0-9,]+)/g);for(let s=0;s<o.length;s+=2){const l=o[s],u=o[s+1];if(!l)continue;const c=i+l;if(u===","||u===void 0){t.push(c);continue}const d=xG(e,u,r);n(d,c)}};return n(0,""),t},kG=function(e){const t={nodes:e.split(";"),syms:[],symCount:0};return e.match(":")&&bG(t),EG(t)},_G=function(e){if(!e)return{};const t=e.split("|").reduce((r,i)=>{const a=i.split("");return r[a[0]]=a[1],r},{}),n={};return Object.keys(t).forEach(function(r){const i=kG(t[r]);r==="true"&&(r=!0);for(let a=0;a<i.length;a++){const o=i[a];n.hasOwnProperty(o)===!0?Array.isArray(n[o])===!1?n[o]=[n[o],r]:n[o].push(r):n[o]=r}}),n},Ka=["Possessive","Pronoun"];let CG={"20th century fox":"Organization","7 eleven":"Organization","motel 6":"Organization",g8:"Organization",vh1:"Organization","76ers":"SportsTeam","49ers":"SportsTeam",q1:"Date",q2:"Date",q3:"Date",q4:"Date",km2:"Unit",m2:"Unit",dm2:"Unit",cm2:"Unit",mm2:"Unit",mile2:"Unit",in2:"Unit",yd2:"Unit",ft2:"Unit",m3:"Unit",dm3:"Unit",cm3:"Unit",in3:"Unit",ft3:"Unit",yd3:"Unit","at&t":"Organization","black & decker":"Organization","h & m":"Organization","johnson & johnson":"Organization","procter & gamble":"Organization","ben & jerry's":"Organization","&":"Conjunction",i:["Pronoun","Singular"],he:["Pronoun","Singular"],she:["Pronoun","Singular"],it:["Pronoun","Singular"],they:["Pronoun","Plural"],we:["Pronoun","Plural"],was:["Copula","PastTense"],is:["Copula","PresentTense"],are:["Copula","PresentTense"],am:["Copula","PresentTense"],were:["Copula","PastTense"],her:Ka,his:Ka,hers:Ka,their:Ka,theirs:Ka,themselves:Ka,your:Ka,our:Ka,ours:Ka,my:Ka,its:Ka,vs:["Conjunction","Abbreviation"],if:["Condition","Preposition"],closer:"Comparative",closest:"Superlative",much:"Adverb",may:"Modal",babysat:"PastTense",blew:"PastTense",drank:"PastTense",drove:"PastTense",forgave:"PastTense",skiied:"PastTense",spilt:"PastTense",stung:"PastTense",swam:"PastTense",swung:"PastTense",guaranteed:"PastTense",shrunk:"PastTense",nears:"PresentTense",nearing:"Gerund",neared:"PastTense",no:["Negative","Expression"]};const SG={"20th century fox":"Organization","7 eleven":"Organization","motel 6":"Organization","excuse me":"Expression","financial times":"Organization","guns n roses":"Organization","la z boy":"Organization","labour party":"Organization","new kids on the block":"Organization","new york times":"Organization","the guess who":"Organization","thin lizzy":"Organization","prime minister":"Actor","free market":"Singular","lay up":"Singular","living room":"Singular","living rooms":"Plural","spin off":"Singular","appeal court":"Uncountable","cold war":"Uncountable","gene pool":"Uncountable","machine learning":"Uncountable","nail polish":"Uncountable","time off":"Uncountable","take part":"Infinitive","bill gates":"Person","doctor who":"Person","dr who":"Person","he man":"Person","iron man":"Person","kid cudi":"Person","run dmc":"Person","rush limbaugh":"Person","snow white":"Person","tiger woods":"Person","brand new":"Adjective","en route":"Adjective","left wing":"Adjective","off guard":"Adjective","on board":"Adjective","part time":"Adjective","right wing":"Adjective","so called":"Adjective","spot on":"Adjective","straight forward":"Adjective","super duper":"Adjective","tip top":"Adjective","top notch":"Adjective","up to date":"Adjective","win win":"Adjective","brooklyn nets":"SportsTeam","chicago bears":"SportsTeam","houston astros":"SportsTeam","houston dynamo":"SportsTeam","houston rockets":"SportsTeam","houston texans":"SportsTeam","minnesota twins":"SportsTeam","orlando magic":"SportsTeam","san antonio spurs":"SportsTeam","san diego chargers":"SportsTeam","san diego padres":"SportsTeam","iron maiden":"ProperNoun","isle of man":"Country","united states":"Country","united states of america":"Country","prince edward island":"Region","cedar breaks":"Place","cedar falls":"Place","point blank":"Adverb","tiny bit":"Adverb","by the time":"Conjunction","no matter":"Conjunction","civil wars":"Plural","credit cards":"Plural","default rates":"Plural","free markets":"Plural","head starts":"Plural","home runs":"Plural","lay ups":"Plural","phone calls":"Plural","press releases":"Plural","record labels":"Plural","soft serves":"Plural","student loans":"Plural","tax returns":"Plural","tv shows":"Plural","video games":"Plural","took part":"PastTense","takes part":"PresentTense","taking part":"Gerund","taken part":"Participle","light bulb":"Noun","rush hour":"Noun","fluid ounce":"Unit","the rolling stones":"Organization"},NG=[":(",":)",":P",":p",":O",";(",";)",";P",";p",";O",":3",":|",":/",":\\",":$",":*",":@",":-(",":-)",":-P",":-p",":-O",":-3",":-|",":-/",":-\\",":-$",":-*",":-@",":^(",":^)",":^P",":^p",":^O",":^3",":^|",":^/",":^\\",":^$",":^*",":^@","):","(:","$:","*:",")-:","(-:","$-:","*-:",")^:","(^:","$^:","*^:","<3","</3","<\\3","=("],Sg={a:[[/(antenn|formul|nebul|vertebr|vit)a$/i,"$1ae"],[/ia$/i,"ia"]],e:[[/(kn|l|w)ife$/i,"$1ives"],[/(hive)$/i,"$1s"],[/([m|l])ouse$/i,"$1ice"],[/([m|l])ice$/i,"$1ice"]],f:[[/^(dwar|handkerchie|hoo|scar|whar)f$/i,"$1ves"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)f$/i,"$1ves"]],i:[[/(octop|vir)i$/i,"$1i"]],m:[[/([ti])um$/i,"$1a"]],n:[[/^(oxen)$/i,"$1"]],o:[[/(al|ad|at|er|et|ed)o$/i,"$1oes"]],s:[[/(ax|test)is$/i,"$1es"],[/(alias|status)$/i,"$1es"],[/sis$/i,"ses"],[/(bu)s$/i,"$1ses"],[/(sis)$/i,"ses"],[/^(?!talis|.*hu)(.*)man$/i,"$1men"],[/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,"$1i"]],x:[[/(matr|vert|ind|cort)(ix|ex)$/i,"$1ices"],[/^(ox)$/i,"$1en"]],y:[[/([^aeiouy]|qu)y$/i,"$1ies"]],z:[[/(quiz)$/i,"$1zes"]]},IG=/([xsz]|ch|sh)$/,PG=function(e){let t=e[e.length-1];if(Sg.hasOwnProperty(t)===!0)for(let n=0;n<Sg[t].length;n+=1){let r=Sg[t][n][0];if(r.test(e)===!0)return e.replace(r,Sg[t][n][1])}return null},n1=function(e="",t){let{irregularPlurals:n,uncountable:r}=t.two;if(r.hasOwnProperty(e))return e;if(n.hasOwnProperty(e))return n[e];let i=PG(e);return i!==null?i:IG.test(e)?e+"es":e+"s"},BG=/\|/;let Td=CG,r2={};const TG={two:{irregularPlurals:VI,uncountable:{}}};Object.keys(wE).forEach(e=>{let t=_G(wE[e]);if(!BG.test(e)){Object.keys(t).forEach(n=>{Td[n]=e});return}Object.keys(t).forEach(n=>{if(r2[n]=e,e==="Noun|Verb"){let r=n1(n,TG);r2[r]="Plural|Verb"}})});NG.forEach(e=>Td[e]="Emoticon");delete Td[""];delete Td[null];delete Td[" "];const Me="Singular",Zn={beforeTags:{Determiner:Me,Possessive:Me,Acronym:Me,Noun:Me,Adjective:Me,PresentTense:Me,Gerund:Me,PastTense:Me,Infinitive:Me,Date:Me,Ordinal:Me,Demonym:Me},afterTags:{Value:Me,Modal:Me,Copula:Me,PresentTense:Me,PastTense:Me,Demonym:Me,Actor:Me},beforeWords:{the:Me,with:Me,without:Me,of:Me,for:Me,any:Me,all:Me,on:Me,cut:Me,cuts:Me,increase:Me,decrease:Me,raise:Me,drop:Me,save:Me,saved:Me,saves:Me,make:Me,makes:Me,made:Me,minus:Me,plus:Me,than:Me,another:Me,versus:Me,neither:Me,about:Me,favorite:Me,best:Me,daily:Me,weekly:Me,linear:Me,binary:Me,mobile:Me,lexical:Me,technical:Me,computer:Me,scientific:Me,security:Me,government:Me,popular:Me,formal:Me,no:Me,more:Me,one:Me,let:Me,her:Me,his:Me,their:Me,our:Me,us:Me,sheer:Me,monthly:Me,yearly:Me,current:Me,previous:Me,upcoming:Me,last:Me,next:Me,main:Me,initial:Me,final:Me,beginning:Me,end:Me,top:Me,bottom:Me,future:Me,past:Me,major:Me,minor:Me,side:Me,central:Me,peripheral:Me,public:Me,private:Me},afterWords:{of:Me,system:Me,aid:Me,method:Me,utility:Me,tool:Me,reform:Me,therapy:Me,philosophy:Me,room:Me,authority:Me,says:Me,said:Me,wants:Me,wanted:Me,is:Me,did:Me,do:Me,can:Me,wise:Me}},Ve="Infinitive",yi={beforeTags:{Modal:Ve,Adverb:Ve,Negative:Ve,Plural:Ve},afterTags:{Determiner:Ve,Adverb:Ve,Possessive:Ve,Reflexive:Ve,Preposition:Ve,Cardinal:Ve,Comparative:Ve,Superlative:Ve},beforeWords:{i:Ve,we:Ve,you:Ve,they:Ve,to:Ve,please:Ve,will:Ve,have:Ve,had:Ve,would:Ve,could:Ve,should:Ve,do:Ve,did:Ve,does:Ve,can:Ve,must:Ve,us:Ve,me:Ve,let:Ve,even:Ve,when:Ve,help:Ve,he:Ve,she:Ve,it:Ve,being:Ve,bi:Ve,co:Ve,contra:Ve,de:Ve,inter:Ve,intra:Ve,mis:Ve,pre:Ve,out:Ve,counter:Ve,nobody:Ve,somebody:Ve,anybody:Ve,everybody:Ve},afterWords:{the:Ve,me:Ve,you:Ve,him:Ve,us:Ve,her:Ve,his:Ve,them:Ve,they:Ve,it:Ve,himself:Ve,herself:Ve,itself:Ve,myself:Ve,ourselves:Ve,themselves:Ve,something:Ve,anything:Ve,a:Ve,an:Ve,up:Ve,down:Ve,by:Ve,out:Ve,off:Ve,under:Ve,what:Ve,all:Ve,to:Ve,because:Ve,although:Ve,how:Ve,otherwise:Ve,together:Ve,though:Ve,into:Ve,yet:Ve,more:Ve,here:Ve,there:Ve,away:Ve}},OG={beforeTags:Object.assign({},yi.beforeTags,Zn.beforeTags,{}),afterTags:Object.assign({},yi.afterTags,Zn.afterTags,{}),beforeWords:Object.assign({},yi.beforeWords,Zn.beforeWords,{}),afterWords:Object.assign({},yi.afterWords,Zn.afterWords,{})},et="Adjective",Ir={beforeTags:{Determiner:et,Possessive:et,Hyphenated:et},afterTags:{Adjective:et},beforeWords:{seem:et,seemed:et,seems:et,feel:et,feels:et,felt:et,stay:et,appear:et,appears:et,appeared:et,also:et,over:et,under:et,too:et,it:et,but:et,still:et,really:et,quite:et,well:et,very:et,truly:et,how:et,deeply:et,hella:et,profoundly:et,extremely:et,so:et,badly:et,mostly:et,totally:et,awfully:et,rather:et,nothing:et,something:et,anything:et,not:et,me:et,is:et,face:et,faces:et,faced:et,look:et,looks:et,looked:et,reveal:et,reveals:et,revealed:et,sound:et,sounded:et,sounds:et,remains:et,remained:et,prove:et,proves:et,proved:et,becomes:et,stays:et,tastes:et,taste:et,smells:et,smell:et,gets:et,grows:et,as:et,rings:et,radiates:et,conveys:et,convey:et,conveyed:et,of:et},afterWords:{too:et,also:et,or:et,enough:et,as:et}},Nt="Gerund",cl={beforeTags:{Adverb:Nt,Preposition:Nt,Conjunction:Nt},afterTags:{Adverb:Nt,Possessive:Nt,Person:Nt,Pronoun:Nt,Determiner:Nt,Copula:Nt,Preposition:Nt,Conjunction:Nt,Comparative:Nt},beforeWords:{been:Nt,keep:Nt,continue:Nt,stop:Nt,am:Nt,be:Nt,me:Nt,began:Nt,start:Nt,starts:Nt,started:Nt,stops:Nt,stopped:Nt,help:Nt,helps:Nt,avoid:Nt,avoids:Nt,love:Nt,loves:Nt,loved:Nt,hate:Nt,hates:Nt,hated:Nt},afterWords:{you:Nt,me:Nt,her:Nt,him:Nt,his:Nt,them:Nt,their:Nt,it:Nt,this:Nt,there:Nt,on:Nt,about:Nt,for:Nt,up:Nt,down:Nt}},sn="Gerund",$s="Adjective",jG={beforeTags:Object.assign({},Ir.beforeTags,cl.beforeTags,{Imperative:sn,Infinitive:$s,Plural:sn}),afterTags:Object.assign({},Ir.afterTags,cl.afterTags,{Noun:$s}),beforeWords:Object.assign({},Ir.beforeWords,cl.beforeWords,{is:$s,are:sn,was:$s,of:$s,suggest:sn,suggests:sn,suggested:sn,recommend:sn,recommends:sn,recommended:sn,imagine:sn,imagines:sn,imagined:sn,consider:sn,considered:sn,considering:sn,resist:sn,resists:sn,resisted:sn,avoid:sn,avoided:sn,avoiding:sn,except:$s,accept:$s,assess:sn,explore:sn,fear:sn,fears:sn,appreciate:sn,question:sn,help:sn,embrace:sn,with:$s}),afterWords:Object.assign({},Ir.afterWords,cl.afterWords,{to:sn,not:sn,the:sn})},xE={beforeTags:{Determiner:void 0,Cardinal:"Noun",PhrasalVerb:"Adjective"},afterTags:{}},DG={beforeTags:Object.assign({},Ir.beforeTags,Zn.beforeTags,xE.beforeTags),afterTags:Object.assign({},Ir.afterTags,Zn.afterTags,xE.afterTags),beforeWords:Object.assign({},Ir.beforeWords,Zn.beforeWords,{are:"Adjective",is:"Adjective",was:"Adjective",be:"Adjective",off:"Adjective",out:"Adjective"}),afterWords:Object.assign({},Ir.afterWords,Zn.afterWords)};let Rt="PastTense",Bf="Adjective";const Ng={beforeTags:{Adverb:Rt,Pronoun:Rt,ProperNoun:Rt,Auxiliary:Rt,Noun:Rt},afterTags:{Possessive:Rt,Pronoun:Rt,Determiner:Rt,Adverb:Rt,Comparative:Rt,Date:Rt,Gerund:Rt},beforeWords:{be:Rt,who:Rt,get:Bf,had:Rt,has:Rt,have:Rt,been:Rt,it:Rt,as:Rt,for:Bf,more:Bf,always:Bf},afterWords:{by:Rt,back:Rt,out:Rt,in:Rt,up:Rt,down:Rt,before:Rt,after:Rt,for:Rt,the:Rt,with:Rt,as:Rt,on:Rt,at:Rt,between:Rt,to:Rt,into:Rt,us:Rt,them:Rt,his:Rt,her:Rt,their:Rt,our:Rt,me:Rt,about:Bf}},LG={beforeTags:Object.assign({},Ir.beforeTags,Ng.beforeTags),afterTags:Object.assign({},Ir.afterTags,Ng.afterTags),beforeWords:Object.assign({},Ir.beforeWords,Ng.beforeWords),afterWords:Object.assign({},Ir.afterWords,Ng.afterWords)},RG={afterTags:{Noun:"Adjective",Conjunction:void 0}},FG={beforeTags:Object.assign({},Ir.beforeTags,yi.beforeTags,{Adverb:void 0,Negative:void 0}),afterTags:Object.assign({},Ir.afterTags,yi.afterTags,RG.afterTags),beforeWords:Object.assign({},Ir.beforeWords,yi.beforeWords,{have:void 0,had:void 0,not:void 0,went:"Adjective",goes:"Adjective",got:"Adjective",be:"Adjective"}),afterWords:Object.assign({},Ir.afterWords,yi.afterWords,{to:void 0,as:"Adjective"})},Ig={beforeTags:{Copula:"Gerund",PastTense:"Gerund",PresentTense:"Gerund",Infinitive:"Gerund"},afterTags:{Value:"Gerund"},beforeWords:{are:"Gerund",were:"Gerund",be:"Gerund",no:"Gerund",without:"Gerund",you:"Gerund",we:"Gerund",they:"Gerund",he:"Gerund",she:"Gerund",us:"Gerund",them:"Gerund"},afterWords:{the:"Gerund",this:"Gerund",that:"Gerund",me:"Gerund",us:"Gerund",them:"Gerund"}},MG={beforeTags:Object.assign({},cl.beforeTags,Zn.beforeTags,Ig.beforeTags),afterTags:Object.assign({},cl.afterTags,Zn.afterTags,Ig.afterTags),beforeWords:Object.assign({},cl.beforeWords,Zn.beforeWords,Ig.beforeWords),afterWords:Object.assign({},cl.afterWords,Zn.afterWords,Ig.afterWords)},bc="Singular",Wl="Infinitive",UG={beforeTags:Object.assign({},yi.beforeTags,Zn.beforeTags,{Adjective:bc,Particle:bc}),afterTags:Object.assign({},yi.afterTags,Zn.afterTags,{ProperNoun:Wl,Gerund:Wl,Adjective:Wl,Copula:bc}),beforeWords:Object.assign({},yi.beforeWords,Zn.beforeWords,{is:bc,was:bc,of:bc,have:null}),afterWords:Object.assign({},yi.afterWords,Zn.afterWords,{instead:Wl,about:Wl,his:Wl,her:Wl,to:null,by:null,in:null})},wn="Person",Pr={beforeTags:{Honorific:wn,Person:wn},afterTags:{Person:wn,ProperNoun:wn,Verb:wn},beforeWords:{hi:wn,hey:wn,yo:wn,dear:wn,hello:wn},afterWords:{said:wn,says:wn,told:wn,tells:wn,feels:wn,felt:wn,seems:wn,thinks:wn,thought:wn,spends:wn,spendt:wn,plays:wn,played:wn,sing:wn,sang:wn,learn:wn,learned:wn,wants:wn,wanted:wn}},zn="Month",zG="Person",Pg={beforeTags:{Date:zn,Value:zn},afterTags:{Date:zn,Value:zn},beforeWords:{by:zn,in:zn,on:zn,during:zn,after:zn,before:zn,between:zn,until:zn,til:zn,sometime:zn,of:zn,this:zn,next:zn,last:zn,previous:zn,following:zn,with:zG},afterWords:{sometime:zn,in:zn,of:zn,until:zn,the:zn}},HG={beforeTags:Object.assign({},Pr.beforeTags,Pg.beforeTags),afterTags:Object.assign({},Pr.afterTags,Pg.afterTags),beforeWords:Object.assign({},Pr.beforeWords,Pg.beforeWords),afterWords:Object.assign({},Pr.afterWords,Pg.afterWords)},GG={beforeTags:Object.assign({},Zn.beforeTags,Pr.beforeTags),afterTags:Object.assign({},Zn.afterTags,Pr.afterTags),beforeWords:Object.assign({},Zn.beforeWords,Pr.beforeWords,{i:"Infinitive",we:"Infinitive"}),afterWords:Object.assign({},Zn.afterWords,Pr.afterWords)},QG={beforeTags:Object.assign({},Zn.beforeTags,Pr.beforeTags,yi.beforeTags),afterTags:Object.assign({},Zn.afterTags,Pr.afterTags,yi.afterTags),beforeWords:Object.assign({},Zn.beforeWords,Pr.beforeWords,yi.beforeWords),afterWords:Object.assign({},Zn.afterWords,Pr.afterWords,yi.afterWords)},Xr="Place",Bg={beforeTags:{Place:Xr},afterTags:{Place:Xr,Abbreviation:Xr},beforeWords:{in:Xr,by:Xr,near:Xr,from:Xr,to:Xr},afterWords:{in:Xr,by:Xr,near:Xr,from:Xr,to:Xr,government:Xr,council:Xr,region:Xr,city:Xr}},qG={beforeTags:Object.assign({},Bg.beforeTags,Pr.beforeTags),afterTags:Object.assign({},Bg.afterTags,Pr.afterTags),beforeWords:Object.assign({},Bg.beforeWords,Pr.beforeWords),afterWords:Object.assign({},Bg.afterWords,Pr.afterWords)},$G={beforeTags:Object.assign({},Pr.beforeTags,Ir.beforeTags),afterTags:Object.assign({},Pr.afterTags,Ir.afterTags),beforeWords:Object.assign({},Pr.beforeWords,Ir.beforeWords),afterWords:Object.assign({},Pr.afterWords,Ir.afterWords)};let Ba="Unit";const VG={beforeTags:{Value:Ba},afterTags:{},beforeWords:{per:Ba,every:Ba,each:Ba,square:Ba,cubic:Ba,sq:Ba,metric:Ba},afterWords:{per:Ba,squared:Ba,cubed:Ba,long:Ba}},Dc={"Actor|Verb":OG,"Adj|Gerund":jG,"Adj|Noun":DG,"Adj|Past":LG,"Adj|Present":FG,"Noun|Verb":UG,"Noun|Gerund":MG,"Person|Noun":GG,"Person|Date":HG,"Person|Verb":QG,"Person|Place":qG,"Person|Adj":$G,"Unit|Noun":VG},Tg=(e,t)=>{let n=Object.keys(e).reduce((r,i)=>(r[i]=e[i]==="Infinitive"?"PresentTense":"Plural",r),{});return Object.assign(n,t)};Dc["Plural|Verb"]={beforeWords:Tg(Dc["Noun|Verb"].beforeWords,{had:"Plural",have:"Plural"}),afterWords:Tg(Dc["Noun|Verb"].afterWords,{his:"PresentTense",her:"PresentTense",its:"PresentTense",in:null,to:null,is:"PresentTense",by:"PresentTense"}),beforeTags:Tg(Dc["Noun|Verb"].beforeTags,{Conjunction:"PresentTense",Noun:void 0,ProperNoun:"PresentTense"}),afterTags:Tg(Dc["Noun|Verb"].afterTags,{Gerund:"Plural",Noun:"PresentTense",Value:"PresentTense"})};const gn="Adjective",zr="Infinitive",Kl="PresentTense",Gt="Singular",Hr="PastTense",xc="Adverb",ra="Plural",nr="Actor",Og="Verb",ci="Noun",WG="ProperNoun",Ya="LastName",EE="Modal",Nn="Place",$v="Participle",KG=[null,null,{ea:Gt,ia:ci,ic:gn,ly:xc,"'n":Og,"'t":Og},{oed:Hr,ued:Hr,xed:Hr," so":xc,"'ll":EE,"'re":"Copula",azy:gn,eer:ci,end:Og,ped:Hr,ffy:gn,ify:zr,ing:"Gerund",ize:zr,ibe:zr,lar:gn,mum:gn,nes:Kl,nny:gn,ous:gn,que:gn,ger:ci,ber:ci,rol:Gt,sis:Gt,ogy:Gt,oid:Gt,ian:Gt,zes:Kl,eld:Hr,ken:$v,ven:$v,ten:$v,ect:zr,ict:zr,ign:zr,oze:zr,ful:gn,bal:gn,ton:ci,pur:Nn},{amed:Hr,aped:Hr,ched:Hr,lked:Hr,rked:Hr,reed:Hr,nded:Hr,mned:gn,cted:Hr,dged:Hr,ield:Gt,akis:Ya,cede:zr,chuk:Ya,czyk:Ya,ects:Kl,iend:Gt,ends:Og,enko:Ya,ette:Gt,iary:Gt,wner:Gt,fies:Kl,fore:xc,gate:zr,gone:gn,ices:ra,ints:ra,ruct:zr,ines:ra,ions:ra,ners:ra,pers:ra,lers:ra,less:gn,llen:gn,made:gn,nsen:Ya,oses:Kl,ould:EE,some:gn,sson:Ya,ians:ra,tion:Gt,tage:ci,ique:Gt,tive:gn,tors:ci,vice:Gt,lier:Gt,fier:Gt,wned:Hr,gent:Gt,tist:nr,pist:nr,rist:nr,mist:nr,yist:nr,vist:nr,ists:nr,lite:Gt,site:Gt,rite:Gt,mite:Gt,bite:Gt,mate:Gt,date:Gt,ndal:Gt,vent:Gt,uist:nr,gist:nr,note:Gt,cide:Gt,ence:Gt,wide:gn,vide:zr,ract:zr,duce:zr,pose:zr,eive:zr,lyze:zr,lyse:zr,iant:gn,nary:gn,ghty:gn,uent:gn,erer:nr,bury:Nn,dorf:ci,esty:ci,wych:Nn,dale:Nn,folk:Nn,vale:Nn,abad:Nn,sham:Nn,wick:Nn,view:Nn},{elist:nr,holic:Gt,phite:Gt,tized:Hr,urned:Hr,eased:Hr,ances:ra,bound:gn,ettes:ra,fully:xc,ishes:Kl,ities:ra,marek:Ya,nssen:Ya,ology:ci,osome:Gt,tment:Gt,ports:ra,rough:gn,tches:Kl,tieth:"Ordinal",tures:ra,wards:xc,where:xc,archy:ci,pathy:ci,opoly:ci,embly:ci,phate:ci,ndent:Gt,scent:Gt,onist:nr,anist:nr,alist:nr,olist:nr,icist:nr,ounce:zr,iable:gn,borne:gn,gnant:gn,inant:gn,igent:gn,atory:gn,rient:Gt,dient:Gt,maker:nr,burgh:Nn,mouth:Nn,ceter:Nn,ville:Nn,hurst:Nn,stead:Nn,endon:Nn,brook:Nn,shire:Nn,worth:ci,field:WG,ridge:Nn},{auskas:Ya,parent:Gt,cedent:Gt,ionary:Gt,cklist:Gt,brooke:Nn,keeper:nr,logist:nr,teenth:"Value",worker:nr,master:nr,writer:nr,brough:Nn,cester:Nn,ington:Nn,cliffe:Nn,ingham:Nn},{chester:Nn,logists:nr,opoulos:Ya,borough:Nn,sdottir:Ya}],ia="Adjective",In="Noun",Tf="Verb",YG=[null,null,{},{neo:In,bio:In,"de-":Tf,"re-":Tf,"un-":Tf,"ex-":In},{anti:In,auto:In,faux:ia,hexa:In,kilo:In,mono:In,nano:In,octa:In,poly:In,semi:ia,tele:In,"pro-":ia,"mis-":Tf,"dis-":Tf,"pre-":ia},{anglo:In,centi:In,ethno:In,ferro:In,grand:In,hepta:In,hydro:In,intro:In,macro:In,micro:In,milli:In,nitro:In,penta:In,quasi:ia,radio:In,tetra:In,"omni-":ia,"post-":ia},{pseudo:ia,"extra-":ia,"hyper-":ia,"inter-":ia,"intra-":ia,"deca-":ia},{electro:In}],Yn="Adjective",jg="Infinitive",Dg="PresentTense",Xo="Singular",_i="PastTense",kE="Adverb",Zo="Expression",_E="Actor",CE="Verb",SE="Noun",Lg="LastName",JG={a:[[/.[aeiou]na$/,SE,"tuna"],[/.[oau][wvl]ska$/,Lg],[/.[^aeiou]ica$/,Xo,"harmonica"],[/^([hyj]a+)+$/,Zo,"haha"]],c:[[/.[^aeiou]ic$/,Yn]],d:[[/[aeiou](pp|ll|ss|ff|gg|tt|rr|bb|nn|mm)ed$/,_i,"popped"],[/.[aeo]{2}[bdgmnprvz]ed$/,_i,"rammed"],[/.[aeiou][sg]hed$/,_i,"gushed"],[/.[aeiou]red$/,_i,"hired"],[/.[aeiou]r?ried$/,_i,"hurried"],[/[^aeiou]ard$/,Xo,"steward"],[/[aeiou][^aeiou]id$/,Yn,""],[/.[vrl]id$/,Yn,"livid"],[/..led$/,_i,"hurled"],[/.[iao]sed$/,_i,""],[/[aeiou]n?[cs]ed$/,_i,""],[/[aeiou][rl]?[mnf]ed$/,_i,""],[/[aeiou][ns]?c?ked$/,_i,"bunked"],[/[aeiou]gned$/,_i],[/[aeiou][nl]?ged$/,_i],[/.[tdbwxyz]ed$/,_i],[/[^aeiou][aeiou][tvx]ed$/,_i],[/.[cdflmnprstv]ied$/,_i,"emptied"]],e:[[/.[lnr]ize$/,jg,"antagonize"],[/.[^aeiou]ise$/,jg,"antagonise"],[/.[aeiou]te$/,jg,"bite"],[/.[^aeiou][ai]ble$/,Yn,"fixable"],[/.[^aeiou]eable$/,Yn,"maleable"],[/.[ts]ive$/,Yn,"festive"],[/[a-z]-like$/,Yn,"woman-like"]],h:[[/.[^aeiouf]ish$/,Yn,"cornish"],[/.v[iy]ch$/,Lg,"..ovich"],[/^ug?h+$/,Zo,"ughh"],[/^uh[ -]?oh$/,Zo,"uhoh"],[/[a-z]-ish$/,Yn,"cartoon-ish"]],i:[[/.[oau][wvl]ski$/,Lg,"polish-male"]],k:[[/^(k){2}$/,Zo,"kkkk"]],l:[[/.[gl]ial$/,Yn,"familial"],[/.[^aeiou]ful$/,Yn,"fitful"],[/.[nrtumcd]al$/,Yn,"natal"],[/.[^aeiou][ei]al$/,Yn,"familial"]],m:[[/.[^aeiou]ium$/,Xo,"magnesium"],[/[^aeiou]ism$/,Xo,"schism"],[/^[hu]m+$/,Zo,"hmm"],[/^\d+ ?[ap]m$/,"Date","3am"]],n:[[/.[lsrnpb]ian$/,Yn,"republican"],[/[^aeiou]ician$/,_E,"musician"],[/[aeiou][ktrp]in'$/,"Gerund","cookin'"]],o:[[/^no+$/,Zo,"noooo"],[/^(yo)+$/,Zo,"yoo"],[/^wo{2,}[pt]?$/,Zo,"woop"]],r:[[/.[bdfklmst]ler$/,"Noun"],[/[aeiou][pns]er$/,Xo],[/[^i]fer$/,jg],[/.[^aeiou][ao]pher$/,_E],[/.[lk]er$/,"Noun"],[/.ier$/,"Comparative"]],t:[[/.[di]est$/,"Superlative"],[/.[icldtgrv]ent$/,Yn],[/[aeiou].*ist$/,Yn],[/^[a-z]et$/,CE]],s:[[/.[^aeiou]ises$/,Dg],[/.[rln]ates$/,Dg],[/.[^z]ens$/,CE],[/.[lstrn]us$/,Xo],[/.[aeiou]sks$/,Dg],[/.[aeiou]kes$/,Dg],[/[aeiou][^aeiou]is$/,Xo],[/[a-z]'s$/,SE],[/^yes+$/,Zo]],v:[[/.[^aeiou][ai][kln]ov$/,Lg]],y:[[/.[cts]hy$/,Yn],[/.[st]ty$/,Yn],[/.[tnl]ary$/,Yn],[/.[oe]ry$/,Xo],[/[rdntkbhs]ly$/,kE],[/.(gg|bb|zz)ly$/,Yn],[/...lly$/,kE],[/.[gk]y$/,Yn],[/[bszmp]{2}y$/,Yn],[/.[ai]my$/,Yn],[/[ea]{2}zy$/,Yn],[/.[^aeiou]ity$/,Xo]]},di="Verb",Ln="Noun",XG={leftTags:[["Adjective",Ln],["Possessive",Ln],["Determiner",Ln],["Adverb",di],["Pronoun",di],["Value",Ln],["Ordinal",Ln],["Modal",di],["Superlative",Ln],["Demonym",Ln],["Honorific","Person"]],leftWords:[["i",di],["first",Ln],["it",di],["there",di],["not",di],["because",Ln],["if",Ln],["but",Ln],["who",di],["this",Ln],["his",Ln],["when",Ln],["you",di],["very","Adjective"],["old",Ln],["never",di],["before",Ln],["a",Ln],["the",Ln],["been",di]],rightTags:[["Copula",Ln],["PastTense",Ln],["Conjunction",Ln],["Modal",Ln]],rightWords:[["there",di],["me",di],["man","Adjective"],["him",di],["it",di],["were",Ln],["took",Ln],["himself",di],["went",Ln],["who",Ln],["jr","Person"]]},Mu={Comparative:{fwd:"3:ser,ier1er:h,t,f,l,n1r:e2er:ss,or,om",both:"3er:ver,ear,alm3ner:hin3ter:lat2mer:im2er:ng,rm,mb2ber:ib2ger:ig1er:w,p,k,dier:y",rev:"1:tter,yer2:uer,ver,ffer,oner,eler,ller,iler,ster,cer,uler,sher,ener,gher,aner,adder,nter,eter,rter,hter,rner,fter3:oser,ooler,eafer,user,airer,bler,maler,tler,eater,uger,rger,ainer,urer,ealer,icher,pler,emner,icter,nser,iser4:arser,viner,ucher,rosser,somer,ndomer,moter,oother,uarer,hiter5:nuiner,esser,emierar:urther",ex:"worse:badbetter:good4er:fair,gray,poor1urther:far3ter:fat,hot,wet3der:mad,sad3er:shy,fun4der:glad:4r:cute,dire,fake,fine,free,lame,late,pale,rare,ripe,rude,safe,sore,tame,wide5r:eerie,stale"},Gerund:{fwd:"1:nning,tting,rring,pping,eing,mming,gging,dding,bbing,kking2:eking,oling,eling,eming3:velling,siting,uiting,fiting,loting,geting,ialing,celling4:graming",both:"1:aing,iing,fing,xing,ying,oing,hing,wing2:tzing,rping,izzing,bting,mning,sping,wling,rling,wding,rbing,uping,lming,wning,mping,oning,lting,mbing,lking,fting,hting,sking,gning,pting,cking,ening,nking,iling,eping,ering,rting,rming,cting,lping,ssing,nting,nding,lding,sting,rning,rding,rking3:belling,siping,toming,yaking,uaking,oaning,auling,ooping,aiding,naping,euring,tolling,uzzing,ganing,haning,ualing,halling,iasing,auding,ieting,ceting,ouling,voring,ralling,garing,joring,oaming,oaking,roring,nelling,ooring,uelling,eaming,ooding,eaping,eeting,ooting,ooming,xiting,keting,ooking,ulling,airing,oaring,biting,outing,oiting,earing,naling,oading,eeding,ouring,eaking,aiming,illing,oining,eaning,onging,ealing,aining,eading4:thoming,melling,aboring,ivoting,weating,dfilling,onoring,eriting,imiting,tialling,rgining,otoring,linging,winging,lleting,louding,spelling,mpelling,heating,feating,opelling,choring,welling,ymaking,ctoring,calling,peating,iloring,laiting,utoring,uditing,mmaking,loating,iciting,waiting,mbating,voiding,otalling,nsoring,nselling,ocusing,itoring,eloping5:rselling,umpeting,atrolling,treating,tselling,rpreting,pringing,ummeting,ossoming,elmaking,eselling,rediting,totyping,onmaking,rfeiting,ntrolling5e:chmaking,dkeeping,severing,erouting,ecreting,ephoning,uthoring,ravening,reathing,pediting,erfering,eotyping,fringing,entoring,ombining,ompeting4e:emaking,eething,twining,rruling,chuting,xciting,rseding,scoping,edoring,pinging,lunging,agining,craping,pleting,eleting,nciting,nfining,ncoding,tponing,ecoding,writing,esaling,nvening,gnoring,evoting,mpeding,rvening,dhering,mpiling,storing,nviting,ploring3e:tining,nuring,saking,miring,haling,ceding,xuding,rining,nuting,laring,caring,miling,riding,hoking,piring,lading,curing,uading,noting,taping,futing,paring,hading,loding,siring,guring,vading,voking,during,niting,laning,caping,luting,muting,ruding,ciding,juring,laming,caling,hining,uoting,liding,ciling,duling,tuting,puting,cuting,coring,uiding,tiring,turing,siding,rading,enging,haping,buting,lining,taking,anging,haring,uiring,coming,mining,moting,suring,viding,luding2e:tring,zling,uging,oging,gling,iging,vring,fling,lging,obing,psing,pling,ubing,cling,dling,wsing,iking,rsing,dging,kling,ysing,tling,rging,eging,nsing,uning,osing,uming,using,ibing,bling,aging,ising,asing,ating2ie:rlying1e:zing,uing,cing,ving",rev:"ying:ie1ing:se,ke,te,we,ne,re,de,pe,me,le,c,he2ing:ll,ng,dd,ee,ye,oe,rg,us2ning:un2ging:og,ag,ug,ig,eg2ming:um2bing:ub,ab,eb,ob3ning:lan,can,hin,pin,win3ring:cur,lur,tir,tar,pur,car3ing:ait,del,eel,fin,eat,oat,eem,lel,ool,ein,uin3ping:rop,rap,top,uip,wap,hip,hop,lap,rip,cap3ming:tem,wim,rim,kim,lim3ting:mat,cut,pot,lit,lot,hat,set,pit,put3ding:hed,bed,bid3king:rek3ling:cil,pel3bing:rib4ning:egin4ing:isit,ruit,ilot,nsit,dget,rkel,ival,rcel4ring:efer,nfer4ting:rmit,mmit,ysit,dmit,emit,bmit,tfit,gret4ling:evel,xcel,ivel4ding:hred5ing:arget,posit,rofit5ring:nsfer5ting:nsmit,orget,cquit5ling:ancel,istil",ex:"3:adding,eating,aiming,aiding,airing,outing,gassing,setting,getting,putting,cutting,winning,sitting,betting,mapping,tapping,letting,bidding,hitting,tanning,netting,popping,fitting,capping,lapping,barring,banning,vetting,topping,rotting,tipping,potting,wetting,pitting,dipping,budding,hemming,pinning,jetting,kidding,padding,podding,sipping,wedding,bedding,donning,warring,penning,gutting,cueing,wadding,petting,ripping,napping,matting,tinning,binning,dimming,hopping,mopping,nodding,panning,rapping,ridding,sinning4:selling,falling,calling,waiting,editing,telling,rolling,heating,boating,hanging,beating,coating,singing,tolling,felling,polling,discing,seating,voiding,gelling,yelling,baiting,reining,ruining,seeking,spanning,stepping,knitting,emitting,slipping,quitting,dialing,omitting,clipping,shutting,skinning,abutting,flipping,trotting,cramming,fretting,suiting5:bringing,treating,spelling,stalling,trolling,expelling,rivaling,wringing,deterring,singeing,befitting,refitting6:enrolling,distilling,scrolling,strolling,caucusing,travelling7:installing,redefining,stencilling,recharging,overeating,benefiting,unraveling,programing9:reprogrammingis:being2e:using,aging,owing3e:making,taking,coming,noting,hiring,filing,coding,citing,doping,baking,coping,hoping,lading,caring,naming,voting,riding,mining,curing,lining,ruling,typing,boring,dining,firing,hiding,piling,taping,waning,baling,boning,faring,honing,wiping,luring,timing,wading,piping,fading,biting,zoning,daring,waking,gaming,raking,ceding,tiring,coking,wining,joking,paring,gaping,poking,pining,coring,liming,toting,roping,wiring,aching4e:writing,storing,eroding,framing,smoking,tasting,wasting,phoning,shaking,abiding,braking,flaking,pasting,priming,shoring,sloping,withing,hinging5e:defining,refining,renaming,swathing,fringing,reciting1ie:dying,tying,lying,vying7e:sunbathing"},Participle:{fwd:"1:mt2:llen3:iven,aken:ney:in",both:"1:wn2:me,aten3:seen,bidden,isen4:roven,asten3l:pilt3d:uilt2e:itten1im:wum1eak:poken1ine:hone1ose:osen1in:gun1ake:wokenear:orneal:oleneeze:ozenet:ottenink:unking:ung",rev:"2:unoken:eakought:eekoven:eave1ne:o1own:ly1den:de1in:ay2t:am2n:ee3en:all4n:rive,sake,take5n:rgive",ex:"2:been3:seen,run4:given,taken5:shaken2eak:broken1ive:dove2y:flown3e:hidden,ridden1eek:sought1ake:woken1eave:woven"},PastTense:{fwd:"1:tted,wed,gged,nned,een,rred,pped,yed,bbed,oed,dded,rd,wn,mmed2:eed,nded,et,hted,st,oled,ut,emed,eled,lded,ken,rt,nked,apt,ant,eped,eked3:eared,eat,eaded,nelled,ealt,eeded,ooted,eaked,eaned,eeted,mited,bid,uit,ead,uited,ealed,geted,velled,ialed,belled4:ebuted,hined,comedy:iedome:ameear:oreind:ounding:ung,angep:ptink:ank,unkig:ugall:ellee:awive:aveeeze:ozeold:eldave:ftake:ookell:oldite:oteide:odeine:onein:un,oneal:oleim:amie:ayand:ood1ise:rose1eak:roke1ing:rought1ive:rove1el:elt1id:bade1et:got1y:aid1it:sat3e:lid3d:pent",both:"1:aed,fed,xed,hed2:sged,xted,wled,rped,lked,kied,lmed,lped,uped,bted,rbed,rked,wned,rled,mped,fted,mned,mbed,zzed,omed,ened,cked,gned,lted,sked,ued,zed,nted,ered,rted,rmed,ced,sted,rned,ssed,rded,pted,ved,cted3:cled,eined,siped,ooned,uked,ymed,jored,ouded,ioted,oaned,lged,asped,iged,mured,oided,eiled,yped,taled,moned,yled,lit,kled,oaked,gled,naled,fled,uined,oared,valled,koned,soned,aided,obed,ibed,meted,nicked,rored,micked,keted,vred,ooped,oaded,rited,aired,auled,filled,ouled,ooded,ceted,tolled,oited,bited,aped,tled,vored,dled,eamed,nsed,rsed,sited,owded,pled,sored,rged,osed,pelled,oured,psed,oated,loned,aimed,illed,eured,tred,ioned,celled,bled,wsed,ooked,oiled,itzed,iked,iased,onged,ased,ailed,uned,umed,ained,auded,nulled,ysed,eged,ised,aged,oined,ated,used,dged,doned4:ntied,efited,uaked,caded,fired,roped,halled,roked,himed,culed,tared,lared,tuted,uared,routed,pited,naked,miled,houted,helled,hared,cored,caled,tired,peated,futed,ciled,called,tined,moted,filed,sided,poned,iloted,honed,lleted,huted,ruled,cured,named,preted,vaded,sured,talled,haled,peded,gined,nited,uided,ramed,feited,laked,gured,ctored,unged,pired,cuted,voked,eloped,ralled,rined,coded,icited,vided,uaded,voted,mined,sired,noted,lined,nselled,luted,jured,fided,puted,piled,pared,olored,cided,hoked,enged,tured,geoned,cotted,lamed,uiled,waited,udited,anged,luded,mired,uired,raded5:modelled,izzled,eleted,umpeted,ailored,rseded,treated,eduled,ecited,rammed,eceded,atrolled,nitored,basted,twined,itialled,ncited,gnored,ploded,xcited,nrolled,namelled,plored,efeated,redited,ntrolled,nfined,pleted,llided,lcined,eathed,ibuted,lloted,dhered,cceded3ad:sled2aw:drew2ot:hot2ke:made2ow:hrew,grew2ose:hose2d:ilt2in:egan1un:ran1ink:hought1ick:tuck1ike:ruck1eak:poke,nuck1it:pat1o:did1ow:new1ake:wokego:went",rev:"3:rst,hed,hut,cut,set4:tbid5:dcast,eread,pread,erbidought:uy,eek1ied:ny,ly,dy,ry,fy,py,vy,by,ty,cy1ung:ling,ting,wing1pt:eep1ank:rink1ore:bear,wear1ave:give1oze:reeze1ound:rind,wind1ook:take,hake1aw:see1old:sell1ote:rite1ole:teal1unk:tink1am:wim1ay:lie1ood:tand1eld:hold2d:he,ge,re,le,leed,ne,reed,be,ye,lee,pe,we2ed:dd,oy,or,ey,gg,rr,us,ew,to2ame:ecome,rcome2ped:ap2ged:ag,og,ug,eg2bed:ub,ab,ib,ob2lt:neel2id:pay2ang:pring2ove:trive2med:um2ode:rride2at:ysit3ted:mit,hat,mat,lat,pot,rot,bat3ed:low,end,tow,und,ond,eem,lay,cho,dow,xit,eld,ald,uld,law,lel,eat,oll,ray,ank,fin,oam,out,how,iek,tay,haw,ait,vet,say,cay,bow3d:ste,ede,ode,ete,ree,ude,ame,oke,ote,ime,ute,ade3red:lur,cur,pur,car3ped:hop,rop,uip,rip,lip,tep,top3ded:bed,rod,kid3ade:orbid3led:uel3ned:lan,can,kin,pan,tun3med:rim,lim4ted:quit,llot4ed:pear,rrow,rand,lean,mand,anel,pand,reet,link,abel,evel,imit,ceed,ruit,mind,peal,veal,hool,head,pell,well,mell,uell,band,hear,weak4led:nnel,qual,ebel,ivel4red:nfer,efer,sfer4n:sake,trew4d:ntee4ded:hred4ned:rpin5ed:light,nceal,right,ndear,arget,hread,eight,rtial,eboot5d:edite,nvite5ted:egret5led:ravel",ex:"2:been,upped3:added,aged,aided,aimed,aired,bid,died,dyed,egged,erred,eyed,fit,gassed,hit,lied,owed,pent,pied,tied,used,vied,oiled,outed,banned,barred,bet,canned,cut,dipped,donned,ended,feed,inked,jarred,let,manned,mowed,netted,padded,panned,pitted,popped,potted,put,set,sewn,sowed,tanned,tipped,topped,vowed,weed,bowed,jammed,binned,dimmed,hopped,mopped,nodded,pinned,rigged,sinned,towed,vetted4:ached,baked,baled,boned,bored,called,caned,cared,ceded,cited,coded,cored,cubed,cured,dared,dined,edited,exited,faked,fared,filed,fined,fired,fuelled,gamed,gelled,hired,hoped,joked,lined,mined,named,noted,piled,poked,polled,pored,pulled,reaped,roamed,rolled,ruled,seated,shed,sided,timed,tolled,toned,voted,waited,walled,waned,winged,wiped,wired,zoned,yelled,tamed,lubed,roped,faded,mired,caked,honed,banged,culled,heated,raked,welled,banded,beat,cast,cooled,cost,dealt,feared,folded,footed,handed,headed,heard,hurt,knitted,landed,leaked,leapt,linked,meant,minded,molded,neared,needed,peaked,plodded,plotted,pooled,quit,read,rooted,sealed,seeded,seeped,shipped,shunned,skimmed,slammed,sparred,stemmed,stirred,suited,thinned,twinned,swayed,winked,dialed,abutted,blotted,fretted,healed,heeded,peeled,reeled5:basted,cheated,equalled,eroded,exiled,focused,opined,pleated,primed,quoted,scouted,shored,sloped,smoked,sniped,spelled,spouted,routed,staked,stored,swelled,tasted,treated,wasted,smelled,dwelled,honored,prided,quelled,eloped,scared,coveted,sweated,breaded,cleared,debuted,deterred,freaked,modeled,pleaded,rebutted,speeded6:anchored,defined,endured,impaled,invited,refined,revered,strolled,cringed,recast,thrust,unfolded7:authored,combined,competed,conceded,convened,excreted,extruded,redefined,restored,secreted,rescinded,welcomed8:expedited,infringed9:interfered,intervened,persevered10:contravenedeat:ateis:wasgo:wentare:were3d:bent,lent,rent,sent3e:bit,fled,hid,lost3ed:bled,bred2ow:blew,grew1uy:bought2tch:caught1o:did1ive:dove,gave2aw:drew2ed:fed2y:flew,laid,paid,said1ight:fought1et:got2ve:had1ang:hung2ad:led2ght:lit2ke:made2et:met1un:ran1ise:rose1it:sat1eek:sought1each:taught1ake:woke,took1eave:wove2ise:arose1ear:bore,tore,wore1ind:bound,found,wound2eak:broke2ing:brought,wrung1ome:came2ive:drove1ig:dug1all:fell2el:felt4et:forgot1old:held2ave:left1ing:rang,sang1ide:rode1ink:sank1ee:saw2ine:shone4e:slid1ell:sold,told4d:spent2in:spun1in:won"},PresentTense:{fwd:"1:oes1ve:as",both:"1:xes2:zzes,ches,shes,sses3:iases2y:llies,plies1y:cies,bies,ties,vies,nies,pies,dies,ries,fies:s",rev:"1ies:ly2es:us,go,do3es:cho,eto",ex:"2:does,goes3:gasses5:focusesis:are3y:relies2y:flies2ve:has"},Superlative:{fwd:"1st:e1est:l,m,f,s1iest:cey2est:or,ir3est:ver",both:"4:east5:hwest5lest:erful4est:weet,lgar,tter,oung4most:uter3est:ger,der,rey,iet,ong,ear3test:lat3most:ner2est:pt,ft,nt,ct,rt,ht2test:it2gest:ig1est:b,k,n,p,h,d,wiest:y",rev:"1:ttest,nnest,yest2:sest,stest,rmest,cest,vest,lmest,olest,ilest,ulest,ssest,imest,uest3:rgest,eatest,oorest,plest,allest,urest,iefest,uelest,blest,ugest,amest,yalest,ealest,illest,tlest,itest4:cerest,eriest,somest,rmalest,ndomest,motest,uarest,tiffest5:leverest,rangestar:urthest3ey:riciest",ex:"best:goodworst:bad5est:great4est:fast,full,fair,dull3test:hot,wet,fat4nest:thin1urthest:far3est:gay,shy,ill4test:neat4st:late,wide,fine,safe,cute,fake,pale,rare,rude,sore,ripe,dire6st:severe"},AdjToNoun:{fwd:"1:tistic,eable,lful,sful,ting,tty2:onate,rtable,geous,ced,seful,ctful3:ortive,entedarity:eary:eticfulness:begone1ity:re1y:tiful,gic2ity:ile,imous,ilous,ime2ion:ated2eness:iving2y:trious2ation:iring2tion:vant3ion:ect3ce:mant,mantic3tion:irable3y:est,estic3m:mistic,listic3ess:ning4n:utious4on:rative,native,vative,ective4ce:erant",both:"1:king,wing2:alous,ltuous,oyful,rdous3:gorous,ectable,werful,amatic4:oised,usical,agical,raceful,ocused,lined,ightful5ness:stful,lding,itous,nuous,ulous,otous,nable,gious,ayful,rvous,ntous,lsive,peful,entle,ciful,osive,leful,isive,ncise,reful,mious5ty:ivacious5ties:ubtle5ce:ilient,adiant,atient5cy:icient5sm:gmatic5on:sessive,dictive5ity:pular,sonal,eative,entic5sity:uminous5ism:conic5nce:mperate5ility:mitable5ment:xcited5n:bitious4cy:brant,etent,curate4ility:erable,acable,icable,ptable4ty:nacious,aive,oyal,dacious4n:icious4ce:vient,erent,stent,ndent,dient,quent,ident4ness:adic,ound,hing,pant,sant,oing,oist,tute4icity:imple4ment:fined,mused4ism:otic4ry:dantic4ity:tund,eral4edness:hand4on:uitive4lity:pitable4sm:eroic,namic4sity:nerous3th:arm3ility:pable,bable,dable,iable3cy:hant,nant,icate3ness:red,hin,nse,ict,iet,ite,oud,ind,ied,rce3ion:lute3ity:ual,gal,volous,ial3ce:sent,fensive,lant,gant,gent,lent,dant3on:asive3m:fist,sistic,iastic3y:terious,xurious,ronic,tastic3ur:amorous3e:tunate3ation:mined3sy:rteous3ty:ain3ry:ave3ment:azed2ness:de,on,ue,rn,ur,ft,rp,pe,om,ge,rd,od,ay,ss,er,ll,oy,ap,ht,ld,ad,rt2inousness:umous2ity:neous,ene,id,ane2cy:bate,late2ation:ized2ility:oble,ible2y:odic2e:oving,aring2s:ost2itude:pt2dom:ee2ance:uring2tion:reet2ion:oted2sion:ending2liness:an2or:rdent1th:ung1e:uable1ness:w,h,k,f1ility:mble1or:vent1ement:ging1tiquity:ncient1ment:hedverty:orength:ongeat:otpth:epiness:y",rev:"",ex:"5:forceful,humorous8:charismatic13:understanding5ity:active11ness:adventurous,inquisitive,resourceful8on:aggressive,automatic,perceptive7ness:amorous,fatuous,furtive,ominous,serious5ness:ample,sweet12ness:apprehensive,cantankerous,contemptuous,ostentatious13ness:argumentative,conscientious9ness:assertive,facetious,imperious,inventive,oblivious,rapacious,receptive,seditious,whimsical10ness:attractive,expressive,impressive,loquacious,salubrious,thoughtful3edom:boring4ness:calm,fast,keen,tame8ness:cheerful,gracious,specious,spurious,timorous,unctuous5sity:curious9ion:deliberate8ion:desperate6e:expensive7ce:fragrant3y:furious9ility:ineluctable6ism:mystical8ity:physical,proactive,sensitive,vertical5cy:pliant7ity:positive9ity:practical12ism:professional6ce:prudent3ness:red6cy:vagrant3dom:wise"}},ZG=function(e,t={}){return t.hasOwnProperty(e)?t[e]:null},eQ=function(e,t=[]){for(let n=0;n<t.length;n+=1)if(e.endsWith(t[n]))return e;return null},tQ=function(e,t,n={}){t=t||{};let r=e.length-1;for(let i=r;i>=1;i-=1){let a=e.length-i,o=e.substring(a,e.length);if(t.hasOwnProperty(o)===!0)return e.slice(0,a)+t[o];if(n.hasOwnProperty(o)===!0)return e.slice(0,a)+n[o]}return t.hasOwnProperty("")?e+=t[""]:n.hasOwnProperty("")?e+=n[""]:null},ga=function(e="",t={}){let n=ZG(e,t.ex);return n=n||eQ(e,t.same),n=n||tQ(e,t.fwd,t.both),n=n||e,n},NE=function(e){return Object.entries(e).reduce((t,n)=>(t[n[1]]=n[0],t),{})},Od=function(e={}){return{reversed:!0,both:NE(e.both),ex:NE(e.ex),fwd:e.rev||{}}},IE=/^([0-9]+)/,nQ=function(e){let t={};return e.split("").forEach(n=>{let[r,i]=n.split(":");i=(i||"").split(","),i.forEach(a=>{t[a]=r})}),t},rQ=function(e="",t=""){t=String(t);let n=t.match(IE);if(n===null)return t;let r=Number(n[1])||0;return e.substring(0,r)+t.replace(IE,"")},Rg=function(e){let t=nQ(e);return Object.keys(t).reduce((n,r)=>(n[r]=rQ(r,t[r]),n),{})},Uu=function(e={}){return typeof e=="string"&&(e=JSON.parse(e)),e.fwd=Rg(e.fwd||""),e.both=Rg(e.both||""),e.rev=Rg(e.rev||""),e.ex=Rg(e.ex||""),e},WI=Uu(Mu.PastTense),KI=Uu(Mu.PresentTense),YI=Uu(Mu.Gerund),JI=Uu(Mu.Participle),iQ=Od(WI),aQ=Od(KI),oQ=Od(YI),sQ=Od(JI),XI=Uu(Mu.Comparative),ZI=Uu(Mu.Superlative),lQ=Od(XI),uQ=Od(ZI),cQ=Uu(Mu.AdjToNoun),eP={fromPast:WI,fromPresent:KI,fromGerund:YI,fromParticiple:JI,toPast:iQ,toPresent:aQ,toGerund:oQ,toParticiple:sQ,toComparative:XI,toSuperlative:ZI,fromComparative:lQ,fromSuperlative:uQ,adjToNoun:cQ},dQ=[[/^[\w.]+@[\w.]+\.[a-z]{2,3}$/,"Email"],[/^(https?:\/\/|www\.)+\w+\.[a-z]{2,3}/,"Url","http.."],[/^[a-z0-9./].+\.(com|net|gov|org|ly|edu|info|biz|dev|ru|jp|de|in|uk|br|io|ai)/,"Url",".com"],[/^[PMCE]ST$/,"Timezone","EST"],[/^ma?c'[a-z]{3}/,"LastName","mc'neil"],[/^o'[a-z]{3}/,"LastName","o'connor"],[/^ma?cd[aeiou][a-z]{3}/,"LastName","mcdonald"],[/^(lol)+[sz]$/,"Expression","lol"],[/^wo{2,}a*h?$/,"Expression","wooah"],[/^(hee?){2,}h?$/,"Expression","hehe"],[/^(un|de|re)\\-[a-z\u00C0-\u00FF]{2}/,"Verb","un-vite"],[/^(m|k|cm|km)\/(s|h|hr)$/,"Unit","5 k/m"],[/^(ug|ng|mg)\/(l|m3|ft3)$/,"Unit","ug/L"],[new RegExp("[^:/]\\/\\p{Letter}","u"),"SlashedTerm","love/hate"]],fQ=[[new RegExp("^#[\\p{Number}_]*\\p{Letter}","u"),"HashTag"],[/^@\w{2,}$/,"AtMention"],[/^([A-Z]\.){2}[A-Z]?/i,["Acronym","Noun"],"F.B.I"],[/.{3}[lkmnp]in['`]$/,"Gerund","chillin'"],[/.{4}s['`]$/,"Possessive","flanders'"],[/^[\p{Emoji_Presentation}\p{Extended_Pictographic}]/u,"Emoji","emoji-class"]],hQ=[[/^@1?[0-9](am|pm)$/i,"Time","3pm"],[/^@1?[0-9]:[0-9]{2}(am|pm)?$/i,"Time","3:30pm"],[/^'[0-9]{2}$/,"Year"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])$/,"Time","3:12:31"],[/^[012]?[0-9](:[0-5][0-9])?(:[0-5][0-9])? ?(am|pm)$/i,"Time","1:12pm"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])? ?(am|pm)?$/i,"Time","1:12:31pm"],[/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}/i,"Date","iso-date"],[/^[0-9]{1,4}-[0-9]{1,2}-[0-9]{1,4}$/,"Date","iso-dash"],[/^[0-9]{1,4}\/[0-9]{1,2}\/([0-9]{4}|[0-9]{2})$/,"Date","iso-slash"],[/^[0-9]{1,4}\.[0-9]{1,2}\.[0-9]{1,4}$/,"Date","iso-dot"],[/^[0-9]{1,4}-[a-z]{2,9}-[0-9]{1,4}$/i,"Date","12-dec-2019"],[/^utc ?[+-]?[0-9]+$/,"Timezone","utc-9"],[/^(gmt|utc)[+-][0-9]{1,2}$/i,"Timezone","gmt-3"],[/^[0-9]{3}-[0-9]{4}$/,"PhoneNumber","421-0029"],[/^(\+?[0-9][ -])?[0-9]{3}[ -]?[0-9]{3}-[0-9]{4}$/,"PhoneNumber","1-800-"],[new RegExp("^[-+]?\\p{Currency_Symbol}[-+]?[0-9]+(,[0-9]{3})*(\\.[0-9]+)?([kmb]|bn)?\\+?$","u"),["Money","Value"],"$5.30"],[new RegExp("^[-+]?[0-9]+(,[0-9]{3})*(\\.[0-9]+)?\\p{Currency_Symbol}\\+?$","u"),["Money","Value"],"5.30"],[/^[-+]?[$]?[0-9]([0-9,.])+(usd|eur|jpy|gbp|cad|aud|chf|cny|hkd|nzd|kr|rub)$/i,["Money","Value"],"$400usd"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?\+?$/,["Cardinal","NumericValue"],"5,999"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?(st|nd|rd|r?th)$/,["Ordinal","NumericValue"],"53rd"],[/^\.[0-9]+\+?$/,["Cardinal","NumericValue"],".73th"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?%\+?$/,["Percent","Cardinal","NumericValue"],"-4%"],[/^\.[0-9]+%$/,["Percent","Cardinal","NumericValue"],".3%"],[/^[0-9]{1,4}\/[0-9]{1,4}(st|nd|rd|th)?s?$/,["Fraction","NumericValue"],"2/3rds"],[/^[0-9.]{1,3}[a-z]{0,2}[-][0-9]{1,3}[a-z]{0,2}$/,["Value","NumberRange"],"3-4"],[/^[0-9]{1,2}(:[0-9][0-9])?(am|pm)? ?[-] ?[0-9]{1,2}(:[0-9][0-9])?(am|pm)$/,["Time","NumberRange"],"3-4pm"],[/^[0-9.]+([a-z]{1,4})$/,"NumericValue","9km"]],pQ=["academy","administration","agence","agences","agencies","agency","airlines","airways","army","assoc","associates","association","assurance","authority","autorite","aviation","bank","banque","board","boys","brands","brewery","brotherhood","brothers","bureau","cafe","co","caisse","capital","care","cathedral","center","centre","chemicals","choir","chronicle","church","circus","clinic","clinique","club","co","coalition","coffee","collective","college","commission","committee","communications","community","company","comprehensive","computers","confederation","conference","conseil","consulting","containers","corporation","corps","corp","council","crew","data","departement","department","departments","design","development","directorate","division","drilling","education","eglise","electric","electricity","energy","ensemble","enterprise","enterprises","entertainment","estate","etat","faculty","faction","federation","financial","fm","foundation","fund","gas","gazette","girls","government","group","guild","herald","holdings","hospital","hotel","hotels","inc","industries","institut","institute","institutes","insurance","international","interstate","investment","investments","investors","journal","laboratory","labs","llc","ltd","limited","machines","magazine","management","marine","marketing","markets","media","memorial","ministere","ministry","military","mobile","motor","motors","musee","museum","news","observatory","office","oil","optical","orchestra","organization","partners","partnership","petrol","petroleum","pharmacare","pharmaceutical","pharmaceuticals","pizza","plc","police","politburo","polytechnic","post","power","press","productions","quartet","radio","reserve","resources","restaurant","restaurants","savings","school","securities","service","services","societe","subsidiary","society","sons","subcommittee","syndicat","systems","telecommunications","telegraph","television","times","tribunal","tv","union","university","utilities","workers"].reduce((e,t)=>(e[t]=!0,e),{}),gQ=["atoll","basin","bay","beach","bluff","bog","camp","canyon","canyons","cape","cave","caves","cliffs","coast","cove","coves","crater","crossing","creek","desert","dune","dunes","downs","estates","escarpment","estuary","falls","fjord","fjords","forest","forests","glacier","gorge","gorges","grove","gulf","gully","highland","heights","hollow","hill","hills","inlet","island","islands","isthmus","junction","knoll","lagoon","lake","lakeshore","marsh","marshes","mount","mountain","mountains","narrows","peninsula","plains","plateau","pond","rapids","ravine","reef","reefs","ridge","river","rivers","sandhill","shoal","shore","shoreline","shores","strait","straits","springs","stream","swamp","tombolo","trail","trails","trench","valley","vallies","village","volcano","waterfall","watershed","wetland","woods","acres","burough","county","district","municipality","prefecture","province","region","reservation","state","territory","borough","metropolis","downtown","uptown","midtown","city","town","township","hamlet","country","kingdom","enclave","neighbourhood","neighborhood","kingdom","ward","zone","airport","amphitheater","arch","arena","auditorium","bar","barn","basilica","battlefield","bridge","building","castle","centre","coliseum","cineplex","complex","dam","farm","field","fort","garden","gardens","gymnasium","hall","house","levee","library","manor","memorial","monument","museum","gallery","palace","pillar","pits","plantation","playhouse","quarry","sportsfield","sportsplex","stadium","terrace","terraces","theater","tower","park","parks","site","ranch","raceway","sportsplex","ave","st","street","rd","road","lane","landing","crescent","cr","way","tr","terrace","avenue"].reduce((e,t)=>(e[t]=!0,e),{}),Fg=[[/([^v])ies$/i,"$1y"],[/(ise)s$/i,"$1"],[/(kn|[^o]l|w)ives$/i,"$1ife"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)ves$/i,"$1f"],[/^(dwar|handkerchie|hoo|scar|whar)ves$/i,"$1f"],[/(antenn|formul|nebul|vertebr|vit)ae$/i,"$1a"],[/(octop|vir|radi|nucle|fung|cact|stimul)(i)$/i,"$1us"],[/(buffal|tomat|tornad)(oes)$/i,"$1o"],[/(ause)s$/i,"$1"],[/(ease)s$/i,"$1"],[/(ious)es$/i,"$1"],[/(ouse)s$/i,"$1"],[/(ose)s$/i,"$1"],[/(..ase)s$/i,"$1"],[/(..[aeiu]s)es$/i,"$1"],[/(vert|ind|cort)(ices)$/i,"$1ex"],[/(matr|append)(ices)$/i,"$1ix"],[/([xo]|ch|ss|sh)es$/i,"$1"],[/men$/i,"man"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(cris|ax|test)es$/i,"$1is"],[/(alias|status)es$/i,"$1"],[/(ss)$/i,"$1"],[/(ic)s$/i,"$1"],[/s$/i,""]],mQ=function(e){return Object.keys(e).reduce((t,n)=>(t[e[n]]=n,t),{})},tP=function(e,t){const{irregularPlurals:n}=t.two;let r=mQ(n);if(r.hasOwnProperty(e))return r[e];for(let i=0;i<Fg.length;i++)if(Fg[i][0].test(e)===!0)return e=e.replace(Fg[i][0],Fg[i][1]),e;return e},vQ=function(e,t){let n=[e],r=n1(e,t);r!==e&&n.push(r);let i=tP(e,t);return i!==e&&n.push(i),n},yQ={toPlural:n1,toSingular:tP,all:vQ};let wu={Gerund:["ing"],Actor:["erer"],Infinitive:["ate","ize","tion","rify","then","ress","ify","age","nce","ect","ise","ine","ish","ace","ash","ure","tch","end","ack","and","ute","ade","ock","ite","ase","ose","use","ive","int","nge","lay","est","ain","ant","ent","eed","er","le","unk","ung","upt","en"],PastTense:["ept","ed","lt","nt","ew","ld"],PresentTense:["rks","cks","nks","ngs","mps","tes","zes","ers","les","acks","ends","ands","ocks","lays","eads","lls","els","ils","ows","nds","ays","ams","ars","ops","ffs","als","urs","lds","ews","ips","es","ts","ns"],Participle:["ken","wn"]};wu=Object.keys(wu).reduce((e,t)=>(wu[t].forEach(n=>e[n]=t),e),{});const nP=function(e){let t=e.substring(e.length-3);if(wu.hasOwnProperty(t)===!0)return wu[t];let n=e.substring(e.length-2);return wu.hasOwnProperty(n)===!0?wu[n]:e.substring(e.length-1)==="s"?"PresentTense":null},AQ=function(e,t){let n="",r={};t.one&&t.one.prefixes&&(r=t.one.prefixes);let[i,a]=e.split(/ /);return a&&r[i]===!0&&(n=i,i=a,a=""),{prefix:n,verb:i,particle:a}},PE={are:"be",were:"be",been:"be",is:"be",am:"be",was:"be",be:"be",being:"be"},i2=function(e,t,n){const{fromPast:r,fromPresent:i,fromGerund:a,fromParticiple:o}=t.two.models;let{prefix:s,verb:l,particle:u}=AQ(e,t),c="";if(n||(n=nP(e)),PE.hasOwnProperty(e))c=PE[e];else if(n==="Participle")c=ga(l,o);else if(n==="PastTense")c=ga(l,r);else if(n==="PresentTense")c=ga(l,i);else if(n==="Gerund")c=ga(l,a);else return e;return u&&(c+=" "+u),s&&(c=s+" "+c),c},wQ=e=>/ /.test(e)?e.split(/ /):[e,""],xb=function(e,t){const{toPast:n,toPresent:r,toGerund:i,toParticiple:a}=t.two.models;if(e==="be")return{Infinitive:e,Gerund:"being",PastTense:"was",PresentTense:"is"};let[o,s]=wQ(e),l={Infinitive:o,PastTense:ga(o,n),PresentTense:ga(o,r),Gerund:ga(o,i),FutureTense:"will "+o},u=ga(o,a);if(u!==e&&u!==l.PastTense){let c=t.one.lexicon||{};(c[u]==="Participle"||c[u]==="Adjective")&&(e==="play"&&(u="played"),l.Participle=u)}return s&&Object.keys(l).forEach(c=>{l[c]+=" "+s}),l},bQ=function(e,t){let n=xb(e,t);return delete n.FutureTense,Object.values(n).filter(r=>r)},xQ={toInfinitive:i2,conjugate:xb,all:bQ},Eb=function(e,t){const n=t.two.models.toSuperlative;return ga(e,n)},kb=function(e,t){const n=t.two.models.toComparative;return ga(e,n)},EQ=function(e,t){const n=t.two.models.fromComparative;return ga(e,n)},kQ=function(e,t){const n=t.two.models.fromSuperlative;return ga(e,n)},_Q=function(e,t){const n=t.two.models.adjToNoun;return ga(e,n)},rP=function(e="",t=[]){const n=e.length;let r=n<=6?n-1:6;for(let i=r;i>=1;i-=1){let a=e.substring(n-i,e.length);if(t[a.length].hasOwnProperty(a)===!0){let o=e.slice(0,n-i),s=t[a.length][a];return o+s}}return null},rn="ically",CQ=new Set(["analyt"+rn,"chem"+rn,"class"+rn,"clin"+rn,"crit"+rn,"ecolog"+rn,"electr"+rn,"empir"+rn,"frant"+rn,"grammat"+rn,"ident"+rn,"ideolog"+rn,"log"+rn,"mag"+rn,"mathemat"+rn,"mechan"+rn,"med"+rn,"method"+rn,"method"+rn,"mus"+rn,"phys"+rn,"phys"+rn,"polit"+rn,"pract"+rn,"rad"+rn,"satir"+rn,"statist"+rn,"techn"+rn,"technolog"+rn,"theoret"+rn,"typ"+rn,"vert"+rn,"whims"+rn]),SQ=[null,{},{ly:""},{ily:"y",bly:"ble",ply:"ple"},{ally:"al",rply:"rp"},{ually:"ual",ially:"ial",cally:"cal",eally:"eal",rally:"ral",nally:"nal",mally:"mal",eeply:"eep",eaply:"eap"},{ically:"ic"}],NQ=new Set(["early","only","hourly","daily","weekly","monthly","yearly","mostly","duly","unduly","especially","undoubtedly","conversely","namely","exceedingly","presumably","accordingly","overly","best","latter","little","long","low"]),BE={wholly:"whole",fully:"full",truly:"true",gently:"gentle",singly:"single",customarily:"customary",idly:"idle",publically:"public",quickly:"quick",superbly:"superb",cynically:"cynical",well:"good"},IQ=function(e){return e.endsWith("ly")?CQ.has(e)?e.replace(/ically/,"ical"):NQ.has(e)?null:BE.hasOwnProperty(e)?BE[e]:rP(e,SQ)||e:null},PQ=[null,{y:"ily"},{ly:"ly",ic:"ically"},{ial:"ially",ual:"ually",tle:"tly",ble:"bly",ple:"ply",ary:"arily"},{},{},{}],TE={cool:"cooly",whole:"wholly",full:"fully",good:"well",idle:"idly",public:"publicly",single:"singly",special:"especially"},iP=function(e){if(TE.hasOwnProperty(e))return TE[e];let t=rP(e,PQ);return t||(t=e+"ly"),t},BQ=function(e,t){let n=[e];return n.push(Eb(e,t)),n.push(kb(e,t)),n.push(iP(e)),n=n.filter(r=>r),n=new Set(n),Array.from(n)},TQ={toSuperlative:Eb,toComparative:kb,toAdverb:iP,toNoun:_Q,fromAdverb:IQ,fromSuperlative:kQ,fromComparative:EQ,all:BQ},OQ={noun:yQ,verb:xQ,adjective:TQ},OE={Singular:(e,t,n,r)=>{let i=r.one.lexicon,a=n.two.transform.noun.toPlural(e,r);i[a]||(t[a]=t[a]||"Plural")},Actor:(e,t,n,r)=>{let i=r.one.lexicon,a=n.two.transform.noun.toPlural(e,r);i[a]||(t[a]=t[a]||["Plural","Actor"])},Comparable:(e,t,n,r)=>{let i=r.one.lexicon,{toSuperlative:a,toComparative:o}=n.two.transform.adjective,s=a(e,r);i[s]||(t[s]=t[s]||"Superlative");let l=o(e,r);i[l]||(t[l]=t[l]||"Comparative"),t[e]="Adjective"},Demonym:(e,t,n,r)=>{let i=n.two.transform.noun.toPlural(e,r);t[i]=t[i]||["Demonym","Plural"]},Infinitive:(e,t,n,r)=>{let i=r.one.lexicon,a=n.two.transform.verb.conjugate(e,r);Object.entries(a).forEach(o=>{!i[o[1]]&&!t[o[1]]&&o[0]!=="FutureTense"&&(t[o[1]]=o[0])})},PhrasalVerb:(e,t,n,r)=>{let i=r.one.lexicon;t[e]=["PhrasalVerb","Infinitive"];let a=r.one._multiCache,[o,s]=e.split(" ");i[o]||(t[o]=t[o]||"Infinitive");let l=n.two.transform.verb.conjugate(o,r);delete l.FutureTense,Object.entries(l).forEach(u=>{if(u[0]==="Actor"||u[1]==="")return;!t[u[1]]&&!i[u[1]]&&(t[u[1]]=u[0]),a[u[1]]=2;let c=u[1]+" "+s;t[c]=t[c]||[u[0],"PhrasalVerb"]})},Multiple:(e,t)=>{t[e]=["Multiple","Cardinal"],t[e+"th"]=["Multiple","Ordinal"],t[e+"ths"]=["Multiple","Fraction"]},Cardinal:(e,t)=>{t[e]=["TextValue","Cardinal"]},Ordinal:(e,t)=>{t[e]=["TextValue","Ordinal"],t[e+"s"]=["TextValue","Fraction"]},Place:(e,t)=>{t[e]=["Place","ProperNoun"]},Region:(e,t)=>{t[e]=["Region","ProperNoun"]}},jQ=function(e,t){const{methods:n,model:r}=t;let i={},a={};return Object.keys(e).forEach(o=>{let s=e[o];o=o.toLowerCase().trim(),o=o.replace(/'s\b/,"");let l=o.split(/ /);l.length>1&&(a[l[0]]===void 0||l.length>a[l[0]])&&(a[l[0]]=l.length),OE.hasOwnProperty(s)===!0&&OE[s](o,i,n,r),i[o]=i[o]||s}),delete i[""],delete i[null],delete i[" "],{lex:i,_multi:a}},DQ=function(e,t){const n=/^[0-9]+$/;let r=e[t];if(!r)return!1;const i=new Set(["may","april","august","jan"]);if(r.normal==="like"||i.has(r.normal)||r.tags.has("Place")||r.tags.has("Date"))return!1;if(e[t-1]){let o=e[t-1];if(o.tags.has("Date")||i.has(o.normal)||o.tags.has("Adjective")||r.tags.has("Adjective"))return!1}let a=r.normal;return!((a.length===1||a.length===2||a.length===4)&&n.test(a))},LQ=function(e){const t=/[,:;]/;let n=[];return e.forEach(r=>{let i=0;r.forEach((a,o)=>{t.test(a.post)&&DQ(r,o+1)&&(n.push(r.slice(i,o+1)),i=o+1)}),i<r.length&&n.push(r.slice(i,r.length))}),n},jE={e:["mice","louse","antennae","formulae","nebulae","vertebrae","vitae"],i:["tia","octopi","viri","radii","nuclei","fungi","cacti","stimuli"],n:["men"],t:["feet"]},RQ=new Set(["israelis","menus","logos"]),FQ=["bus","mas","was","ias","xas","vas","cis","lis","nis","ois","ris","sis","tis","xis","aus","cus","eus","fus","gus","ius","lus","nus","das","ous","pus","rus","sus","tus","xus","aos","igos","ados","ogos","'s","ss"],aP=function(e){if(!e||e.length<=3)return!1;if(RQ.has(e))return!0;let t=e[e.length-1];return jE.hasOwnProperty(t)?jE[t].find(n=>e.endsWith(n)):!(t!=="s"||FQ.find(n=>e.endsWith(n)))},a2={two:{quickSplit:LQ,expandLexicon:jQ,transform:OQ,looksPlural:aP}},MQ=function(e){const{irregularPlurals:t}=e.two,{lexicon:n}=e.one;return Object.entries(t).forEach(r=>{n[r[0]]=n[r[0]]||"Singular",n[r[1]]=n[r[1]]||"Plural"}),e};let o2={one:{lexicon:{}},two:{models:eP}};const UQ={"Actor|Verb":"Actor","Adj|Gerund":"Adjective","Adj|Noun":"Adjective","Adj|Past":"Adjective","Adj|Present":"Adjective","Noun|Verb":"Singular","Noun|Gerund":"Gerund","Person|Noun":"Noun","Person|Date":"Month","Person|Verb":"FirstName","Person|Place":"Person","Person|Adj":"Comparative","Plural|Verb":"Plural","Unit|Noun":"Noun"},oP=function(e,t){const n={model:t,methods:a2};let{lex:r,_multi:i}=a2.two.expandLexicon(e,n);return Object.assign(t.one.lexicon,r),Object.assign(t.one._multiCache,i),t},zQ=function(e,t){return Object.keys(e).forEach(n=>{e[n]==="Uncountable"&&(t.two.uncountable[n]=!0,e[n]="Uncountable")}),t},DE=function(e,t,n){let r=xb(e,o2);t[r.PastTense]=t[r.PastTense]||"PastTense",t[r.Gerund]=t[r.Gerund]||"Gerund",n===!0&&(t[r.PresentTense]=t[r.PresentTense]||"PresentTense")},LE=function(e,t,n){let r=Eb(e,n);t[r]=t[r]||"Superlative";let i=kb(e,n);t[i]=t[i]||"Comparative"},HQ=function(e,t,n){let r=n1(e,n);t[r]=t[r]||"Plural"},GQ=function(e,t){let n={};const r=t.one.lexicon;return Object.keys(e).forEach(i=>{const a=e[i];if(n[i]=UQ[a],(a==="Noun|Verb"||a==="Person|Verb"||a==="Actor|Verb")&&DE(i,r,!1),a==="Adj|Present"&&(DE(i,r,!0),LE(i,r,t)),a==="Person|Adj"&&LE(i,r,t),a==="Adj|Gerund"||a==="Noun|Gerund"){let o=i2(i,o2,"Gerund");r[o]||(n[o]="Infinitive")}if((a==="Noun|Gerund"||a==="Adj|Noun"||a==="Person|Noun")&&HQ(i,r,t),a==="Adj|Past"){let o=i2(i,o2,"PastTense");r[o]||(n[o]="Infinitive")}}),t=oP(n,t),t},QQ=function(e){return e=oP(e.one.lexicon,e),e=zQ(e.one.lexicon,e),e=GQ(e.two.switches,e),e=MQ(e),e};let s2={one:{_multiCache:{},lexicon:Td,frozenLex:SG},two:{irregularPlurals:VI,models:eP,suffixPatterns:KG,prefixPatterns:YG,endsWith:JG,neighbours:XG,regexNormal:dQ,regexText:fQ,regexNumbers:hQ,switches:r2,clues:Dc,uncountable:{},orgWords:pQ,placeWords:gQ}};s2=QQ(s2);const qQ=function(e,t,n,r){const i=r.methods.one.setTag;if(e.length>=3){const a=/:/;if(e[0].post.match(a)){let s=e[1];if(s.tags.has("Value")||s.tags.has("Email")||s.tags.has("PhoneNumber"))return;i([e[0]],"Expression",r,null,"2-punct-colon''")}}},$Q=function(e,t,n,r){const i=r.methods.one.setTag;e[t].post==="-"&&e[t+1]&&i([e[t],e[t+1]],"Hyphenated",r,null,"1-punct-hyphen''")},RE=/^(under|over|mis|re|un|dis|semi)-?/,VQ=function(e,t,n){const r=n.two.switches;let i=e[t];if(r.hasOwnProperty(i.normal)){i.switch=r[i.normal];return}if(RE.test(i.normal)){let a=i.normal.replace(RE,"");a.length>3&&r.hasOwnProperty(a)&&(i.switch=r[a])}};var FE={};const WQ=(e,t,n="")=>{const r=o=>"\x1B[33m\x1B[3m"+o+"\x1B[0m",i=o=>"\x1B[3m"+o+"\x1B[0m";let a=e.text||"["+e.implicit+"]";typeof t!="string"&&t.length>2&&(t=t.slice(0,2).join(", #")+" +"),t=typeof t!="string"?t.join(", #"):t,console.log(` ${r(a).padEnd(24)} \x1B[32m\x1B[0m #${t.padEnd(22)}  ${i(n)}`)},mr=function(e,t,n){if(!t||t.length===0||e.frozen===!0)return;const r=typeof process>"u"||!FE?self.env||{}:FE;r&&r.DEBUG_TAGS&&WQ(e,t,n),e.tags=e.tags||new Set,typeof t=="string"?e.tags.add(t):t.forEach(i=>e.tags.add(i))},KQ=["Acronym","Abbreviation","ProperNoun","Uncountable","Possessive","Pronoun","Activity","Honorific","Month"],YQ=function(e){!e.tags.has("Noun")||e.tags.has("Plural")||e.tags.has("Singular")||KQ.find(t=>e.tags.has(t))||(aP(e.normal)?mr(e,"Plural","3-plural-guess"):mr(e,"Singular","3-singular-guess"))},JQ=function(e){let t=e.tags;if(t.has("Verb")&&t.size===1){let n=nP(e.normal);n&&mr(e,n,"3-verb-tense-guess")}},up=function(e,t,n){let r=e[t],i=Array.from(r.tags);for(let a=0;a<i.length;a+=1)if(n.one.tagSet[i[a]]){let o=n.one.tagSet[i[a]].parents;mr(r,o,` -inferred by #${i[a]}`)}YQ(r),JQ(r)},XQ=new RegExp("^\\p{Lu}[\\p{Ll}']","u"),ZQ=/[0-9]/,eq=["Date","Month","WeekDay","Unit","Expression"],tq=/[IVX]/,nq=/^[IVXLCDM]{2,}$/,rq=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/,iq={li:!0,dc:!0,md:!0,dm:!0,ml:!0},aq=function(e,t,n){let r=e[t];r.index=r.index||[0,0];let i=r.index[1],a=r.text||"";return i!==0&&XQ.test(a)===!0&&ZQ.test(a)===!1?eq.find(o=>r.tags.has(o))||r.pre.match(/["']$/)||r.normal==="the"?null:(up(e,t,n),!r.tags.has("Noun")&&!r.frozen&&r.tags.clear(),mr(r,"ProperNoun","2-titlecase"),!0):a.length>=2&&nq.test(a)&&tq.test(a)&&rq.test(a)&&!iq[r.normal]?(mr(r,"RomanNumeral","2-xvii"),!0):null},ME=function(e="",t=[]){const n=e.length;let r=7;n<=r&&(r=n-1);for(let i=r;i>1;i-=1){let a=e.substring(n-i,n);if(t[a.length].hasOwnProperty(a)===!0)return t[a.length][a]}return null},oq=function(e,t,n){let r=e[t];if(r.tags.size===0){let i=ME(r.normal,n.two.suffixPatterns);if(i!==null)return mr(r,i,"2-suffix"),r.confidence=.7,!0;if(r.implicit&&(i=ME(r.implicit,n.two.suffixPatterns),i!==null))return mr(r,i,"2-implicit-suffix"),r.confidence=.7,!0}return null},UE=/['`]/,Vv=function(e,t){for(let n=0;n<t.length;n+=1)if(t[n][0].test(e)===!0)return t[n];return null},sq=function(e="",t){let n=e[e.length-1];if(t.hasOwnProperty(n)===!0){let r=t[n]||[];for(let i=0;i<r.length;i+=1)if(r[i][0].test(e)===!0)return r[i]}return null},lq=function(e,t,n,r){const i=r.methods.one.setTag;let{regexText:a,regexNormal:o,regexNumbers:s,endsWith:l}=n.two,u=e[t],c=u.machine||u.normal,d=u.text;UE.test(u.post)&&!UE.test(u.pre)&&(d+=u.post.trim());let h=Vv(d,a)||Vv(c,o);return!h&&/[0-9]/.test(c)&&(h=Vv(c,s)),!h&&u.tags.size===0&&(h=sq(c,l)),h?(i([u],h[1],r,null,`2-regex-'${h[2]||h[0]}'`),u.confidence=.6,!0):null},uq=function(e="",t=[]){const n=e.length;let r=7;r>n-3&&(r=n-3);for(let i=r;i>2;i-=1){let a=e.substring(0,i);if(t[a.length].hasOwnProperty(a)===!0)return t[a.length][a]}return null},cq=function(e,t,n){let r=e[t];if(r.tags.size===0){let i=uq(r.normal,n.two.prefixPatterns);if(i!==null)return mr(r,i,"2-prefix"),r.confidence=.5,!0}return null},dq=1400,fq=2100,hq=new Set(["in","on","by","until","for","to","during","throughout","through","within","before","after","of","this","next","last","circa","around","post","pre","budget","classic","plan","may"]),zE=function(e){if(!e)return!1;let t=e.normal||e.implicit;return!!(hq.has(t)||e.tags.has("Date")||e.tags.has("Month")||e.tags.has("WeekDay")||e.tags.has("Year")||e.tags.has("ProperNoun"))},HE=function(e){return e?!!(e.tags.has("Ordinal")||e.tags.has("Cardinal")&&e.normal.length<3||e.normal==="is"||e.normal==="was"):!1},GE=function(e){return e&&(e.tags.has("Date")||e.tags.has("Month")||e.tags.has("WeekDay")||e.tags.has("Year"))},pq=function(e,t){const n=e[t];if(n.tags.has("NumericValue")&&n.tags.has("Cardinal")&&n.normal.length===4){let r=Number(n.normal);if(r&&!isNaN(r)&&r>dq&&r<fq){let i=e[t-1],a=e[t+1];if(zE(i)||zE(a))return mr(n,"Year","2-tagYear");if(r>=1920&&r<2025){if(HE(i)||HE(a))return mr(n,"Year","2-tagYear-close");if(GE(e[t-2])||GE(e[t+2]))return mr(n,"Year","2-tagYear-far");if(i&&(i.tags.has("Determiner")||i.tags.has("Possessive"))&&a&&a.tags.has("Noun")&&!a.tags.has("Plural"))return mr(n,"Year","2-tagYear-noun")}}}return null},gq=function(e,t,n,r){const i=r.methods.one.setTag,a=e[t],o=["PastTense","PresentTense","Auxiliary","Modal","Particle"];a.tags.has("Verb")&&(o.find(l=>a.tags.has(l))||i([a],"Infinitive",r,null,"2-verb-type''"))},sP=/^[A-Z]('s|,)?$/,lP=/^[A-Z-]+$/,uP=/^[A-Z]+s$/,mq=/([A-Z]\.)+[A-Z]?,?$/,vq=/[A-Z]{2,}('s|,)?$/,yq=/([a-z]\.)+[a-z]\.?$/,cP={I:!0,A:!0},Aq={la:!0,ny:!0,us:!0,dc:!0,gb:!0},wq=function(e,t){let n=e.text;if(lP.test(n)===!1)if(n.length>3&&uP.test(n)===!0)n=n.replace(/s$/,"");else return!1;return n.length>5||cP.hasOwnProperty(n)||t.one.lexicon.hasOwnProperty(e.normal)?!1:mq.test(n)===!0||yq.test(n)===!0||sP.test(n)===!0||vq.test(n)===!0},bq=function(e,t,n){let r=e[t];return r.tags.has("RomanNumeral")||r.tags.has("Acronym")||r.frozen?null:wq(r,n)?(r.tags.clear(),mr(r,["Acronym","Noun"],"3-no-period-acronym"),Aq[r.normal]===!0&&mr(r,"Place","3-place-acronym"),uP.test(r.text)===!0&&mr(r,"Plural","3-plural-acronym"),!0):!cP.hasOwnProperty(r.text)&&sP.test(r.text)?(r.tags.clear(),mr(r,["Acronym","Noun"],"3-one-letter-acronym"),!0):r.tags.has("Organization")&&r.text.length<=3?(mr(r,"Acronym","3-org-acronym"),!0):r.tags.has("Organization")&&lP.test(r.text)&&r.text.length<=6?(mr(r,"Acronym","3-titlecase-acronym"),!0):null},QE=function(e,t){if(!e)return null;let n=t.find(r=>e.normal===r[0]);return n?n[1]:null},qE=function(e,t){if(!e)return null;let n=t.find(r=>e.tags.has(r[0]));return n?n[1]:null},xq=function(e,t,n){const{leftTags:r,leftWords:i,rightWords:a,rightTags:o}=n.two.neighbours;let s=e[t];if(s.tags.size===0){let l=null;if(l=l||QE(e[t-1],i),l=l||QE(e[t+1],a),l=l||qE(e[t-1],r),l=l||qE(e[t+1],o),l)return mr(s,l,"3-[neighbour]"),up(e,t,n),e[t].confidence=.2,!0}return null},Eq=e=>new RegExp("^\\p{Lu}[\\p{Ll}']","u").test(e),$E=function(e,t,n){return!e||e.tags.has("FirstName")||e.tags.has("Place")?!1:e.tags.has("ProperNoun")||e.tags.has("Organization")||e.tags.has("Acronym")?!0:!n&&Eq(e.text)?t===0?e.tags.has("Singular"):!0:!1},kq=function(e,t,n,r){const i=n.model.two.orgWords,a=n.methods.one.setTag;let o=e[t],s=o.machine||o.normal;if(i[s]===!0&&$E(e[t-1],t-1,r)){a([e[t]],"Organization",n,null,"3-[org-word]");for(let l=t;l>=0&&$E(e[l],l,r);l-=1)a([e[l]],"Organization",n,null,"3-[org-word]")}return null},_q=e=>new RegExp("^\\p{Lu}[\\p{Ll}']","u").test(e),Cq=/'s$/,VE=new Set(["athletic","city","community","eastern","federal","financial","great","historic","historical","local","memorial","municipal","national","northern","provincial","southern","state","western","spring","pine","sunset","view","oak","maple","spruce","cedar","willow"]),Sq=new Set(["center","centre","way","range","bar","bridge","field","pit"]),WE=function(e,t,n){if(!e)return!1;let r=e.tags;return r.has("Organization")||r.has("Possessive")||Cq.test(e.normal)?!1:r.has("ProperNoun")||r.has("Place")?!0:!n&&_q(e.text)?t===0?r.has("Singular"):!0:!1},Nq=function(e,t,n,r){const i=n.model.two.placeWords,a=n.methods.one.setTag;let o=e[t],s=o.machine||o.normal;if(i[s]===!0){for(let l=t-1;l>=0;l-=1)if(!VE.has(e[l].normal)){if(WE(e[l],l,r)){a(e.slice(l,t+1),"Place",n,null,"3-[place-of-foo]");continue}break}if(Sq.has(s))return!1;for(let l=t+1;l<e.length;l+=1){if(WE(e[l],l,r))return a(e.slice(t,l+1),"Place",n,null,"3-[foo-place]"),!0;if(!(e[l].normal==="of"||VE.has(e[l].normal)))break}}return null},Iq=function(e,t,n){let r=!1,i=e[t].tags;(i.size===0||i.size===1&&(i.has("Hyphenated")||i.has("HashTag")||i.has("Prefix")||i.has("SlashedTerm")))&&(r=!0),r&&(mr(e[t],"Noun","3-[fallback]"),up(e,t,n),e[t].confidence=.1)},Pq=/^[A-Z][a-z]/,Ja=(e,t)=>e[t].tags.has("ProperNoun")&&Pq.test(e[t].text)?"Noun":null,KE=(e,t,n)=>t===0&&!e[1]?n:null,Bq=function(e,t){return!e[t+1]&&e[t-1]&&e[t-1].tags.has("Determiner")?"Noun":null},Tq=function(e,t,n){return t===0&&e.length>3?n:null},YE={"Adj|Gerund":(e,t)=>Ja(e,t),"Adj|Noun":(e,t)=>Ja(e,t)||Bq(e,t),"Actor|Verb":(e,t)=>Ja(e,t),"Adj|Past":(e,t)=>Ja(e,t),"Adj|Present":(e,t)=>Ja(e,t),"Noun|Gerund":(e,t)=>Ja(e,t),"Noun|Verb":(e,t)=>t>0&&Ja(e,t)||KE(e,t,"Infinitive"),"Plural|Verb":(e,t)=>Ja(e,t)||KE(e,t,"PresentTense")||Tq(e,t,"Plural"),"Person|Noun":(e,t)=>Ja(e,t),"Person|Verb":(e,t)=>t!==0?Ja(e,t):null,"Person|Adj":(e,t)=>t===0&&e.length>1||Ja(e,t)?"Person":null};var JE={};const _b=typeof process>"u"||!JE?self.env||{}:JE,XE=/^(under|over|mis|re|un|dis|semi)-?/,ZE=(e,t)=>{if(!e||!t)return null;let n=e.normal||e.implicit,r=null;return t.hasOwnProperty(n)&&(r=t[n]),r&&_b.DEBUG_TAGS&&console.log(`
  \x1B[2m\x1B[3m      - '${n}' \x1B[0m`),r},e3=(e,t={},n)=>{if(!e||!t)return null;let i=Array.from(e.tags).sort((a,o)=>{let s=n[a]?n[a].parents.length:0,l=n[o]?n[o].parents.length:0;return s>l?-1:1}).find(a=>t[a]);return i&&_b.DEBUG_TAGS&&console.log(`  \x1B[2m\x1B[3m       - '${e.normal||e.implicit}' (#${i})  \x1B[0m`),i=t[i],i},Oq=function(e,t,n,r){var s;if(!n)return null;const i=((s=e[t-1])==null?void 0:s.text)!=="also"?t-1:Math.max(0,t-2),a=r.one.tagSet;let o=ZE(e[t+1],n.afterWords);return o=o||ZE(e[i],n.beforeWords),o=o||e3(e[i],n.beforeTags,a),o=o||e3(e[t+1],n.afterTags,a),o},jq=function(e,t,n){const r=n.model,i=n.methods.one.setTag,{switches:a,clues:o}=r.two,s=e[t];let l=s.normal||s.implicit||"";if(XE.test(l)&&!a[l]&&(l=l.replace(XE,"")),s.switch){let u=s.switch;if(s.tags.has("Acronym")||s.tags.has("PhrasalVerb"))return;let c=Oq(e,t,o[u],r);YE[u]&&(c=YE[u](e,t)||c),c?(i([s],c,n,null,`3-[switch] (${u})`),up(e,t,r)):_b.DEBUG_TAGS&&console.log(`
 -> X  - '${l}'  : (${u})  `)}},Dq={there:!0,this:!0,it:!0,him:!0,her:!0,us:!0},Lq=function(e,t){const n=t.methods.one.setTag,r=t.model.one._multiCache||{};let i=e[0];if((i.switch==="Noun|Verb"||i.tags.has("Infinitive"))&&e.length>=2){if(e.length<4&&!Dq[e[1].normal]||!i.tags.has("PhrasalVerb")&&r.hasOwnProperty(i.normal))return;(e[1].tags.has("Noun")||e[1].tags.has("Determiner"))&&(!e.slice(1,3).some(l=>l.tags.has("Verb"))||i.tags.has("#PhrasalVerb"))&&n([i],"Imperative",t,null,"3-[imperative]")}},Rq=function(e){if(e.filter(n=>!n.tags.has("ProperNoun")).length<=3)return!1;const t=/^[a-z]/;return e.every(n=>!t.test(n.text))},Fq=function(e,t,n){e.forEach(r=>{qQ(r,0,t,n)})},Mq=function(e,t,n,r){for(let i=0;i<e.length;i+=1)e[i].frozen!==!0&&(VQ(e,i,t),r===!1&&aq(e,i,t),oq(e,i,t),lq(e,i,t,n),cq(e,i,t),pq(e,i))},Uq=function(e,t,n,r){for(let i=0;i<e.length;i+=1){let a=bq(e,i,t);up(e,i,t),a=a||xq(e,i,t),a=a||Iq(e,i,t)}for(let i=0;i<e.length;i+=1)e[i].frozen!==!0&&(kq(e,i,n,r),Nq(e,i,n,r),jq(e,i,n),gq(e,i,t,n),$Q(e,i,t,n));Lq(e,n)},zq=function(e){const{methods:t,model:n,world:r}=e;let i=e.docs;Fq(i,n,r);let a=t.two.quickSplit(i);for(let o=0;o<a.length;o+=1){let s=a[o];const l=Rq(s);Mq(s,n,r,l),Uq(s,n,r,l)}return a},t3={Possessive:e=>{let t=e.machine||e.normal||e.text;return t=t.replace(/'s$/,""),t},Plural:(e,t)=>{let n=e.machine||e.normal||e.text;return t.methods.two.transform.noun.toSingular(n,t.model)},Copula:()=>"is",PastTense:(e,t)=>{let n=e.machine||e.normal||e.text;return t.methods.two.transform.verb.toInfinitive(n,t.model,"PastTense")},Gerund:(e,t)=>{let n=e.machine||e.normal||e.text;return t.methods.two.transform.verb.toInfinitive(n,t.model,"Gerund")},PresentTense:(e,t)=>{let n=e.machine||e.normal||e.text;return e.tags.has("Infinitive")?n:t.methods.two.transform.verb.toInfinitive(n,t.model,"PresentTense")},Comparative:(e,t)=>{let n=e.machine||e.normal||e.text;return t.methods.two.transform.adjective.fromComparative(n,t.model)},Superlative:(e,t)=>{let n=e.machine||e.normal||e.text;return t.methods.two.transform.adjective.fromSuperlative(n,t.model)},Adverb:(e,t)=>{const{fromAdverb:n}=t.methods.two.transform.adjective;let r=e.machine||e.normal||e.text;return n(r)}},Hq=function(e){const t=e.world,n=Object.keys(t3);e.docs.forEach(r=>{for(let i=0;i<r.length;i+=1){const a=r[i];for(let o=0;o<n.length;o+=1)if(a.tags.has(n[o])){const s=t3[n[o]];let l=s(a,t);a.normal!==l&&(a.root=l);break}}})},n3={Adverb:"RB",Comparative:"JJR",Superlative:"JJS",Adjective:"JJ",TO:"Conjunction",Modal:"MD",Auxiliary:"MD",Gerund:"VBG",PastTense:"VBD",Participle:"VBN",PresentTense:"VBZ",Infinitive:"VB",Particle:"RP",Verb:"VB",Pronoun:"PRP",Cardinal:"CD",Conjunction:"CC",Determiner:"DT",Preposition:"IN",QuestionWord:"WP",Expression:"UH",Possessive:"POS",ProperNoun:"NNP",Person:"NNP",Place:"NNP",Organization:"NNP",Singular:"NN",Plural:"NNS",Noun:"NN",There:"EX"},Gq=function(e){if(e.tags.has("ProperNoun")&&e.tags.has("Plural"))return"NNPS";if(e.tags.has("Possessive")&&e.tags.has("Pronoun"))return"PRP$";if(e.normal==="there")return"EX";if(e.normal==="to")return"TO";let t=e.tagRank||[];for(let n=0;n<t.length;n+=1)if(n3.hasOwnProperty(t[n]))return n3[t[n]];return null},Qq=function(e){e.compute("tagRank"),e.docs.forEach(t=>{t.forEach(n=>{n.penn=Gq(n)})})},qq={preTagger:zq,root:Hq,penn:Qq},Wv=["Person","Place","Organization"],$q={Noun:{not:["Verb","Adjective","Adverb","Value","Determiner"]},Singular:{is:"Noun",not:["Plural","Uncountable"]},ProperNoun:{is:"Noun"},Person:{is:"Singular",also:["ProperNoun"],not:["Place","Organization","Date"]},FirstName:{is:"Person"},MaleName:{is:"FirstName",not:["FemaleName","LastName"]},FemaleName:{is:"FirstName",not:["MaleName","LastName"]},LastName:{is:"Person",not:["FirstName"]},Honorific:{is:"Person",not:["FirstName","LastName","Value"]},Place:{is:"Singular",not:["Person","Organization"]},Country:{is:"Place",also:["ProperNoun"],not:["City"]},City:{is:"Place",also:["ProperNoun"],not:["Country"]},Region:{is:"Place",also:["ProperNoun"]},Address:{},Organization:{is:"ProperNoun",not:["Person","Place"]},SportsTeam:{is:"Organization"},School:{is:"Organization"},Company:{is:"Organization"},Plural:{is:"Noun",not:["Singular","Uncountable"]},Uncountable:{is:"Noun"},Pronoun:{is:"Noun",not:Wv},Actor:{is:"Noun",not:["Place","Organization"]},Activity:{is:"Noun",not:["Person","Place"]},Unit:{is:"Noun",not:Wv},Demonym:{is:"Noun",also:["ProperNoun"],not:Wv},Possessive:{is:"Noun"},Reflexive:{is:"Pronoun"}},Vq={Verb:{not:["Noun","Adjective","Adverb","Value","Expression"]},PresentTense:{is:"Verb",not:["PastTense","FutureTense"]},Infinitive:{is:"PresentTense",not:["Gerund"]},Imperative:{is:"Verb",not:["PastTense","Gerund","Copula"]},Gerund:{is:"PresentTense",not:["Copula"]},PastTense:{is:"Verb",not:["PresentTense","Gerund","FutureTense"]},FutureTense:{is:"Verb",not:["PresentTense","PastTense"]},Copula:{is:"Verb"},Modal:{is:"Verb",not:["Infinitive"]},Participle:{is:"PastTense"},Auxiliary:{is:"Verb",not:["PastTense","PresentTense","Gerund","Conjunction"]},PhrasalVerb:{is:"Verb"},Particle:{is:"PhrasalVerb",not:["PastTense","PresentTense","Copula","Gerund"]},Passive:{is:"Verb"}},Wq={Value:{not:["Verb","Adjective","Adverb"]},Ordinal:{is:"Value",not:["Cardinal"]},Cardinal:{is:"Value",not:["Ordinal"]},Fraction:{is:"Value",not:["Noun"]},Multiple:{is:"TextValue"},RomanNumeral:{is:"Cardinal",not:["TextValue"]},TextValue:{is:"Value",not:["NumericValue"]},NumericValue:{is:"Value",not:["TextValue"]},Money:{is:"Cardinal"},Percent:{is:"Value"}},Kq={Date:{not:["Verb","Adverb","Adjective"]},Month:{is:"Date",also:["Noun"],not:["Year","WeekDay","Time"]},WeekDay:{is:"Date",also:["Noun"]},Year:{is:"Date",not:["RomanNumeral"]},FinancialQuarter:{is:"Date",not:"Fraction"},Holiday:{is:"Date",also:["Noun"]},Season:{is:"Date"},Timezone:{is:"Date",also:["Noun"],not:["ProperNoun"]},Time:{is:"Date",not:["AtMention"]},Duration:{is:"Date",also:["Noun"]}},Yq=["Noun","Verb","Adjective","Adverb","Value","QuestionWord"],Jq={Adjective:{not:["Noun","Verb","Adverb","Value"]},Comparable:{is:"Adjective"},Comparative:{is:"Adjective"},Superlative:{is:"Adjective",not:["Comparative"]},NumberRange:{},Adverb:{not:["Noun","Verb","Adjective","Value"]},Determiner:{not:["Noun","Verb","Adjective","Adverb","QuestionWord","Conjunction"]},Conjunction:{not:Yq},Preposition:{not:["Noun","Verb","Adjective","Adverb","QuestionWord","Determiner"]},QuestionWord:{not:["Determiner"]},Currency:{is:"Noun"},Expression:{not:["Noun","Adjective","Verb","Adverb"]},Abbreviation:{},Url:{not:["HashTag","PhoneNumber","Verb","Adjective","Value","AtMention","Email","SlashedTerm"]},PhoneNumber:{not:["HashTag","Verb","Adjective","Value","AtMention","Email"]},HashTag:{},AtMention:{is:"Noun",not:["HashTag","Email"]},Emoji:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Emoticon:{not:["HashTag","Verb","Adjective","Value","AtMention","SlashedTerm"]},SlashedTerm:{not:["Emoticon","Url","Value"]},Email:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Acronym:{not:["Plural","RomanNumeral","Pronoun","Date"]},Negative:{not:["Noun","Adjective","Value","Expression"]},Condition:{not:["Verb","Adjective","Noun","Value"]},There:{not:["Verb","Adjective","Noun","Value","Conjunction","Preposition"]},Prefix:{not:["Abbreviation","Acronym","ProperNoun"]},Hyphenated:{}};let Xq=Object.assign({},$q,Vq,Wq,Kq,Jq);const Zq={compute:qq,methods:a2,model:s2,tags:Xq,hooks:["preTagger"]},e$=/[,)"';:\-.]/,es=function(e,t){if(!e.found)return;let n=e.termList();for(let r=0;r<n.length-1;r++){const i=n[r];if(e$.test(i.post))return}n[0].implicit=n[0].normal,n[0].text+=t,n[0].normal+=t,n.slice(1).forEach(r=>{r.implicit=r.normal,r.text="",r.normal=""});for(let r=0;r<n.length-1;r++)n[r].post=n[r].post.replace(/ /,"")},t$=function(){let e=this.not("@hasContraction"),t=e.match("(we|they|you) are");return es(t,"'re"),t=e.match("(he|she|they|it|we|you) will"),es(t,"'ll"),t=e.match("(he|she|they|it|we) is"),es(t,"'s"),t=e.match("#Person is"),es(t,"'s"),t=e.match("#Person would"),es(t,"'d"),t=e.match("(is|was|had|would|should|could|do|does|have|has|can) not"),es(t,"n't"),t=e.match("(i|we|they) have"),es(t,"'ve"),t=e.match("(would|should|could) have"),es(t,"'ve"),t=e.match("i am"),es(t,"'m"),t=e.match("going to"),this},n$=new RegExp("^\\p{Lu}[\\p{Ll}']","u"),r$=function(e=""){return e=e.replace(/^ *[a-z\u00C0-\u00FF]/,t=>t.toUpperCase()),e},i$=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Contraction"}expand(){return this.docs.forEach(r=>{let i=n$.test(r[0].text);r.forEach((a,o)=>{a.text=a.implicit||"",delete a.implicit,o<r.length-1&&a.post===""&&(a.post+=" "),a.dirty=!0}),i&&(r[0].text=r$(r[0].text))}),this.compute("normal"),this}}e.prototype.contractions=function(){let n=this.match("@hasContraction+");return new t(this.document,n.pointer)},e.prototype.contract=t$},a$=function(e,t,n){let[r,i]=t;!n||n.length===0||(n=n.map((a,o)=>(a.implicit=a.text,a.machine=a.text,a.pre="",a.post="",a.text="",a.normal="",a.index=[r,i+o],a)),n[0]&&(n[0].pre=e[r][i].pre,n[n.length-1].post=e[r][i].post,n[0].text=e[r][i].text,n[0].normal=e[r][i].normal),e[r].splice(i,1,...n))},o$=/'/,s$=new Set(["been","become"]),l$=new Set(["what","how","when","if","too"]);let u$=new Set(["too","also","enough"]);const c$=(e,t)=>{for(let n=t+1;n<e.length;n+=1){let r=e[n];if(s$.has(r.normal))return"has";if(l$.has(r.normal)||r.tags.has("Gerund")||r.tags.has("Determiner")||r.tags.has("Adjective")||r.switch==="Adj|Past"&&e[n+1]&&(u$.has(e[n+1].normal)||e[n+1].tags.has("Preposition")))return"is";if(r.tags.has("PastTense"))return e[n+1]&&e[n+1].normal==="for"?"is":"has"}return"is"},d$=function(e,t){let n=e[t].normal.split(o$)[0];if(n==="let")return[n,"us"];if(n==="there"){let r=e[t+1];if(r&&r.tags.has("Plural"))return[n,"are"]}return c$(e,t)==="has"?[n,"has"]:[n,"is"]},f$=/'/,h$=new Set(["better","done","before","it","had"]),p$=new Set(["have","be"]),g$=(e,t)=>{for(let n=t+1;n<e.length;n+=1){let r=e[n];if(h$.has(r.normal))return"had";if(p$.has(r.normal))return"would";if(r.tags.has("PastTense")||r.switch==="Adj|Past")return"had";if(r.tags.has("PresentTense")||r.tags.has("Infinitive"))return"would";if(r.tags.has("#Determiner"))return"had";if(r.tags.has("Adjective"))return"would"}return!1},m$=function(e,t){let n=e[t].normal.split(f$)[0];return n==="how"||n==="what"?[n,"did"]:g$(e,t)==="had"?[n,"had"]:[n,"would"]},v$=function(e,t){for(let n=t-1;n>=0;n-=1)if(e[n].tags.has("Noun")||e[n].tags.has("Pronoun")||e[n].tags.has("Plural")||e[n].tags.has("Singular"))return e[n];return null},y$=function(e,t){if(e[t].normal==="ain't"||e[t].normal==="aint"){if(e[t+1]&&e[t+1].normal==="never")return["have"];let r=v$(e,t);if(r){if(r.normal==="we"||r.normal==="they")return["are","not"];if(r.normal==="i")return["am","not"];if(r.tags&&r.tags.has("Plural"))return["are","not"]}return["is","not"]}return[e[t].normal.replace(/n't/,""),"not"]},A$={that:!0,there:!0,let:!0,here:!0,everywhere:!0},w$={in:!0,by:!0,for:!0};let b$=new Set(["too","also","enough","about"]),x$=new Set(["is","are","did","were","could","should","must","had","have"]);const E$=(e,t)=>{let n=e[t];if(A$.hasOwnProperty(n.machine||n.normal))return!1;if(n.tags.has("Possessive"))return!0;if(n.tags.has("QuestionWord")||n.normal==="he's"||n.normal==="she's")return!1;let r=e[t+1];if(!r)return!0;if(n.normal==="it's")return!!r.tags.has("#Noun");if(r.switch=="Noun|Gerund"){let i=e[t+2];return i?i.tags.has("Copula")?!0:(i.normal==="on"||i.normal==="in",!1):!!(n.tags.has("Actor")||n.tags.has("ProperNoun"))}if(r.tags.has("Verb"))return r.tags.has("Infinitive")?!0:r.tags.has("Gerund")?!1:!!r.tags.has("PresentTense");if(r.switch==="Adj|Noun"){let i=e[t+2];if(!i)return!1;if(x$.has(i.normal))return!0;if(b$.has(i.normal))return!1}if(r.tags.has("Noun")){let i=r.machine||r.normal;return!(i==="here"||i==="there"||i==="everywhere"||r.tags.has("Possessive")||r.tags.has("ProperNoun")&&!n.tags.has("ProperNoun"))}if(e[t-1]&&w$[e[t-1].normal]===!0)return!0;if(r.tags.has("Adjective")){let i=e[t+2];if(!i)return!1;if(i.tags.has("Noun")&&!i.tags.has("Pronoun")){let a=r.normal;return!(a==="above"||a==="below"||a==="behind")}return i.switch==="Noun|Verb"}return!!r.tags.has("Value")},r3=/'/,k$=function(e){e.forEach((t,n)=>{t.index&&(t.index[1]=n)})},_$=function(e,t,n,r){let i=t.update();i.document=[e];let a=n+r;n>0&&(n-=1),e[a]&&(a+=1),i.ptrs=[[0,n,a]],i.compute(["freeze","lexicon","preTagger","unfreeze"]),k$(e)},i3={d:(e,t)=>m$(e,t),t:(e,t)=>y$(e,t),s:(e,t,n)=>E$(e,t)?n.methods.one.setTag([e[t]],"Possessive",n,null,"2-contraction"):d$(e,t)},C$=function(e,t){let n=t.fromText(e.join(" "));return n.compute("id"),n.docs[0]},S$=e=>{let{world:t,document:n}=e;n.forEach((r,i)=>{for(let a=r.length-1;a>=0;a-=1){if(r[a].implicit)continue;let o=null;r3.test(r[a].normal)===!0&&(o=r[a].normal.split(r3)[1]);let s=null;if(i3.hasOwnProperty(o)&&(s=i3[o](r,a,t)),s){s=C$(s,e),a$(n,[i,a],s),_$(n[i],e,a,s.length);continue}}})},N$={contractionTwo:S$},I$={compute:N$,api:i$,hooks:["contractionTwo"]},P$=[{match:"[(all|both)] #Determiner #Noun",group:0,tag:"Noun",reason:"all-noun"},{match:"#Copula [(just|alone)]$",group:0,tag:"Adjective",reason:"not-adverb"},{match:"#Singular is #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"is-filled"},{match:"[#PastTense] #Singular is",group:0,tag:"Adjective",reason:"smoked-poutine"},{match:"[#PastTense] #Plural are",group:0,tag:"Adjective",reason:"baked-onions"},{match:"well [#PastTense]",group:0,tag:"Adjective",reason:"well-made"},{match:"#Copula [fucked up?]",group:0,tag:"Adjective",reason:"swears-adjective"},{match:"#Singular (seems|appears) #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"seems-filled"},{match:"#Copula #Adjective? [(out|in|through)]$",group:0,tag:"Adjective",reason:"still-out"},{match:"^[#Adjective] (the|your) #Noun",group:0,notIf:"(all|even)",tag:"Infinitive",reason:"shut-the"},{match:"the [said] #Noun",group:0,tag:"Adjective",reason:"the-said-card"},{match:"[#Hyphenated (#Hyphenated && #PastTense)] (#Noun|#Conjunction)",group:0,tag:"Adjective",notIf:"#Adverb",reason:"faith-based"},{match:"[#Hyphenated (#Hyphenated && #Gerund)] (#Noun|#Conjunction)",group:0,tag:"Adjective",notIf:"#Adverb",reason:"self-driving"},{match:"[#PastTense (#Hyphenated && #PhrasalVerb)] (#Noun|#Conjunction)",group:0,tag:"Adjective",reason:"dammed-up"},{match:"(#Hyphenated && #Value) fold",tag:"Adjective",reason:"two-fold"},{match:"must (#Hyphenated && #Infinitive)",tag:"Adjective",reason:"must-win"},{match:"(#Hyphenated && #Infinitive) #Hyphenated",tag:"Adjective",notIf:"#PhrasalVerb",reason:"vacuum-sealed"},{match:"too much",tag:"Adverb Adjective",reason:"bit-4"},{match:"a bit much",tag:"Determiner Adverb Adjective",reason:"bit-3"},{match:"[(un|contra|extra|inter|intra|macro|micro|mid|mis|mono|multi|pre|sub|tri|ex)] #Adjective",group:0,tag:["Adjective","Prefix"],reason:"un-skilled"}],B$="(dark|bright|flat|light|soft|pale|dead|dim|faux|little|wee|sheer|most|near|good|extra|all)",a3="(hard|fast|late|early|high|right|deep|close|direct)",T$=[{match:"#Adverb [#Adverb] (and|or|then)",group:0,tag:"Adjective",reason:"kinda-sparkly-and"},{match:`[${B$}] #Adjective`,group:0,tag:"Adverb",reason:"dark-green"},{match:"#Copula [far too] #Adjective",group:0,tag:"Adverb",reason:"far-too"},{match:"#Copula [still] (in|#Gerund|#Adjective)",group:0,tag:"Adverb",reason:"was-still-walking"},{match:`#Plural ${a3}`,tag:"#PresentTense #Adverb",reason:"studies-hard"},{match:`#Verb [${a3}] !#Noun?`,group:0,notIf:"(#Copula|get|got|getting|become|became|becoming|feel|feels|feeling|#Determiner|#Preposition)",tag:"Adverb",reason:"shops-direct"},{match:"[#Plural] a lot",tag:"PresentTense",reason:"studies-a-lot"}],O$=[{match:"as [#Gerund] as",group:0,tag:"Adjective",reason:"as-gerund-as"},{match:"more [#Gerund] than",group:0,tag:"Adjective",reason:"more-gerund-than"},{match:"(so|very|extremely) [#Gerund]",group:0,tag:"Adjective",reason:"so-gerund"},{match:"(found|found) it #Adverb? [#Gerund]",group:0,tag:"Adjective",reason:"found-it-gerund"},{match:"a (little|bit|wee) bit? [#Gerund]",group:0,tag:"Adjective",reason:"a-bit-gerund"},{match:"#Gerund [#Gerund]",group:0,tag:"Adjective",notIf:"(impersonating|practicing|considering|assuming)",reason:"looking-annoying"},{match:"(looked|look|looks) #Adverb? [%Adj|Gerund%]",group:0,tag:"Adjective",notIf:"(impersonating|practicing|considering|assuming)",reason:"looked-amazing"},{match:"[%Adj|Gerund%] #Determiner",group:0,tag:"Gerund",reason:"developing-a"},{match:"#Possessive [%Adj|Gerund%] #Noun",group:0,tag:"Adjective",reason:"leading-manufacturer"},{match:"%Noun|Gerund% %Adj|Gerund%",tag:"Gerund #Adjective",reason:"meaning-alluring"},{match:"(face|embrace|reveal|stop|start|resume) %Adj|Gerund%",tag:"#PresentTense #Adjective",reason:"face-shocking"},{match:"(are|were) [%Adj|Gerund%] #Plural",group:0,tag:"Adjective",reason:"are-enduring-symbols"}],j$=[{match:"#Determiner [#Adjective] #Copula",group:0,tag:"Noun",reason:"the-adj-is"},{match:"#Adjective [#Adjective] #Copula",group:0,tag:"Noun",reason:"adj-adj-is"},{match:"(his|its) [%Adj|Noun%]",group:0,tag:"Noun",notIf:"#Hyphenated",reason:"his-fine"},{match:"#Copula #Adverb? [all]",group:0,tag:"Noun",reason:"is-all"},{match:"(have|had) [#Adjective] #Preposition .",group:0,tag:"Noun",reason:"have-fun"},{match:"#Gerund (giant|capital|center|zone|application)",tag:"Noun",reason:"brewing-giant"},{match:"#Preposition (a|an) [#Adjective]$",group:0,tag:"Noun",reason:"an-instant"},{match:"no [#Adjective] #Modal",group:0,tag:"Noun",reason:"no-golden"},{match:"[brand #Gerund?] new",group:0,tag:"Adverb",reason:"brand-new"},{match:"(#Determiner|#Comparative|new|different) [kind]",group:0,tag:"Noun",reason:"some-kind"},{match:"#Possessive [%Adj|Noun%] #Noun",group:0,tag:"Adjective",reason:"her-favourite"},{match:"must && #Hyphenated .",tag:"Adjective",reason:"must-win"},{match:"#Determiner [#Adjective]$",tag:"Noun",notIf:"(this|that|#Comparative|#Superlative)",reason:"the-south"},{match:"(#Noun && #Hyphenated) (#Adjective && #Hyphenated)",tag:"Adjective",notIf:"(this|that|#Comparative|#Superlative)",reason:"company-wide"},{match:"#Determiner [#Adjective] (#Copula|#Determiner)",notIf:"(#Comparative|#Superlative)",group:0,tag:"Noun",reason:"the-poor"},{match:"[%Adj|Noun%] #Noun",notIf:"(#Pronoun|#ProperNoun)",group:0,tag:"Adjective",reason:"stable-foundations"}],D$=[{match:"(slowly|quickly) [#Adjective]",group:0,tag:"Verb",reason:"slowly-adj"},{match:"does (#Adverb|not)? [#Adjective]",group:0,tag:"PresentTense",reason:"does-mean"},{match:"[(fine|okay|cool|ok)] by me",group:0,tag:"Adjective",reason:"okay-by-me"},{match:"i (#Adverb|do)? not? [mean]",group:0,tag:"PresentTense",reason:"i-mean"},{match:"will #Adjective",tag:"Auxiliary Infinitive",reason:"will-adj"},{match:"#Pronoun [#Adjective] #Determiner #Adjective? #Noun",group:0,tag:"Verb",reason:"he-adj-the"},{match:"#Copula [%Adj|Present%] to #Verb",group:0,tag:"Verb",reason:"adj-to"},{match:"#Copula [#Adjective] (well|badly|quickly|slowly)",group:0,tag:"Verb",reason:"done-well"},{match:"#Adjective and [#Gerund] !#Preposition?",group:0,tag:"Adjective",reason:"rude-and-x"},{match:"#Copula #Adverb? (over|under) [#PastTense]",group:0,tag:"Adjective",reason:"over-cooked"},{match:"#Copula #Adjective+ (and|or) [#PastTense]$",group:0,tag:"Adjective",reason:"bland-and-overcooked"},{match:"got #Adverb? [#PastTense] of",group:0,tag:"Adjective",reason:"got-tired-of"},{match:"(seem|seems|seemed|appear|appeared|appears|feel|feels|felt|sound|sounds|sounded) (#Adverb|#Adjective)? [#PastTense]",group:0,tag:"Adjective",reason:"felt-loved"},{match:"(seem|feel|seemed|felt) [#PastTense #Particle?]",group:0,tag:"Adjective",reason:"seem-confused"},{match:"a (bit|little|tad) [#PastTense #Particle?]",group:0,tag:"Adjective",reason:"a-bit-confused"},{match:"not be [%Adj|Past% #Particle?]",group:0,tag:"Adjective",reason:"do-not-be-confused"},{match:"#Copula just [%Adj|Past% #Particle?]",group:0,tag:"Adjective",reason:"is-just-right"},{match:"as [#Infinitive] as",group:0,tag:"Adjective",reason:"as-pale-as"},{match:"[%Adj|Past%] and #Adjective",group:0,tag:"Adjective",reason:"faled-and-oppressive"},{match:"or [#PastTense] #Noun",group:0,tag:"Adjective",notIf:"(#Copula|#Pronoun)",reason:"or-heightened-emotion"},{match:"(become|became|becoming|becomes) [#Verb]",group:0,tag:"Adjective",reason:"become-verb"},{match:"#Possessive [#PastTense] #Noun",group:0,tag:"Adjective",reason:"declared-intentions"},{match:"#Copula #Pronoun [%Adj|Present%]",group:0,tag:"Adjective",reason:"is-he-cool"},{match:"#Copula [%Adj|Past%] with",group:0,tag:"Adjective",notIf:"(associated|worn|baked|aged|armed|bound|fried|loaded|mixed|packed|pumped|filled|sealed)",reason:"is-crowded-with"},{match:"#Copula #Adverb? [%Adj|Present%]$",group:0,tag:"Adjective",reason:"was-empty$"}],L$=[{match:"[still] #Adjective",group:0,tag:"Adverb",reason:"still-advb"},{match:"[still] #Verb",group:0,tag:"Adverb",reason:"still-verb"},{match:"[so] #Adjective",group:0,tag:"Adverb",reason:"so-adv"},{match:"[way] #Comparative",group:0,tag:"Adverb",reason:"way-adj"},{match:"[way] #Adverb #Adjective",group:0,tag:"Adverb",reason:"way-too-adj"},{match:"[all] #Verb",group:0,tag:"Adverb",reason:"all-verb"},{match:"#Verb  [like]",group:0,notIf:"(#Modal|#PhrasalVerb)",tag:"Adverb",reason:"verb-like"},{match:"(barely|hardly) even",tag:"Adverb",reason:"barely-even"},{match:"[even] #Verb",group:0,tag:"Adverb",reason:"even-walk"},{match:"[even] #Comparative",group:0,tag:"Adverb",reason:"even-worse"},{match:"[even] (#Determiner|#Possessive)",group:0,tag:"#Adverb",reason:"even-the"},{match:"even left",tag:"#Adverb #Verb",reason:"even-left"},{match:"[way] #Adjective",group:0,tag:"#Adverb",reason:"way-over"},{match:"#PresentTense [(hard|quick|bright|slow|fast|backwards|forwards)]",notIf:"#Copula",group:0,tag:"Adverb",reason:"lazy-ly"},{match:"[much] #Adjective",group:0,tag:"Adverb",reason:"bit-1"},{match:"#Copula [#Adverb]$",group:0,tag:"Adjective",reason:"is-well"},{match:"a [(little|bit|wee) bit?] #Adjective",group:0,tag:"Adverb",reason:"a-bit-cold"},{match:"[(super|pretty)] #Adjective",group:0,tag:"Adverb",reason:"super-strong"},{match:"(become|fall|grow) #Adverb? [#PastTense]",group:0,tag:"Adjective",reason:"overly-weakened"},{match:"(a|an) #Adverb [#Participle] #Noun",group:0,tag:"Adjective",reason:"completely-beaten"},{match:"#Determiner #Adverb? [close]",group:0,tag:"Adjective",reason:"a-close"},{match:"#Gerund #Adverb? [close]",group:0,tag:"Adverb",notIf:"(getting|becoming|feeling)",reason:"being-close"},{match:"(the|those|these|a|an) [#Participle] #Noun",group:0,tag:"Adjective",reason:"blown-motor"},{match:"(#PresentTense|#PastTense) [back]",group:0,tag:"Adverb",notIf:"(#PhrasalVerb|#Copula)",reason:"charge-back"},{match:"#Verb [around]",group:0,tag:"Adverb",notIf:"#PhrasalVerb",reason:"send-around"},{match:"[later] #PresentTense",group:0,tag:"Adverb",reason:"later-say"},{match:"#Determiner [well] !#PastTense?",group:0,tag:"Noun",reason:"the-well"},{match:"#Adjective [enough]",group:0,tag:"Adverb",reason:"high-enough"}],R$=[{match:"#Holiday (day|eve)",tag:"Holiday",reason:"holiday-day"},{match:"#Value of #Month",tag:"Date",reason:"value-of-month"},{match:"#Cardinal #Month",tag:"Date",reason:"cardinal-month"},{match:"#Month #Value to #Value",tag:"Date",reason:"value-to-value"},{match:"#Month the #Value",tag:"Date",reason:"month-the-value"},{match:"(#WeekDay|#Month) #Value",tag:"Date",reason:"date-value"},{match:"#Value (#WeekDay|#Month)",tag:"Date",reason:"value-date"},{match:"(#TextValue && #Date) #TextValue",tag:"Date",reason:"textvalue-date"},{match:"#Month #NumberRange",tag:"Date",reason:"aug 20-21"},{match:"#WeekDay #Month #Ordinal",tag:"Date",reason:"week mm-dd"},{match:"#Month #Ordinal #Cardinal",tag:"Date",reason:"mm-dd-yyy"},{match:"(#Place|#Demonmym|#Time) (standard|daylight|central|mountain)? time",tag:"Timezone",reason:"std-time"},{match:"(eastern|mountain|pacific|central|atlantic) (standard|daylight|summer)? time",tag:"Timezone",reason:"eastern-time"},{match:"#Time [(eastern|mountain|pacific|central|est|pst|gmt)]",group:0,tag:"Timezone",reason:"5pm-central"},{match:"(central|western|eastern) european time",tag:"Timezone",reason:"cet"}],F$=[{match:"[sun] the #Ordinal",tag:"WeekDay",reason:"sun-the-5th"},{match:"[sun] #Date",group:0,tag:"WeekDay",reason:"sun-feb"},{match:"#Date (on|this|next|last|during)? [sun]",group:0,tag:"WeekDay",reason:"1pm-sun"},{match:"(in|by|before|during|on|until|after|of|within|all) [sat]",group:0,tag:"WeekDay",reason:"sat"},{match:"(in|by|before|during|on|until|after|of|within|all) [wed]",group:0,tag:"WeekDay",reason:"wed"},{match:"(in|by|before|during|on|until|after|of|within|all) [march]",group:0,tag:"Month",reason:"march"},{match:"[sat] #Date",group:0,tag:"WeekDay",reason:"sat-feb"},{match:"#Preposition [(march|may)]",group:0,tag:"Month",reason:"in-month"},{match:"(this|next|last) (march|may) !#Infinitive?",tag:"#Date #Month",reason:"this-month"},{match:"(march|may) the? #Value",tag:"#Month #Date #Date",reason:"march-5th"},{match:"#Value of? (march|may)",tag:"#Date #Date #Month",reason:"5th-of-march"},{match:"[(march|may)] .? #Date",group:0,tag:"Month",reason:"march-and-feb"},{match:"#Date .? [(march|may)]",group:0,tag:"Month",reason:"feb-and-march"},{match:"#Adverb [(march|may)]",group:0,tag:"Verb",reason:"quickly-march"},{match:"[(march|may)] #Adverb",group:0,tag:"Verb",reason:"march-quickly"},{match:"#Value (am|pm)",tag:"Time",reason:"2-am"}],M$="(feel|sense|process|rush|side|bomb|bully|challenge|cover|crush|dump|exchange|flow|function|issue|lecture|limit|march|process)",U$=[{match:"(the|any) [more]",group:0,tag:"Singular",reason:"more-noun"},{match:"[more] #Noun",group:0,tag:"Adjective",reason:"more-noun"},{match:"(right|rights) of .",tag:"Noun",reason:"right-of"},{match:"a [bit]",group:0,tag:"Singular",reason:"bit-2"},{match:"a [must]",group:0,tag:"Singular",reason:"must-2"},{match:"(we|us) [all]",group:0,tag:"Noun",reason:"we all"},{match:"due to [#Verb]",group:0,tag:"Noun",reason:"due-to"},{match:"some [#Verb] #Plural",group:0,tag:"Noun",reason:"determiner6"},{match:"#Possessive #Ordinal [#PastTense]",group:0,tag:"Noun",reason:"first-thought"},{match:"(the|this|those|these) #Adjective [%Verb|Noun%]",group:0,tag:"Noun",notIf:"#Copula",reason:"the-adj-verb"},{match:"(the|this|those|these) #Adverb #Adjective [#Verb]",group:0,tag:"Noun",reason:"determiner4"},{match:"the [#Verb] #Preposition .",group:0,tag:"Noun",reason:"determiner1"},{match:"(a|an|the) [#Verb] of",group:0,tag:"Noun",reason:"the-verb-of"},{match:"#Determiner #Noun of [#Verb]",group:0,tag:"Noun",notIf:"#Gerund",reason:"noun-of-noun"},{match:"#PastTense #Preposition [#PresentTense]",group:0,notIf:"#Gerund",tag:"Noun",reason:"ended-in-ruins"},{match:"#Conjunction [u]",group:0,tag:"Pronoun",reason:"u-pronoun-2"},{match:"[u] #Verb",group:0,tag:"Pronoun",reason:"u-pronoun-1"},{match:"#Determiner [(western|eastern|northern|southern|central)] #Noun",group:0,tag:"Noun",reason:"western-line"},{match:"(#Singular && @hasHyphen) #PresentTense",tag:"Noun",reason:"hyphen-verb"},{match:"is no [#Verb]",group:0,tag:"Noun",reason:"is-no-verb"},{match:"do [so]",group:0,tag:"Noun",reason:"so-noun"},{match:"#Determiner [(shit|damn|hell)]",group:0,tag:"Noun",reason:"swears-noun"},{match:"to [(shit|hell)]",group:0,tag:"Noun",reason:"to-swears"},{match:"(the|these) [#Singular] (were|are)",group:0,tag:"Plural",reason:"singular-were"},{match:"a #Noun+ or #Adverb+? [#Verb]",group:0,tag:"Noun",reason:"noun-or-noun"},{match:"(the|those|these|a|an) #Adjective? [#PresentTense #Particle?]",group:0,tag:"Noun",notIf:"(seem|appear|include|#Gerund|#Copula)",reason:"det-inf"},{match:"#Noun #Actor",tag:"Actor",notIf:"(#Person|#Pronoun)",reason:"thing-doer"},{match:"#Gerund #Actor",tag:"Actor",reason:"gerund-doer"},{match:"co #Singular",tag:"Actor",reason:"co-noun"},{match:"[#Noun+] #Actor",group:0,tag:"Actor",notIf:"(#Honorific|#Pronoun|#Possessive)",reason:"air-traffic-controller"},{match:"(urban|cardiac|cardiovascular|respiratory|medical|clinical|visual|graphic|creative|dental|exotic|fine|certified|registered|technical|virtual|professional|amateur|junior|senior|special|pharmaceutical|theoretical)+ #Noun? #Actor",tag:"Actor",reason:"fine-artist"},{match:"#Noun+ (coach|chef|king|engineer|fellow|personality|boy|girl|man|woman|master)",tag:"Actor",reason:"dance-coach"},{match:"chief . officer",tag:"Actor",reason:"chief-x-officer"},{match:"chief of #Noun+",tag:"Actor",reason:"chief-of-police"},{match:"senior? vice? president of #Noun+",tag:"Actor",reason:"president-of"},{match:"#Determiner [sun]",group:0,tag:"Singular",reason:"the-sun"},{match:"#Verb (a|an) [#Value]$",group:0,tag:"Singular",reason:"did-a-value"},{match:"the [(can|will|may)]",group:0,tag:"Singular",reason:"the can"},{match:"#FirstName #Acronym? (#Possessive && #LastName)",tag:"Possessive",reason:"name-poss"},{match:"#Organization+ #Possessive",tag:"Possessive",reason:"org-possessive"},{match:"#Place+ #Possessive",tag:"Possessive",reason:"place-possessive"},{match:"#Possessive #PresentTense #Particle?",notIf:"(#Gerund|her)",tag:"Noun",reason:"possessive-verb"},{match:"(my|our|their|her|his|its) [(#Plural && #Actor)] #Noun",tag:"Possessive",reason:"my-dads"},{match:"#Value of a [second]",group:0,unTag:"Value",tag:"Singular",reason:"10th-of-a-second"},{match:"#Value [seconds]",group:0,unTag:"Value",tag:"Plural",reason:"10-seconds"},{match:"in [#Infinitive]",group:0,tag:"Singular",reason:"in-age"},{match:"a [#Adjective] #Preposition",group:0,tag:"Noun",reason:"a-minor-in"},{match:"#Determiner [#Singular] said",group:0,tag:"Actor",reason:"the-actor-said"},{match:`#Determiner #Noun [${M$}] !(#Preposition|to|#Adverb)?`,group:0,tag:"Noun",reason:"the-noun-sense"},{match:"[#PresentTense] (of|by|for) (a|an|the) #Noun #Copula",group:0,tag:"Plural",reason:"photographs-of"},{match:"#Infinitive and [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"fight and win"},{match:"#Noun and [#Verb] and #Noun",group:0,tag:"Noun",reason:"peace-and-flowers"},{match:"the #Cardinal [%Adj|Noun%]",group:0,tag:"Noun",reason:"the-1992-classic"},{match:"#Copula the [%Adj|Noun%] #Noun",group:0,tag:"Adjective",reason:"the-premier-university"},{match:"i #Verb [me] #Noun",group:0,tag:"Possessive",reason:"scottish-me"},{match:"[#PresentTense] (music|class|lesson|night|party|festival|league|ceremony)",group:0,tag:"Noun",reason:"dance-music"},{match:"[wit] (me|it)",group:0,tag:"Presposition",reason:"wit-me"},{match:"#PastTense #Possessive [#Verb]",group:0,tag:"Noun",notIf:"(saw|made)",reason:"left-her-boots"},{match:"#Value [%Plural|Verb%]",group:0,tag:"Plural",notIf:"(one|1|a|an)",reason:"35-signs"},{match:"had [#PresentTense]",group:0,tag:"Noun",notIf:"(#Gerund|come|become)",reason:"had-time"},{match:"%Adj|Noun% %Noun|Verb%",tag:"#Adjective #Noun",notIf:"#ProperNoun #Noun",reason:"instant-access"},{match:"#Determiner [%Adj|Noun%] #Conjunction",group:0,tag:"Noun",reason:"a-rep-to"},{match:"#Adjective #Noun [%Plural|Verb%]$",group:0,tag:"Plural",notIf:"#Pronoun",reason:"near-death-experiences"},{match:"#Possessive #Noun [%Plural|Verb%]$",group:0,tag:"Plural",reason:"your-guild-colors"}],z$=[{match:"(this|that|the|a|an) [#Gerund #Infinitive]",group:0,tag:"Singular",reason:"the-planning-process"},{match:"(that|the) [#Gerund #PresentTense]",group:0,ifNo:"#Copula",tag:"Plural",reason:"the-paving-stones"},{match:"#Determiner [#Gerund] #Noun",group:0,tag:"Adjective",reason:"the-gerund-noun"},{match:"#Pronoun #Infinitive [#Gerund] #PresentTense",group:0,tag:"Noun",reason:"tipping-sucks"},{match:"#Adjective [#Gerund]",group:0,tag:"Noun",notIf:"(still|even|just)",reason:"early-warning"},{match:"[#Gerund] #Adverb? not? #Copula",group:0,tag:"Activity",reason:"gerund-copula"},{match:"#Copula [(#Gerund|#Activity)] #Copula",group:0,tag:"Gerund",reason:"are-doing-is"},{match:"[#Gerund] #Modal",group:0,tag:"Activity",reason:"gerund-modal"},{match:"#Singular for [%Noun|Gerund%]",group:0,tag:"Gerund",reason:"noun-for-gerund"},{match:"#Comparative (for|at) [%Noun|Gerund%]",group:0,tag:"Gerund",reason:"better-for-gerund"},{match:"#PresentTense the [#Gerund]",group:0,tag:"Noun",reason:"keep-the-touching"}],H$=[{match:"#Infinitive (this|that|the) [#Infinitive]",group:0,tag:"Noun",reason:"do-this-dance"},{match:"#Gerund #Determiner [#Infinitive]",group:0,tag:"Noun",reason:"running-a-show"},{match:"#Determiner (only|further|just|more|backward) [#Infinitive]",group:0,tag:"Noun",reason:"the-only-reason"},{match:"(the|this|a|an) [#Infinitive] #Adverb? #Verb",group:0,tag:"Noun",reason:"determiner5"},{match:"#Determiner #Adjective #Adjective? [#Infinitive]",group:0,tag:"Noun",reason:"a-nice-inf"},{match:"#Determiner #Demonym [#PresentTense]",group:0,tag:"Noun",reason:"mexican-train"},{match:"#Adjective #Noun+ [#Infinitive] #Copula",group:0,tag:"Noun",reason:"career-move"},{match:"at some [#Infinitive]",group:0,tag:"Noun",reason:"at-some-inf"},{match:"(go|goes|went) to [#Infinitive]",group:0,tag:"Noun",reason:"goes-to-verb"},{match:"(a|an) #Adjective? #Noun [#Infinitive] (#Preposition|#Noun)",group:0,notIf:"from",tag:"Noun",reason:"a-noun-inf"},{match:"(a|an) #Noun [#Infinitive]$",group:0,tag:"Noun",reason:"a-noun-inf2"},{match:"#Gerund #Adjective? for [#Infinitive]",group:0,tag:"Noun",reason:"running-for"},{match:"about [#Infinitive]",group:0,tag:"Singular",reason:"about-love"},{match:"#Plural on [#Infinitive]",group:0,tag:"Noun",reason:"on-stage"},{match:"any [#Infinitive]",group:0,tag:"Noun",reason:"any-charge"},{match:"no [#Infinitive]",group:0,tag:"Noun",reason:"no-doubt"},{match:"number of [#PresentTense]",group:0,tag:"Noun",reason:"number-of-x"},{match:"(taught|teaches|learns|learned) [#PresentTense]",group:0,tag:"Noun",reason:"teaches-x"},{match:"(try|use|attempt|build|make) [#Verb #Particle?]",notIf:"(#Copula|#Noun|sure|fun|up)",group:0,tag:"Noun",reason:"do-verb"},{match:"^[#Infinitive] (is|was)",group:0,tag:"Noun",reason:"checkmate-is"},{match:"#Infinitive much [#Infinitive]",group:0,tag:"Noun",reason:"get-much"},{match:"[cause] #Pronoun #Verb",group:0,tag:"Conjunction",reason:"cause-cuz"},{match:"the #Singular [#Infinitive] #Noun",group:0,tag:"Noun",notIf:"#Pronoun",reason:"cardio-dance"},{match:"#Determiner #Modal [#Noun]",group:0,tag:"PresentTense",reason:"should-smoke"},{match:"this [#Plural]",group:0,tag:"PresentTense",notIf:"(#Preposition|#Date)",reason:"this-verbs"},{match:"#Noun that [#Plural]",group:0,tag:"PresentTense",notIf:"(#Preposition|#Pronoun|way)",reason:"voice-that-rocks"},{match:"that [#Plural] to",group:0,tag:"PresentTense",notIf:"#Preposition",reason:"that-leads-to"},{match:"(let|make|made) (him|her|it|#Person|#Place|#Organization)+ [#Singular] (a|an|the|it)",group:0,tag:"Infinitive",reason:"let-him-glue"},{match:"#Verb (all|every|each|most|some|no) [#PresentTense]",notIf:"#Modal",group:0,tag:"Noun",reason:"all-presentTense"},{match:"(had|have|#PastTense) #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"better",reason:"adj-presentTense"},{match:"#Value #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"one-big-reason"},{match:"#PastTense #Adjective+ [#PresentTense]",group:0,tag:"Noun",notIf:"(#Copula|better)",reason:"won-wide-support"},{match:"(many|few|several|couple) [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"many-poses"},{match:"#Determiner #Adverb #Adjective [%Noun|Verb%]",group:0,tag:"Noun",notIf:"#Copula",reason:"very-big-dream"},{match:"from #Noun to [%Noun|Verb%]",group:0,tag:"Noun",reason:"start-to-finish"},{match:"(for|with|of) #Noun (and|or|not) [%Noun|Verb%]",group:0,tag:"Noun",notIf:"#Pronoun",reason:"for-food-and-gas"},{match:"#Adjective #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"adorable-little-store"},{match:"#Gerund #Adverb? #Comparative [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"higher-costs"},{match:"(#Noun && @hasComma) #Noun (and|or) [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"noun-list"},{match:"(many|any|some|several) [#PresentTense] for",group:0,tag:"Noun",reason:"any-verbs-for"},{match:"to #PresentTense #Noun [#PresentTense] #Preposition",group:0,tag:"Noun",reason:"gas-exchange"},{match:"#PastTense (until|as|through|without) [#PresentTense]",group:0,tag:"Noun",reason:"waited-until-release"},{match:"#Gerund like #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"like-hot-cakes"},{match:"some #Adjective [#PresentTense]",group:0,tag:"Noun",reason:"some-reason"},{match:"for some [#PresentTense]",group:0,tag:"Noun",reason:"for-some-reason"},{match:"(same|some|the|that|a) kind of [#PresentTense]",group:0,tag:"Noun",reason:"some-kind-of"},{match:"(same|some|the|that|a) type of [#PresentTense]",group:0,tag:"Noun",reason:"some-type-of"},{match:"#Gerund #Adjective #Preposition [#PresentTense]",group:0,tag:"Noun",reason:"doing-better-for-x"},{match:"(get|got|have) #Comparative [#PresentTense]",group:0,tag:"Noun",reason:"got-better-aim"},{match:"whose [#PresentTense] #Copula",group:0,tag:"Noun",reason:"whos-name-was"},{match:"#PhrasalVerb #Particle #Preposition [#PresentTense]",group:0,tag:"Noun",reason:"given-up-on-x"},{match:"there (are|were) #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"there-are"},{match:"#Value [#PresentTense] of",group:0,notIf:"(one|1|#Copula|#Infinitive)",tag:"Plural",reason:"2-trains"},{match:"[#PresentTense] (are|were) #Adjective",group:0,tag:"Plural",reason:"compromises-are-possible"},{match:"^[(hope|guess|thought|think)] #Pronoun #Verb",group:0,tag:"Infinitive",reason:"suppose-i"},{match:"#Possessive #Adjective [#Verb]",group:0,tag:"Noun",notIf:"#Copula",reason:"our-full-support"},{match:"[(tastes|smells)] #Adverb? #Adjective",group:0,tag:"PresentTense",reason:"tastes-good"},{match:"#Copula #Gerund [#PresentTense] !by?",group:0,tag:"Noun",notIf:"going",reason:"ignoring-commute"},{match:"#Determiner #Adjective? [(shed|thought|rose|bid|saw|spelt)]",group:0,tag:"Noun",reason:"noun-past"},{match:"how to [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"how-to-noun"},{match:"which [%Noun|Verb%] #Noun",group:0,tag:"Infinitive",reason:"which-boost-it"},{match:"#Gerund [%Plural|Verb%]",group:0,tag:"Plural",reason:"asking-questions"},{match:"(ready|available|difficult|hard|easy|made|attempt|try) to [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"ready-to-noun"},{match:"(bring|went|go|drive|run|bike) to [%Noun|Verb%]",group:0,tag:"Noun",reason:"bring-to-noun"},{match:"#Modal #Noun [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"would-you-look"},{match:"#Copula just [#Infinitive]",group:0,tag:"Noun",reason:"is-just-spam"},{match:"^%Noun|Verb% %Plural|Verb%",tag:"Imperative #Plural",reason:"request-copies"},{match:"#Adjective #Plural and [%Plural|Verb%]",group:0,tag:"#Plural",reason:"pickles-and-drinks"},{match:"#Determiner #Year [#Verb]",group:0,tag:"Noun",reason:"the-1968-film"},{match:"#Determiner [#PhrasalVerb #Particle]",group:0,tag:"Noun",reason:"the-break-up"},{match:"#Determiner [%Adj|Noun%] #Noun",group:0,tag:"Adjective",notIf:"(#Pronoun|#Possessive|#ProperNoun)",reason:"the-individual-goals"},{match:"[%Noun|Verb%] or #Infinitive",group:0,tag:"Infinitive",reason:"work-or-prepare"},{match:"to #Infinitive [#PresentTense]",group:0,tag:"Noun",notIf:"(#Gerund|#Copula|help)",reason:"to-give-thanks"},{match:"[#Noun] me",group:0,tag:"Verb",reason:"kills-me"},{match:"%Plural|Verb% %Plural|Verb%",tag:"#PresentTense #Plural",reason:"removes-wrinkles"}],G$=[{match:"#Money and #Money #Currency?",tag:"Money",reason:"money-and-money"},{match:"#Value #Currency [and] #Value (cents|ore|centavos|sens)",group:0,tag:"money",reason:"and-5-cents"},{match:"#Value (mark|rand|won|rub|ore)",tag:"#Money #Currency",reason:"4-mark"},{match:"a pound",tag:"#Money #Unit",reason:"a-pound"},{match:"#Value (pound|pounds)",tag:"#Money #Unit",reason:"4-pounds"}],Q$=[{match:"[(half|quarter)] of? (a|an)",group:0,tag:"Fraction",reason:"millionth"},{match:"#Adverb [half]",group:0,tag:"Fraction",reason:"nearly-half"},{match:"[half] the",group:0,tag:"Fraction",reason:"half-the"},{match:"#Cardinal and a half",tag:"Fraction",reason:"and-a-half"},{match:"#Value (halves|halfs|quarters)",tag:"Fraction",reason:"two-halves"},{match:"a #Ordinal",tag:"Fraction",reason:"a-quarter"},{match:"[#Cardinal+] (#Fraction && /s$/)",tag:"Fraction",reason:"seven-fifths"},{match:"[#Cardinal+ #Ordinal] of .",group:0,tag:"Fraction",reason:"ordinal-of"},{match:"[(#NumericValue && #Ordinal)] of .",group:0,tag:"Fraction",reason:"num-ordinal-of"},{match:"(a|one) #Cardinal?+ #Ordinal",tag:"Fraction",reason:"a-ordinal"},{match:"#Cardinal+ out? of every? #Cardinal",tag:"Fraction",reason:"out-of"}],q$=[{match:"#Cardinal [second]",tag:"Unit",reason:"one-second"},{match:"!once? [(a|an)] (#Duration|hundred|thousand|million|billion|trillion)",group:0,tag:"Value",reason:"a-is-one"},{match:"1 #Value #PhoneNumber",tag:"PhoneNumber",reason:"1-800-Value"},{match:"#NumericValue #PhoneNumber",tag:"PhoneNumber",reason:"(800) PhoneNumber"},{match:"#Demonym #Currency",tag:"Currency",reason:"demonym-currency"},{match:"#Value [(buck|bucks|grand)]",group:0,tag:"Currency",reason:"value-bucks"},{match:"[#Value+] #Currency",group:0,tag:"Money",reason:"15 usd"},{match:"[second] #Noun",group:0,tag:"Ordinal",reason:"second-noun"},{match:"#Value+ [#Currency]",group:0,tag:"Unit",reason:"5-yan"},{match:"#Value [(foot|feet)]",group:0,tag:"Unit",reason:"foot-unit"},{match:"#Value [#Abbreviation]",group:0,tag:"Unit",reason:"value-abbr"},{match:"#Value [k]",group:0,tag:"Unit",reason:"value-k"},{match:"#Unit an hour",tag:"Unit",reason:"unit-an-hour"},{match:"(minus|negative) #Value",tag:"Value",reason:"minus-value"},{match:"#Value (point|decimal) #Value",tag:"Value",reason:"value-point-value"},{match:"#Determiner [(half|quarter)] #Ordinal",group:0,tag:"Value",reason:"half-ordinal"},{match:"#Multiple+ and #Value",tag:"Value",reason:"magnitude-and-value"},{match:"#Value #Unit [(per|an) (hr|hour|sec|second|min|minute)]",group:0,tag:"Unit",reason:"12-miles-per-second"},{match:"#Value [(square|cubic)] #Unit",group:0,tag:"Unit",reason:"square-miles"}],$$=[{match:"#Copula [(#Noun|#PresentTense)] #LastName",group:0,tag:"FirstName",reason:"copula-noun-lastname"},{match:"(sister|pope|brother|father|aunt|uncle|grandpa|grandfather|grandma) #ProperNoun",tag:"Person",reason:"lady-titlecase",safe:!0},{match:"#FirstName [#Determiner #Noun] #LastName",group:0,tag:"Person",reason:"first-noun-last"},{match:"#ProperNoun (b|c|d|e|f|g|h|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z) #ProperNoun",tag:"Person",reason:"titlecase-acronym-titlecase",safe:!0},{match:"#Acronym #LastName",tag:"Person",reason:"acronym-lastname",safe:!0},{match:"#Person (jr|sr|md)",tag:"Person",reason:"person-honorific"},{match:"#Honorific #Acronym",tag:"Person",reason:"Honorific-TitleCase"},{match:"#Person #Person the? #RomanNumeral",tag:"Person",reason:"roman-numeral"},{match:"#FirstName [/^[^aiurck]$/]",group:0,tag:["Acronym","Person"],reason:"john-e"},{match:"#Noun van der? #Noun",tag:"Person",reason:"van der noun",safe:!0},{match:"(king|queen|prince|saint|lady) of #Noun",tag:"Person",reason:"king-of-noun",safe:!0},{match:"(prince|lady) #Place",tag:"Person",reason:"lady-place"},{match:"(king|queen|prince|saint) #ProperNoun",tag:"Person",notIf:"#Place",reason:"saint-foo"},{match:"al (#Person|#ProperNoun)",tag:"Person",reason:"al-borlen",safe:!0},{match:"#FirstName de #Noun",tag:"Person",reason:"bill-de-noun"},{match:"#FirstName (bin|al) #Noun",tag:"Person",reason:"bill-al-noun"},{match:"#FirstName #Acronym #ProperNoun",tag:"Person",reason:"bill-acronym-title"},{match:"#FirstName #FirstName #ProperNoun",tag:"Person",reason:"bill-firstname-title"},{match:"#Honorific #FirstName? #ProperNoun",tag:"Person",reason:"dr-john-Title"},{match:"#FirstName the #Adjective",tag:"Person",reason:"name-the-great"},{match:"#ProperNoun (van|al|bin) #ProperNoun",tag:"Person",reason:"title-van-title",safe:!0},{match:"#ProperNoun (de|du) la? #ProperNoun",tag:"Person",notIf:"#Place",reason:"title-de-title"},{match:"#Singular #Acronym #LastName",tag:"#FirstName #Person .",reason:"title-acro-noun",safe:!0},{match:"[#ProperNoun] #Person",group:0,tag:"Person",reason:"proper-person",safe:!0},{match:"#Person [#ProperNoun #ProperNoun]",group:0,tag:"Person",notIf:"#Possessive",reason:"three-name-person",safe:!0},{match:"#FirstName #Acronym? [#ProperNoun]",group:0,tag:"LastName",notIf:"#Possessive",reason:"firstname-titlecase"},{match:"#FirstName [#FirstName]",group:0,tag:"LastName",reason:"firstname-firstname"},{match:"#FirstName #Acronym #Noun",tag:"Person",reason:"n-acro-noun",safe:!0},{match:"#FirstName [(de|di|du|van|von)] #Person",group:0,tag:"LastName",reason:"de-firstname"},{match:"[(lieutenant|corporal|sergeant|captain|qeen|king|admiral|major|colonel|marshal|president|queen|king)+] #ProperNoun",group:0,tag:"Honorific",reason:"seargeant-john"},{match:"[(private|general|major|rear|prime|field|count|miss)] #Honorific? #Person",group:0,tag:["Honorific","Person"],reason:"ambg-honorifics"},{match:"#Honorific #FirstName [#Singular]",group:0,tag:"LastName",notIf:"#Possessive",reason:"dr-john-foo",safe:!0},{match:"[(his|her) (majesty|honour|worship|excellency|honorable)] #Person",group:0,tag:"Honorific",reason:"his-excellency"},{match:"#Honorific #Actor",tag:"Honorific",reason:"Lieutenant colonel"},{match:"(first|second|third|1st|2nd|3rd) #Actor",tag:"Honorific",reason:"first lady"},{match:"#Person #RomanNumeral",tag:"Person",reason:"louis-IV"}],V$=[{match:"#FirstName #Noun$",tag:". #LastName",notIf:"(#Possessive|#Organization|#Place|#Pronoun|@hasTitleCase)",reason:"firstname-noun"},{match:"%Person|Date% #Acronym? #ProperNoun",tag:"Person",reason:"jan-thierson"},{match:"%Person|Noun% #Acronym? #ProperNoun",tag:"Person",reason:"switch-person",safe:!0},{match:"%Person|Noun% #Organization",tag:"Organization",reason:"olive-garden"},{match:"%Person|Verb% #Acronym? #ProperNoun",tag:"Person",reason:"verb-propernoun",ifNo:"#Actor"},{match:"[%Person|Verb%] (will|had|has|said|says|told|did|learned|wants|wanted)",group:0,tag:"Person",reason:"person-said"},{match:"[%Person|Place%] (harbor|harbour|pier|town|city|place|dump|landfill)",group:0,tag:"Place",reason:"sydney-harbour"},{match:"(west|east|north|south) [%Person|Place%]",group:0,tag:"Place",reason:"east-sydney"},{match:"#Modal [%Person|Verb%]",group:0,tag:"Verb",reason:"would-mark"},{match:"#Adverb [%Person|Verb%]",group:0,tag:"Verb",reason:"really-mark"},{match:"[%Person|Verb%] (#Adverb|#Comparative)",group:0,tag:"Verb",reason:"drew-closer"},{match:"%Person|Verb% #Person",tag:"Person",reason:"rob-smith"},{match:"%Person|Verb% #Acronym #ProperNoun",tag:"Person",reason:"rob-a-smith"},{match:"[will] #Verb",group:0,tag:"Modal",reason:"will-verb"},{match:"(will && @isTitleCase) #ProperNoun",tag:"Person",reason:"will-name"},{match:"(#FirstName && !#Possessive) [#Singular] #Verb",group:0,safe:!0,tag:"LastName",reason:"jack-layton"},{match:"^[#Singular] #Person #Verb",group:0,safe:!0,tag:"Person",reason:"sherwood-anderson"},{match:"(a|an) [#Person]$",group:0,unTag:"Person",reason:"a-warhol"}],W$=[{match:"#Copula (pretty|dead|full|well|sure) (#Adjective|#Noun)",tag:"#Copula #Adverb #Adjective",reason:"sometimes-adverb"},{match:"(#Pronoun|#Person) (had|#Adverb)? [better] #PresentTense",group:0,tag:"Modal",reason:"i-better"},{match:"(#Modal|i|they|we|do) not? [like]",group:0,tag:"PresentTense",reason:"modal-like"},{match:"#Noun #Adverb? [left]",group:0,tag:"PastTense",reason:"left-verb"},{match:"will #Adverb? not? #Adverb? [be] #Gerund",group:0,tag:"Copula",reason:"will-be-copula"},{match:"will #Adverb? not? #Adverb? [be] #Adjective",group:0,tag:"Copula",reason:"be-copula"},{match:"[march] (up|down|back|toward)",notIf:"#Date",group:0,tag:"Infinitive",reason:"march-to"},{match:"#Modal [march]",group:0,tag:"Infinitive",reason:"must-march"},{match:"[may] be",group:0,tag:"Verb",reason:"may-be"},{match:"[(subject|subjects|subjected)] to",group:0,tag:"Verb",reason:"subject to"},{match:"[home] to",group:0,tag:"PresentTense",reason:"home to"},{match:"[open] #Determiner",group:0,tag:"Infinitive",reason:"open-the"},{match:"(were|was) being [#PresentTense]",group:0,tag:"PastTense",reason:"was-being"},{match:"(had|has|have) [been /en$/]",group:0,tag:"Auxiliary Participle",reason:"had-been-broken"},{match:"(had|has|have) [been /ed$/]",group:0,tag:"Auxiliary PastTense",reason:"had-been-smoked"},{match:"(had|has) #Adverb? [been] #Adverb? #PastTense",group:0,tag:"Auxiliary",reason:"had-been-adj"},{match:"(had|has) to [#Noun] (#Determiner|#Possessive)",group:0,tag:"Infinitive",reason:"had-to-noun"},{match:"have [#PresentTense]",group:0,tag:"PastTense",notIf:"(come|gotten)",reason:"have-read"},{match:"(does|will|#Modal) that [work]",group:0,tag:"PastTense",reason:"does-that-work"},{match:"[(sound|sounds)] #Adjective",group:0,tag:"PresentTense",reason:"sounds-fun"},{match:"[(look|looks)] #Adjective",group:0,tag:"PresentTense",reason:"looks-good"},{match:"[(start|starts|stop|stops|begin|begins)] #Gerund",group:0,tag:"Verb",reason:"starts-thinking"},{match:"(have|had) read",tag:"Modal #PastTense",reason:"read-read"},{match:"(is|was|were) [(under|over) #PastTense]",group:0,tag:"Adverb Adjective",reason:"was-under-cooked"},{match:"[shit] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear1-verb"},{match:"[damn] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear2-verb"},{match:"[fuck] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear3-verb"},{match:"#Plural that %Noun|Verb%",tag:". #Preposition #Infinitive",reason:"jobs-that-work"},{match:"[works] for me",group:0,tag:"PresentTense",reason:"works-for-me"},{match:"as #Pronoun [please]",group:0,tag:"Infinitive",reason:"as-we-please"},{match:"[(co|mis|de|inter|intra|pre|re|un|out|under|over|counter)] #Verb",group:0,tag:["Verb","Prefix"],notIf:"(#Copula|#PhrasalVerb)",reason:"co-write"},{match:"#PastTense and [%Adj|Past%]",group:0,tag:"PastTense",reason:"dressed-and-left"},{match:"[%Adj|Past%] and #PastTense",group:0,tag:"PastTense",reason:"dressed-and-left"},{match:"#Copula #Pronoun [%Adj|Past%]",group:0,tag:"Adjective",reason:"is-he-stoked"},{match:"to [%Noun|Verb%] #Preposition",group:0,tag:"Infinitive",reason:"to-dream-of"}],K$=[{match:"will (#Adverb|not)+? [have] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"will-have-vb"},{match:"[#Copula] (#Adverb|not)+? (#Gerund|#PastTense)",group:0,tag:"Auxiliary",reason:"copula-walking"},{match:"[(#Modal|did)+] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"modal-verb"},{match:"#Modal (#Adverb|not)+? [have] (#Adverb|not)+? [had] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-have"},{match:"[(has|had)] (#Adverb|not)+? #PastTense",group:0,tag:"Auxiliary",reason:"had-walked"},{match:"[(do|does|did|will|have|had|has|got)] (not|#Adverb)+? #Verb",group:0,tag:"Auxiliary",reason:"have-had"},{match:"[about to] #Adverb? #Verb",group:0,tag:["Auxiliary","Verb"],reason:"about-to"},{match:"#Modal (#Adverb|not)+? [be] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-be"},{match:"[(#Modal|had|has)] (#Adverb|not)+? [been] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"had-been"},{match:"[(be|being|been)] #Participle",group:0,tag:"Auxiliary",reason:"being-driven"},{match:"[may] #Adverb? #Infinitive",group:0,tag:"Auxiliary",reason:"may-want"},{match:"#Copula (#Adverb|not)+? [(be|being|been)] #Adverb+? #PastTense",group:0,tag:"Auxiliary",reason:"being-walked"},{match:"will [be] #PastTense",group:0,tag:"Auxiliary",reason:"will-be-x"},{match:"[(be|been)] (#Adverb|not)+? #Gerund",group:0,tag:"Auxiliary",reason:"been-walking"},{match:"[used to] #PresentTense",group:0,tag:"Auxiliary",reason:"used-to-walk"},{match:"#Copula (#Adverb|not)+? [going to] #Adverb+? #PresentTense",group:0,tag:"Auxiliary",reason:"going-to-walk"},{match:"#Imperative [(me|him|her)]",group:0,tag:"Reflexive",reason:"tell-him"},{match:"(is|was) #Adverb? [no]",group:0,tag:"Negative",reason:"is-no"},{match:"[(been|had|became|came)] #PastTense",group:0,notIf:"#PhrasalVerb",tag:"Auxiliary",reason:"been-told"},{match:"[(being|having|getting)] #Verb",group:0,tag:"Auxiliary",reason:"being-born"},{match:"[be] #Gerund",group:0,tag:"Auxiliary",reason:"be-walking"},{match:"[better] #PresentTense",group:0,tag:"Modal",notIf:"(#Copula|#Gerund)",reason:"better-go"},{match:"even better",tag:"Adverb #Comparative",reason:"even-better"}],Y$=[{match:"(#Verb && @hasHyphen) up",tag:"PhrasalVerb",reason:"foo-up"},{match:"(#Verb && @hasHyphen) off",tag:"PhrasalVerb",reason:"foo-off"},{match:"(#Verb && @hasHyphen) over",tag:"PhrasalVerb",reason:"foo-over"},{match:"(#Verb && @hasHyphen) out",tag:"PhrasalVerb",reason:"foo-out"},{match:"[#Verb (in|out|up|down|off|back)] (on|in)",notIf:"#Copula",tag:"PhrasalVerb Particle",reason:"walk-in-on"},{match:"(lived|went|crept|go) [on] for",group:0,tag:"PhrasalVerb",reason:"went-on"},{match:"#Verb (up|down|in|on|for)$",tag:"PhrasalVerb #Particle",notIf:"#PhrasalVerb",reason:"come-down$"},{match:"help [(stop|end|make|start)]",group:0,tag:"Infinitive",reason:"help-stop"},{match:"#PhrasalVerb (in && #Particle) #Determiner",tag:"#Verb #Preposition #Determiner",unTag:"PhrasalVerb",reason:"work-in-the"},{match:"[(stop|start|finish|help)] #Gerund",group:0,tag:"Infinitive",reason:"start-listening"},{match:"#Verb (him|her|it|us|himself|herself|itself|everything|something) [(up|down)]",group:0,tag:"Adverb",reason:"phrasal-pronoun-advb"}],Kv="(i|we|they)",J$=[{match:"^do not? [#Infinitive #Particle?]",notIf:Kv,group:0,tag:"Imperative",reason:"do-eat"},{match:"^please do? not? [#Infinitive #Particle?]",group:0,tag:"Imperative",reason:"please-go"},{match:"^just do? not? [#Infinitive #Particle?]",group:0,tag:"Imperative",reason:"just-go"},{match:"^[#Infinitive] it #Comparative",notIf:Kv,group:0,tag:"Imperative",reason:"do-it-better"},{match:"^[#Infinitive] it (please|now|again|plz)",notIf:Kv,group:0,tag:"Imperative",reason:"do-it-please"},{match:"^[#Infinitive] (#Adjective|#Adverb)$",group:0,tag:"Imperative",notIf:"(so|such|rather|enough)",reason:"go-quickly"},{match:"^[#Infinitive] (up|down|over) #Determiner",group:0,tag:"Imperative",reason:"turn-down"},{match:"^[#Infinitive] (your|my|the|a|an|any|each|every|some|more|with|on)",group:0,notIf:"like",tag:"Imperative",reason:"eat-my-shorts"},{match:"^[#Infinitive] (him|her|it|us|me|there)",group:0,tag:"Imperative",reason:"tell-him"},{match:"^[#Infinitive] #Adjective #Noun$",group:0,tag:"Imperative",reason:"avoid-loud-noises"},{match:"^[#Infinitive] (#Adjective|#Adverb)? and #Infinitive",group:0,tag:"Imperative",reason:"call-and-reserve"},{match:"^(go|stop|wait|hurry) please?$",tag:"Imperative",reason:"go"},{match:"^(somebody|everybody) [#Infinitive]",group:0,tag:"Imperative",reason:"somebody-call"},{match:"^let (us|me) [#Infinitive]",group:0,tag:"Imperative",reason:"lets-leave"},{match:"^[(shut|close|open|start|stop|end|keep)] #Determiner #Noun",group:0,tag:"Imperative",reason:"shut-the-door"},{match:"^[#PhrasalVerb #Particle] #Determiner #Noun",group:0,tag:"Imperative",reason:"turn-off-the-light"},{match:"^[go] to .",group:0,tag:"Imperative",reason:"go-to-toronto"},{match:"^#Modal you [#Infinitive]",group:0,tag:"Imperative",reason:"would-you-"},{match:"^never [#Infinitive]",group:0,tag:"Imperative",reason:"never-stop"},{match:"^come #Infinitive",tag:"Imperative",notIf:"on",reason:"come-have"},{match:"^come and? #Infinitive",tag:"Imperative . Imperative",notIf:"#PhrasalVerb",reason:"come-and-have"},{match:"^stay (out|away|back)",tag:"Imperative",reason:"stay-away"},{match:"^[(stay|be|keep)] #Adjective",group:0,tag:"Imperative",reason:"stay-cool"},{match:"^[keep it] #Adjective",group:0,tag:"Imperative",reason:"keep-it-cool"},{match:"^do not [#Infinitive]",group:0,tag:"Imperative",reason:"do-not-be"},{match:"[#Infinitive] (yourself|yourselves)",group:0,tag:"Imperative",reason:"allow-yourself"},{match:"[#Infinitive] what .",group:0,tag:"Imperative",reason:"look-what"},{match:"^[#Infinitive] #Gerund",group:0,tag:"Imperative",reason:"keep-playing"},{match:"^[#Infinitive] (to|for|into|toward|here|there)",group:0,tag:"Imperative",reason:"go-to"},{match:"^[#Infinitive] (and|or) #Infinitive",group:0,tag:"Imperative",reason:"inf-and-inf"},{match:"^[%Noun|Verb%] to",group:0,tag:"Imperative",reason:"commit-to"},{match:"^[#Infinitive] #Adjective? #Singular #Singular",group:0,tag:"Imperative",reason:"maintain-eye-contact"},{match:"do not (forget|omit|neglect) to [#Infinitive]",group:0,tag:"Imperative",reason:"do-not-forget"},{match:"^[(ask|wear|pay|look|help|show|watch|act|fix|kill|stop|start|turn|try|win)] #Noun",group:0,tag:"Imperative",reason:"pay-attention"}],X$=[{match:"(that|which) were [%Adj|Gerund%]",group:0,tag:"Gerund",reason:"that-were-growing"},{match:"#Gerund [#Gerund] #Plural",group:0,tag:"Adjective",reason:"hard-working-fam"}],Z$=[{match:"(got|were|was|is|are|am) (#PastTense|#Participle)",tag:"Passive",reason:"got-walked"},{match:"(was|were|is|are|am) being (#PastTense|#Participle)",tag:"Passive",reason:"was-being"},{match:"(had|have|has) been (#PastTense|#Participle)",tag:"Passive",reason:"had-been"},{match:"will be being? (#PastTense|#Participle)",tag:"Passive",reason:"will-be-cleaned"},{match:"#Noun [(#PastTense|#Participle)] by (the|a) #Noun",group:0,tag:"Passive",reason:"suffered-by"}];let eV=[{match:"u r",tag:"#Pronoun #Copula",reason:"u r"},{match:"#Noun [(who|whom)]",group:0,tag:"Determiner",reason:"captain-who"},{match:"[had] #Noun+ #PastTense",group:0,tag:"Condition",reason:"had-he"},{match:"[were] #Noun+ to #Infinitive",group:0,tag:"Condition",reason:"were-he"},{match:"some sort of",tag:"Adjective Noun Conjunction",reason:"some-sort-of"},{match:"of some sort",tag:"Conjunction Adjective Noun",reason:"of-some-sort"},{match:"[such] (a|an|is)? #Noun",group:0,tag:"Determiner",reason:"such-skill"},{match:"[right] (before|after|in|into|to|toward)",group:0,tag:"#Adverb",reason:"right-into"},{match:"#Preposition [about]",group:0,tag:"Adjective",reason:"at-about"},{match:"(are|#Modal|see|do|for) [ya]",group:0,tag:"Pronoun",reason:"are-ya"},{match:"[long live] .",group:0,tag:"#Adjective #Infinitive",reason:"long-live"},{match:"[plenty] of",group:0,tag:"#Uncountable",reason:"plenty-of"},{match:"(always|nearly|barely|practically) [there]",group:0,tag:"Adjective",reason:"always-there"},{match:"[there] (#Adverb|#Pronoun)? #Copula",group:0,tag:"There",reason:"there-is"},{match:"#Copula [there] .",group:0,tag:"There",reason:"is-there"},{match:"#Modal #Adverb? [there]",group:0,tag:"There",reason:"should-there"},{match:"^[do] (you|we|they)",group:0,tag:"QuestionWord",reason:"do-you"},{match:"^[does] (he|she|it|#ProperNoun)",group:0,tag:"QuestionWord",reason:"does-he"},{match:"#Determiner #Noun+ [who] #Verb",group:0,tag:"Preposition",reason:"the-x-who"},{match:"#Determiner #Noun+ [which] #Verb",group:0,tag:"Preposition",reason:"the-x-which"},{match:"a [while]",group:0,tag:"Noun",reason:"a-while"},{match:"guess who",tag:"#Infinitive #QuestionWord",reason:"guess-who"},{match:"[fucking] !#Verb",group:0,tag:"#Gerund",reason:"f-as-gerund"}];const tV=[{match:"university of #Place",tag:"Organization",reason:"university-of-Foo"},{match:"#Noun (&|n) #Noun",tag:"Organization",reason:"Noun-&-Noun"},{match:"#Organization of the? #ProperNoun",tag:"Organization",reason:"org-of-place",safe:!0},{match:"#Organization #Country",tag:"Organization",reason:"org-country"},{match:"#ProperNoun #Organization",tag:"Organization",notIf:"#FirstName",reason:"titlecase-org"},{match:"#ProperNoun (ltd|co|inc|dept|assn|bros)",tag:"Organization",reason:"org-abbrv"},{match:"the [#Acronym]",group:0,tag:"Organization",reason:"the-acronym",safe:!0},{match:"government of the? [#Place+]",tag:"Organization",reason:"government-of-x"},{match:"(health|school|commerce) board",tag:"Organization",reason:"school-board"},{match:"(nominating|special|conference|executive|steering|central|congressional) committee",tag:"Organization",reason:"special-comittee"},{match:"(world|global|international|national|#Demonym) #Organization",tag:"Organization",reason:"global-org"},{match:"#Noun+ (public|private) school",tag:"School",reason:"noun-public-school"},{match:"#Place+ #SportsTeam",tag:"SportsTeam",reason:"place-sportsteam"},{match:"(dc|atlanta|minnesota|manchester|newcastle|sheffield) united",tag:"SportsTeam",reason:"united-sportsteam"},{match:"#Place+ fc",tag:"SportsTeam",reason:"fc-sportsteam"},{match:"#Place+ #Noun{0,2} (club|society|group|team|committee|commission|association|guild|crew)",tag:"Organization",reason:"place-noun-society"}],nV=[{match:"(west|north|south|east|western|northern|southern|eastern)+ #Place",tag:"Region",reason:"west-norfolk"},{match:"#City [(al|ak|az|ar|ca|ct|dc|fl|ga|id|il|nv|nh|nj|ny|oh|pa|sc|tn|tx|ut|vt|pr)]",group:0,tag:"Region",reason:"us-state"},{match:"portland [or]",group:0,tag:"Region",reason:"portland-or"},{match:"#ProperNoun+ (cliff|place|range|pit|place|point|room|grounds|ruins)",tag:"Place",reason:"foo-point"},{match:"in [#ProperNoun] #Place",group:0,tag:"Place",reason:"propernoun-place"},{match:"#Value #Noun (st|street|rd|road|crescent|cr|way|tr|terrace|avenue|ave)",tag:"Address",reason:"address-st"},{match:"(port|mount|mt) #ProperName",tag:"Place",reason:"port-name"}],rV=[{match:"[so] #Noun",group:0,tag:"Conjunction",reason:"so-conj"},{match:"[(who|what|where|why|how|when)] #Noun #Copula #Adverb? (#Verb|#Adjective)",group:0,tag:"Conjunction",reason:"how-he-is-x"},{match:"#Copula [(who|what|where|why|how|when)] #Noun",group:0,tag:"Conjunction",reason:"when-he"},{match:"#Verb [that] #Pronoun",group:0,tag:"Conjunction",reason:"said-that-he"},{match:"#Noun [that] #Copula",group:0,tag:"Conjunction",reason:"that-are"},{match:"#Noun [that] #Verb #Adjective",group:0,tag:"Conjunction",reason:"that-seem"},{match:"#Noun #Copula not? [that] #Adjective",group:0,tag:"Adverb",reason:"that-adj"},{match:"#Verb #Adverb? #Noun [(that|which)]",group:0,tag:"Preposition",reason:"that-prep"},{match:"@hasComma [which] (#Pronoun|#Verb)",group:0,tag:"Preposition",reason:"which-copula"},{match:"#Noun [like] #Noun",group:0,tag:"Preposition",reason:"noun-like"},{match:"^[like] #Determiner",group:0,tag:"Preposition",reason:"like-the"},{match:"a #Noun [like] (#Noun|#Determiner)",group:0,tag:"Preposition",reason:"a-noun-like"},{match:"#Adverb [like]",group:0,tag:"Verb",reason:"really-like"},{match:"(not|nothing|never) [like]",group:0,tag:"Preposition",reason:"nothing-like"},{match:"#Infinitive #Pronoun [like]",group:0,tag:"Preposition",reason:"treat-them-like"},{match:"[#QuestionWord] (#Pronoun|#Determiner)",group:0,tag:"Preposition",reason:"how-he"},{match:"[#QuestionWord] #Participle",group:0,tag:"Preposition",reason:"when-stolen"},{match:"[how] (#Determiner|#Copula|#Modal|#PastTense)",group:0,tag:"QuestionWord",reason:"how-is"},{match:"#Plural [(who|which|when)] .",group:0,tag:"Preposition",reason:"people-who"}],iV=[{match:"holy (shit|fuck|hell)",tag:"Expression",reason:"swears-expression"},{match:"^[(well|so|okay|now)] !#Adjective?",group:0,tag:"Expression",reason:"well-"},{match:"^come on",tag:"Expression",reason:"come-on"},{match:"(say|says|said) [sorry]",group:0,tag:"Expression",reason:"say-sorry"},{match:"^(ok|alright|shoot|hell|anyways)",tag:"Expression",reason:"ok-"},{match:"^(say && @hasComma)",tag:"Expression",reason:"say-"},{match:"^(like && @hasComma)",tag:"Expression",reason:"like-"},{match:"^[(dude|man|girl)] #Pronoun",group:0,tag:"Expression",reason:"dude-i"}];let aV=[].concat(Z$,P$,T$,O$,j$,L$,F$,R$,U$,z$,H$,G$,Q$,q$,$$,V$,W$,D$,K$,Y$,J$,X$,eV,tV,nV,rV,iV);const oV={two:{matches:aV}};let Yv=null;const sV=function(e){const{world:t}=e,{model:n,methods:r}=t;Yv=Yv||r.one.buildNet(n.two.matches,t);let a=r.two.quickSplit(e.document).map(s=>{let l=s[0];return[l.index[0],l.index[1],l.index[1]+s.length]}),o=e.update(a);return o.cache(),o.sweep(Yv),e.uncache(),e.unfreeze(),e},lV=e=>e.compute(["freeze","lexicon","preTagger","postTagger","unfreeze"]),uV={postTagger:sV,tagger:lV},cV=e=>Math.round(e*100)/100;function dV(e){e.prototype.confidence=function(){let t=0,n=0;return this.docs.forEach(r=>{r.forEach(i=>{n+=1,t+=i.confidence||1})}),n===0?1:cV(t/n)},e.prototype.tagger=function(){return this.compute(["tagger"])}}const fV={api:dV,compute:uV,model:oV,hooks:["postTagger"]},hV=function(e){return Object.keys(e.hooks).filter(t=>!t.startsWith("#")&&!t.startsWith("%"))},pV=function(e,t){let n=hV(t);if(n.length===0)return e;e._cache||e.cache();let r=e._cache;return e.filter((i,a)=>n.some(o=>r[a].has(o)))},gV=function(e,t){let n=t;typeof t=="string"&&(n=this.buildNet([{match:t}]));let r=this.tokenize(e),i=pV(r,n);return i.found?(i.compute(["index","tagger"]),i.match(t)):r.none()},mV={lib:{lazy:gV}},vV=function(e,t){const n=e.methods.two.transform.verb.conjugate;let r=n(t,e.model);return e.has("#Gerund")?r.Gerund:e.has("#PastTense")?r.PastTense:e.has("#PresentTense")?r.PresentTense:e.has("#Gerund")?r.Gerund:t},yV=function(e,t){let n=t;return e.forEach(r=>{r.has("#Infinitive")||(n=vV(r,t)),r.replaceWith(n)}),e},AV=function(e,t){let n=t;if(e.has("#Plural")){const r=e.methods.two.transform.noun.toPlural;n=r(t,e.model)}e.replaceWith(n,{possessives:!0})},wV=function(e,t){const{toAdverb:n}=e.methods.two.transform.adjective;let i=n(t);i&&e.replaceWith(i)},bV=function(e,t){const{toComparative:n,toSuperlative:r}=e.methods.two.transform.adjective;let i=t;e.has("#Comparative")?i=n(i,e.model):e.has("#Superlative")&&(i=r(i,e.model)),i&&e.replaceWith(i)},xV=function(e,t,n){let r=e.split(/ /g).map(a=>a.toLowerCase().trim());r=r.filter(a=>a),r=r.map(a=>`{${a}}`).join(" ");let i=this.match(r);return n&&(i=i.if(n)),i.has("#Verb")?yV(i,t):i.has("#Noun")?AV(i,t):i.has("#Adverb")?wV(i,t):i.has("#Adjective")?bV(i,t):this},EV=function(e){e.prototype.swap=xV},kV={api:EV};Dt.plugin(Zq);Dt.plugin(I$);Dt.plugin(fV);Dt.plugin(mV);Dt.plugin(kV);const Ec=function(e){const{fromComparative:t,fromSuperlative:n}=e.methods.two.transform.adjective;let r=e.text("normal");return e.has("#Comparative")?t(r,e.model):e.has("#Superlative")?n(r,e.model):r},_V=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Adjectives"}json(r={}){const{toAdverb:i,toNoun:a,toSuperlative:o,toComparative:s}=this.methods.two.transform.adjective;return r.normal=!0,this.map(l=>{let u=l.toView().json(r)[0]||{},c=Ec(l);return u.adjective={adverb:i(c,this.model),noun:a(c,this.model),superlative:o(c,this.model),comparative:s(c,this.model)},u},[])}adverbs(){return this.before("#Adverb+$").concat(this.after("^#Adverb+"))}conjugate(r){const{toComparative:i,toSuperlative:a,toNoun:o,toAdverb:s}=this.methods.two.transform.adjective;return this.getNth(r).map(l=>{let u=Ec(l);return{Adjective:u,Comparative:i(u,this.model),Superlative:a(u,this.model),Noun:o(u,this.model),Adverb:s(u,this.model)}},[])}toComparative(r){const{toComparative:i}=this.methods.two.transform.adjective;return this.getNth(r).map(a=>{let o=Ec(a),s=i(o,this.model);return a.replaceWith(s)})}toSuperlative(r){const{toSuperlative:i}=this.methods.two.transform.adjective;return this.getNth(r).map(a=>{let o=Ec(a),s=i(o,this.model);return a.replaceWith(s)})}toAdverb(r){const{toAdverb:i}=this.methods.two.transform.adjective;return this.getNth(r).map(a=>{let o=Ec(a),s=i(o,this.model);return a.replaceWith(s)})}toNoun(r){const{toNoun:i}=this.methods.two.transform.adjective;return this.getNth(r).map(a=>{let o=Ec(a),s=i(o,this.model);return a.replaceWith(s)})}}e.prototype.adjectives=function(n){let r=this.match("#Adjective");return r=r.getNth(n),new t(r.document,r.pointer)},e.prototype.superlatives=function(n){let r=this.match("#Superlative");return r=r.getNth(n),new t(r.document,r.pointer)},e.prototype.comparatives=function(n){let r=this.match("#Comparative");return r=r.getNth(n),new t(r.document,r.pointer)}},CV={api:_V},SV=function(e){return e.compute("root").text("root")},NV=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Adverbs"}conjugate(r){return this.getNth(r).map(i=>{let a=SV(i);return{Adverb:i.text("normal"),Adjective:a}},[])}json(r={}){const i=this.methods.two.transform.adjective.fromAdverb;return r.normal=!0,this.map(a=>{let o=a.toView().json(r)[0]||{};return o.adverb={adjective:i(o.normal)},o},[])}}e.prototype.adverbs=function(n){let r=this.match("#Adverb");return r=r.getNth(n),new t(r.document,r.pointer)}},IV={api:NV},PV=function(e){let t=e.match("@hasComma");return t=t.filter(n=>{if(n.growLeft(".").wordCount()===1||n.growRight(". .").wordCount()===1)return!1;let r=n.grow(".");return r=r.ifNo("@hasComma @hasComma"),r=r.ifNo("@hasComma (and|or) ."),r=r.ifNo("(#City && @hasComma) #Country"),r=r.ifNo("(#WeekDay && @hasComma) #Date"),r=r.ifNo("(#Date+ && @hasComma) #Value"),r=r.ifNo("(#Adjective && @hasComma) #Adjective"),r.found}),e.splitAfter(t)},BV=function(e){let t=e.parentheses();return t=t.filter(n=>n.wordCount()>=3&&n.has("#Verb")&&n.has("#Noun")),e.splitOn(t)},TV=function(e){let t=e.quotations();return t=t.filter(n=>n.wordCount()>=3&&n.has("#Verb")&&n.has("#Noun")),e.splitOn(t)},OV=function(e){let t=this;t=BV(t),t=TV(t),t=PV(t),t=t.splitAfter("(@hasEllipses|@hasSemicolon|@hasDash|@hasColon)"),t=t.splitAfter("^#Pronoun (said|says)"),t=t.splitBefore("(said|says) #ProperNoun$"),t=t.splitBefore(". . if .{4}"),t=t.splitBefore("and while"),t=t.splitBefore("now that"),t=t.splitBefore("ever since"),t=t.splitBefore("(supposing|although)"),t=t.splitBefore("even (while|if|though)"),t=t.splitBefore("(whereas|whose)"),t=t.splitBefore("as (though|if)"),t=t.splitBefore("(til|until)");let n=t.match("#Verb .* [but] .* #Verb",0);n.found&&(t=t.splitBefore(n));let r=t.if("if .{2,9} then .").match("then");return t=t.splitBefore(r),typeof e=="number"&&(t=t.get(e)),t},jV=function(e){let t=[],n=null;return e.clauses().docs.forEach(a=>{a.forEach(o=>{!o.chunk||o.chunk!==n?(n=o.chunk,t.push([o.index[0],o.index[1],o.index[1]+1])):t[t.length-1][2]=o.index[1]+1}),n=null}),e.update(t)},DV=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Chunks"}isVerb(){return this.filter(r=>r.has("<Verb>"))}isNoun(){return this.filter(r=>r.has("<Noun>"))}isAdjective(){return this.filter(r=>r.has("<Adjective>"))}isPivot(){return this.filter(r=>r.has("<Pivot>"))}debug(){return this.toView().debug("chunks"),this}update(r){let i=new t(this.document,r);return i._cache=this._cache,i}}e.prototype.chunks=function(n){let r=jV(this);return r=r.getNth(n),new t(this.document,r.pointer)},e.prototype.clauses=OV},o3={this:"Noun",then:"Pivot"},LV=function(e){for(let t=0;t<e.length;t+=1)for(let n=0;n<e[t].length;n+=1){let r=e[t][n];if(o3.hasOwnProperty(r.normal)===!0){r.chunk=o3[r.normal];continue}if(r.tags.has("Verb")){r.chunk="Verb";continue}if(r.tags.has("Noun")||r.tags.has("Determiner")){r.chunk="Noun";continue}if(r.tags.has("Value")){r.chunk="Noun";continue}if(r.tags.has("QuestionWord")){r.chunk="Pivot";continue}}},RV=function(e){for(let t=0;t<e.length;t+=1)for(let n=0;n<e[t].length;n+=1){let r=e[t][n];if(r.chunk)continue;let i=e[t][n+1],a=e[t][n-1];if(r.tags.has("Adjective")){if(a&&a.tags.has("Copula")){r.chunk="Adjective";continue}if(a&&a.tags.has("Determiner")){r.chunk="Noun";continue}if(i&&i.tags.has("Noun")){r.chunk="Noun";continue}continue}if(r.tags.has("Adverb")||r.tags.has("Negative")){if(a&&a.tags.has("Adjective")){r.chunk="Adjective";continue}if(a&&a.tags.has("Verb")){r.chunk="Verb";continue}if(i&&i.tags.has("Adjective")){r.chunk="Adjective";continue}if(i&&i.tags.has("Verb")){r.chunk="Verb";continue}}}},FV=[{match:"[that] #Determiner #Noun",group:0,chunk:"Pivot"},{match:"#PastTense [that]",group:0,chunk:"Pivot"},{match:"[so] #Determiner",group:0,chunk:"Pivot"},{match:"#Copula #Adverb+? [#Adjective]",group:0,chunk:"Adjective"},{match:"#Adjective and #Adjective",chunk:"Adjective"},{match:"#Adverb+ and #Adverb #Verb",chunk:"Verb"},{match:"#Gerund #Adjective$",chunk:"Verb"},{match:"#Gerund to #Verb",chunk:"Verb"},{match:"#PresentTense and #PresentTense",chunk:"Verb"},{match:"#Adverb #Negative",chunk:"Verb"},{match:"(want|wants|wanted) to #Infinitive",chunk:"Verb"},{match:"#Verb #Reflexive",chunk:"Verb"},{match:"#Verb [to] #Adverb? #Infinitive",group:0,chunk:"Verb"},{match:"[#Preposition] #Gerund",group:0,chunk:"Verb"},{match:"#Infinitive [that] <Noun>",group:0,chunk:"Verb"},{match:"#Noun of #Determiner? #Noun",chunk:"Noun"},{match:"#Value+ #Adverb? #Adjective",chunk:"Noun"},{match:"the [#Adjective] #Noun",chunk:"Noun"},{match:"#Singular in #Determiner? #Singular",chunk:"Noun"},{match:"#Plural [in] #Determiner? #Noun",group:0,chunk:"Pivot"},{match:"#Noun and #Determiner? #Noun",notIf:"(#Possessive|#Pronoun)",chunk:"Noun"}];let Jv=null;const MV=function(e,t,n){const{methods:r}=n;Jv=Jv||r.one.buildNet(FV,n),e.sweep(Jv)};var s3={};const Xv=function(e,t){if((typeof process>"u"||!s3?self.env||{}:s3).DEBUG_CHUNKS){let r=(e.normal+"'").padEnd(8);console.log(`  | '${r}    \x1B[34m${t.padEnd(12)}\x1B[0m \x1B[2m -fallback- \x1B[0m`)}e.chunk=t},UV=function(e){for(let t=0;t<e.length;t+=1)for(let n=0;n<e[t].length;n+=1){let r=e[t][n];r.chunk===void 0&&(r.tags.has("Conjunction")||r.tags.has("Preposition")?Xv(r,"Pivot"):r.tags.has("Adverb")?Xv(r,"Verb"):r.chunk="Noun")}},zV=function(e){let t=[],n=null;e.forEach(r=>{for(let i=0;i<r.length;i+=1){let a=r[i];n&&a.chunk===n?t[t.length-1].terms.push(a):(t.push({chunk:a.chunk,terms:[a]}),n=a.chunk)}}),t.forEach(r=>{r.chunk==="Verb"&&(r.terms.find(a=>a.tags.has("Verb"))||r.terms.forEach(a=>a.chunk=null))})},HV=function(e){const{document:t,world:n}=e;LV(t),RV(t),MV(e,t,n),UV(t),zV(t)},GV={chunks:HV},QV={compute:GV,api:DV,hooks:["chunks"]},Mg=/\./g,qV=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Acronyms"}strip(){return this.docs.forEach(r=>{r.forEach(i=>{i.text=i.text.replace(Mg,""),i.normal=i.normal.replace(Mg,"")})}),this}addPeriods(){return this.docs.forEach(r=>{r.forEach(i=>{i.text=i.text.replace(Mg,""),i.normal=i.normal.replace(Mg,""),i.text=i.text.split("").join(".")+".",i.normal=i.normal.split("").join(".")+"."})}),this}}e.prototype.acronyms=function(n){let r=this.match("#Acronym");return r=r.getNth(n),new t(r.document,r.pointer)}},dP=/\(/,fP=/\)/,$V=function(e,t){for(;t<e.length;t+=1)if(e[t].post&&fP.test(e[t].post)){let[,n]=e[t].index;return n=n||0,n}return null},VV=function(e){let t=[];return e.docs.forEach(n=>{for(let r=0;r<n.length;r+=1){let i=n[r];if(i.pre&&dP.test(i.pre)){let a=$V(n,r);if(a!==null){let[o,s]=n[r].index;t.push([o,s,a+1,n[r].id]),r=a}}}}),e.update(t)},WV=function(e){return e.docs.forEach(t=>{t[0].pre=t[0].pre.replace(dP,"");let n=t[t.length-1];n.post=n.post.replace(fP,"")}),e},KV=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Possessives"}strip(){return WV(this)}}e.prototype.parentheses=function(n){let r=VV(this);return r=r.getNth(n),new t(r.document,r.pointer)}},l3=/'s$/,YV=function(e){let t=e.match("#Possessive+");return t.has("#Person")&&(t=t.growLeft("#Person+")),t.has("#Place")&&(t=t.growLeft("#Place+")),t.has("#Organization")&&(t=t.growLeft("#Organization+")),t},JV=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Possessives"}strip(){return this.docs.forEach(r=>{r.forEach(i=>{i.text=i.text.replace(l3,""),i.normal=i.normal.replace(l3,"")})}),this}}e.prototype.possessives=function(n){let r=YV(this);return r=r.getNth(n),new t(r.document,r.pointer)}},cm={'"':'"',"":"","'":"'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","`":"","":""},Cb=RegExp("["+Object.keys(cm).join("")+"]"),XV=RegExp("["+Object.values(cm).join("")+"]"),ZV=function(e,t){const n=e[t].pre.match(Cb)[0]||"";if(!n||!cm[n])return null;const r=cm[n];for(;t<e.length;t+=1)if(e[t].post&&e[t].post.match(r))return t;return null},eW=function(e){let t=[];return e.docs.forEach(n=>{for(let r=0;r<n.length;r+=1){let i=n[r];if(i.pre&&Cb.test(i.pre)){let a=ZV(n,r);if(a!==null){let[o,s]=n[r].index;t.push([o,s,a+1,n[r].id]),r=a}}}}),e.update(t)},tW=function(e){e.docs.forEach(t=>{t[0].pre=t[0].pre.replace(Cb,"");let n=t[t.length-1];n.post=n.post.replace(XV,"")})},nW=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Possessives"}strip(){return tW(this)}}e.prototype.quotations=function(n){let r=eW(this);return r=r.getNth(n),new t(r.document,r.pointer)}},rW=function(e){let t=this.splitAfter("@hasComma");return t=t.match("#PhoneNumber+"),t=t.getNth(e),t},iW=[["hyphenated","@hasHyphen ."],["hashTags","#HashTag"],["emails","#Email"],["emoji","#Emoji"],["emoticons","#Emoticon"],["atMentions","#AtMention"],["urls","#Url"],["conjunctions","#Conjunction"],["prepositions","#Preposition"],["abbreviations","#Abbreviation"],["honorifics","#Honorific"]];let aW=[["emojis","emoji"],["atmentions","atMentions"]];const oW=function(e){iW.forEach(t=>{e.prototype[t[0]]=function(n){let r=this.match(t[1]);return typeof n=="number"?r.get(n):r}}),e.prototype.phoneNumbers=rW,aW.forEach(t=>{e.prototype[t[0]]=e.prototype[t[1]]})},sW=/\//,lW=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Slashes"}split(){return this.map(r=>{let a=r.text().split(sW);return r=r.replaceWith(a.join(" ")),r.growRight("("+a.join("|")+")+")})}}e.prototype.slashes=function(n){let r=this.match("#SlashedTerm");return r=r.getNth(n),new t(r.document,r.pointer)}},uW={api:function(e){qV(e),KV(e),JV(e),nW(e),oW(e),lW(e)}},Ug=function(e,t){e.docs.forEach(n=>{n.forEach(t)})},u3={case:e=>{Ug(e,t=>{t.text=t.text.toLowerCase()})},unicode:e=>{const t=e.world,n=t.methods.one.killUnicode;Ug(e,r=>r.text=n(r.text,t))},whitespace:e=>{Ug(e,t=>{t.post=t.post.replace(/\s+/g," "),t.post=t.post.replace(/\s([.,?!:;])/g,"$1"),t.pre=t.pre.replace(/\s+/g,"")})},punctuation:e=>{Ug(e,r=>{r.post=r.post.replace(/[-]/g," "),r.post=r.post.replace(/[,:;]/g,""),r.post=r.post.replace(/\.{2,}/g,""),r.post=r.post.replace(/\?{2,}/g,"?"),r.post=r.post.replace(/!{2,}/g,"!"),r.post=r.post.replace(/\?!+/g,"?")});let t=e.docs,n=t[t.length-1];if(n&&n.length>0){let r=n[n.length-1];r.post=r.post.replace(/ /g,"")}},contractions:e=>{e.contractions().expand()},acronyms:e=>{e.acronyms().strip()},parentheses:e=>{e.parentheses().strip()},possessives:e=>{e.possessives().strip()},quotations:e=>{e.quotations().strip()},emoji:e=>{e.emojis().remove()},honorifics:e=>{e.match("#Honorific+ #Person").honorifics().remove()},adverbs:e=>{e.adverbs().remove()},nouns:e=>{e.nouns().toSingular()},verbs:e=>{e.verbs().toInfinitive()},numbers:e=>{e.numbers().toNumber()},debullet:e=>{const t=/^\s*([-*])\s*$/;return e.docs.forEach(n=>{t.test(n[0].pre)&&(n[0].pre=n[0].pre.replace(t,""))}),e}},Zv=e=>e.split("|").reduce((t,n)=>(t[n]=!0,t),{}),ey="unicode|punctuation|whitespace|acronyms",c3="|case|contractions|parentheses|quotations|emoji|honorifics|debullet",cW="|possessives|adverbs|nouns|verbs",dW={light:Zv(ey),medium:Zv(ey+c3),heavy:Zv(ey+c3+cW)};function fW(e){e.prototype.normalize=function(t="light"){return typeof t=="string"&&(t=dW[t]),Object.keys(t).forEach(n=>{u3.hasOwnProperty(n)&&u3[n](this,t[n])}),this}}const hW={api:fW},pW=function(e){let t=e.clauses().match("<Noun>"),n=t.match("@hasComma");return n=n.not("#Place"),n.found&&(t=t.splitAfter(n)),t=t.splitOn("#Expression"),t=t.splitOn("(he|she|we|you|they|i)"),t=t.splitOn("(#Noun|#Adjective) [(he|him|she|it)]",0),t=t.splitOn("[(he|him|she|it)] (#Determiner|#Value)",0),t=t.splitBefore("#Noun [(the|a|an)] #Adjective? #Noun",0),t=t.splitOn("[(here|there)] #Noun",0),t=t.splitOn("[#Noun] (here|there)",0),t=t.splitBefore("(our|my|their|your)"),t=t.splitOn("#Noun [#Determiner]",0),t=t.if("#Noun"),t},d3=["after","although","as if","as long as","as","because","before","even if","even though","ever since","if","in order that","provided that","since","so that","than","that","though","unless","until","what","whatever","when","whenever","where","whereas","wherever","whether","which","whichever","who","whoever","whom","whomever","whose"],gW=function(e){if(e.before("#Preposition$").found)return!0;if(!e.before().found)return!1;for(let n=0;n<d3.length;n+=1)if(e.has(d3[n]))return!0;return!1},mW="(#Pronoun|#Place|#Value|#Person|#Uncountable|#Month|#WeekDay|#Holiday|#Possessive)",vW=function(e,t){if(e.has("#Plural")||e.has("#Noun and #Noun")||e.has("(we|they)"))return!0;if(t.has(mW)===!0||e.has("#Singular"))return!1;let n=t.text("normal");return n.length>3&&n.endsWith("s")&&!n.endsWith("ss")},yW=function(e){let t=e.clone();return t=t.match("#Noun+"),t=t.remove("(#Adjective|#Preposition|#Determiner|#Value)"),t=t.not("#Possessive"),t=t.first(),t.found?t:e},Zs=function(e){let t=yW(e);return{determiner:e.match("#Determiner").eq(0),adjectives:e.match("#Adjective"),number:e.values(),isPlural:vW(e,t),isSubordinate:gW(e),root:t}},f3=e=>e.text(),AW=e=>e.json({terms:!1,normal:!0}).map(t=>t.normal),wW=function(e){let t=null;if(!e.found)return t;let n=e.values(0);return n.found?(n.parse()[0]||{}).num:t},bW=function(e){let t=Zs(e);return{root:f3(t.root),number:wW(t.number),determiner:f3(t.determiner),adjectives:AW(t.adjectives),isPlural:t.isPlural,isSubordinate:t.isSubordinate}},hP=function(e){return!e.has("^(#Uncountable|#ProperNoun|#Place|#Pronoun|#Acronym)+$")},xW={tags:!0},EW=function(e,t){if(t.isPlural===!0||(t.root.has("#Possessive")&&(t.root=t.root.possessives().strip()),!hP(t.root)))return e;const{methods:n,model:r}=e.world,{toPlural:i}=n.two.transform.noun;let a=t.root.text({keepPunct:!1}),o=i(a,r);e.match(t.root).replaceWith(o,xW).tag("Plural","toPlural"),t.determiner.has("(a|an)")&&e.remove(t.determiner);let s=t.root.after("not? #Adverb+? [#Copula]",0);return s.found&&(s.has("is")?e.replace(s,"are"):s.has("was")&&e.replace(s,"were")),e},kW={tags:!0},_W=function(e,t){if(t.isPlural===!1)return e;const{methods:n,model:r}=e.world,{toSingular:i}=n.two.transform.noun;let a=t.root.text("normal"),o=i(a,r);return e.replace(t.root,o,kW).tag("Singular","toPlural"),e},CW=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Nouns"}parse(r){return this.getNth(r).map(Zs)}json(r){let i=typeof r=="object"?r:{};return this.getNth(r).map(a=>{let o=a.toView().json(i)[0]||{};return i&&i.noun!==!1&&(o.noun=bW(a)),o},[])}conjugate(r){const i=this.world.methods.two.transform.noun;return this.getNth(r).map(a=>{let o=Zs(a),s=o.root.compute("root").text("root"),l={Singular:s};return hP(o.root)&&(l.Plural=i.toPlural(s,this.model)),l.Singular===l.Plural&&delete l.Plural,l},[])}isPlural(r){return this.filter(a=>Zs(a).isPlural).getNth(r)}isSingular(r){return this.filter(a=>!Zs(a).isPlural).getNth(r)}adjectives(r){let i=this.update([]);return this.forEach(a=>{let o=Zs(a).adjectives;o.found&&(i=i.concat(o))}),i.getNth(r)}toPlural(r){return this.getNth(r).map(i=>EW(i,Zs(i)))}toSingular(r){return this.getNth(r).map(i=>{let a=Zs(i);return _W(i,a)})}update(r){let i=new t(this.document,r);return i._cache=this._cache,i}}e.prototype.nouns=function(n){let r=pW(this);return r=r.getNth(n),new t(this.document,r.pointer)}},SW={api:CW},NW=function(e,t){let n=e.match("#Fraction+");return n=n.filter(r=>!r.lookBehind("#Value and$").found),n=n.notIf("#Value seconds"),n},IW=e=>{const t=[{reg:/^(minus|negative)[\s-]/i,mult:-1},{reg:/^(a\s)?half[\s-](of\s)?/i,mult:.5}];for(let n=0;n<t.length;n++)if(t[n].reg.test(e)===!0)return{amount:t[n].mult,str:e.replace(t[n].reg,"")};return{amount:1,str:e}},Cr={ones:{zeroth:0,first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9},teens:{tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19},tens:{twentieth:20,thirtieth:30,fortieth:40,fourtieth:40,fiftieth:50,sixtieth:60,seventieth:70,eightieth:80,ninetieth:90,twenty:20,thirty:30,forty:40,fourty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90},multiples:{hundredth:100,thousandth:1e3,millionth:1e6,billionth:1e9,trillionth:1e12,quadrillionth:1e15,quintillionth:1e18,sextillionth:1e21,septillionth:1e24,hundred:100,thousand:1e3,million:1e6,billion:1e9,trillion:1e12,quadrillion:1e15,quintillion:1e18,sextillion:1e21,septillion:1e24,grand:1e3}},PW=(e,t)=>{if(Cr.ones.hasOwnProperty(e)){if(t.ones||t.teens)return!1}else if(Cr.teens.hasOwnProperty(e)){if(t.ones||t.teens||t.tens)return!1}else if(Cr.tens.hasOwnProperty(e)&&(t.ones||t.teens||t.tens))return!1;return!0},BW=function(e){let t="0.";for(let n=0;n<e.length;n++){let r=e[n];if(Cr.ones.hasOwnProperty(r)===!0)t+=Cr.ones[r];else if(Cr.teens.hasOwnProperty(r)===!0)t+=Cr.teens[r];else if(Cr.tens.hasOwnProperty(r)===!0)t+=Cr.tens[r];else if(/^[0-9]$/.test(r)===!0)t+=r;else return 0}return parseFloat(t)},TW=e=>(e=e.replace(/1st$/,"1"),e=e.replace(/2nd$/,"2"),e=e.replace(/3rd$/,"3"),e=e.replace(/([4567890])r?th$/,"$1"),e=e.replace(/^[$]/,""),e=e.replace(/[%$]$/,""),e=e.replace(/,/g,""),e=e.replace(/([0-9])([a-z\u00C0-\u00FF]{1,2})$/,"$1"),e),OW=/^([0-9,. ]+)\/([0-9,. ]+)$/,h3={"a few":3,"a couple":2,"a dozen":12,"two dozen":24,zero:0},zg=e=>Object.keys(e).reduce((t,n)=>(t+=e[n],t),0),l2=function(e){if(h3.hasOwnProperty(e)===!0)return h3[e];if(e==="a"||e==="an")return 1;const t=IW(e);e=t.str;let n=null,r={},i=0,a=!1;const o=e.split(/[ -]/);for(let s=0;s<o.length;s++){let l=o[s];if(l=TW(l),!l||l==="and")continue;if(l==="-"||l==="negative"){a=!0;continue}if(l.charAt(0)==="-"&&(a=!0,l=l.substring(1)),l==="point")return i+=zg(r),i+=BW(o.slice(s+1,o.length)),i*=t.amount,i;const u=l.match(OW);if(u){const c=parseFloat(u[1].replace(/[, ]/g,"")),d=parseFloat(u[2].replace(/[, ]/g,""));d&&(i+=c/d||0);continue}if(Cr.tens.hasOwnProperty(l)&&r.ones&&Object.keys(r).length===1&&(i=r.ones*100,r={}),PW(l,r)===!1)return null;if(/^[0-9.]+$/.test(l))r.ones=parseFloat(l);else if(Cr.ones.hasOwnProperty(l)===!0)r.ones=Cr.ones[l];else if(Cr.teens.hasOwnProperty(l)===!0)r.teens=Cr.teens[l];else if(Cr.tens.hasOwnProperty(l)===!0)r.tens=Cr.tens[l];else if(Cr.multiples.hasOwnProperty(l)===!0){let c=Cr.multiples[l];if(c===n)return null;if(c===100&&o[s+1]!==void 0){const d=o[s+1];Cr.multiples[d]&&(c*=Cr.multiples[d],s+=1)}n===null||c<n?(i+=(zg(r)||1)*c,n=c,r={}):(i+=zg(r),n=c,i=(i||1)*c,r={})}}return i+=zg(r),i*=t.amount,i*=a?-1:1,i===0&&Object.keys(r).length===0?null:i},p3=/s$/,Qh=function(e){let t=e.text("reduced");return l2(t)};let dm={half:2,halve:2,quarter:4};const jW=function(e){let n=e.text("reduced").match(/^([-+]?[0-9]+)\/([-+]?[0-9]+)(st|nd|rd|th)?s?$/);return n&&n[1]&&n[0]?{numerator:Number(n[1]),denominator:Number(n[2])}:null},DW=function(e){let t=e.match("[<num>#Value+] out of every? [<den>#Value+]");if(t.found!==!0)return null;let{num:n,den:r}=t.groups();return!n||!r||(n=Qh(n),r=Qh(r),!n||!r)?null:typeof n=="number"&&typeof r=="number"?{numerator:n,denominator:r}:null},LW=function(e){let t=e.match("[<num>(#Cardinal|a)+] [<den>#Fraction+]");if(t.found!==!0)return null;let{num:n,den:r}=t.groups();n.has("a")?n=1:n=Qh(n);let i=r.text("reduced");return p3.test(i)&&(i=i.replace(p3,""),r=r.replaceWith(i)),dm.hasOwnProperty(i)?r=dm[i]:r=Qh(r),typeof n=="number"&&typeof r=="number"?{numerator:n,denominator:r}:null},RW=function(e){let t=e.match("^#Ordinal$");return t.found!==!0?null:e.lookAhead("^of .")?{numerator:1,denominator:Qh(t)}:null},FW=function(e){let t=e.text("reduced");return dm.hasOwnProperty(t)?{numerator:1,denominator:dm[t]}:null},MW=e=>{let t=Math.round(e*1e3)/1e3;return t===0&&e!==0?e:t},is=function(e){e=e.clone();let t=FW(e)||jW(e)||DW(e)||LW(e)||RW(e)||null;return t!==null&&t.numerator&&t.denominator&&(t.decimal=t.numerator/t.denominator,t.decimal=MW(t.decimal)),t},Sb=function(e){if(e<1e6)return String(e);let t;return typeof e=="number"?t=e.toFixed(0):t=e,t.indexOf("e+")===-1?t:t.replace(".","").split("e+").reduce(function(n,r){return n+Array(r-n.length+2).join(0)})},Hg=[["ninety",90],["eighty",80],["seventy",70],["sixty",60],["fifty",50],["forty",40],["thirty",30],["twenty",20]],g3=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],UW=[[1e24,"septillion"],[1e20,"hundred sextillion"],[1e21,"sextillion"],[1e20,"hundred quintillion"],[1e18,"quintillion"],[1e17,"hundred quadrillion"],[1e15,"quadrillion"],[1e14,"hundred trillion"],[1e12,"trillion"],[1e11,"hundred billion"],[1e9,"billion"],[1e8,"hundred million"],[1e6,"million"],[1e5,"hundred thousand"],[1e3,"thousand"],[100,"hundred"],[1,"one"]],zW=function(e){let t=e,n=[];return UW.forEach(r=>{if(e>=r[0]){let i=Math.floor(t/r[0]);t-=i*r[0],i&&n.push({unit:r[1],count:i})}}),n},HW=function(e){let t=[];if(e>100)return t;for(let n=0;n<Hg.length;n++)e>=Hg[n][1]&&(e-=Hg[n][1],t.push(Hg[n][0]));return g3[e]&&t.push(g3[e]),t},GW=e=>{const t=["zero","one","two","three","four","five","six","seven","eight","nine"];let n=[],i=Sb(e).match(/\.([0-9]+)/);if(!i||!i[0])return n;n.push("point");let a=i[0].split("");for(let o=0;o<a.length;o++)n.push(t[a[o]]);return n},qh=function(e){let t=e.num;if(t===0||t==="0")return"zero";t>1e21&&(t=Sb(t));let n=[];t<0&&(n.push("minus"),t=Math.abs(t));let r=zW(t);for(let i=0;i<r.length;i++){let a=r[i].unit;a==="one"&&(a="",n.length>1&&n.push("and")),n=n.concat(HW(r[i].count)),n.push(a)}return n=n.concat(GW(t)),n=n.filter(i=>i),n.length===0&&(n[0]=""),n.join(" ")},QW=function(e){if(!e.numerator||!e.denominator)return"";let t=qh({num:e.numerator}),n=qh({num:e.denominator});return`${t} out of ${n}`},m3={one:"first",two:"second",three:"third",five:"fifth",eight:"eighth",nine:"ninth",twelve:"twelfth",twenty:"twentieth",thirty:"thirtieth",forty:"fortieth",fourty:"fourtieth",fifty:"fiftieth",sixty:"sixtieth",seventy:"seventieth",eighty:"eightieth",ninety:"ninetieth"},pP=e=>{let t=qh(e).split(" "),n=t[t.length-1];return m3.hasOwnProperty(n)?t[t.length-1]=m3[n]:t[t.length-1]=n.replace(/y$/,"i")+"th",t.join(" ")},qW=function(e){if(!e.numerator||!e.denominator)return"";let t=qh({num:e.numerator}),n=pP({num:e.denominator});return e.denominator===2&&(n="half"),t&&n?(e.numerator!==1&&(n+="s"),`${t} ${n}`):""},$W=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Fractions"}parse(r){return this.getNth(r).map(is)}get(r){return this.getNth(r).map(is)}json(r){return this.getNth(r).map(i=>{let a=i.toView().json(r)[0],o=is(i);return a.fraction=o,a},[])}toDecimal(r){return this.getNth(r).forEach(i=>{let{decimal:a}=is(i);i=i.replaceWith(String(a),!0),i.tag("NumericValue"),i.unTag("Fraction")}),this}toFraction(r){return this.getNth(r).forEach(i=>{let a=is(i);if(a&&typeof a.numerator=="number"&&typeof a.denominator=="number"){let o=`${a.numerator}/${a.denominator}`;this.replace(i,o)}}),this}toOrdinal(r){return this.getNth(r).forEach(i=>{let a=is(i),o=qW(a);i.after("^#Noun").found&&(o+=" of"),i.replaceWith(o)}),this}toCardinal(r){return this.getNth(r).forEach(i=>{let a=is(i),o=QW(a);i.replaceWith(o)}),this}toPercentage(r){return this.getNth(r).forEach(i=>{let{decimal:a}=is(i),o=a*100;o=Math.round(o*100)/100,i.replaceWith(`${o}%`)}),this}}e.prototype.fractions=function(n){let r=NW(this);return r=r.getNth(n),new t(this.document,r.pointer)}},VW="one|two|three|four|five|six|seven|eight|nine",Vs="twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety|fourty",WW="eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen|nineteen",ty=function(e){let t=e.match("#Value+");if(t.has("#NumericValue #NumericValue")&&(t.has("#Value @hasComma #Value")?t.splitAfter("@hasComma"):t.has("#NumericValue #Fraction")?t.splitAfter("#NumericValue #Fraction"):t=t.splitAfter("#NumericValue")),t.has("#Value #Value #Value")&&!t.has("#Multiple")&&t.has("("+Vs+") #Cardinal #Cardinal")&&(t=t.splitAfter("("+Vs+") #Cardinal")),t.has("#Value #Value")){t.has("#NumericValue #NumericValue")&&(t=t.splitOn("#Year")),t.has("("+Vs+") ("+WW+")")&&(t=t.splitAfter("("+Vs+")"));let n=t.match("#Cardinal #Cardinal");if(n.found&&!t.has("(point|decimal|#Fraction)")&&!n.has("#Cardinal (#Multiple|point|decimal)")){let r=t.has(`(${VW}) (${Vs})`),i=n.has("("+Vs+") #Cardinal"),a=n.has("#Multiple #Value");!r&&!i&&!a&&n.terms().forEach(o=>{t=t.splitOn(o)})}t.match("#Ordinal #Ordinal").match("#TextValue").found&&!t.has("#Multiple")&&(t.has("("+Vs+") #Ordinal")||(t=t.splitAfter("#Ordinal"))),t=t.splitBefore("#Ordinal [#Cardinal]",0),t.has("#TextValue #NumericValue")&&!t.has("("+Vs+"|#Multiple)")&&(t=t.splitBefore("#TextValue #NumericValue"))}return t=t.splitAfter("#NumberRange"),t=t.splitBefore("#Year"),t},KW=function(e,t){e=e.replace(/,/g,"");let n=e.split(/([0-9.,]*)/),[r,i]=n,a=n.slice(2).join("");return i!==""&&t.length<2?(i=Number(i||e),typeof i!="number"&&(i=null),a=a||"",(a==="st"||a==="nd"||a==="rd"||a==="th")&&(a=""),{prefix:r||"",num:i,suffix:a}):null},Zr=function(e){if(typeof e=="string")return{num:l2(e)};let t=e.text("reduced"),n=e.growRight("#Unit").match("#Unit$").text("machine"),r=/[0-9],[0-9]/.test(e.text("text"));if(e.terms().length===1&&!e.has("#Multiple")){let s=KW(t,e);if(s!==null)return s.hasComma=r,s.unit=n,s}let i=e.match("#Fraction{2,}$");i=i.found===!1?e.match("^#Fraction$"):i;let a=null;i.found&&(i.has("#Value and #Value #Fraction")&&(i=i.match("and #Value #Fraction")),a=is(i),e=e.not(i),e=e.not("and$"),t=e.text("reduced"));let o=0;return t&&(o=l2(t)||0),a&&a.decimal&&(o+=a.decimal),{hasComma:r,prefix:"",num:o,suffix:"",isOrdinal:e.has("#Ordinal"),isText:e.has("#TextValue"),isFraction:e.has("#Fraction"),isMoney:e.has("#Money"),unit:n}},YW=function(e){let t=e.num;if(!t&&t!==0)return null;let n=t%100;if(n>10&&n<20)return String(t)+"th";const r={0:"th",1:"st",2:"nd",3:"rd"};let i=Sb(t),a=i.slice(i.length-1,i.length);return r[a]?i+=r[a]:i+="th",i},v3={"":"cents",$:"dollars","":"pounds","":"yen","":"euros","":"coln","":"baht","":"kip","":"won","":"rupees","":"ruble","":"liras"},y3={"%":"percent","":"degrees"},A3=function(e){let t={suffix:"",prefix:e.prefix};return v3.hasOwnProperty(e.prefix)&&(t.suffix+=" "+v3[e.prefix],t.prefix=""),y3.hasOwnProperty(e.suffix)&&(t.suffix+=" "+y3[e.suffix]),t.suffix&&e.num===1&&(t.suffix=t.suffix.replace(/s$/,"")),!t.suffix&&e.suffix&&(t.suffix+=" "+e.suffix),t},Yl=function(e,t){if(t==="TextOrdinal"){let{prefix:r,suffix:i}=A3(e);return r+pP(e)+i}if(t==="Ordinal")return e.prefix+YW(e)+e.suffix;if(t==="TextCardinal"){let{prefix:r,suffix:i}=A3(e);return r+qh(e)+i}let n=e.num;return e.hasComma&&(n=n.toLocaleString()),e.prefix+String(n)+e.suffix},JW=e=>Object.prototype.toString.call(e)==="[object Array]",XW=function(e){if(typeof e=="string"||typeof e=="number"){let t={};return t[e]=!0,t}return JW(e)?e.reduce((t,n)=>(t[n]=!0,t),{}):e||{}},ZW=function(e,t={}){return t=XW(t),e.filter(n=>{let{unit:r}=Zr(n);return!!(r&&t[r]===!0)})},eK=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Numbers"}parse(r){return this.getNth(r).map(Zr)}get(r){return this.getNth(r).map(Zr).map(i=>i.num)}json(r){let i=typeof r=="object"?r:{};return this.getNth(r).map(a=>{let o=a.toView().json(i)[0],s=Zr(a);return o.number={prefix:s.prefix,num:s.num,suffix:s.suffix,hasComma:s.hasComma,unit:s.unit},o},[])}units(){return this.growRight("#Unit").match("#Unit$")}isUnit(r){return ZW(this,r)}isOrdinal(){return this.if("#Ordinal")}isCardinal(){return this.if("#Cardinal")}toNumber(){let r=this.map(i=>{if(!this.has("#TextValue"))return i;let a=Zr(i);if(a.num===null)return i;let o=i.has("#Ordinal")?"Ordinal":"Cardinal",s=Yl(a,o);return i.replaceWith(s,{tags:!0}),i.tag("NumericValue")});return new t(r.document,r.pointer)}toLocaleString(){return this.forEach(i=>{let a=Zr(i);if(a.num===null)return;let o=a.num.toLocaleString();if(i.has("#Ordinal")){let l=Yl(a,"Ordinal").match(/[a-z]+$/);l&&(o+=l[0]||"")}i.replaceWith(o,{tags:!0})}),this}toText(){let i=this.map(a=>{if(a.has("#TextValue"))return a;let o=Zr(a);if(o.num===null)return a;let s=a.has("#Ordinal")?"TextOrdinal":"TextCardinal",l=Yl(o,s);return a.replaceWith(l,{tags:!0}),a.tag("TextValue"),a});return new t(i.document,i.pointer)}toCardinal(){let i=this.map(a=>{if(!a.has("#Ordinal"))return a;let o=Zr(a);if(o.num===null)return a;let s=a.has("#TextValue")?"TextCardinal":"Cardinal",l=Yl(o,s);return a.replaceWith(l,{tags:!0}),a.tag("Cardinal"),a});return new t(i.document,i.pointer)}toOrdinal(){let i=this.map(a=>{if(a.has("#Ordinal"))return a;let o=Zr(a);if(o.num===null)return a;let s=a.has("#TextValue")?"TextOrdinal":"Ordinal",l=Yl(o,s);return a.replaceWith(l,{tags:!0}),a.tag("Ordinal"),a});return new t(i.document,i.pointer)}isEqual(r){return this.filter(i=>Zr(i).num===r)}greaterThan(r){return this.filter(i=>Zr(i).num>r)}lessThan(r){return this.filter(i=>Zr(i).num<r)}between(r,i){return this.filter(a=>{let o=Zr(a).num;return o>r&&o<i})}set(r){if(r===void 0)return this;typeof r=="string"&&(r=Zr(r).num);let a=this.map(o=>{let s=Zr(o);if(s.num=r,s.num===null)return o;let l=o.has("#Ordinal")?"Ordinal":"Cardinal";o.has("#TextValue")&&(l=o.has("#Ordinal")?"TextOrdinal":"TextCardinal");let u=Yl(s,l);return s.hasComma&&l==="Cardinal"&&(u=Number(u).toLocaleString()),o=o.not("#Currency"),o.replaceWith(u,{tags:!0}),o});return new t(a.document,a.pointer)}add(r){if(!r)return this;typeof r=="string"&&(r=Zr(r).num);let a=this.map(o=>{let s=Zr(o);if(s.num===null)return o;s.num+=r;let l=o.has("#Ordinal")?"Ordinal":"Cardinal";s.isText&&(l=o.has("#Ordinal")?"TextOrdinal":"TextCardinal");let u=Yl(s,l);return o.replaceWith(u,{tags:!0}),o});return new t(a.document,a.pointer)}subtract(r,i){return this.add(r*-1,i)}increment(r){return this.add(1,r)}decrement(r){return this.add(-1,r)}update(r){let i=new t(this.document,r);return i._cache=this._cache,i}}t.prototype.toNice=t.prototype.toLocaleString,t.prototype.isBetween=t.prototype.between,t.prototype.minus=t.prototype.subtract,t.prototype.plus=t.prototype.add,t.prototype.equals=t.prototype.isEqual,e.prototype.numbers=function(n){let r=ty(this);return r=r.getNth(n),new t(this.document,r.pointer)},e.prototype.percentages=function(n){let r=ty(this);return r=r.filter(i=>i.has("#Percent")||i.after("^percent")),r=r.getNth(n),new t(this.document,r.pointer)},e.prototype.money=function(n){let r=ty(this);return r=r.filter(i=>i.has("#Money")||i.after("^#Currency")),r=r.getNth(n),new t(this.document,r.pointer)},e.prototype.values=e.prototype.numbers},tK=function(e){$W(e),eK(e)},nK={api:tK},rK={people:!0,emails:!0,phoneNumbers:!0,places:!0},iK=function(e={}){return e=Object.assign({},rK,e),e.people!==!1&&this.people().replaceWith(""),e.emails!==!1&&this.emails().replaceWith(""),e.places!==!1&&this.places().replaceWith(""),e.phoneNumbers!==!1&&this.phoneNumbers().replaceWith(""),this},aK={api:function(e){e.prototype.redact=iK}},oK=function(e){let t=e.clauses();return/\.\.$/.test(e.out("text"))||e.has("^#QuestionWord")&&e.has("@hasComma")?!1:!!(e.has("or not$")||e.has("^#QuestionWord")||e.has("^(do|does|did|is|was|can|could|will|would|may) #Noun")||e.has("^(have|must) you")||t.has("(do|does|is|was) #Noun+ #Adverb? (#Adjective|#Infinitive)$"))},sK=function(e){const t=/\?/,{document:n}=e;return e.filter(r=>{let i=r.docs[0]||[],a=i[i.length-1];return!a||n[a.index[0]].length!==i.length?!1:t.test(a.post)?!0:oK(r)})},lK="(after|although|as|because|before|if|since|than|that|though|when|whenever|where|whereas|wherever|whether|while|why|unless|until|once)",uK="(that|which|whichever|who|whoever|whom|whose|whomever)",cK=function(e){let t=e;return t.length===1||(t=t.if("#Verb"),t.length===1)||(t=t.ifNo(lK),t=t.ifNo("^even (if|though)"),t=t.ifNo("^so that"),t=t.ifNo("^rather than"),t=t.ifNo("^provided that"),t.length===1)||(t=t.ifNo(uK),t.length===1)||(t=t.ifNo("(^despite|^during|^before|^through|^throughout)"),t.length===1)||(t=t.ifNo("^#Gerund"),t.length===1)?t:(t.length===0&&(t=e),t.eq(0))},dK=function(e){let t=null;return e.has("#PastTense")?t="PastTense":e.has("#FutureTense")?t="FutureTense":e.has("#PresentTense")&&(t="PresentTense"),{tense:t}},Jl=function(e){let t=e.clauses(),r=cK(t).chunks(),i=e.none(),a=e.none(),o=e.none();return r.forEach((s,l)=>{if(l===0&&!s.has("<Verb>")){i=s;return}if(!a.found&&s.has("<Verb>")){a=s;return}a.found&&(o=o.concat(s))}),a.found&&!i.found&&(i=a.before("<Noun>+").first()),{subj:i,verb:a,pred:o,grammar:dK(a)}},fK=function(e){let t=e.verbs(),n=t.eq(0);if(n.has("#PastTense"))return e;if(n.toPastTense(),t.length>1){t=t.slice(1),t=t.filter(i=>!i.lookBehind("to$").found),t=t.if("#PresentTense"),t=t.notIf("#Gerund");let r=e.match("to #Verb+ #Conjunction #Verb").terms();t=t.not(r),t.found&&t.verbs().toPastTense()}return e},hK=function(e){let t=e.verbs();return t.eq(0).toPresentTense(),t.length>1&&(t=t.slice(1),t=t.filter(r=>!r.lookBehind("to$").found),t=t.notIf("#Gerund"),t.found&&t.verbs().toPresentTense()),e},pK=function(e){let t=e.verbs();if(t.eq(0).toFutureTense(),e=e.fullSentence(),t=e.verbs(),t.length>1){t=t.slice(1);let r=t.filter(i=>i.lookBehind("to$").found?!1:i.has("#Copula #Gerund")?!0:i.has("#Gerund")?!1:i.has("#Copula")?!0:!(i.has("#PresentTense")&&!i.has("#Infinitive")&&i.lookBefore("(he|she|it|that|which)$").found));r.found&&r.forEach(i=>{if(i.has("#Copula")){i.match("was").replaceWith("is"),i.match("is").replaceWith("will be");return}i.toInfinitive()})}return e},gK=function(e){return e.verbs().first().toNegative().compute("chunks"),e},mK=function(e){return e.verbs().first().toPositive().compute("chunks"),e},vK=function(e){return e.verbs().toInfinitive(),e},yK=function(e){class t extends e{constructor(i,a,o){super(i,a,o),this.viewType="Sentences"}json(i={}){return this.map(a=>{let o=a.toView().json(i)[0]||{},{subj:s,verb:l,pred:u,grammar:c}=Jl(a);return o.sentence={subject:s.text("normal"),verb:l.text("normal"),predicate:u.text("normal"),grammar:c},o},[])}toPastTense(i){return this.getNth(i).map(a=>(Jl(a),fK(a)))}toPresentTense(i){return this.getNth(i).map(a=>(Jl(a),hK(a)))}toFutureTense(i){return this.getNth(i).map(a=>(Jl(a),a=pK(a),a))}toInfinitive(i){return this.getNth(i).map(a=>(Jl(a),vK(a)))}toNegative(i){return this.getNth(i).map(a=>(Jl(a),gK(a)))}toPositive(i){return this.getNth(i).map(a=>(Jl(a),mK(a)))}isQuestion(i){return this.questions(i)}isExclamation(i){return this.filter(o=>o.lastTerm().has("@hasExclamation")).getNth(i)}isStatement(i){return this.filter(o=>!o.isExclamation().found&&!o.isQuestion().found).getNth(i)}update(i){let a=new t(this.document,i);return a._cache=this._cache,a}}t.prototype.toPresent=t.prototype.toPresentTense,t.prototype.toPast=t.prototype.toPastTense,t.prototype.toFuture=t.prototype.toFutureTense;const n={sentences:function(r){let i=this.map(a=>a.fullSentence());return i=i.getNth(r),new t(this.document,i.pointer)},questions:function(r){return sK(this).getNth(r)}};Object.assign(e.prototype,n)},AK={api:yK},wK=function(e){let t=e.splitAfter("@hasComma");t=t.match("#Honorific+? #Person+");let n=t.match("#Possessive").notIf("(his|her)");return t=t.splitAfter(n),t},w3=function(e){let t={};t.firstName=e.match("#FirstName+"),t.lastName=e.match("#LastName+"),t.honorific=e.match("#Honorific+");let n=t.lastName,r=t.firstName;return(!r.found||!n.found)&&!r.found&&!n.found&&e.has("^#Honorific .$")&&(t.lastName=e.match(".$")),t},ja="male",Si="female",b3={mr:ja,mrs:Si,miss:Si,madam:Si,king:ja,queen:Si,duke:ja,duchess:Si,baron:ja,baroness:Si,count:ja,countess:Si,prince:ja,princess:Si,sire:ja,dame:Si,lady:Si,ayatullah:ja,congressman:ja,congresswoman:Si,"first lady":Si,mx:null},bK=function(e,t){let{firstName:n,honorific:r}=e;if(n.has("#FemaleName"))return Si;if(n.has("#MaleName"))return ja;if(r.found){let a=r.text("normal");if(a=a.replace(/\./g,""),b3.hasOwnProperty(a))return b3[a];if(/^her /.test(a))return Si;if(/^his /.test(a))return ja}let i=t.after();if(!i.has("#Person")&&i.has("#Pronoun")){let a=i.match("#Pronoun");if(a.has("(they|their)"))return null;let o=a.has("(he|his)"),s=a.has("(she|her|hers)");if(o&&!s)return ja;if(s&&!o)return Si}return null},xK=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="People"}parse(r){return this.getNth(r).map(w3)}json(r){let i=typeof r=="object"?r:{};return this.getNth(r).map(a=>{let o=a.toView().json(i)[0],s=w3(a);return o.person={firstName:s.firstName.text("normal"),lastName:s.lastName.text("normal"),honorific:s.honorific.text("normal"),presumed_gender:bK(s,a)},o},[])}presumedMale(){return this.filter(r=>r.has("(#MaleName|mr|mister|sr|jr|king|pope|prince|sir)"))}presumedFemale(){return this.filter(r=>r.has("(#FemaleName|mrs|miss|queen|princess|madam)"))}update(r){let i=new t(this.document,r);return i._cache=this._cache,i}}e.prototype.people=function(n){let r=wK(this);return r=r.getNth(n),new t(this.document,r.pointer)}},EK=function(e){let t=e.match("(#Place|#Address)+"),n=t.match("@hasComma");return n=n.filter(r=>r.has("(asia|africa|europe|america)$")?!0:!(r.has("(#City|#Region|#ProperNoun)$")&&r.after("^(#Country|#Region)").found)),t=t.splitAfter(n),t},kK=function(e){e.prototype.places=function(t){let n=EK(this);return n=n.getNth(t),new e(this.document,n.pointer)}},_K=function(e){e.prototype.organizations=function(t){return this.match("#Organization+").getNth(t)}},CK=function(e){let t=this.clauses(),n=t.people();return n=n.concat(t.places()),n=n.concat(t.organizations()),n=n.not("(someone|man|woman|mother|brother|sister|father)"),n=n.sort("seq"),n=n.getNth(e),n},SK=function(e){e.prototype.topics=CK},NK=function(e){xK(e),kK(e),_K(e),SK(e)},IK={api:NK},PK=function(e){let t=e.match("<Verb>");return t=t.not("#Conjunction"),t=t.not("#Preposition"),t=t.splitAfter("@hasComma"),t=t.splitAfter("[(do|did|am|was|is|will)] (is|was)",0),t=t.splitBefore("(#Verb && !#Copula) [being] #Verb",0),t=t.splitBefore("#Verb [to be] #Verb",0),t=t.splitAfter("[help] #PresentTense",0),t=t.splitBefore("(#PresentTense|#PastTense) [#Copula]$",0),t=t.splitBefore("(#PresentTense|#PastTense) [will be]$",0),t=t.splitBefore("(#PresentTense|#PastTense) [(had|has)]",0),t=t.not("#Reflexive$"),t=t.not("#Adjective"),t=t.splitAfter("[#PastTense] #PastTense",0),t=t.splitAfter("[#PastTense] #Auxiliary+ #PastTense",0),t=t.splitAfter("#Copula [#Gerund] #PastTense",0),t=t.if("#Verb"),t.has("(#Verb && !#Auxiliary) #Adverb+? #Copula")&&(t=t.splitBefore("#Copula")),t},BK=function(e){let t=e;return e.wordCount()>1&&(t=e.not("(#Negative|#Auxiliary|#Modal|#Adverb|#Prefix)")),t.length>1&&!t.has("#Phrasal #Particle")&&(t=t.last()),t=t.not("(want|wants|wanted) to"),t.found||(t=e.not("#Negative")),t},TK=function(e,t){let n={pre:e.none(),post:e.none()};if(!e.has("#Adverb"))return n;let r=e.splitOn(t);return r.length===3?{pre:r.eq(0).adverbs(),post:r.eq(2).adverbs()}:r.eq(0).isDoc(t)?(n.post=r.eq(1).adverbs(),n):(n.pre=r.eq(0).adverbs(),n)},OK=function(e,t){let n=e.splitBefore(t);if(n.length<=1)return e.none();let r=n.eq(0);return r=r.not("(#Adverb|#Negative|#Prefix)"),r},jK=function(e){return e.match("#Negative")},DK=function(e){if(!e.has("(#Particle|#PhrasalVerb)"))return{verb:e.none(),particle:e.none()};let t=e.match("#Particle$");return{verb:e.not(t),particle:t}},no=function(e){let t=e.clone();t.contractions().expand();const n=BK(t);return{root:n,prefix:t.match("#Prefix"),adverbs:TK(t,n),auxiliary:OK(t,n),negative:jK(t),phrasal:DK(n)}},Xa={tense:"PresentTense"},Gg={conditional:!0},ts={tense:"FutureTense"},kc={progressive:!0},Gr={tense:"PastTense"},_c={complete:!0,progressive:!1},Ws={passive:!0},LK={plural:!0},RK={plural:!1},FK=function(e){let t={};return e.forEach(n=>{Object.assign(t,n)}),t},x3={imperative:[["#Imperative",[]]],"want-infinitive":[["^(want|wants|wanted) to #Infinitive$",[Xa]],["^wanted to #Infinitive$",[Gr]],["^will want to #Infinitive$",[ts]]],"gerund-phrase":[["^#PastTense #Gerund$",[Gr]],["^#PresentTense #Gerund$",[Xa]],["^#Infinitive #Gerund$",[Xa]],["^will #Infinitive #Gerund$",[ts]],["^have #PastTense #Gerund$",[Gr]],["^will have #PastTense #Gerund$",[Gr]]],"simple-present":[["^#PresentTense$",[Xa]],["^#Infinitive$",[Xa]]],"simple-past":[["^#PastTense$",[Gr]]],"simple-future":[["^will #Adverb? #Infinitive",[ts]]],"present-progressive":[["^(is|are|am) #Gerund$",[Xa,kc]]],"past-progressive":[["^(was|were) #Gerund$",[Gr,kc]]],"future-progressive":[["^will be #Gerund$",[ts,kc]]],"present-perfect":[["^(has|have) #PastTense$",[Gr,_c]]],"past-perfect":[["^had #PastTense$",[Gr,_c]],["^had #PastTense to #Infinitive",[Gr,_c]]],"future-perfect":[["^will have #PastTense$",[ts,_c]]],"present-perfect-progressive":[["^(has|have) been #Gerund$",[Gr,kc]]],"past-perfect-progressive":[["^had been #Gerund$",[Gr,kc]]],"future-perfect-progressive":[["^will have been #Gerund$",[ts,kc]]],"passive-past":[["(got|were|was) #Passive",[Gr,Ws]],["^(was|were) being #Passive",[Gr,Ws]],["^(had|have) been #Passive",[Gr,Ws]]],"passive-present":[["^(is|are|am) #Passive",[Xa,Ws]],["^(is|are|am) being #Passive",[Xa,Ws]],["^has been #Passive",[Xa,Ws]]],"passive-future":[["will have been #Passive",[ts,Ws,Gg]],["will be being? #Passive",[ts,Ws,Gg]]],"present-conditional":[["would be #PastTense",[Xa,Gg]]],"past-conditional":[["would have been #PastTense",[Gr,Gg]]],"auxiliary-future":[["(is|are|am|was) going to (#Infinitive|#PresentTense)",[ts]]],"auxiliary-past":[["^did #Infinitive$",[Gr,RK]],["^used to #Infinitive$",[Gr,_c]]],"auxiliary-present":[["^(does|do) #Infinitive$",[Xa,_c,LK]]],"modal-past":[["^(could|must|should|shall) have #PastTense$",[Gr]]],"modal-infinitive":[["^#Modal #Infinitive$",[]]],infinitive:[["^#Infinitive$",[]]]};let u2=[];Object.keys(x3).map(e=>{x3[e].forEach(t=>{u2.push({name:e,match:t[0],data:FK(t[1])})})});const MK=function(e,t){return e=e.clone(),t.adverbs.post&&t.adverbs.post.found&&e.remove(t.adverbs.post),t.adverbs.pre&&t.adverbs.pre.found&&e.remove(t.adverbs.pre),e.has("#Negative")&&(e=e.remove("#Negative")),e.has("#Prefix")&&(e=e.remove("#Prefix")),t.root.has("#PhrasalVerb #Particle")&&e.remove("#Particle$"),e=e.not("#Adverb"),e},UK=function(e){return!!(e.has("#Infinitive")&&e.growLeft("to").has("^to #Infinitive"))},as=function(e,t){let n={};e=MK(e,t);for(let r=0;r<u2.length;r+=1){let i=u2[r];if(e.has(i.match)===!0){n.form=i.name,Object.assign(n,i.data);break}}return n.form||e.has("^#Verb$")&&(n.form="infinitive"),n.tense||(n.tense=t.root.has("#PastTense")?"PastTense":"PresentTense"),n.copula=t.root.has("#Copula"),n.isInfinitive=UK(e),n},E3=function(e){return e.length<=1?!1:(e.parse()[0]||{}).isSubordinate},zK=function(e){let t=e.clauses();return t=t.filter((n,r)=>!(n.has("^(if|unless|while|but|for|per|at|by|that|which|who|from)")||r>0&&n.has("^#Verb . #Noun+$")||r>0&&n.has("^#Adverb"))),t.length===0?e:t},HK=function(e){let t=e.before();t=zK(t);let n=t.nouns(),r=n.last(),i=r.match("(i|he|she|we|you|they)");if(i.found)return i.nouns();let a=n.if("^(that|this|those)");return a.found||n.found===!1&&(a=t.match("^(that|this|those)"),a.found)?a:(r=n.last(),E3(r)&&(n.remove(r),r=n.last()),E3(r)&&(n.remove(r),r=n.last()),r)},GK=function(e,t){return t.has("(are|were|does)")||e.has("(those|they|we)")?!0:e.found&&e.isPlural?e.isPlural().found:!1},jo=function(e){let t=HK(e);return{subject:t,plural:GK(t,e)}},Mn=e=>e,uh=(e,t)=>{let n=jo(e),r=n.subject;return r.has("i")||r.has("we")?!0:n.plural},QK=(e,t)=>{let{subject:n,plural:r}=jo(e);return r||n.has("we")?"were":"was"},ch=function(e,t){if(e.has("were"))return"are";let{subject:n,plural:r}=jo(e);return n.has("i")?"am":n.has("we")||r?"are":"is"},Nb=function(e,t){let n=jo(e),r=n.subject;return r.has("i")||r.has("we")||n.plural?"do":"does"},Aa=function(e){if(e.has("#Infinitive"))return"Infinitive";if(e.has("#Participle"))return"Participle";if(e.has("#PastTense"))return"PastTense";if(e.has("#Gerund"))return"Gerund";if(e.has("#PresentTense"))return"PresentTense"},c2=function(e,t){const{toInfinitive:n}=e.methods.two.transform.verb;let r=t.root.text({keepPunct:!1});return r=n(r,e.model,Aa(e)),r&&e.replace(t.root,r),e},k3=e=>e.has("will not")?e.replace("will not","have not"):e.remove("will"),_3=function(e){if(!e||!e.isView)return[];const t={normal:!0,terms:!1,text:!1};return e.json(t).map(n=>n.normal)},C3=function(e){return!e||!e.isView?"":e.text("normal")},qK=function(e){const{toInfinitive:t}=e.methods.two.transform.verb;let n=e.text("normal");return t(n,e.model,Aa(e))},$K=function(e){let t=no(e);e=e.clone().toView();const n=as(e,t);return{root:t.root.text(),preAdverbs:_3(t.adverbs.pre),postAdverbs:_3(t.adverbs.post),auxiliary:C3(t.auxiliary),negative:t.negative.found,prefix:C3(t.prefix),infinitive:qK(t.root),grammar:n}},VK={tags:!0},WK=function(e,t){const{toInfinitive:n}=e.methods.two.transform.verb,{root:r,auxiliary:i}=t;let a=i.terms().harden(),o=r.text("normal");if(o=n(o,e.model,Aa(r)),o&&e.replace(r,o,VK).tag("Verb").firstTerm().tag("Infinitive"),a.found&&e.remove(a),t.negative.found){e.has("not")||e.prepend("not");let s=Nb(e);e.prepend(s)}return e.fullSentence().compute(["freeze","lexicon","preTagger","postTagger","unfreeze","chunks"]),e},Oa={tags:!0},us={noAux:(e,t)=>(t.auxiliary.found&&(e=e.remove(t.auxiliary)),e),simple:(e,t)=>{const{conjugate:n,toInfinitive:r}=e.methods.two.transform.verb,i=t.root;if(i.has("#Modal"))return e;let a=i.text({keepPunct:!1});return a=r(a,e.model,Aa(i)),a=n(a,e.model).PastTense,a=a==="been"?"was":a,a==="was"&&(a=QK(e)),a&&e.replace(i,a,Oa),e},both:function(e,t){return t.negative.found?(e.replace("will","did"),e):(e=us.simple(e,t),e=us.noAux(e,t),e)},hasHad:e=>(e.replace("has","had",Oa),e),hasParticiple:(e,t)=>{const{conjugate:n,toInfinitive:r}=e.methods.two.transform.verb,i=t.root;let a=i.text("normal");return a=r(a,e.model,Aa(i)),n(a,e.model).Participle}},S3={infinitive:us.simple,"simple-present":us.simple,"simple-past":Mn,"simple-future":us.both,"present-progressive":e=>(e.replace("are","were",Oa),e.replace("(is|are|am)","was",Oa),e),"past-progressive":Mn,"future-progressive":(e,t)=>(e.match(t.root).insertBefore("was"),e.remove("(will|be)"),e),"present-perfect":us.hasHad,"past-perfect":Mn,"future-perfect":(e,t)=>(e.match(t.root).insertBefore("had"),e.has("will")&&(e=k3(e)),e.remove("have"),e),"present-perfect-progressive":us.hasHad,"past-perfect-progressive":Mn,"future-perfect-progressive":e=>(e.remove("will"),e.replace("have","had",Oa),e),"passive-past":e=>(e.replace("have","had",Oa),e),"passive-present":e=>(e.replace("(is|are)","was",Oa),e),"passive-future":(e,t)=>(t.auxiliary.has("will be")&&(e.match(t.root).insertBefore("had been"),e.remove("(will|be)")),t.auxiliary.has("will have been")&&(e.replace("have","had",Oa),e.remove("will")),e),"present-conditional":e=>(e.replace("be","have been"),e),"past-conditional":Mn,"auxiliary-future":e=>(e.replace("(is|are|am)","was",Oa),e),"auxiliary-past":Mn,"auxiliary-present":e=>(e.replace("(do|does)","did",Oa),e),"modal-infinitive":(e,t)=>(e.has("can")?e.replace("can","could",Oa):(us.simple(e,t),e.match("#Modal").insertAfter("have").tag("Auxiliary")),e),"modal-past":Mn,"want-infinitive":e=>(e.replace("(want|wants)","wanted",Oa),e.remove("will"),e),"gerund-phrase":(e,t)=>(t.root=t.root.not("#Gerund$"),us.simple(e,t),k3(e),e)},KK=function(e,t,n){return S3.hasOwnProperty(n)&&(e=S3[n](e,t),e.fullSentence().compute(["tagger","chunks"])),e},d2=function(e,t){let n=jo(e),r=n.subject;return r.has("(i|we|you)")?"have":n.plural===!1||r.has("he")||r.has("she")||r.has("#Person")?"has":"have"},f2=(e,t)=>{const{conjugate:n,toInfinitive:r}=e.methods.two.transform.verb,{root:i,auxiliary:a}=t;if(i.has("#Modal"))return e;let o=i.text({keepPunct:!1});o=r(o,e.model,Aa(i));let s=n(o,e.model);if(o=s.Participle||s.PastTense,o){e=e.replace(i,o);let l=d2(e);e.prepend(l).match(l).tag("Auxiliary"),e.remove(a)}return e},N3={infinitive:f2,"simple-present":f2,"simple-future":(e,t)=>e.replace("will",d2(e)),"present-perfect":Mn,"past-perfect":Mn,"future-perfect":(e,t)=>e.replace("will have",d2(e)),"present-perfect-progressive":Mn,"past-perfect-progressive":Mn,"future-perfect-progressive":Mn},YK=function(e,t,n){return N3.hasOwnProperty(n)?(e=N3[n](e,t),e.fullSentence().compute(["tagger","chunks"]),e):(e=f2(e,t),e.fullSentence().compute(["tagger","chunks"]),e)},ds={tags:!0},Cc=(e,t)=>{const{conjugate:n,toInfinitive:r}=e.methods.two.transform.verb,i=t.root;let a=i.text("normal");return a=r(a,e.model,Aa(i)),uh(e)===!1&&(a=n(a,e.model).PresentTense),i.has("#Copula")&&(a=ch(e)),a&&(e=e.replace(i,a,ds),e.not("#Particle").tag("PresentTense")),e},I3=(e,t)=>{const{conjugate:n,toInfinitive:r}=e.methods.two.transform.verb,i=t.root;let a=i.text("normal");return a=r(a,e.model,Aa(i)),uh(e)===!1&&(a=n(a,e.model).Gerund),a&&(e=e.replace(i,a,ds),e.not("#Particle").tag("Gerund")),e},JK=(e,t)=>{const{toInfinitive:n}=e.methods.two.transform.verb,r=t.root;let i=t.root.text("normal");return i=n(i,e.model,Aa(r)),i&&(e=e.replace(t.root,i,ds)),e},P3={infinitive:Cc,"simple-present":(e,t)=>{const{conjugate:n}=e.methods.two.transform.verb;let{root:r}=t;if(r.has("#Infinitive")){let a=jo(e).subject;if(uh(e)||a.has("i"))return e;let o=r.text("normal"),s=n(o,e.model).PresentTense;o!==s&&e.replace(r,s,ds)}else return Cc(e,t);return e},"simple-past":Cc,"simple-future":(e,t)=>{const{root:n,auxiliary:r}=t;if(r.has("will")&&n.has("be")){let i=ch(e);e.replace(n,i),e=e.remove("will"),e.replace("not "+i,i+" not")}else Cc(e,t),e=e.remove("will");return e},"present-progressive":Mn,"past-progressive":(e,t)=>{let n=ch(e);return e.replace("(were|was)",n,ds)},"future-progressive":e=>(e.match("will").insertBefore("is"),e.remove("be"),e.remove("will")),"present-perfect":(e,t)=>(Cc(e,t),e=e.remove("(have|had|has)"),e),"past-perfect":(e,t)=>{let r=jo(e).subject;return uh(e)||r.has("i")?(e=c2(e,t),e.remove("had"),e):(e.replace("had","has",ds),e)},"future-perfect":e=>(e.match("will").insertBefore("has"),e.remove("have").remove("will")),"present-perfect-progressive":Mn,"past-perfect-progressive":e=>e.replace("had","has",ds),"future-perfect-progressive":e=>(e.match("will").insertBefore("has"),e.remove("have").remove("will")),"passive-past":(e,t)=>{let n=ch(e);return e.has("(had|have|has)")&&e.has("been")?(e.replace("(had|have|has)",n,ds),e.replace("been","being"),e):e.replace("(got|was|were)",n)},"passive-present":Mn,"passive-future":e=>(e.replace("will","is"),e.replace("be","being")),"present-conditional":Mn,"past-conditional":e=>(e.replace("been","be"),e.remove("have")),"auxiliary-future":(e,t)=>(I3(e,t),e.remove("(going|to)"),e),"auxiliary-past":(e,t)=>{if(t.auxiliary.has("did")){let n=Nb(e);return e.replace(t.auxiliary,n),e}return I3(e,t),e.replace(t.auxiliary,"is"),e},"auxiliary-present":Mn,"modal-infinitive":Mn,"modal-past":(e,t)=>(JK(e,t),e.remove("have")),"gerund-phrase":(e,t)=>(t.root=t.root.not("#Gerund$"),Cc(e,t),e.remove("(will|have)")),"want-infinitive":(e,t)=>{let n="wants";return uh(e)&&(n="want"),e.replace("(want|wanted|wants)",n,ds),e.remove("will"),e}},XK=function(e,t,n){return P3.hasOwnProperty(n)&&(e=P3[n](e,t),e.fullSentence().compute(["tagger","chunks"])),e},gP={tags:!0},Qg=(e,t)=>{const{toInfinitive:n}=e.methods.two.transform.verb,{root:r,auxiliary:i}=t;if(r.has("#Modal"))return e;let a=r.text("normal");return a=n(a,e.model,Aa(r)),a&&(e=e.replace(r,a,gP),e.not("#Particle").tag("Verb")),e.prepend("will").match("will").tag("Auxiliary"),e.remove(i),e},B3=(e,t)=>{const{conjugate:n,toInfinitive:r}=e.methods.two.transform.verb,{root:i,auxiliary:a}=t;let o=i.text("normal");return o=r(o,e.model,Aa(i)),o&&(o=n(o,e.model).Gerund,e.replace(i,o,gP),e.not("#Particle").tag("PresentTense")),e.remove(a),e.prepend("will be").match("will be").tag("Auxiliary"),e},T3={infinitive:Qg,"simple-present":Qg,"simple-past":Qg,"simple-future":Mn,"present-progressive":B3,"past-progressive":B3,"future-progressive":Mn,"present-perfect":e=>(e.match("(have|has)").replaceWith("will have"),e),"past-perfect":e=>e.replace("(had|has)","will have"),"future-perfect":Mn,"present-perfect-progressive":e=>e.replace("has","will have"),"past-perfect-progressive":e=>e.replace("had","will have"),"future-perfect-progressive":Mn,"passive-past":e=>e.has("got")?e.replace("got","will get"):e.has("(was|were)")?(e.replace("(was|were)","will be"),e.remove("being")):e.has("(have|has|had) been")?e.replace("(have|has|had) been","will be"):e,"passive-present":e=>(e.replace("being","will be"),e.remove("(is|are|am)"),e),"passive-future":Mn,"present-conditional":e=>e.replace("would","will"),"past-conditional":e=>e.replace("would","will"),"auxiliary-future":Mn,"auxiliary-past":e=>e.has("used")&&e.has("to")?(e.replace("used","will"),e.remove("to")):(e.replace("did","will"),e),"auxiliary-present":e=>e.replace("(do|does)","will"),"modal-infinitive":Mn,"modal-past":Mn,"gerund-phrase":(e,t)=>(t.root=t.root.not("#Gerund$"),Qg(e,t),e.remove("(had|have)")),"want-infinitive":e=>(e.replace("(want|wants|wanted)","will want"),e)},ZK=function(e,t,n){return e.has("will")||e.has("going to")||T3.hasOwnProperty(n)&&(e=T3[n](e,t),e.fullSentence().compute(["tagger","chunks"])),e},eY={tags:!0},tY=function(e,t){const{toInfinitive:n,conjugate:r}=e.methods.two.transform.verb,{root:i,auxiliary:a}=t;if(e.has("#Gerund"))return e;let o=i.text("normal");o=n(o,e.model,Aa(i));let s=r(o,e.model).Gerund;if(s){let l=ch(e);e.replace(i,s,eY),e.remove(a),e.prepend(l)}return e.replace("not is","is not"),e.replace("not are","are not"),e.fullSentence().compute(["tagger","chunks"]),e},O3={tags:!0},ny=function(e,t){let n=Nb(e);return e.prepend(n+" not"),e},g0=function(e){let t=e.match("be");return t.found?(t.prepend("not"),e):(t=e.match("(is|was|am|are|will|were)"),t.found&&t.append("not"),e)},m0=e=>e.has("(is|was|am|are|will|were|be)"),j3={"simple-present":(e,t)=>m0(e)===!0?g0(e):(e=c2(e,t),e=ny(e),e),"simple-past":(e,t)=>m0(e)===!0?g0(e):(e=c2(e,t),e.prepend("did not"),e),imperative:e=>(e.prepend("do not"),e),infinitive:(e,t)=>m0(e)===!0?g0(e):ny(e),"passive-past":e=>{if(e.has("got"))return e.replace("got","get",O3),e.prepend("did not"),e;let t=e.match("(was|were|had|have)");return t.found&&t.append("not"),e},"auxiliary-past":e=>{if(e.has("used"))return e.prepend("did not"),e;let t=e.match("(did|does|do)");return t.found&&t.append("not"),e},"want-infinitive":(e,t)=>(e=ny(e),e=e.replace("wants","want",O3),e)},nY=function(e,t,n){if(e.has("#Negative"))return e;if(j3.hasOwnProperty(n))return e=j3[n](e,t),e;let r=e.matchOne("be");return r.found?(r.prepend("not"),e):m0(e)===!0?g0(e):(r=e.matchOne("(will|had|have|has|did|does|do|#Modal)"),r.found&&r.append("not"),e)},rY=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Verbs"}parse(r){return this.getNth(r).map(no)}json(r,i){return this.getNth(i).map(s=>{let l=s.toView().json(r)[0]||{};return l.verb=$K(s),l},[])}subjects(r){return this.getNth(r).map(i=>(no(i),jo(i).subject))}adverbs(r){return this.getNth(r).map(i=>i.match("#Adverb"))}isSingular(r){return this.getNth(r).filter(i=>jo(i).plural!==!0)}isPlural(r){return this.getNth(r).filter(i=>jo(i).plural===!0)}isImperative(r){return this.getNth(r).filter(i=>i.has("#Imperative"))}toInfinitive(r){return this.getNth(r).map(i=>{let a=no(i),o=as(i,a);return WK(i,a,o.form)})}toPresentTense(r){return this.getNth(r).map(i=>{let a=no(i),o=as(i,a);return o.isInfinitive?i:XK(i,a,o.form)})}toPastTense(r){return this.getNth(r).map(i=>{let a=no(i),o=as(i,a);return o.isInfinitive?i:KK(i,a,o.form)})}toFutureTense(r){return this.getNth(r).map(i=>{let a=no(i),o=as(i,a);return o.isInfinitive?i:ZK(i,a,o.form)})}toGerund(r){return this.getNth(r).map(i=>{let a=no(i),o=as(i,a);return o.isInfinitive?i:tY(i,a,o.form)})}toPastParticiple(r){return this.getNth(r).map(i=>{let a=no(i),o=as(i,a);return o.isInfinitive?i:YK(i,a,o.form)})}conjugate(r){const{conjugate:i,toInfinitive:a}=this.world.methods.two.transform.verb;return this.getNth(r).map(o=>{let s=no(o),l=as(o,s);l.form==="imperative"&&(l.form="simple-present");let u=s.root.text("normal");if(!s.root.has("#Infinitive")){let c=Aa(s.root);u=a(u,o.model,c)||u}return i(u,o.model)},[])}isNegative(){return this.if("#Negative")}isPositive(){return this.ifNo("#Negative")}toPositive(){let r=this.match("do not #Verb");return r.found&&r.remove("do not"),this.remove("#Negative")}toNegative(r){return this.getNth(r).map(i=>{let a=no(i),o=as(i,a);return nY(i,a,o.form)})}update(r){let i=new t(this.document,r);return i._cache=this._cache,i}}t.prototype.toPast=t.prototype.toPastTense,t.prototype.toPresent=t.prototype.toPresentTense,t.prototype.toFuture=t.prototype.toFutureTense,e.prototype.verbs=function(n){let r=PK(this);return r=r.getNth(n),new t(this.document,r.pointer)}},iY={api:rY},h2=function(e,t){let n=t.match(e);if(n.found){let r=n.pronouns().refersTo();if(r.found)return r}return t.none()},D3=function(e){if(!e.found)return e;let[t]=e.fullPointer[0];return t&&t>0?e.update([[t-1]]):e.none()},aY=function(e,t){return t==="m"?e.filter(n=>!n.presumedFemale().found):t==="f"?e.filter(n=>!n.presumedMale().found):e},L3=function(e,t){let n=e.people();return n=aY(n,t),n.found||(n=e.nouns("#Actor"),n.found)?n.last():t==="f"?h2("(she|her|hers)",e):t==="m"?h2("(he|him|his)",e):e.none()},oY=function(e){let t=e.nouns(),n=t.isPlural().notIf("#Pronoun");if(n.found)return n.last();let r=h2("(they|their|theirs)",e);return r.found?r:(n=t.match("(somebody|nobody|everybody|anybody|someone|noone|everyone|anyone)"),n.found?n.last():e.none())},sY=function(e,t){if(t&&t.found){let n=e.docs[0][0];n.reference=t.ptrs[0]}},ry=function(e,t){let n=e.before(),r=t(n);return r.found||(n=D3(e),r=t(n),r.found)||(n=D3(n),r=t(n),r.found)?r:e.none()},lY=function(e){e.pronouns().if("(he|him|his|she|her|hers|they|their|theirs|it|its)").forEach(n=>{let r=null;n.has("(he|him|his)")?r=ry(n,i=>L3(i,"m")):n.has("(she|her|hers)")?r=ry(n,i=>L3(i,"f")):n.has("(they|their|theirs)")&&(r=ry(n,oY)),r&&r.found&&sY(n,r)})},uY=function(e){class t extends e{constructor(r,i,a){super(r,i,a),this.viewType="Pronouns"}hasReference(){return this.compute("coreference"),this.filter(r=>r.docs[0][0].reference)}refersTo(){return this.compute("coreference"),this.map(r=>{if(!r.found)return r.none();let i=r.docs[0][0];return i.reference?r.update([i.reference]):r.none()})}update(r){let i=new t(this.document,r);return i._cache=this._cache,i}}e.prototype.pronouns=function(n){let r=this.match("#Pronoun");return r=r.getNth(n),new t(r.document,r.pointer)}},cY={compute:{coreference:lY},api:uY};Dt.plugin(CV);Dt.plugin(IV);Dt.plugin(QV);Dt.plugin(cY);Dt.plugin(uW);Dt.plugin(hW);Dt.plugin(SW);Dt.plugin(nK);Dt.plugin(aK);Dt.plugin(AK);Dt.plugin(IK);Dt.plugin(iY);const dY=e=>{try{const n=new DOMParser().parseFromString(e,"text/html").body.textContent||"";if(console.log("SmartTags: Analyzing text length:",n.length),n.length<3)return[];const r=[],i=/#(\w+)/g;let a;for(;(a=i.exec(n))!==null;)a[1].length>1&&r.push(a[1]);if(Dt){const l=Dt(n),u=l.topics().out("array"),c=l.places().out("array"),d=l.people().out("array"),h=l.organizations().out("array"),f=l.match("#ProperNoun").out("array");r.push(...u,...c,...d,...h,...f)}else console.warn("SmartTags: 'compromise' library not loaded. Only hashtags will work.");const o=r.map(l=>l.trim()).map(l=>l.replace(/^[^a-zA-Z0-9]+|[^a-zA-Z0-9]+$/g,"")).filter(l=>l.length>2).map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()),s=Array.from(new Set(o));return console.log("SmartTags: Suggestions found:",s),s}catch(t){return console.error("SmartTags: Error generating tags",t),[]}};function p2(e){if(!e)return[];const t=[];return new DOMParser().parseFromString(e,"text/html").querySelectorAll("img.secure-diary-image").forEach(a=>{const o=a,s=o.getAttribute("data-secure-metadata")||o.getAttribute("alt");if(s)try{const l=JSON.parse(s);l&&l.path&&t.push(l.path)}catch(l){console.warn("Failed to parse image metadata during cleanup extraction",l)}}),t}function fY(e,t){const n=new Set(p2(e)),r=new Set(p2(t)),i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),i}const $n=4294967295,fn=65535,Po=255,Ib=8,g2=9,mP=0,vP=99,yP=67324752,Pb=134695760,AP=Pb,m2=33639248,wP=101010256,v2=101075792,bP=117853008,fs=22,dh=20,fh=56,hY=fs+dh+fh,xP=12,EP=20,fm=4,kP=1,_P=39169,CP=10,SP=1,Bb=21589,pY=28789,gY=25461,NP=6534,IP=30837,PP=30805,y2=1,mY=6,vY=2,yY=4,AY=6,A2=8,w2=2048,hm=16,b2=1,x2=2,E2=4,k2=32,R3=61440,hh=16384,ph=73,v0=420,pm=2048,gm=1024,mm=512,wY=20,F3=45,M3=51,y0="/",Eu=30,Tb=10,jd=14,Dd=18,U3=new Date(2107,11,31),z3=new Date(1980,0,1),ht=void 0,Cl="undefined",zu="function",bY="object",xY=64;let BP=2;try{typeof navigator!=Cl&&navigator.hardwareConcurrency&&(BP=navigator.hardwareConcurrency)}catch{}const EY={workerURI:"./core/web-worker-wasm.js",wasmURI:"./core/streams/zlib-wasm/zlib-streams.wasm",chunkSize:64*1024,maxWorkers:BP,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,CompressionStream:typeof CompressionStream!=Cl&&CompressionStream,DecompressionStream:typeof DecompressionStream!=Cl&&DecompressionStream},TP=Object.assign({},EY);function OP(){return TP}function jP(e){return Math.max(e.chunkSize,xY)}function r1(e){const{baseURI:t,chunkSize:n,maxWorkers:r,terminateWorkerTimeout:i,useCompressionStream:a,useWebWorkers:o,CompressionStream:s,DecompressionStream:l,CompressionStreamZlib:u,DecompressionStreamZlib:c,workerURI:d,wasmURI:h}=e;Ta("baseURI",t),Ta("wasmURI",h),Ta("workerURI",d),Ta("chunkSize",n),Ta("maxWorkers",r),Ta("terminateWorkerTimeout",i),Ta("useCompressionStream",a),Ta("useWebWorkers",o),Ta("CompressionStream",s),Ta("DecompressionStream",l),Ta("CompressionStreamZlib",u),Ta("DecompressionStreamZlib",c)}function Ta(e,t){t!==ht&&(TP[e]=t)}function kY(e){let t;e({workerURI:()=>(t||(t="data:text/javascript,"+encodeURIComponent(`(t=>{"function"==typeof define&&define.amd?define(t):t()})(function(){"use strict";const{Array:t,Object:e,Number:n,Math:s,Error:r,Uint8Array:o,Uint16Array:i,Uint32Array:c,Int32Array:a,Map:h,DataView:f,Promise:l,TextEncoder:u,crypto:w,postMessage:p,TransformStream:d,ReadableStream:y,WritableStream:m,CompressionStream:g,DecompressionStream:S}=self,b=void 0,v="undefined",k="function",z=[];for(let t=0;256>t;t++){let e=t;for(let t=0;8>t;t++)1&e?e=e>>>1^3988292384:e>>>=1;z[t]=e}class C{constructor(t){this.t=t||-1}append(t){let e=0|this.t;for(let n=0,s=0|t.length;s>n;n++)e=e>>>8^z[255&(e^t[n])];this.t=e}get(){return~this.t}}class A extends d{constructor(){let t;const e=new C;super({transform(t,n){e.append(t),n.enqueue(t)},flush(){const n=new o(4);new f(n.buffer).setUint32(0,e.get()),t.value=n}}),t=this}}const x={concat(t,e){if(0===t.length||0===e.length)return t.concat(e);const n=t[t.length-1],s=x.o(n);return 32===s?t.concat(e):x.i(e,s,0|n,t.slice(0,t.length-1))},h(t){const e=t.length;if(0===e)return 0;const n=t[e-1];return 32*(e-1)+x.o(n)},l(t,e){if(32*t.length<e)return t;const n=(t=t.slice(0,s.ceil(e/32))).length;return e&=31,n>0&&e&&(t[n-1]=x.u(e,t[n-1]&2147483648>>e-1,1)),t},u:(t,e,n)=>32===t?e:(n?0|e:e<<32-t)+1099511627776*t,o:t=>s.round(t/1099511627776)||32,i(t,e,n,s){for(void 0===s&&(s=[]);e>=32;e-=32)s.push(n),n=0;if(0===e)return s.concat(t);for(let r=0;r<t.length;r++)s.push(n|t[r]>>>e),n=t[r]<<32-e;const r=t.length?t[t.length-1]:0,o=x.o(r);return s.push(x.u(e+o&31,e+o>32?n:s.pop(),1)),s}},I={bytes:{p(t){const e=x.h(t)/8,n=new o(e);let s;for(let r=0;e>r;r++)3&r||(s=t[r/4]),n[r]=s>>>24,s<<=8;return n},m(t){const e=[];let n,s=0;for(n=0;n<t.length;n++)s=s<<8|t[n],3&~n||(e.push(s),s=0);return 3&n&&e.push(x.u(8*(3&n),s)),e}}},R=class{constructor(t){const e=this;e.blockSize=512,e.S=[1732584193,4023233417,2562383102,271733878,3285377520],e.v=[1518500249,1859775393,2400959708,3395469782],t?(e.k=t.k.slice(0),e.C=t.C.slice(0),e.A=t.A):e.reset()}reset(){const t=this;return t.k=t.S.slice(0),t.C=[],t.A=0,t}update(t){const e=this;"string"==typeof t&&(t=I.I.m(t));const n=e.C=x.concat(e.C,t),s=e.A,o=e.A=s+x.h(t);if(o>9007199254740991)throw new r("Cannot hash more than 2^53 - 1 bits");const i=new c(n);let a=0;for(let t=e.blockSize+s-(e.blockSize+s&e.blockSize-1);o>=t;t+=e.blockSize)e.R(i.subarray(16*a,16*(a+1))),a+=1;return n.splice(0,16*a),e}P(){const t=this;let e=t.C;const n=t.k;e=x.concat(e,[x.u(1,1)]);for(let t=e.length+2;15&t;t++)e.push(0);for(e.push(s.floor(t.A/4294967296)),e.push(0|t.A);e.length;)t.R(e.splice(0,16));return t.reset(),n}U(t,e,n,s){return t>19?t>39?t>59?t>79?void 0:e^n^s:e&n|e&s|n&s:e^n^s:e&n|~e&s}V(t,e){return e<<t|e>>>32-t}R(e){const n=this,r=n.k,o=t(80);for(let t=0;16>t;t++)o[t]=e[t];let i=r[0],c=r[1],a=r[2],h=r[3],f=r[4];for(let t=0;79>=t;t++){16>t||(o[t]=n.V(1,o[t-3]^o[t-8]^o[t-14]^o[t-16]));const e=n.V(5,i)+n.U(t,c,a,h)+f+o[t]+n.v[s.floor(t/20)]|0;f=h,h=a,a=n.V(30,c),c=i,i=e}r[0]=r[0]+i|0,r[1]=r[1]+c|0,r[2]=r[2]+a|0,r[3]=r[3]+h|0,r[4]=r[4]+f|0}},P={getRandomValues(t){const e=new c(t.buffer),n=t=>{let e=987654321;const n=4294967295;return()=>(e=36969*(65535&e)+(e>>16)&n,(((e<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n)/4294967296+.5)*(s.random()>.5?1:-1))};for(let r,o=0;o<t.length;o+=4){const t=n(4294967296*(r||s.random()));r=987654071*t(),e[o/4]=4294967296*t()|0}return t}},U={importKey:t=>new U.M(I.bytes.m(t)),_(t,e,n,s){if(n=n||1e4,0>s||0>n)throw new r("invalid params to pbkdf2");const o=1+(s>>5)<<2;let i,c,a,h,l;const u=new ArrayBuffer(o),w=new f(u);let p=0;const d=x;for(e=I.bytes.m(e),l=1;(o||1)>p;l++){for(i=c=t.encrypt(d.concat(e,[l])),a=1;n>a;a++)for(c=t.encrypt(c),h=0;h<c.length;h++)i[h]^=c[h];for(a=0;(o||1)>p&&a<i.length;a++)w.setInt32(p,i[a]),p+=4}return u.slice(0,s/8)},M:class{constructor(t){const e=this,n=e.B=R,s=[[],[]];e.D=[new n,new n];const r=e.D[0].blockSize/32;t.length>r&&(t=(new n).update(t).P());for(let e=0;r>e;e++)s[0][e]=909522486^t[e],s[1][e]=1549556828^t[e];e.D[0].update(s[0]),e.D[1].update(s[1]),e.W=new n(e.D[0])}reset(){const t=this;t.W=new t.B(t.D[0]),t.K=!1}update(t){this.K=!0,this.W.update(t)}digest(){const t=this,e=t.W.P(),n=new t.B(t.D[1]).update(e).P();return t.reset(),n}encrypt(t){if(this.K)throw new r("encrypt on already updated hmac called!");return this.update(t),this.digest(t)}}},V=typeof w!=v&&typeof w.getRandomValues==k,M="Invalid password",_="Invalid signature",B="zipjs-abort-check-password";function D(t){return V?w.getRandomValues(t):P.getRandomValues(t)}const W=16,K={name:"PBKDF2"},E=e.assign({hash:{name:"HMAC"}},K),L=e.assign({iterations:1e3,hash:{name:"SHA-1"}},K),O=["deriveBits"],T=[8,12,16],j=[16,24,32],H=10,Z=[0,0,0,0],F=typeof w!=v,N=F&&w.subtle,q=F&&typeof N!=v,G=I.bytes,J=class{constructor(t){const e=this;e.L=[[[],[],[],[],[]],[[],[],[],[],[]]],e.L[0][0][0]||e.O();const n=e.L[0][4],s=e.L[1],o=t.length;let i,c,a,h=1;if(4!==o&&6!==o&&8!==o)throw new r("invalid aes key size");for(e.v=[c=t.slice(0),a=[]],i=o;4*o+28>i;i++){let t=c[i-1];(i%o===0||8===o&&i%o===4)&&(t=n[t>>>24]<<24^n[t>>16&255]<<16^n[t>>8&255]<<8^n[255&t],i%o===0&&(t=t<<8^t>>>24^h<<24,h=h<<1^283*(h>>7))),c[i]=c[i-o]^t}for(let t=0;i;t++,i--){const e=c[3&t?i:i-4];a[t]=4>=i||4>t?e:s[0][n[e>>>24]]^s[1][n[e>>16&255]]^s[2][n[e>>8&255]]^s[3][n[255&e]]}}encrypt(t){return this.T(t,0)}decrypt(t){return this.T(t,1)}O(){const t=this.L[0],e=this.L[1],n=t[4],s=e[4],r=[],o=[];let i,c,a,h;for(let t=0;256>t;t++)o[(r[t]=t<<1^283*(t>>7))^t]=t;for(let f=i=0;!n[f];f^=c||1,i=o[i]||1){let o=i^i<<1^i<<2^i<<3^i<<4;o=o>>8^255&o^99,n[f]=o,s[o]=f,h=r[a=r[c=r[f]]];let l=16843009*h^65537*a^257*c^16843008*f,u=257*r[o]^16843008*o;for(let n=0;4>n;n++)t[n][f]=u=u<<24^u>>>8,e[n][o]=l=l<<24^l>>>8}for(let n=0;5>n;n++)t[n]=t[n].slice(0),e[n]=e[n].slice(0)}T(t,e){if(4!==t.length)throw new r("invalid aes block size");const n=this.v[e],s=n.length/4-2,o=[0,0,0,0],i=this.L[e],c=i[0],a=i[1],h=i[2],f=i[3],l=i[4];let u,w,p,d=t[0]^n[0],y=t[e?3:1]^n[1],m=t[2]^n[2],g=t[e?1:3]^n[3],S=4;for(let t=0;s>t;t++)u=c[d>>>24]^a[y>>16&255]^h[m>>8&255]^f[255&g]^n[S],w=c[y>>>24]^a[m>>16&255]^h[g>>8&255]^f[255&d]^n[S+1],p=c[m>>>24]^a[g>>16&255]^h[d>>8&255]^f[255&y]^n[S+2],g=c[g>>>24]^a[d>>16&255]^h[y>>8&255]^f[255&m]^n[S+3],S+=4,d=u,y=w,m=p;for(let t=0;4>t;t++)o[e?3&-t:t]=l[d>>>24]<<24^l[y>>16&255]<<16^l[m>>8&255]<<8^l[255&g]^n[S++],u=d,d=y,y=m,m=g,g=u;return o}},Q=class{constructor(t,e){this.j=t,this.H=e,this.Z=e}reset(){this.Z=this.H}update(t){return this.F(this.j,t,this.Z)}N(t){if(255&~(t>>24))t+=1<<24;else{let e=t>>16&255,n=t>>8&255,s=255&t;255===e?(e=0,255===n?(n=0,255===s?s=0:++s):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=s}return t}q(t){0===(t[0]=this.N(t[0]))&&(t[1]=this.N(t[1]))}F(t,e,n){let s;if(!(s=e.length))return[];const r=x.h(e);for(let r=0;s>r;r+=4){this.q(n);const s=t.encrypt(n);e[r]^=s[0],e[r+1]^=s[1],e[r+2]^=s[2],e[r+3]^=s[3]}return x.l(e,r)}},X=U.M;let Y=F&&q&&typeof N.importKey==k,$=F&&q&&typeof N.deriveBits==k;class tt extends d{constructor({password:t,rawPassword:n,signed:s,encryptionStrength:i,checkPasswordOnly:c}){super({start(){e.assign(this,{ready:new l(t=>this.G=t),password:rt(t,n),signed:s,J:i-1,pending:new o})},async transform(t,e){const n=this,{password:s,J:i,G:a,ready:h}=n;s?(await(async(t,e,n,s)=>{const o=await st(t,e,n,it(s,0,T[e])),i=it(s,T[e]);if(o[0]!=i[0]||o[1]!=i[1])throw new r(M)})(n,i,s,it(t,0,T[i]+2)),t=it(t,T[i]+2),c?e.error(new r(B)):a()):await h;const f=new o(t.length-H-(t.length-H)%W);e.enqueue(nt(n,t,f,0,H,!0))},async flush(t){const{signed:e,X:n,Y:s,pending:i,ready:c}=this;if(s&&n){await c;const a=it(i,0,i.length-H),h=it(i,i.length-H);let f=new o;if(a.length){const t=at(G,a);s.update(t);const e=n.update(t);f=ct(G,e)}if(e){const t=it(ct(G,s.digest()),0,H);for(let e=0;H>e;e++)if(t[e]!=h[e])throw new r(_)}t.enqueue(f)}}})}}class et extends d{constructor({password:t,rawPassword:n,encryptionStrength:s}){let r;super({start(){e.assign(this,{ready:new l(t=>this.G=t),password:rt(t,n),J:s-1,pending:new o})},async transform(t,e){const n=this,{password:s,J:r,G:i,ready:c}=n;let a=new o;s?(a=await(async(t,e,n)=>{const s=D(new o(T[e]));return ot(s,await st(t,e,n,s))})(n,r,s),i()):await c;const h=new o(a.length+t.length-t.length%W);h.set(a,0),e.enqueue(nt(n,t,h,a.length,0))},async flush(t){const{X:e,Y:n,pending:s,ready:i}=this;if(n&&e){await i;let c=new o;if(s.length){const t=e.update(at(G,s));n.update(t),c=ct(G,t)}r.signature=ct(G,n.digest()).slice(0,H),t.enqueue(ot(c,r.signature))}}}),r=this}}function nt(t,e,n,s,r,i){const{X:c,Y:a,pending:h}=t,f=e.length-r;let l;for(h.length&&(e=ot(h,e),n=((t,e)=>{if(e&&e>t.length){const n=t;(t=new o(e)).set(n,0)}return t})(n,f-f%W)),l=0;f-W>=l;l+=W){const t=at(G,it(e,l,l+W));i&&a.update(t);const r=c.update(t);i||a.update(r),n.set(ct(G,r),l+s)}return t.pending=it(e,l),n}async function st(n,s,r,i){n.password=null;const c=await(async(t,e,n,s,r)=>{if(!Y)return U.importKey(e);try{return await N.importKey("raw",e,n,!1,r)}catch{return Y=!1,U.importKey(e)}})(0,r,E,0,O),a=await(async(t,e,n)=>{if(!$)return U._(e,t.salt,L.iterations,n);try{return await N.deriveBits(t,e,n)}catch{return $=!1,U._(e,t.salt,L.iterations,n)}})(e.assign({salt:i},L),c,8*(2*j[s]+2)),h=new o(a),f=at(G,it(h,0,j[s])),l=at(G,it(h,j[s],2*j[s])),u=it(h,2*j[s]);return e.assign(n,{keys:{key:f,$:l,passwordVerification:u},X:new Q(new J(f),t.from(Z)),Y:new X(l)}),u}function rt(t,e){return e===b?(t=>{if(typeof u==v){const e=new o((t=unescape(encodeURIComponent(t))).length);for(let n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e}return(new u).encode(t)})(t):e}function ot(t,e){let n=t;return t.length+e.length&&(n=new o(t.length+e.length),n.set(t,0),n.set(e,t.length)),n}function it(t,e,n){return t.subarray(e,n)}function ct(t,e){return t.p(e)}function at(t,e){return t.m(e)}class ht extends d{constructor({password:t,passwordVerification:n,checkPasswordOnly:s}){super({start(){e.assign(this,{password:t,passwordVerification:n}),wt(this,t)},transform(t,e){const n=this;if(n.password){const e=lt(n,t.subarray(0,12));if(n.password=null,e.at(-1)!=n.passwordVerification)throw new r(M);t=t.subarray(12)}s?e.error(new r(B)):e.enqueue(lt(n,t))}})}}class ft extends d{constructor({password:t,passwordVerification:n}){super({start(){e.assign(this,{password:t,passwordVerification:n}),wt(this,t)},transform(t,e){const n=this;let s,r;if(n.password){n.password=null;const e=D(new o(12));e[11]=n.passwordVerification,s=new o(t.length+e.length),s.set(ut(n,e),0),r=12}else s=new o(t.length),r=0;s.set(ut(n,t),r),e.enqueue(s)}})}}function lt(t,e){const n=new o(e.length);for(let s=0;s<e.length;s++)n[s]=dt(t)^e[s],pt(t,n[s]);return n}function ut(t,e){const n=new o(e.length);for(let s=0;s<e.length;s++)n[s]=dt(t)^e[s],pt(t,e[s]);return n}function wt(t,n){const s=[305419896,591751049,878082192];e.assign(t,{keys:s,tt:new C(s[0]),et:new C(s[2])});for(let e=0;e<n.length;e++)pt(t,n.charCodeAt(e))}function pt(t,e){let[n,r,o]=t.keys;t.tt.append([e]),n=~t.tt.get(),r=mt(s.imul(mt(r+yt(n)),134775813)+1),t.et.append([r>>>24]),o=~t.et.get(),t.keys=[n,r,o]}function dt(t){const e=2|t.keys[2];return yt(s.imul(e,1^e)>>>8)}function yt(t){return 255&t}function mt(t){return 4294967295&t}class gt extends d{constructor(t,{chunkSize:e,nt:n,CompressionStream:s}){super({});const{compressed:r,encrypted:o,useCompressionStream:i,zipCrypto:c,signed:a,level:h}=t,l=this;let u,w,p=super.readable;o&&!c||!a||(u=new A,p=kt(p,u)),r&&(p=vt(p,i,{level:h,chunkSize:e},s,n,s)),o&&(c?p=kt(p,new ft(t)):(w=new et(t),p=kt(p,w))),bt(l,p,()=>{let t;o&&!c&&(t=w.signature),o&&!c||!a||(t=new f(u.value.buffer).getUint32(0)),l.signature=t})}}class St extends d{constructor(t,{chunkSize:e,st:n,DecompressionStream:s}){super({});const{zipCrypto:o,encrypted:i,signed:c,signature:a,compressed:h,useCompressionStream:l,rt:u}=t;let w,p,d=super.readable;i&&(o?d=kt(d,new ht(t)):(p=new tt(t),d=kt(d,p))),h&&(d=vt(d,l,{chunkSize:e,rt:u},s,n,s)),i&&!o||!c||(w=new A,d=kt(d,w)),bt(this,d,()=>{if((!i||o)&&c){const t=new f(w.value.buffer);if(a!=t.getUint32(0,!1))throw new r(_)}})}}function bt(t,n,s){n=kt(n,new d({flush:s})),e.defineProperty(t,"readable",{get:()=>n})}function vt(t,e,n,s,r,o){const i=e&&s?s:r||o,c=n.rt?"deflate64-raw":"deflate-raw";try{t=kt(t,new i(c,n))}catch(s){if(!e)throw s;if(r)t=kt(t,new r(c,n));else{if(!o)throw s;t=kt(t,new o(c,n))}}return t}function kt(t,e){return t.pipeThrough(e)}const zt="data",Ct="close";class At extends d{constructor(t,n){super({});const s=this,{codecType:o}=t;let i;o.startsWith("deflate")?i=gt:o.startsWith("inflate")&&(i=St),s.outputSize=0;let c=0;const a=new i(t,n),h=super.readable,f=new d({transform(t,e){t&&t.length&&(c+=t.length,e.enqueue(t))},flush(){e.assign(s,{inputSize:c})}}),l=new d({transform(e,n){if(e&&e.length&&(n.enqueue(e),s.outputSize+=e.length,t.outputSize!==b&&s.outputSize>t.outputSize))throw new r("Invalid uncompressed size")},flush(){const{signature:t}=a;e.assign(s,{signature:t,inputSize:c})}});e.defineProperty(s,"readable",{get:()=>h.pipeThrough(f).pipeThrough(a).pipeThrough(l)})}}class xt extends d{constructor(t){let e;super({transform:function n(s,r){if(e){const t=new o(e.length+s.length);t.set(e),t.set(s,e.length),s=t,e=null}s.length>t?(r.enqueue(s.slice(0,t)),n(s.slice(t),r)):e=s},flush(t){e&&e.length&&t.enqueue(e)}})}}const It=new h,Rt=new h;let Pt,Ut,Vt,Mt,_t,Bt=0;async function Dt(t){try{const{options:e,config:s}=t;if(!e.useCompressionStream)try{await self.initModule(t.config)}catch{e.useCompressionStream=!0}s.CompressionStream=self.CompressionStream,s.DecompressionStream=self.DecompressionStream;const r={highWaterMark:1},o=t.readable||new y({async pull(t){const e=new l(t=>It.set(Bt,t));Wt({type:"pull",messageId:Bt}),Bt=(Bt+1)%n.MAX_SAFE_INTEGER;const{value:s,done:r}=await e;t.enqueue(s),r&&t.close()}},r),i=t.writable||new m({async write(t){let e;const s=new l(t=>e=t);Rt.set(Bt,e),Wt({type:zt,value:t,messageId:Bt}),Bt=(Bt+1)%n.MAX_SAFE_INTEGER,await s}},r),c=new At(e,s);Pt=new AbortController;const{signal:a}=Pt;await o.pipeThrough(c).pipeThrough(new xt(s.chunkSize)).pipeTo(i,{signal:a,preventClose:!0,preventAbort:!0}),await i.getWriter().close();const{signature:h,inputSize:f,outputSize:u}=c;Wt({type:Ct,result:{signature:h,inputSize:f,outputSize:u}})}catch(t){t.outputSize=0,Kt(t)}}function Wt(t){let{value:e}=t;if(e)if(e.length)try{e=new o(e),t.value=e.buffer,p(t,[t.value])}catch{p(t)}else p(t);else p(t)}function Kt(t=new r("Unknown error")){const{message:e,stack:n,code:s,name:o,outputSize:i}=t;p({error:{message:e,stack:n,code:s,name:o,outputSize:i}})}function Et(t,e,n={}){const i="number"==typeof n.level?n.level:-1,c="number"==typeof n.ot?n.ot:65536,a="number"==typeof n.it?n.it:65536;return new d({start(){let n;if(this.ct=Vt(c),this.in=Vt(a),this.it=a,this.ht=new o(c),t?(this.ft=Ut.deflate_process,this.lt=Ut.deflate_last_consumed,this.ut=Ut.deflate_end,this.wt=Ut.deflate_new(),n="gzip"===e?Ut.deflate_init_gzip(this.wt,i):"deflate-raw"===e?Ut.deflate_init_raw(this.wt,i):Ut.deflate_init(this.wt,i)):"deflate64-raw"===e?(this.ft=Ut.inflate9_process,this.lt=Ut.inflate9_last_consumed,this.ut=Ut.inflate9_end,this.wt=Ut.inflate9_new(),n=Ut.inflate9_init_raw(this.wt)):(this.ft=Ut.inflate_process,this.lt=Ut.inflate_last_consumed,this.ut=Ut.inflate_end,this.wt=Ut.inflate_new(),n="deflate-raw"===e?Ut.inflate_init_raw(this.wt):"gzip"===e?Ut.inflate_init_gzip(this.wt):Ut.inflate_init(this.wt)),0!==n)throw new r("init failed:"+n)},transform(e,n){try{const i=e,a=new o(_t.buffer),h=this.ft,f=this.lt,l=this.ct,u=this.ht;let w=0;for(;w<i.length;){const e=s.min(i.length-w,32768);this.in&&this.it>=e||(this.in&&Mt&&Mt(this.in),this.in=Vt(e),this.it=e),a.set(i.subarray(w,w+e),this.in);const o=h(this.wt,this.in,e,l,c,0),p=16777215&o;if(p&&(u.set(a.subarray(l,l+p),0),n.enqueue(u.slice(0,p))),!t){const t=o>>24&255,e=128&t?t-256:t;if(0>e)throw new r("process error:"+e)}const d=f(this.wt);if(0===d)break;w+=d}}catch(t){this.ut&&this.wt&&this.ut(this.wt),this.in&&Mt&&Mt(this.in),this.ct&&Mt&&Mt(this.ct),n.error(t)}},flush(e){try{const n=new o(_t.buffer),s=this.ft,i=this.ct,a=this.ht;for(;;){const o=s(this.wt,0,0,i,c,4),h=16777215&o,f=o>>24&255;if(!t){const t=128&f?f-256:f;if(0>t)throw new r("process error:"+t)}if(h&&(a.set(n.subarray(i,i+h),0),e.enqueue(a.slice(0,h))),1===f||0===h)break}}catch(t){e.error(t)}finally{if(this.ut&&this.wt){const t=this.ut(this.wt);0!==t&&e.error(new r("end error:"+t))}this.in&&Mt&&Mt(this.in),this.ct&&Mt&&Mt(this.ct)}}})}addEventListener("message",({data:t})=>{const{type:e,messageId:n,value:s,done:r}=t;try{if("start"==e&&Dt(t),e==zt){const t=It.get(n);It.delete(n),t({value:new o(s),done:r})}if("ack"==e){const t=Rt.get(n);Rt.delete(n),t()}e==Ct&&Pt.abort()}catch(t){Kt(t)}});class Lt{constructor(t="deflate",e){return Et(!0,t,e)}}class Ot{constructor(t="deflate",e){return Et(!1,t,e)}}let Tt=!1;self.initModule=async t=>{try{const e=await(async(t,{baseURI:e})=>{if(!Tt){let n,s;try{try{s=new URL(t,e)}catch{}const r=await fetch(s);n=await r.arrayBuffer()}catch(e){if(!t.startsWith("data:application/wasm;base64,"))throw e;n=(t=>{const e=t.split(",")[1],n=atob(e),s=n.length,r=new o(s);for(let t=0;s>t;++t)r[t]=n.charCodeAt(t);return r.buffer})(t)}(t=>{if(Ut=t,({malloc:Vt,free:Mt,memory:_t}=Ut),"function"!=typeof Vt||"function"!=typeof Mt||!_t)throw Ut=Vt=Mt=_t=null,new r("Invalid WASM module")})((await WebAssembly.instantiate(n)).instance.exports),Tt=!0}})(t.wasmURI,t);return t.nt=Lt,t.st=Ot,e}catch{}}});
`)),t)})}const DP=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=t>>>1^3988292384:t=t>>>1;DP[e]=t}class vm{constructor(t){this.crc=t||-1}append(t){let n=this.crc|0;for(let r=0,i=t.length|0;r<i;r++)n=n>>>8^DP[(n^t[r])&255];this.crc=n}get(){return~this.crc}}class LP extends TransformStream{constructor(){let t;const n=new vm;super({transform(r,i){n.append(r),i.enqueue(r)},flush(){const r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,n.get()),t.value=r}}),t=this}}function A0(e){if(typeof TextEncoder==Cl){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}else return new TextEncoder().encode(e)}const Pi={concat(e,t){if(e.length===0||t.length===0)return e.concat(t);const n=e[e.length-1],r=Pi.getPartial(n);return r===32?e.concat(t):Pi._shiftRight(t,r,n|0,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(t===0)return 0;const n=e[t-1];return(t-1)*32+Pi.getPartial(n)},clamp(e,t){if(e.length*32<t)return e;e=e.slice(0,Math.ceil(t/32));const n=e.length;return t=t&31,n>0&&t&&(e[n-1]=Pi.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial(e,t,n){return e===32?t:(n?t|0:t<<32-e)+e*1099511627776},getPartial(e){return Math.round(e/1099511627776)||32},_shiftRight(e,t,n,r){for(r===void 0&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(t===0)return r.concat(e);for(let o=0;o<e.length;o++)r.push(n|e[o]>>>t),n=e[o]<<32-t;const i=e.length?e[e.length-1]:0,a=Pi.getPartial(i);return r.push(Pi.partial(t+a&31,t+a>32?n:r.pop(),1)),r}},ym={bytes:{fromBits(e){const n=Pi.bitLength(e)/8,r=new Uint8Array(n);let i;for(let a=0;a<n;a++)a&3||(i=e[a/4]),r[a]=i>>>24,i<<=8;return r},toBits(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],(n&3)===3&&(t.push(r),r=0);return n&3&&t.push(Pi.partial(8*(n&3),r)),t}}},RP={};RP.sha1=class{constructor(e){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],e?(t._h=e._h.slice(0),t._buffer=e._buffer.slice(0),t._length=e._length):t.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const t=this;typeof e=="string"&&(e=ym.utf8String.toBits(e));const n=t._buffer=Pi.concat(t._buffer,e),r=t._length,i=t._length=r+Pi.bitLength(e);if(i>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const a=new Uint32Array(n);let o=0;for(let s=t.blockSize+r-(t.blockSize+r&t.blockSize-1);s<=i;s+=t.blockSize)t._block(a.subarray(16*o,16*(o+1))),o+=1;return n.splice(0,16*o),t}finalize(){const e=this;let t=e._buffer;const n=e._h;t=Pi.concat(t,[Pi.partial(1,1)]);for(let r=t.length+2;r&15;r++)t.push(0);for(t.push(Math.floor(e._length/4294967296)),t.push(e._length|0);t.length;)e._block(t.splice(0,16));return e.reset(),n}_f(e,t,n,r){if(e<=19)return t&n|~t&r;if(e<=39)return t^n^r;if(e<=59)return t&n|t&r|n&r;if(e<=79)return t^n^r}_S(e,t){return t<<e|t>>>32-e}_block(e){const t=this,n=t._h,r=Array(80);for(let u=0;u<16;u++)r[u]=e[u];let i=n[0],a=n[1],o=n[2],s=n[3],l=n[4];for(let u=0;u<=79;u++){u>=16&&(r[u]=t._S(1,r[u-3]^r[u-8]^r[u-14]^r[u-16]));const c=t._S(5,i)+t._f(u,a,o,s)+l+r[u]+t._key[Math.floor(u/20)]|0;l=s,s=o,o=t._S(30,a),a=i,i=c}n[0]=n[0]+i|0,n[1]=n[1]+a|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0}};const FP={};FP.aes=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const n=t._tables[0][4],r=t._tables[1],i=e.length;let a,o,s,l=1;if(i!==4&&i!==6&&i!==8)throw new Error("invalid aes key size");for(t._key=[o=e.slice(0),s=[]],a=i;a<4*i+28;a++){let u=o[a-1];(a%i===0||i===8&&a%i===4)&&(u=n[u>>>24]<<24^n[u>>16&255]<<16^n[u>>8&255]<<8^n[u&255],a%i===0&&(u=u<<8^u>>>24^l<<24,l=l<<1^(l>>7)*283)),o[a]=o[a-i]^u}for(let u=0;a;u++,a--){const c=o[u&3?a:a-4];a<=4||u<4?s[u]=c:s[u]=r[0][n[c>>>24]]^r[1][n[c>>16&255]]^r[2][n[c>>8&255]]^r[3][n[c&255]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],n=e[4],r=t[4],i=[],a=[];let o,s,l,u;for(let c=0;c<256;c++)a[(i[c]=c<<1^(c>>7)*283)^c]=c;for(let c=o=0;!n[c];c^=s||1,o=a[o]||1){let d=o^o<<1^o<<2^o<<3^o<<4;d=d>>8^d&255^99,n[c]=d,r[d]=c,u=i[l=i[s=i[c]]];let h=u*16843009^l*65537^s*257^c*16843008,f=i[d]*257^d*16843008;for(let v=0;v<4;v++)e[v][c]=f=f<<24^f>>>8,t[v][d]=h=h<<24^h>>>8}for(let c=0;c<5;c++)e[c]=e[c].slice(0),t[c]=t[c].slice(0)}_crypt(e,t){if(e.length!==4)throw new Error("invalid aes block size");const n=this._key[t],r=n.length/4-2,i=[0,0,0,0],a=this._tables[t],o=a[0],s=a[1],l=a[2],u=a[3],c=a[4];let d=e[0]^n[0],h=e[t?3:1]^n[1],f=e[2]^n[2],v=e[t?1:3]^n[3],y=4,A,g,p;for(let w=0;w<r;w++)A=o[d>>>24]^s[h>>16&255]^l[f>>8&255]^u[v&255]^n[y],g=o[h>>>24]^s[f>>16&255]^l[v>>8&255]^u[d&255]^n[y+1],p=o[f>>>24]^s[v>>16&255]^l[d>>8&255]^u[h&255]^n[y+2],v=o[v>>>24]^s[d>>16&255]^l[h>>8&255]^u[f&255]^n[y+3],y+=4,d=A,h=g,f=p;for(let w=0;w<4;w++)i[t?3&-w:w]=c[d>>>24]<<24^c[h>>16&255]<<16^c[f>>8&255]<<8^c[v&255]^n[y++],A=d,d=h,h=f,f=v,v=A;return i}};const _Y={getRandomValues(e){const t=new Uint32Array(e.buffer),n=r=>{let i=987654321;const a=4294967295;return function(){return i=36969*(i&65535)+(i>>16)&a,r=18e3*(r&65535)+(r>>16)&a,(((i<<16)+r&a)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let r=0,i;r<e.length;r+=4){const a=n((i||Math.random())*4294967296);i=a()*987654071,t[r/4]=a()*4294967296|0}return e}},MP={};MP.ctrGladman=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if((e>>24&255)===255){let t=e>>16&255,n=e>>8&255,r=e&255;t===255?(t=0,n===255?(n=0,r===255?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}incCounter(e){(e[0]=this.incWord(e[0]))===0&&(e[1]=this.incWord(e[1]))}calculate(e,t,n){let r;if(!(r=t.length))return[];const i=Pi.bitLength(t);for(let a=0;a<r;a+=4){this.incCounter(n);const o=e.encrypt(n);t[a]^=o[0],t[a+1]^=o[1],t[a+2]^=o[2],t[a+3]^=o[3]}return Pi.clamp(t,i)}};const ju={importKey(e){return new ju.hmacSha1(ym.bytes.toBits(e))},pbkdf2(e,t,n,r){if(n=n||1e4,r<0||n<0)throw new Error("invalid params to pbkdf2");const i=(r>>5)+1<<2;let a,o,s,l,u;const c=new ArrayBuffer(i),d=new DataView(c);let h=0;const f=Pi;for(t=ym.bytes.toBits(t),u=1;h<(i||1);u++){for(a=o=e.encrypt(f.concat(t,[u])),s=1;s<n;s++)for(o=e.encrypt(o),l=0;l<o.length;l++)a[l]^=o[l];for(s=0;h<(i||1)&&s<a.length;s++)d.setInt32(h,a[s]),h+=4}return c.slice(0,r/8)}};ju.hmacSha1=class{constructor(e){const t=this,n=t._hash=RP.sha1,r=[[],[]];t._baseHash=[new n,new n];const i=t._baseHash[0].blockSize/32;e.length>i&&(e=new n().update(e).finalize());for(let a=0;a<i;a++)r[0][a]=e[a]^909522486,r[1][a]=e[a]^1549556828;t._baseHash[0].update(r[0]),t._baseHash[1].update(r[1]),t._resultHash=new n(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){const t=this;t._updated=!0,t._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),n=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),n}encrypt(e){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}};const CY=typeof crypto!=Cl&&typeof crypto.getRandomValues==zu,UP="Invalid password",zP="Invalid signature",Ob="zipjs-abort-check-password";function HP(e){return CY?crypto.getRandomValues(e):_Y.getRandomValues(e)}const Xc=16,SY="raw",GP={name:"PBKDF2"},NY={name:"HMAC"},IY="SHA-1",PY=Object.assign({hash:NY},GP),_2=Object.assign({iterations:1e3,hash:{name:IY}},GP),BY=["deriveBits"],$h=[8,12,16],Of=[16,24,32],el=10,TY=[0,0,0,0],i1=typeof crypto!=Cl,cp=i1&&crypto.subtle,QP=i1&&typeof cp!=Cl,Do=ym.bytes,OY=FP.aes,jY=MP.ctrGladman,DY=ju.hmacSha1;let H3=i1&&QP&&typeof cp.importKey==zu,G3=i1&&QP&&typeof cp.deriveBits==zu;class LY extends TransformStream{constructor({password:t,rawPassword:n,signed:r,encryptionStrength:i,checkPasswordOnly:a}){super({start(){Object.assign(this,{ready:new Promise(o=>this.resolveReady=o),password:VP(t,n),signed:r,strength:i-1,pending:new Uint8Array})},async transform(o,s){const l=this,{password:u,strength:c,resolveReady:d,ready:h}=l;u?(await FY(l,c,u,Ra(o,0,$h[c]+2)),o=Ra(o,$h[c]+2),a?s.error(new Error(Ob)):d()):await h;const f=new Uint8Array(o.length-el-(o.length-el)%Xc);s.enqueue(qP(l,o,f,0,el,!0))},async flush(o){const{signed:s,ctr:l,hmac:u,pending:c,ready:d}=this;if(u&&l){await d;const h=Ra(c,0,c.length-el),f=Ra(c,c.length-el);let v=new Uint8Array;if(h.length){const y=Wh(Do,h);u.update(y);const A=l.update(y);v=Vh(Do,A)}if(s){const y=Ra(Vh(Do,u.digest()),0,el);for(let A=0;A<el;A++)if(y[A]!=f[A])throw new Error(zP)}o.enqueue(v)}}})}}class RY extends TransformStream{constructor({password:t,rawPassword:n,encryptionStrength:r}){let i;super({start(){Object.assign(this,{ready:new Promise(a=>this.resolveReady=a),password:VP(t,n),strength:r-1,pending:new Uint8Array})},async transform(a,o){const s=this,{password:l,strength:u,resolveReady:c,ready:d}=s;let h=new Uint8Array;l?(h=await MY(s,u,l),c()):await d;const f=new Uint8Array(h.length+a.length-a.length%Xc);f.set(h,0),o.enqueue(qP(s,a,f,h.length,0))},async flush(a){const{ctr:o,hmac:s,pending:l,ready:u}=this;if(s&&o){await u;let c=new Uint8Array;if(l.length){const d=o.update(Wh(Do,l));s.update(d),c=Vh(Do,d)}i.signature=Vh(Do,s.digest()).slice(0,el),a.enqueue(jb(c,i.signature))}}}),i=this}}function qP(e,t,n,r,i,a){const{ctr:o,hmac:s,pending:l}=e,u=t.length-i;l.length&&(t=jb(l,t),n=HY(n,u-u%Xc));let c;for(c=0;c<=u-Xc;c+=Xc){const d=Wh(Do,Ra(t,c,c+Xc));a&&s.update(d);const h=o.update(d);a||s.update(h),n.set(Vh(Do,h),c+r)}return e.pending=Ra(t,c),n}async function FY(e,t,n,r){const i=await $P(e,t,n,Ra(r,0,$h[t])),a=Ra(r,$h[t]);if(i[0]!=a[0]||i[1]!=a[1])throw new Error(UP)}async function MY(e,t,n){const r=HP(new Uint8Array($h[t])),i=await $P(e,t,n,r);return jb(r,i)}async function $P(e,t,n,r){e.password=null;const i=await UY(SY,n,PY,!1,BY),a=await zY(Object.assign({salt:r},_2),i,8*(Of[t]*2+2)),o=new Uint8Array(a),s=Wh(Do,Ra(o,0,Of[t])),l=Wh(Do,Ra(o,Of[t],Of[t]*2)),u=Ra(o,Of[t]*2);return Object.assign(e,{keys:{key:s,authentication:l,passwordVerification:u},ctr:new jY(new OY(s),Array.from(TY)),hmac:new DY(l)}),u}async function UY(e,t,n,r,i){if(H3)try{return await cp.importKey(e,t,n,r,i)}catch{return H3=!1,ju.importKey(t)}else return ju.importKey(t)}async function zY(e,t,n){if(G3)try{return await cp.deriveBits(e,t,n)}catch{return G3=!1,ju.pbkdf2(t,e.salt,_2.iterations,n)}else return ju.pbkdf2(t,e.salt,_2.iterations,n)}function VP(e,t){return t===ht?A0(e):t}function jb(e,t){let n=e;return e.length+t.length&&(n=new Uint8Array(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function HY(e,t){if(t&&t>e.length){const n=e;e=new Uint8Array(t),e.set(n,0)}return e}function Ra(e,t,n){return e.subarray(t,n)}function Vh(e,t){return e.fromBits(t)}function Wh(e,t){return e.toBits(t)}const gh=12;class GY extends TransformStream{constructor({password:t,passwordVerification:n,checkPasswordOnly:r}){super({start(){Object.assign(this,{password:t,passwordVerification:n}),WP(this,t)},transform(i,a){const o=this;if(o.password){const s=Q3(o,i.subarray(0,gh));if(o.password=null,s.at(-1)!=o.passwordVerification)throw new Error(UP);i=i.subarray(gh)}r?a.error(new Error(Ob)):a.enqueue(Q3(o,i))}})}}class QY extends TransformStream{constructor({password:t,passwordVerification:n}){super({start(){Object.assign(this,{password:t,passwordVerification:n}),WP(this,t)},transform(r,i){const a=this;let o,s;if(a.password){a.password=null;const l=HP(new Uint8Array(gh));l[gh-1]=a.passwordVerification,o=new Uint8Array(r.length+l.length),o.set(q3(a,l),0),s=gh}else o=new Uint8Array(r.length),s=0;o.set(q3(a,r),s),i.enqueue(o)}})}}function Q3(e,t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=KP(e)^t[r],Db(e,n[r]);return n}function q3(e,t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=KP(e)^t[r],Db(e,t[r]);return n}function WP(e,t){const n=[305419896,591751049,878082192];Object.assign(e,{keys:n,crcKey0:new vm(n[0]),crcKey2:new vm(n[2])});for(let r=0;r<t.length;r++)Db(e,t.charCodeAt(r))}function Db(e,t){let[n,r,i]=e.keys;e.crcKey0.append([t]),n=~e.crcKey0.get(),r=$3(Math.imul($3(r+YP(n)),134775813)+1),e.crcKey2.append([r>>>24]),i=~e.crcKey2.get(),e.keys=[n,r,i]}function KP(e){const t=e.keys[2]|2;return YP(Math.imul(t,t^1)>>>8)}function YP(e){return e&255}function $3(e){return e&4294967295}const JP="Invalid uncompressed size",qY="deflate-raw",$Y="deflate64-raw";class VY extends TransformStream{constructor(t,{chunkSize:n,CompressionStreamZlib:r,CompressionStream:i}){super({});const{compressed:a,encrypted:o,useCompressionStream:s,zipCrypto:l,signed:u,level:c}=t,d=this;let h,f,v=super.readable;(!o||l)&&u&&(h=new LP,v=Lo(v,h)),a&&(v=ZP(v,s,{level:c,chunkSize:n},i,r,i)),o&&(l?v=Lo(v,new QY(t)):(f=new RY(t),v=Lo(v,f))),XP(d,v,()=>{let y;o&&!l&&(y=f.signature),(!o||l)&&u&&(y=new DataView(h.value.buffer).getUint32(0)),d.signature=y})}}class WY extends TransformStream{constructor(t,{chunkSize:n,DecompressionStreamZlib:r,DecompressionStream:i}){super({});const{zipCrypto:a,encrypted:o,signed:s,signature:l,compressed:u,useCompressionStream:c,deflate64:d}=t;let h,f,v=super.readable;o&&(a?v=Lo(v,new GY(t)):(f=new LY(t),v=Lo(v,f))),u&&(v=ZP(v,c,{chunkSize:n,deflate64:d},i,r,i)),(!o||a)&&s&&(h=new LP,v=Lo(v,h)),XP(this,v,()=>{if((!o||a)&&s){const y=new DataView(h.value.buffer);if(l!=y.getUint32(0,!1))throw new Error(zP)}})}}function XP(e,t,n){t=Lo(t,new TransformStream({flush:n})),Object.defineProperty(e,"readable",{get(){return t}})}function ZP(e,t,n,r,i,a){const o=t&&r?r:i||a,s=n.deflate64?$Y:qY;try{e=Lo(e,new o(s,n))}catch(l){if(t)if(i)e=Lo(e,new i(s,n));else if(a)e=Lo(e,new a(s,n));else throw l;else throw l}return e}function Lo(e,t){return e.pipeThrough(t)}const KY="message",YY="start",JY="pull",V3="data",XY="ack",W3="close",e6="deflate",t6="inflate";class ZY extends TransformStream{constructor(t,n){super({});const r=this,{codecType:i}=t;let a;i.startsWith(e6)?a=VY:i.startsWith(t6)&&(a=WY),r.outputSize=0;let o=0;const s=new a(t,n),l=super.readable,u=new TransformStream({transform(d,h){d&&d.length&&(o+=d.length,h.enqueue(d))},flush(){Object.assign(r,{inputSize:o})}}),c=new TransformStream({transform(d,h){if(d&&d.length&&(h.enqueue(d),r.outputSize+=d.length,t.outputSize!==ht&&r.outputSize>t.outputSize))throw new Error(JP)},flush(){const{signature:d}=s;Object.assign(r,{signature:d,inputSize:o})}});Object.defineProperty(r,"readable",{get(){return l.pipeThrough(u).pipeThrough(s).pipeThrough(c)}})}}class eJ extends TransformStream{constructor(t){let n;super({transform:r,flush(i){n&&n.length&&i.enqueue(n)}});function r(i,a){if(n){const o=new Uint8Array(n.length+i.length);o.set(n),o.set(i,n.length),i=o,n=null}i.length>t?(a.enqueue(i.slice(0,t)),r(i.slice(t),a)):n=i}}}let n6=typeof Worker!=Cl,r6=()=>{};function tJ({initModule:e}){r6=e}class iy{constructor(t,{readable:n,writable:r},{options:i,config:a,streamOptions:o,useWebWorkers:s,transferStreams:l,workerURI:u},c){const{signal:d}=o;return Object.assign(t,{busy:!0,readable:n.pipeThrough(new eJ(a.chunkSize)).pipeThrough(new nJ(o),{signal:d}),writable:r,options:Object.assign({},i),workerURI:u,transferStreams:l,terminate(){return new Promise(h=>{const{worker:f,busy:v}=t;f?(v?t.resolveTerminated=h:(f.terminate(),h()),t.interface=null):h()})},onTaskFinished(){const{resolveTerminated:h}=t;h&&(t.resolveTerminated=null,t.terminated=!0,t.worker.terminate(),h()),t.busy=!1,c(t)}}),(s&&n6?rJ:i6)(t,a)}}class nJ extends TransformStream{constructor({onstart:t,onprogress:n,size:r,onend:i}){let a=0;super({async start(){t&&await ay(t,r)},async transform(o,s){a+=o.length,n&&await ay(n,a,r),s.enqueue(o)},async flush(){i&&await ay(i,a)}})}}async function ay(e,...t){try{await e(...t)}catch{}}function i6(e,t){return{run:()=>iJ(e,t)}}function rJ(e,t){const{baseURI:n,chunkSize:r}=t;let{wasmURI:i}=t;if(!e.interface){typeof i==zu&&(i=i());let a;try{a=sJ(e.workerURI,n,e)}catch{return n6=!1,i6(e,t)}Object.assign(e,{worker:a,interface:{run:()=>aJ(e,{chunkSize:r,wasmURI:i,baseURI:n})}})}return e.interface}async function iJ({options:e,readable:t,writable:n,onTaskFinished:r},i){let a;try{if(!e.useCompressionStream)try{await r6(i)}catch{e.useCompressionStream=!0}a=new ZY(e,i),await t.pipeThrough(a).pipeTo(n,{preventClose:!0,preventAbort:!0});const{signature:o,inputSize:s,outputSize:l}=a;return{signature:o,inputSize:s,outputSize:l}}catch(o){throw a&&(o.outputSize=a.outputSize),o}finally{r()}}async function aJ(e,t){let n,r;const i=new Promise((d,h)=>{n=d,r=h});Object.assign(e,{reader:null,writer:null,resolveResult:n,rejectResult:r,result:i});const{readable:a,options:o}=e,{writable:s,closed:l}=oJ(e.writable),u=w0({type:YY,options:o,config:t,readable:a,writable:s},e);u||Object.assign(e,{reader:a.getReader(),writer:s.getWriter()});const c=await i;return u||await s.getWriter().close(),await l,c}function oJ(e){let t;const n=new Promise(i=>t=i);return{writable:new WritableStream({async write(i){const a=e.getWriter();await a.ready,await a.write(i),a.releaseLock()},close(){t()},abort(i){return e.getWriter().abort(i)}}),closed:n}}let K3=!0;function sJ(e,t,n){const r={type:"module"};let i,a;if(typeof e==zu&&(e=e()),e.startsWith("data:")||e.startsWith("blob:"))try{a=new Worker(e)}catch{a=new Worker(e,r)}else{try{i=new URL(e,t)}catch{i=e}a=new Worker(i,r)}return a.addEventListener(KY,o=>lJ(o,n)),a}function w0(e,{worker:t,writer:n,onTaskFinished:r,transferStreams:i}){try{const{value:a,readable:o,writable:s}=e,l=[];if(a&&(e.value=a,l.push(e.value.buffer)),i&&K3?(o&&l.push(o),s&&l.push(s)):e.readable=e.writable=null,l.length)try{return t.postMessage(e,l),!0}catch{K3=!1,e.readable=e.writable=null,t.postMessage(e)}else t.postMessage(e)}catch(a){throw n&&n.releaseLock(),r(),a}}async function lJ({data:e},t){const{type:n,value:r,messageId:i,result:a,error:o}=e,{reader:s,writer:l,resolveResult:u,rejectResult:c,onTaskFinished:d}=t;try{if(o){const{message:f,stack:v,code:y,name:A,outputSize:g}=o,p=new Error(f);Object.assign(p,{stack:v,code:y,name:A,outputSize:g}),h(p)}else{if(n==JY){const{value:f,done:v}=await s.read();w0({type:V3,value:f,done:v,messageId:i},t)}n==V3&&(await l.ready,await l.write(new Uint8Array(r)),w0({type:XY,messageId:i},t)),n==W3&&h(null,a)}}catch(f){w0({type:W3,messageId:i},t),h(f)}function h(f,v){f?c(f):u(v),l&&l.releaseLock(),d()}}let cu=[];const oy=[];let Y3=0;async function a6(e,t){const{options:n,config:r}=t,{transferStreams:i,useWebWorkers:a,useCompressionStream:o,compressed:s,signed:l,encrypted:u}=n,{workerURI:c,maxWorkers:d}=r;t.transferStreams=i||i===ht;const h=!s&&!l&&!u&&!t.transferStreams;return t.useWebWorkers=!h&&(a||a===ht&&r.useWebWorkers),t.workerURI=t.useWebWorkers&&c?c:ht,n.useCompressionStream=o||o===ht&&r.useCompressionStream,(await f()).run();async function f(){const y=cu.find(A=>!A.busy);if(y)return J3(y),new iy(y,e,t,v);if(cu.length<d){const A={indexWorker:Y3};return Y3++,cu.push(A),new iy(A,e,t,v)}else return new Promise(A=>oy.push({resolve:A,stream:e,workerOptions:t}))}function v(y){if(oy.length){const[{resolve:A,stream:g,workerOptions:p}]=oy.splice(0,1);A(new iy(y,g,p,v))}else y.worker?(J3(y),uJ(y,t)):cu=cu.filter(A=>A!=y)}}function uJ(e,t){const{config:n}=t,{terminateWorkerTimeout:r}=n;Number.isFinite(r)&&r>=0&&(e.terminated?e.terminated=!1:e.terminateTimeout=setTimeout(async()=>{cu=cu.filter(i=>i!=e);try{await e.terminate()}catch{}},r))}function J3(e){const{terminateTimeout:t}=e;t&&(clearTimeout(t),e.terminateTimeout=null)}const cJ="Writer iterator completed too soon",dJ="text/plain",fJ="Content-Type",hJ=64*1024,o6="writable";class Lb{constructor(){this.size=0}init(){this.initialized=!0}}class s6 extends Lb{get readable(){const t=this,{chunkSize:n=hJ}=t,r=new ReadableStream({start(){this.chunkOffset=0},async pull(i){const{offset:a=0,size:o,diskNumberStart:s}=r,{chunkOffset:l}=this,u=o===ht?n:Math.min(n,o-l),c=await ri(t,a+l,u,s);i.enqueue(c),l+n>o||o===ht&&!c.length&&u?i.close():this.chunkOffset+=n}});return r}}class l6 extends s6{constructor(t){super(),Object.assign(this,{blob:t,size:t.size})}async readUint8Array(t,n){const r=this,i=t+n;let o=await(t||i<r.size?r.blob.slice(t,i):r.blob).arrayBuffer();return o.byteLength>n&&(o=o.slice(t,i)),new Uint8Array(o)}}class pJ extends Lb{constructor(t){super();const n=this,r=new TransformStream,i=[];t&&i.push([fJ,t]),Object.defineProperty(n,o6,{get(){return r.writable}}),n.blob=new Response(r.readable,{headers:i}).blob()}getData(){return this.blob}}class X3 extends l6{constructor(t){super(new Blob([t],{type:dJ}))}}class gJ extends s6{constructor(t){super(),this.readers=t}async init(){const t=this,{readers:n}=t;t.lastDiskNumber=0,t.lastDiskOffset=0,await Promise.all(n.map(async(r,i)=>{await r.init(),i!=n.length-1&&(t.lastDiskOffset+=r.size),t.size+=r.size})),super.init()}async readUint8Array(t,n,r=0){const i=this,{readers:a}=this;let o,s=r;s==-1&&(s=a.length-1);let l=t;for(;a[s]&&l>=a[s].size;)l-=a[s].size,s++;const u=a[s];if(u){const c=u.size;if(l+n<=c)o=await ri(u,l,n);else{const d=c-l;o=new Uint8Array(n);const h=await ri(u,l,d);o.set(h,0);const f=await i.readUint8Array(t+d,n-d,r);o.set(f,d),h.length+f.length<n&&(o=o.subarray(0,h.length+f.length))}}else o=new Uint8Array;return i.lastDiskNumber=Math.max(s,i.lastDiskNumber),o}}class Z3 extends Lb{constructor(t,n=4294967295){super();const r=this;Object.assign(r,{diskNumber:0,diskOffset:0,size:0,maxSize:n,availableSize:n});let i,a,o;const s=new WritableStream({async write(c){const{availableSize:d}=r;if(o)c.length>=d?(await l(c.subarray(0,d)),await u(),r.diskOffset+=i.size,r.diskNumber++,o=null,await this.write(c.subarray(d))):await l(c);else{const{value:h,done:f}=await t.next();if(f&&!h)throw new Error(cJ);i=h,i.size=0,i.maxSize&&(r.maxSize=i.maxSize),r.availableSize=r.maxSize,await Sl(i),a=h.writable,o=a.getWriter(),await this.write(c)}},async close(){await o.ready,await u()}});Object.defineProperty(r,o6,{get(){return s}});async function l(c){const d=c.length;d&&(await o.ready,await o.write(c),i.size+=d,r.size+=d,r.availableSize-=d)}async function u(){await o.close()}}}class Rb{constructor(t){return Array.isArray(t)&&(t=new gJ(t)),t instanceof ReadableStream&&(t={readable:t}),t}}class u6{constructor(t){return t.writable===ht&&typeof t.next==zu&&(t=new Z3(t)),t instanceof WritableStream&&(t={writable:t}),t.size===ht&&(t.size=0),t instanceof Z3||Object.assign(t,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),t}}async function Sl(e,t){if(e.init&&!e.initialized)await e.init(t);else return Promise.resolve()}function ri(e,t,n,r){return e.readUint8Array(t,n,r)}const c6="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ ".split(""),mJ=c6.length==256;function vJ(e){if(mJ){let t="";for(let n=0;n<e.length;n++)t+=c6[e[n]];return t}else return new TextDecoder().decode(e)}function b0(e,t){return t&&t.trim().toLowerCase()=="cp437"?vJ(e):new TextDecoder(t).decode(e)}const d6="filename",f6="rawFilename",Fb="comment",h6="rawComment",Mb="uncompressedSize",p6="compressedSize",g6="offset",m6="diskNumberStart",Am="lastModDate",C2="rawLastModDate",Ub="lastAccessDate",yJ="rawLastAccessDate",zb="creationDate",v6="rawCreationDate",y6="internalFileAttributes",A6="externalFileAttributes",w6="msdosAttributesRaw",b6="msdosAttributes",x6="msDosCompatible",Hb="zip64",E6="encrypted",k6="version",_6="versionMadeBy",C6="zipCrypto",x0="directory",S6="executable",N6="compressionMethod",I6="signature",P6="extraField",AJ="extraFieldInfoZip",wJ="extraFieldUnix",B6="uid",T6="gid",O6="unixMode",j6="setuid",D6="setgid",L6="sticky",bJ="bitFlag",xJ="filenameUTF8",EJ="commentUTF8",kJ="rawExtraField",_J="extraFieldZip64",CJ="extraFieldUnicodePath",SJ="extraFieldUnicodeComment",NJ="extraFieldAES",IJ="extraFieldNTFS",PJ="extraFieldExtendedTimestamp",BJ=[d6,f6,Mb,p6,Am,C2,Fb,h6,Ub,zb,v6,g6,m6,y6,A6,w6,b6,x6,Hb,E6,k6,_6,C6,x0,S6,N6,I6,P6,wJ,AJ,B6,T6,O6,j6,D6,L6,bJ,xJ,EJ,kJ,_J,CJ,SJ,NJ,IJ,PJ];class wm{constructor(t){BJ.forEach(n=>this[n]=t[n])}}const TJ="filenameEncoding",OJ="commentEncoding",jJ="decodeText",DJ="extractPrependedData",LJ="extractAppendedData",R6="password",F6="rawPassword",M6="passThrough",U6="signal",RJ="checkPasswordOnly",FJ="checkOverlappingEntryOnly",MJ="checkOverlappingEntry",UJ="checkSignature",z6="useWebWorkers",H6="useCompressionStream",zJ="transferStreams",G6="preventClose",HJ="encryptionStrength",GJ="extendedTimestamp",QJ="keepOrder",qJ="level",$J="bufferedWrite",VJ="dataDescriptorSignature",WJ="useUnicodeFileNames",KJ="dataDescriptor",Q6="supportZip64SplitFile",YJ="encodeText",ek="offset",q6="usdz",JJ="unixExtraFieldType",sy="File format is not recognized",XJ="End of central directory not found",ZJ="End of Zip64 central directory locator not found",eX="Central directory header not found",tX="Local file header not found",nX="Zip64 extra field not found",rX="File contains encrypted entry",iX="Encryption method not supported",tk="Compression method not supported",nk="Split zip file",aX="Overlapping entry found",rk="utf-8",oX="UTF8",ik="cp437",sX=[[Mb,$n],[p6,$n],[g6,$n],[m6,fn]],lX={[fn]:{getValue:Qn,bytes:4},[$n]:{getValue:sd,bytes:8}};class uX{constructor(t,n={}){Object.assign(this,{reader:new Rb(t),options:n,config:OP(),readRanges:[]})}async*getEntriesGenerator(t={}){const n=this;let{reader:r}=n;const{config:i}=n;if(await Sl(r),(r.size===ht||!r.readUint8Array)&&(r=new l6(await new Response(r.readable).blob()),await Sl(r)),r.size<fs)throw new Error(sy);r.chunkSize=jP(i);const a=await mX(r,wP,r.size,fs,fn*16);if(!a){const T=await ri(r,0,4),k=qn(T);throw Qn(k)==Pb?new Error(nk):new Error(XJ)}const o=qn(a);let s=Qn(o,12),l=Qn(o,16);const u=a.offset,c=qr(o,20),d=u+fs+c;let h=qr(o,4);const f=r.lastDiskNumber||0;let v=qr(o,6),y=qr(o,8),A=0,g=0;if(l==$n||s==$n||y==fn||v==fn){const T=await ri(r,a.offset-dh,dh),k=qn(T);if(Qn(k,0)==bP){l=sd(k,8);let _=await ri(r,l,fh,-1),O=qn(_);const j=a.offset-dh-fh;if(Qn(O,0)!=v2&&l!=j){const z=l;l=j,l>z&&(A=l-z),_=await ri(r,l,fh,-1),O=qn(_)}if(Qn(O,0)!=v2)throw new Error(ZJ);h==fn&&(h=Qn(O,16)),v==fn&&(v=Qn(O,20)),y==fn&&(y=sd(O,32)),s==$n&&(s=sd(O,40)),l-=s}}if(l>=r.size&&(A=r.size-l-s-fs,l=r.size-s-fs),f!=h)throw new Error(nk);if(l<0)throw new Error(sy);let p=0,w=await ri(r,l,s,v),x=qn(w);if(s){const T=a.offset-s;if(Qn(x,p)!=m2&&l!=T){const k=l;l=T,l>k&&(A+=l-k),w=await ri(r,l,s,v),x=qn(w)}}const C=a.offset-l-(r.lastDiskOffset||0);if(s!=C&&C>=0&&(s=C,w=await ri(r,l,s,v),x=qn(w)),l<0||l>=r.size)throw new Error(sy);const D=ni(n,t,TJ),N=ni(n,t,OJ);for(let T=0;T<y;T++){const k=new cX(r,i,n.options);if(Qn(x,p)!=m2)throw new Error(eX);$6(k,x,p+6);const _=!!k.bitFlag.languageEncodingFlag,O=p+46,j=O+k.filenameLength,z=j+k.extraFieldLength,Z=qr(x,p+4),ee=Z>>8==0,K=Z>>8==3,W=w.subarray(O,j),Q=qr(x,p+32),U=z+Q,B=w.subarray(z,U),L=_,H=_,G=Qn(x,p+38),M=G&Po,V={readOnly:!!(M&b2),hidden:!!(M&x2),system:!!(M&E2),directory:!!(M&hm),archive:!!(M&k2)},te=Qn(x,p+42)+A,J=ni(n,t,jJ)||b0,de=L?rk:D||ik,ye=H?rk:N||ik;let Ce=J(W,de);Ce===ht&&(Ce=b0(W,de));let Pe=J(B,ye);Pe===ht&&(Pe=b0(B,ye)),Object.assign(k,{versionMadeBy:Z,msDosCompatible:ee,compressedSize:0,uncompressedSize:0,commentLength:Q,offset:te,diskNumberStart:qr(x,p+34),internalFileAttributes:qr(x,p+36),externalFileAttributes:G,msdosAttributesRaw:M,msdosAttributes:V,rawFilename:W,filenameUTF8:L,commentUTF8:H,rawExtraField:w.subarray(j,z),rawComment:B,filename:Ce,comment:Pe}),g=Math.max(te,g),V6(k,k,x,p+6);const Le=k.externalFileAttributes>>16&fn;k.unixMode===ht&&Le&(v0|ph|hh)&&(k.unixMode=Le);const Ae=!!(k.unixMode&pm),oe=!!(k.unixMode&gm),Je=!!(k.unixMode&mm),he=k.unixMode!==ht?(k.unixMode&ph)!=0:K&&(Le&ph)!=0,ue=k.unixMode!==ht&&(k.unixMode&R3)==hh,ge=(Le&R3)==hh;Object.assign(k,{setuid:Ae,setgid:oe,sticky:Je,unixExternalUpper:Le,internalFileAttribute:k.internalFileAttributes,externalFileAttribute:k.externalFileAttributes,executable:he,directory:ue||ge||ee&&V.directory||Ce.endsWith(y0)&&!k.uncompressedSize,zipCrypto:k.encrypted&&!k.extraFieldAES});const Ee=new wm(k);Ee.getData=(ke,Te)=>k.getData(ke,Ee,n.readRanges,Te),Ee.arrayBuffer=async ke=>{const Te=new TransformStream,[Be]=await Promise.all([new Response(Te.readable).arrayBuffer(),k.getData(Te,Ee,n.readRanges,ke)]);return Be},p=U;const{onprogress:ae}=t;if(ae)try{await ae(T+1,y,new wm(k))}catch{}yield Ee}const I=ni(n,t,DJ),R=ni(n,t,LJ);return I&&(n.prependedData=g>0?await ri(r,0,g):new Uint8Array),n.comment=c?await ri(r,u+fs,c):new Uint8Array,R&&(n.appendedData=d<r.size?await ri(r,d,r.size-d):new Uint8Array),!0}async getEntries(t={}){const n=[];for await(const r of this.getEntriesGenerator(t))n.push(r);return n}async close(){}}class cX{constructor(t,n,r){Object.assign(this,{reader:t,config:n,options:r})}async getData(t,n,r,i={}){const a=this,{reader:o,offset:s,diskNumberStart:l,extraFieldAES:u,extraFieldZip64:c,compressionMethod:d,config:h,bitFlag:f,signature:v,rawLastModDate:y,uncompressedSize:A,compressedSize:g}=a,{dataDescriptor:p}=f,w=n.localDirectory={},x=await ri(o,s,Eu,l),C=qn(x);let D=ni(a,i,R6),N=ni(a,i,F6);const I=ni(a,i,M6);if(D=D&&D.length&&D,N=N&&N.length&&N,u&&u.originalCompressionMethod!=vP)throw new Error(tk);if(d!=mP&&d!=Ib&&d!=g2&&!I)throw new Error(tk);if(Qn(C,0)!=yP)throw new Error(tX);$6(w,C,4);const{extraFieldLength:R,filenameLength:T,lastAccessDate:k,creationDate:_}=w;w.rawExtraField=R?await ri(o,s+Eu+T,R,l):new Uint8Array,V6(a,w,C,4,!0),Object.assign(n,{lastAccessDate:k,creationDate:_});const O=a.encrypted&&w.encrypted&&!I,j=O&&!u;if(I||(n.zipCrypto=j),O){if(!j&&u.strength===ht)throw new Error(iX);if(!D&&!N)throw new Error(rX)}const z=s+Eu+T+R,Z=g,ee=o.readable;Object.assign(ee,{diskNumberStart:l,offset:z,size:Z});const K=ni(a,i,U6),W=ni(a,i,RJ);let Q=ni(a,i,MJ);const U=ni(a,i,FJ);U&&(Q=!0);const{onstart:B,onprogress:L,onend:H}=i,G=d==g2;let M=ni(a,i,H6);G&&(M=!1);const V={options:{codecType:t6,password:D,rawPassword:N,zipCrypto:j,encryptionStrength:u&&u.strength,signed:ni(a,i,UJ)&&!I,passwordVerification:j&&(p?y>>>8&Po:v>>>24&Po),outputSize:I?g:A,signature:v,compressed:d!=0&&!I,encrypted:a.encrypted&&!I,useWebWorkers:ni(a,i,z6),useCompressionStream:M,transferStreams:ni(a,i,zJ),deflate64:G,checkPasswordOnly:W},config:h,streamOptions:{signal:K,size:Z,onstart:B,onprogress:L,onend:H}};Q&&await gX({reader:o,fileEntry:n,offset:s,diskNumberStart:l,signature:v,compressedSize:g,uncompressedSize:A,dataOffset:z,dataDescriptor:p||w.bitFlag.dataDescriptor,extraFieldZip64:c||w.extraFieldZip64,readRanges:r});let te;try{if(!U){W&&(t=new WritableStream),t=new u6(t),await Sl(t,I?g:A),{writable:te}=t;const{outputSize:J}=await a6({readable:ee,writable:te},V);if(t.size+=J,J!=(I?g:A))throw new Error(JP)}}catch(J){if(J.outputSize!==ht&&(t.size+=J.outputSize),!W||J.message!=Ob)throw J}finally{!ni(a,i,G6)&&te&&!te.locked&&await te.getWriter().close()}return W||U?ht:t.getData?t.getData():te}}function $6(e,t,n){const r=e.rawBitFlag=qr(t,n+2),i=(r&y2)==y2,a=Qn(t,n+6);Object.assign(e,{encrypted:i,version:qr(t,n),bitFlag:{level:(r&mY)>>1,dataDescriptor:(r&A2)==A2,languageEncodingFlag:(r&w2)==w2},rawLastModDate:a,lastModDate:vX(a),filenameLength:qr(t,n+22),extraFieldLength:qr(t,n+24)})}function V6(e,t,n,r,i){const{rawExtraField:a}=t,o=t.extraField=new Map,s=qn(new Uint8Array(a));let l=0;try{for(;l<a.length;){const p=qr(s,l),w=qr(s,l+2);o.set(p,{type:p,data:a.slice(l+4,l+4+w)}),l+=4+w}}catch{}const u=qr(n,r+4);Object.assign(t,{signature:Qn(n,r+Tb),compressedSize:Qn(n,r+jd),uncompressedSize:Qn(n,r+Dd)});const c=o.get(kP);c&&(dX(c,t),t.extraFieldZip64=c);const d=o.get(pY);d&&(ak(d,d6,f6,t,e),t.extraFieldUnicodePath=d);const h=o.get(gY);h&&(ak(h,Fb,h6,t,e),t.extraFieldUnicodeComment=h);const f=o.get(_P);f?(fX(f,t,u),t.extraFieldAES=f):t.compressionMethod=u;const v=o.get(CP);v&&(hX(v,t),t.extraFieldNTFS=v);const y=o.get(PP);if(y)ok(y,t,!1),t.extraFieldUnix=y;else{const p=o.get(IP);p&&(ok(p,t,!0),t.extraFieldInfoZip=p)}const A=o.get(Bb);A&&(pX(A,t,i),t.extraFieldExtendedTimestamp=A);const g=o.get(NP);g&&(t.extraFieldUSDZ=g)}function dX(e,t){t.zip64=!0;const n=qn(e.data),r=sX.filter(([i,a])=>t[i]==a);for(let i=0,a=0;i<r.length;i++){const[o,s]=r[i];if(t[o]==s){const l=lX[s];t[o]=e[o]=l.getValue(n,a),a+=l.bytes}else if(e[o])throw new Error(nX)}}function ak(e,t,n,r,i){const a=qn(e.data),o=new vm;o.append(i[n]);const s=qn(new Uint8Array(4));s.setUint32(0,o.get(),!0);const l=Qn(a,1);Object.assign(e,{version:bl(a,0),[t]:b0(e.data.subarray(5)),valid:!i.bitFlag.languageEncodingFlag&&l==Qn(s,0)}),e.valid&&(r[t]=e[t],r[t+oX]=!0)}function fX(e,t,n){const r=qn(e.data),i=bl(r,4);Object.assign(e,{vendorVersion:bl(r,0),vendorId:bl(r,2),strength:i,originalCompressionMethod:n,compressionMethod:qr(r,5)}),t.compressionMethod=e.compressionMethod}function hX(e,t){const n=qn(e.data);let r=4,i;try{for(;r<e.data.length&&!i;){const a=qr(n,r),o=qr(n,r+2);a==SP&&(i=e.data.slice(r+4,r+4+o)),r+=4+o}}catch{}try{if(i&&i.length==24){const a=qn(i),o=a.getBigUint64(0,!0),s=a.getBigUint64(8,!0),l=a.getBigUint64(16,!0);Object.assign(e,{rawLastModDate:o,rawLastAccessDate:s,rawCreationDate:l});const u=ly(o),c=ly(s),d=ly(l),h={lastModDate:u,lastAccessDate:c,creationDate:d};Object.assign(e,h),Object.assign(t,h)}}catch{}}function ok(e,t,n){try{const r=qn(new Uint8Array(e.data));let i=0;const a=bl(r,i++),o=bl(r,i++),s=e.data.subarray(i,i+o);i+=o;const l=sk(s),u=bl(r,i++),c=e.data.subarray(i,i+u);i+=u;const d=sk(c);let h=ht;if(!n&&i+2<=e.data.length){const f=e.data;h=new DataView(f.buffer,f.byteOffset+i,2).getUint16(0,!0)}Object.assign(e,{version:a,uid:l,gid:d,unixMode:h}),l!==ht&&(t.uid=l),d!==ht&&(t.gid=d),h!==ht&&(t.unixMode=h)}catch{}}function sk(e){const t=new Uint8Array(4);return t.set(e,0),new DataView(t.buffer,t.byteOffset,4).getUint32(0,!0)}function pX(e,t,n){const r=qn(e.data),i=bl(r,0),a=[],o=[];n?((i&1)==1&&(a.push(Am),o.push(C2)),(i&2)==2&&(a.push(Ub),o.push(yJ)),(i&4)==4&&(a.push(zb),o.push(v6))):e.data.length>=5&&(a.push(Am),o.push(C2));let s=1;a.forEach((l,u)=>{if(e.data.length>=s+4){const c=Qn(r,s);t[l]=e[l]=new Date(c*1e3);const d=o[u];e[d]=c}s+=4})}async function gX({reader:e,fileEntry:t,offset:n,diskNumberStart:r,signature:i,compressedSize:a,uncompressedSize:o,dataOffset:s,dataDescriptor:l,extraFieldZip64:u,readRanges:c}){let d=0;if(r)for(let v=0;v<r;v++){const y=e.readers[v];d+=y.size}let h=0;if(l&&(u?h=EP:h=xP),h){const v=await ri(e,s+a,h+fm,r);if(Qn(qn(v),0)==AP){const A=Qn(qn(v),4);let g,p;u?(g=sd(qn(v),8),p=sd(qn(v),16)):(g=Qn(qn(v),8),p=Qn(qn(v),12)),(t.encrypted&&!t.zipCrypto||A==i)&&g==a&&p==o&&(h+=fm)}}const f={start:d+n,end:d+s+a+h,fileEntry:t};for(const v of c)if(v.fileEntry!=t&&f.start>=v.start&&f.start<v.end){const y=new Error(aX);throw y.overlappingEntry=v.fileEntry,y}c.push(f)}async function mX(e,t,n,r,i){const a=new Uint8Array(4),o=qn(a);yX(o,0,t);const s=r+i;return await l(r)||await l(Math.min(s,n));async function l(u){const c=n-u,d=await ri(e,c,u);for(let h=d.length-r;h>=0;h--)if(d[h]==a[0]&&d[h+1]==a[1]&&d[h+2]==a[2]&&d[h+3]==a[3])return{offset:c+h,buffer:d.slice(h,h+r).buffer}}}function ni(e,t,n){return t[n]===ht?e.options[n]:t[n]}function vX(e){const t=(e&4294901760)>>16,n=e&fn;try{return new Date(1980+((t&65024)>>9),((t&480)>>5)-1,t&31,(n&63488)>>11,(n&2016)>>5,(n&31)*2,0)}catch{}}function ly(e){return new Date(Number(e/BigInt(1e4)-BigInt(116444736e5)))}function bl(e,t){return e.getUint8(t)}function qr(e,t){return e.getUint16(t,!0)}function Qn(e,t){return e.getUint32(t,!0)}function sd(e,t){return Number(e.getBigUint64(t,!0))}function yX(e,t,n){e.setUint32(t,n,!0)}function qn(e){return new DataView(e.buffer)}const AX="File already exists",wX="Zip file comment exceeds 64KB",bX="File entry comment exceeds 64KB",xX="File entry name exceeds 64KB",lk="Version exceeds 65535",EX="The strength must equal 1, 2, or 3",kX="Extra field type exceeds 65535",_X="Extra field data exceeds 64KB",Gb="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",CX="Undefined uncompressed size",SX="Zip file not empty",NX="Invalid uid (must be integer 0..2^32-1)",IX="Invalid gid (must be integer 0..2^32-1)",PX="Invalid UNIX mode (must be integer 0..65535)",BX="Invalid unixExtraFieldType (must be 'infozip' or 'unix')",TX="Invalid msdosAttributesRaw (must be integer 0..255)",OX="Invalid msdosAttributes (must be an object with boolean flags)",uk=new Uint8Array([7,0,2,0,65,69,3,0,0]),W6="infozip",K6="unix";let uy=0;const ck=[];class jX{constructor(t,n={}){t=new u6(t);const r=t.availableSize!==ht&&t.availableSize>0&&t.availableSize!==1/0&&t.maxSize!==ht&&t.maxSize>0&&t.maxSize!==1/0;Object.assign(this,{writer:t,addSplitZipSignature:r,options:n,config:OP(),files:new Map,filenames:new Set,offset:n[ek]===ht?t.size||t.writable.size||0:n[ek],pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async prependZip(t){if(this.filenames.size)throw new Error(SX);t=new Rb(t);const n=new uX(t.readable),r=await n.getEntries();await n.close(),await t.readable.pipeTo(this.writer.writable,{preventClose:!0,preventAbort:!0}),this.writer.size=this.offset=t.size,this.filenames=new Set(r.map(i=>i.filename)),this.files=new Map(r.map(i=>{const{version:a,compressionMethod:o,lastModDate:s,lastAccessDate:l,creationDate:u,rawFilename:c,bitFlag:d,encrypted:h,uncompressedSize:f,compressedSize:v,diskOffset:y,diskNumber:A,zip64:g}=i;let{rawExtraFieldZip64:p,rawExtraFieldAES:w,rawExtraFieldExtendedTimestamp:x,rawExtraFieldNTFS:C,rawExtraFieldUnix:D,rawExtraField:N}=i;const{level:I,languageEncodingFlag:R,dataDescriptor:T}=d;p=p||new Uint8Array,w=w||new Uint8Array,x=x||new Uint8Array,C=C||new Uint8Array,D=i.rawExtraFieldUnix||new Uint8Array,N=N||new Uint8Array;const k=Qt(p,w,x,C,D,N),_=g&&f>$n,O=g&&v>$n,{headerArray:j,headerView:z}=Y6({version:a,bitFlag:J6(I,R,T,h,o),compressionMethod:o,uncompressedSize:f,compressedSize:v,lastModDate:s,rawFilename:c,zip64CompressedSize:O,zip64UncompressedSize:_,extraFieldLength:k});return Object.assign(i,{zip64UncompressedSize:_,zip64CompressedSize:O,zip64Offset:g&&this.offset-y>$n,zip64DiskNumberStart:g&&A>fn,rawExtraFieldZip64:p,rawExtraFieldAES:w,rawExtraFieldExtendedTimestamp:x,rawExtraFieldNTFS:C,rawExtraFieldUnix:D,rawExtraField:N,extendedTimestamp:x.length>0||C.length>0,extraFieldExtendedTimestampFlag:1+(l?2:0)+(u?4:0),headerArray:j,headerView:z}),[i.filename,i]}))}async add(t="",n,r={}){const i=this,{pendingAddFileCalls:a,config:o}=i;uy<o.maxWorkers?uy++:await new Promise(l=>ck.push(l));let s;try{if(t=t.trim(),i.filenames.has(t))throw new Error(AX);return i.filenames.add(t),s=DX(i,t,n,r),a.add(s),await s}catch(l){throw i.filenames.delete(t),l}finally{a.delete(s);const l=ck.shift();l?l():uy--}}remove(t){const{filenames:n,files:r}=this;if(typeof t=="string"&&(t=r.get(t)),t&&t.filename!==ht){const{filename:i}=t;if(n.has(i)&&r.has(i))return n.delete(i),r.delete(i),!0}return!1}async close(t=new Uint8Array,n={}){const r=this,{pendingAddFileCalls:i,writer:a}=this,{writable:o}=a;for(;i.size;)await Promise.allSettled(Array.from(i));return await QX(r,t,n),zt(r,n,G6)||await o.getWriter().close(),a.getData?a.getData():o}}async function DX(e,t,n,r){t=t.trim();let i=zt(e,r,x6),a=zt(e,r,_6,i?20:768);const o=zt(e,r,S6),s=zt(e,r,B6),l=zt(e,r,T6);let u=zt(e,r,O6);const c=zt(e,r,JJ);let d=zt(e,r,j6),h=zt(e,r,D6),f=zt(e,r,L6);if(s!==ht&&(s<0||s>$n))throw new Error(NX);if(l!==ht&&(l<0||l>$n))throw new Error(IX);if(u!==ht&&(u<0||u>fn))throw new Error(PX);if(c!==ht&&c!==W6&&c!==K6)throw new Error(BX);let v=zt(e,r,w6),y=zt(e,r,b6);const A=s!==ht||l!==ht||u!==ht||c,g=v!==ht||y!==ht;if(A?(i=!1,a=a&fn|768):g&&(i=!0,a=a&Po),v!==ht&&(v<0||v>Po))throw new Error(TX);if(y&&typeof y!==bY)throw new Error(OX);if(a>fn)throw new Error(lk);let p=zt(e,r,A6,0);!r[x0]&&t.endsWith(y0)&&(r[x0]=!0);const w=zt(e,r,x0);w?(t.endsWith(y0)||(t+=y0),p===0&&(p=hm,i||(p|=(hh|ph|v0)<<16))):!i&&p===0&&(o?p=(ph|v0)<<16:p=v0<<16);let x;i||(x=p>>16&fn,u=u===ht?x:u&fn,d?u|=pm:d=!!(u&pm),h?u|=gm:h=!!(u&gm),f?u|=mm:f=!!(u&mm),w&&(u|=hh),p=(u&fn)<<16|p&Po),{msdosAttributesRaw:v,msdosAttributes:y}=UX(v,y),g&&(p=p&$n|v&Po);const C=zt(e,r,YJ,A0);let D=C(t);if(D===ht&&(D=A0(t)),Qt(D)>fn)throw new Error(xX);const N=r[Fb]||"";let I=C(N);if(I===ht&&(I=A0(N)),Qt(I)>fn)throw new Error(bX);const R=zt(e,r,k6,wY);if(R>fn)throw new Error(lk);const T=zt(e,r,Am,new Date),k=zt(e,r,Ub),_=zt(e,r,zb),O=zt(e,r,y6,0),j=zt(e,r,M6);let z,Z;j||(z=zt(e,r,R6),Z=zt(e,r,F6));const ee=zt(e,r,HJ,3),K=zt(e,r,C6),W=zt(e,r,GJ,!0),Q=zt(e,r,QJ,!0),U=zt(e,r,z6),B=zt(e,r,$J),L=zt(e,r,VJ,!1),H=zt(e,r,U6),G=zt(e,r,WJ,!0),M=zt(e,r,N6);let V=zt(e,r,qJ),te=zt(e,r,H6),J=zt(e,r,KJ);B&&J===ht&&(J=!1),(J===ht||K)&&(J=!0),V!==ht&&V!=6&&(te=!1),!te&&e.config.CompressionStream===ht&&e.config.CompressionStreamZlib===ht&&(V=0);let de=zt(e,r,Hb);if(!K&&(z!==ht||Z!==ht)&&!(ee>=1&&ee<=3))throw new Error(EX);let ye=new Uint8Array;const Ce=r[P6];if(Ce){let Xe=0,Ue=0;Ce.forEach(yt=>Xe+=4+Qt(yt)),ye=new Uint8Array(Xe),Ce.forEach((yt,dt)=>{if(dt>fn)throw new Error(kX);if(Qt(yt)>fn)throw new Error(_X);Fn(ye,new Uint16Array([dt]),Ue),Fn(ye,new Uint16Array([Qt(yt)]),Ue+2),Fn(ye,yt,Ue+4),Ue+=4+Qt(yt)})}let Pe=0,Le=0,Ae=0;if(j&&(Ae=r[Mb],Ae===ht))throw new Error(CX);const oe=de===!0;n&&(n=new Rb(n),await Sl(n),j?(r.uncompressedSize=Ae,Pe=hk(Ae)):n.size===ht?(J=!0,(de||de===ht)&&(de=!0,Ae=Pe=$n+1)):(r.uncompressedSize=Ae=n.size,Pe=hk(Ae)));const{diskOffset:Je,diskNumber:he,maxSize:ue}=e.writer,ge=oe||Ae>$n,Ee=oe||Pe>$n,ae=oe||e.offset+e.pendingEntriesSize-Je>$n,Te=zt(e,r,Q6,!0)&&oe||he+Math.ceil(e.pendingEntriesSize/ue)>fn;if(ae||ge||Ee||Te){if(de===!1||!Q)throw new Error(Gb);de=!0}de=de||!1;const Be=zt(e,r,E6);r=Object.assign({},r,{rawFilename:D,rawComment:I,version:R,versionMadeBy:a,lastModDate:T,lastAccessDate:k,creationDate:_,rawExtraField:ye,zip64:de,zip64UncompressedSize:ge,zip64CompressedSize:Ee,zip64Offset:ae,zip64DiskNumberStart:Te,password:z,rawPassword:Z,level:V,useWebWorkers:U,encryptionStrength:ee,extendedTimestamp:W,zipCrypto:K,bufferedWrite:B,keepOrder:Q,useUnicodeFileNames:G,dataDescriptor:J,dataDescriptorSignature:L,signal:H,msDosCompatible:i,internalFileAttribute:O,internalFileAttributes:O,externalFileAttribute:p,externalFileAttributes:p,useCompressionStream:te,passThrough:j,encrypted:!!(z&&Qt(z)||Z&&Qt(Z))||j&&Be,signature:r[I6],compressionMethod:M,uncompressedSize:Ae,offset:e.offset-Je,diskNumberStart:he,uid:s,gid:l,setuid:d,setgid:h,sticky:f,unixMode:u,msdosAttributesRaw:v,msdosAttributes:y,unixExternalUpper:x});const Ke=FX(r),nt=zX(r),Ze=Qt(Ke.localHeaderArray,nt.dataDescriptorArray);Le=Ze+Pe,e.options[q6]&&(Le+=Le+64),e.pendingEntriesSize+=Le;let rt;try{rt=await LX(e,t,n,{headerInfo:Ke,dataDescriptorInfo:nt,metadataSize:Ze},r)}finally{e.pendingEntriesSize-=Le}return Object.assign(rt,{name:t,comment:N,extraField:Ce}),new wm(rt)}async function LX(e,t,n,r,i){const{files:a,writer:o}=e,{keepOrder:s,dataDescriptor:l,signal:u}=i,{headerInfo:c}=r,d=e.options[q6],h=Array.from(a.values()).pop();let f={},v,y,A,g,p,w,x;a.set(t,f);try{let I;s&&(I=h&&h.lock,C()),(i.bufferedWrite||e.writerLocked||e.bufferedWrites&&s||!l)&&!d?(w=new TransformStream,w.size=0,v=!0,e.bufferedWrites++,await Sl(o)):(w=o,await D()),await Sl(w);const{writable:R,diskOffset:T}=o;if(e.addSplitZipSignature){delete e.addSplitZipSignature;const z=new Uint8Array(4),Z=jr(z);Wt(Z,0,Pb),await ms(o,z),e.offset+=4}d&&MX(r,e.offset-T);const{localHeaderView:k,localHeaderArray:_}=c;v||(await I,await N(R));const{diskNumber:O}=o;p=!0,f.diskNumberStart=O,v?x=new Response(w.readable).blob():await ms(w,_),f=await RX(n,w,f,r,e.config,i);const{zip64:j}=f;if(p=!1,a.set(t,f),f.filename=t,v){const[z]=await Promise.all([x,w.writable.getWriter().close(),I]);await D(),g=!0,f.diskNumberStart=o.diskNumber,f.offset=e.offset-o.diskOffset,j&&fk(f),GX(f,k,i),await N(R),await ms(o,_),await z.stream().pipeTo(R,{preventClose:!0,preventAbort:!0,signal:u}),o.size+=w.size,g=!1}else f.offset=e.offset-T,j&&fk(f);if(f.offset>$n&&!j)throw new Error(Gb);return e.offset+=f.size,f}catch(I){if(v&&g||!v&&p){if(e.hasCorruptedEntries=!0,I)try{I.corruptedEntry=!0}catch{}v?e.offset+=w.size:e.offset=w.size}throw a.delete(t),I}finally{v&&e.bufferedWrites--,A&&A(),y&&y()}function C(){f.lock=new Promise(I=>A=I)}async function D(){e.writerLocked=!0;const{lockWriter:I}=e;e.lockWriter=new Promise(R=>y=()=>{e.writerLocked=!1,R()}),await I}async function N(I){Qt(c.localHeaderArray)>o.availableSize&&(o.availableSize=0,await ms(I,new Uint8Array))}}async function RX(e,t,{diskNumberStart:n,lock:r},i,a,o){const{headerInfo:s,dataDescriptorInfo:l,metadataSize:u}=i,{headerArray:c,headerView:d,lastModDate:h,rawLastModDate:f,encrypted:v,compressed:y,version:A,compressionMethod:g,rawExtraFieldZip64:p,localExtraFieldZip64Length:w,rawExtraFieldExtendedTimestamp:x,extraFieldExtendedTimestampFlag:C,rawExtraFieldNTFS:D,rawExtraFieldUnix:N,rawExtraFieldAES:I}=s,{dataDescriptorArray:R}=l,{rawFilename:T,lastAccessDate:k,creationDate:_,password:O,rawPassword:j,level:z,zip64:Z,zip64UncompressedSize:ee,zip64CompressedSize:K,zip64Offset:W,zip64DiskNumberStart:Q,zipCrypto:U,dataDescriptor:B,directory:L,executable:H,versionMadeBy:G,rawComment:M,rawExtraField:V,useWebWorkers:te,onstart:J,onprogress:de,onend:ye,signal:Ce,encryptionStrength:Pe,extendedTimestamp:Le,msDosCompatible:Ae,internalFileAttributes:oe,externalFileAttributes:Je,uid:he,gid:ue,unixMode:ge,setuid:Ee,setgid:ae,sticky:ke,unixExternalUpper:Te,msdosAttributesRaw:Be,msdosAttributes:Ke,useCompressionStream:nt,passThrough:Ze}=o,rt={lock:r,versionMadeBy:G,zip64:Z,directory:!!L,executable:!!H,filenameUTF8:!0,rawFilename:T,commentUTF8:!0,rawComment:M,rawExtraFieldZip64:p,localExtraFieldZip64Length:w,rawExtraFieldExtendedTimestamp:x,rawExtraFieldNTFS:D,rawExtraFieldUnix:N,rawExtraFieldAES:I,rawExtraField:V,extendedTimestamp:Le,msDosCompatible:Ae,internalFileAttributes:oe,externalFileAttributes:Je,diskNumberStart:n,uid:he,gid:ue,unixMode:ge,setuid:Ee,setgid:ae,sticky:ke,unixExternalUpper:Te,msdosAttributesRaw:Be,msdosAttributes:Ke};let{signature:Xe,uncompressedSize:Ue}=o,yt=0;Ze||(Ue=0);const{writable:dt}=t;if(e){e.chunkSize=jP(a);const Ht=e.readable,Et=e.size,Ot={options:{codecType:e6,level:z,rawPassword:j,password:O,encryptionStrength:Pe,zipCrypto:v&&U,passwordVerification:v&&U&&f>>8&Po,signed:!Ze,compressed:y&&!Ze,encrypted:v&&!Ze,useWebWorkers:te,useCompressionStream:nt,transferStreams:!1},config:a,streamOptions:{signal:Ce,size:Et,onstart:J,onprogress:de,onend:ye}};try{const on=await a6({readable:Ht,writable:dt},Ot);yt=on.outputSize,t.size+=yt,Ze||(Ue=on.inputSize,Xe=on.signature)}catch(on){throw on.outputSize!==ht&&(t.size+=on.outputSize),on}}return HX({signature:Xe,compressedSize:yt,uncompressedSize:Ue,headerInfo:s,dataDescriptorInfo:l},o),B&&await ms(t,R),Object.assign(rt,{uncompressedSize:Ue,compressedSize:yt,lastModDate:h,rawLastModDate:f,creationDate:_,lastAccessDate:k,encrypted:v,zipCrypto:U,size:u+yt,compressionMethod:g,version:A,headerArray:c,headerView:d,signature:Xe,extraFieldExtendedTimestampFlag:C,zip64UncompressedSize:ee,zip64CompressedSize:K,zip64Offset:W,zip64DiskNumberStart:Q}),rt}function FX(e){const{rawFilename:t,lastModDate:n,lastAccessDate:r,creationDate:i,level:a,zip64:o,zipCrypto:s,useUnicodeFileNames:l,dataDescriptor:u,directory:c,rawExtraField:d,encryptionStrength:h,extendedTimestamp:f,passThrough:v,encrypted:y,zip64UncompressedSize:A,zip64CompressedSize:g,zip64Offset:p,zip64DiskNumberStart:w,uncompressedSize:x,offset:C,diskNumberStart:D}=e;let{version:N,compressionMethod:I}=e;const R=!c&&(a>0||a===ht&&I!==0);let T;const k=v||!R,_=o&&(e.bufferedWrite||!A&&!g||k);if(o){let M=4;A&&(M+=8),g&&(M+=8),p&&(M+=8),w&&(M+=4),T=new Uint8Array(M);const V=jr(T);if(Xt(V,0,kP),Xt(V,2,Qt(T)-4),_){const te=jr(T);let J=4;A&&(Sr(te,J,BigInt(x)),J+=8),g&&k&&(Sr(te,J,BigInt(x)),J+=8),p&&(Sr(te,J,BigInt(C)),J+=8),w&&(Wt(te,J,D),J+=4)}}else T=new Uint8Array;let O;if(y&&!s){O=new Uint8Array(Qt(uk)+2);const M=jr(O);Xt(M,0,_P),Fn(O,uk,2),Lc(M,8,h)}else O=new Uint8Array;let j,z,Z;if(f){z=new Uint8Array(9+(r?4:0)+(i?4:0));const M=jr(z);Xt(M,0,Bb),Xt(M,2,Qt(z)-4),Z=1+(r?2:0)+(i?4:0),Lc(M,4,Z);let V=5;Wt(M,V,Math.floor(n.getTime()/1e3)),V+=4,r&&(Wt(M,V,Math.floor(r.getTime()/1e3)),V+=4),i&&Wt(M,V,Math.floor(i.getTime()/1e3));try{j=new Uint8Array(36);const te=jr(j),J=cy(n);Xt(te,0,CP),Xt(te,2,32),Xt(te,8,SP),Xt(te,10,24),Sr(te,12,J),Sr(te,20,cy(r)||J),Sr(te,28,cy(i)||J)}catch{j=new Uint8Array}}else j=z=new Uint8Array;let ee;try{const{uid:M,gid:V,unixMode:te,setuid:J,setgid:de,sticky:ye,unixExtraFieldType:Ce}=e;if(Ce&&(M!==ht||V!==ht||te!==ht)){const Pe=dk(M),Le=dk(V);let Ae=new Uint8Array;if(Ce==K6&&te!==ht){let ue=te&fn;J&&(ue|=pm),de&&(ue|=gm),ye&&(ue|=mm),Ae=new Uint8Array(2),new DataView(Ae.buffer).setUint16(0,ue,!0)}const oe=3+Pe.length+Le.length+Ae.length;ee=new Uint8Array(4+oe);const Je=jr(ee);Xt(Je,0,Ce==W6?IP:PP),Xt(Je,2,oe),Lc(Je,4,1),Lc(Je,5,Pe.length);let he=6;Fn(ee,Pe,he),he+=Pe.length,Lc(Je,he,Le.length),he++,Fn(ee,Le,he),he+=Le.length,Fn(ee,Ae,he)}else ee=new Uint8Array}catch{ee=new Uint8Array}I===ht&&(I=R?Ib:mP),o&&(N=N>F3?N:F3),y&&!s&&(N=N>M3?N:M3,O[9]=I,I=vP);const K=_?Qt(T):0,W=K+Qt(O,z,j,ee,d),{headerArray:Q,headerView:U,rawLastModDate:B}=Y6({version:N,bitFlag:J6(a,l,u,y,I),compressionMethod:I,uncompressedSize:x,lastModDate:n<z3?z3:n>U3?U3:n,rawFilename:t,zip64CompressedSize:g,zip64UncompressedSize:A,extraFieldLength:W});let L=Eu;const H=new Uint8Array(L+Qt(t)+W),G=jr(H);return Wt(G,0,yP),Fn(H,Q,4),Fn(H,t,L),L+=Qt(t),_&&Fn(H,T,L),L+=K,Fn(H,O,L),L+=Qt(O),Fn(H,z,L),L+=Qt(z),Fn(H,j,L),L+=Qt(j),Fn(H,ee,L),L+=Qt(ee),Fn(H,d,L),u&&(Wt(G,jd+4,0),Wt(G,Dd+4,0)),{localHeaderArray:H,localHeaderView:G,headerArray:Q,headerView:U,lastModDate:n,rawLastModDate:B,encrypted:y,compressed:R,version:N,compressionMethod:I,extraFieldExtendedTimestampFlag:Z,rawExtraFieldZip64:T,localExtraFieldZip64Length:K,rawExtraFieldExtendedTimestamp:z,rawExtraFieldNTFS:j,rawExtraFieldUnix:ee,rawExtraFieldAES:O,extraFieldLength:W}}function MX(e,t){const{headerInfo:n}=e;let{localHeaderArray:r,extraFieldLength:i}=n,a=jr(r),o=64-(t+Qt(r))%64;o<4&&(o+=64);const s=new Uint8Array(o),l=jr(s);Xt(l,0,NP),Xt(l,2,o-2);const u=r;n.localHeaderArray=r=new Uint8Array(Qt(u)+o),Fn(r,u),Fn(r,s,Qt(u)),a=jr(r),Xt(a,28,i+o),e.metadataSize+=o}function dk(e){if(e===ht)return new Uint8Array;{const t=new Uint8Array(4);jr(t).setUint32(0,e,!0);let r=4;for(;r>1&&t[r-1]===0;)r--;return t.subarray(0,r)}}function UX(e,t){if(e!==ht)e=e&Po;else if(t!==ht){const{readOnly:n,hidden:r,system:i,directory:a,archive:o}=t;let s=0;n&&(s|=b2),r&&(s|=x2),i&&(s|=E2),a&&(s|=hm),o&&(s|=k2),e=s&Po}return t===ht&&(t={readOnly:!!(e&b2),hidden:!!(e&x2),system:!!(e&E2),directory:!!(e&hm),archive:!!(e&k2)}),{msdosAttributesRaw:e,msdosAttributes:t}}function zX({zip64:e,dataDescriptor:t,dataDescriptorSignature:n}){let r=new Uint8Array,i,a=0,o=e?EP:xP;return n&&(o+=fm),t&&(r=new Uint8Array(o),i=jr(r),n&&(a=fm,Wt(i,0,AP))),{dataDescriptorArray:r,dataDescriptorView:i,dataDescriptorOffset:a}}function HX({signature:e,compressedSize:t,uncompressedSize:n,headerInfo:r,dataDescriptorInfo:i},{zip64:a,zipCrypto:o,dataDescriptor:s}){const{headerView:l,encrypted:u}=r,{dataDescriptorView:c,dataDescriptorOffset:d}=i;(!u||o)&&e!==ht&&(Wt(l,Tb,e),s&&Wt(c,d,e)),a?s&&(Sr(c,d+4,BigInt(t)),Sr(c,d+12,BigInt(n))):(Wt(l,jd,t),Wt(l,Dd,n),s&&(Wt(c,d+4,t),Wt(c,d+8,n)))}function GX({rawFilename:e,encrypted:t,zip64:n,localExtraFieldZip64Length:r,signature:i,compressedSize:a,uncompressedSize:o,offset:s,diskNumberStart:l,zip64UncompressedSize:u,zip64CompressedSize:c,zip64Offset:d,zip64DiskNumberStart:h},f,{dataDescriptor:v}){if(v||(t||Wt(f,Tb+4,i),n||(Wt(f,jd+4,a),Wt(f,Dd+4,o))),n&&r){let y=Eu+Qt(e)+4;u&&(Sr(f,y,BigInt(o)),y+=8),c&&(Sr(f,y,BigInt(a)),y+=8),d&&(Sr(f,y,BigInt(s)),y+=8),h&&Wt(f,y,l)}}function fk({compressedSize:e,uncompressedSize:t,offset:n,diskNumberStart:r,zip64UncompressedSize:i,zip64CompressedSize:a,zip64Offset:o,zip64DiskNumberStart:s,rawExtraFieldZip64:l}){const u=jr(l);let c=4;i&&(Sr(u,c,BigInt(t)),c+=8),a&&(Sr(u,c,BigInt(e)),c+=8),o&&(Sr(u,c,BigInt(n)),c+=8),s&&Wt(u,c,r)}async function QX(e,t,n){const{files:r,writer:i}=e,{diskOffset:a}=i;let{diskNumber:o}=i,s=0,l=0,u=e.offset-a,c=r.size;for(const[,x]of r){const{rawFilename:C,rawExtraFieldZip64:D,rawExtraFieldAES:N,rawComment:I,rawExtraFieldNTFS:R,rawExtraFieldUnix:T,rawExtraField:k,extendedTimestamp:_,extraFieldExtendedTimestampFlag:O,lastModDate:j}=x;let z;if(_){z=new Uint8Array(9);const Z=jr(z);Xt(Z,0,Bb),Xt(Z,2,5),Lc(Z,4,O),Wt(Z,5,Math.floor(j.getTime()/1e3))}else z=new Uint8Array;x.rawExtraFieldExtendedTimestamp=z,l+=46+Qt(C,I,D,N,R,T,z,k)}const d=new Uint8Array(l),h=jr(d);await Sl(i);let f=0;for(const[x,C]of Array.from(r.values()).entries()){const{offset:D,rawFilename:N,rawExtraFieldZip64:I,rawExtraFieldAES:R,rawExtraFieldExtendedTimestamp:T,rawExtraFieldNTFS:k,rawExtraFieldUnix:_,rawExtraField:O,rawComment:j,versionMadeBy:z,headerArray:Z,headerView:ee,zip64:K,zip64UncompressedSize:W,zip64CompressedSize:Q,zip64DiskNumberStart:U,zip64Offset:B,internalFileAttributes:L,externalFileAttributes:H,diskNumberStart:G,uncompressedSize:M,compressedSize:V}=C,te=Qt(I,R,T,k,_,O);Wt(h,s,m2),Xt(h,s+4,z),W||Wt(ee,Dd,M),Q||Wt(ee,jd,V),Fn(d,Z,s+6);let J=s+Eu;if(Xt(h,J,te),J+=2,Xt(h,J,Qt(j)),J+=2,Xt(h,J,K&&U?fn:G),J+=2,Xt(h,J,L),J+=2,H&&Wt(h,J,H),J+=4,Wt(h,J,K&&B?$n:D),J+=4,Fn(d,N,J),J+=Qt(N),Fn(d,I,J),J+=Qt(I),Fn(d,R,J),J+=Qt(R),Fn(d,T,J),J+=Qt(T),Fn(d,k,J),J+=Qt(k),Fn(d,_,J),J+=Qt(_),Fn(d,O,J),J+=Qt(O),Fn(d,j,J),J+=Qt(j),s-f>i.availableSize&&(i.availableSize=0,await ms(i,d.slice(f,s)),f=s),s=J,n.onprogress)try{await n.onprogress(x+1,r.size,new wm(C))}catch{}}await ms(i,f?d.slice(f):d);let v=i.diskNumber;const{availableSize:y}=i;y<fs&&v++;let A=zt(e,n,Hb);if(u>$n||l>$n||c>fn||v>fn){if(A===!1)throw new Error(Gb);A=!0}const g=new Uint8Array(A?hY:fs),p=jr(g);s=0,A&&(Wt(p,0,v2),Sr(p,4,BigInt(44)),Xt(p,12,45),Xt(p,14,45),Wt(p,16,v),Wt(p,20,o),Sr(p,24,BigInt(c)),Sr(p,32,BigInt(c)),Sr(p,40,BigInt(l)),Sr(p,48,BigInt(u)),Wt(p,56,bP),Sr(p,64,BigInt(u)+BigInt(l)),Wt(p,72,v+1),zt(e,n,Q6,!0)&&(v=fn,o=fn),c=fn,u=$n,l=$n,s+=fh+dh),Wt(p,s,wP),Xt(p,s+4,v),Xt(p,s+6,o),Xt(p,s+8,c),Xt(p,s+10,c),Wt(p,s+12,l),Wt(p,s+16,u);const w=Qt(t);if(w)if(w<=fn)Xt(p,s+20,w);else throw new Error(wX);await ms(i,g),w&&await ms(i,t)}async function ms(e,t){const{writable:n}=e,r=n.getWriter();try{await r.ready,e.size+=Qt(t),await r.write(t)}finally{r.releaseLock()}}function cy(e){if(e)return(BigInt(e.getTime())+BigInt(116444736e5))*BigInt(1e4)}function zt(e,t,n,r){const i=t[n]===ht?e.options[n]:t[n];return i===ht?r:i}function hk(e){return e+5*(Math.floor(e/16383)+1)}function Lc(e,t,n){e.setUint8(t,n)}function Xt(e,t,n){e.setUint16(t,n,!0)}function Wt(e,t,n){e.setUint32(t,n,!0)}function Sr(e,t,n){e.setBigUint64(t,n,!0)}function Fn(e,t,n){e.set(t,n)}function jr(e){return new DataView(e.buffer)}function Qt(...e){let t=0;return e.forEach(n=>n&&(t+=n.length)),t}function Y6({version:e,bitFlag:t,compressionMethod:n,uncompressedSize:r,compressedSize:i,lastModDate:a,rawFilename:o,zip64CompressedSize:s,zip64UncompressedSize:l,extraFieldLength:u}){const c=new Uint8Array(Eu-4),d=jr(c);Xt(d,0,e),Xt(d,2,t),Xt(d,4,n);const h=new Uint32Array(1),f=jr(h);Xt(f,0,(a.getHours()<<6|a.getMinutes())<<5|a.getSeconds()/2),Xt(f,2,(a.getFullYear()-1980<<4|a.getMonth()+1)<<5|a.getDate());const v=h[0];return Wt(d,6,v),(s||i!==ht)&&Wt(d,jd,s?$n:i),(l||r!==ht)&&Wt(d,Dd,l?$n:r),Xt(d,22,Qt(o)),Xt(d,24,u),{headerArray:c,headerView:d,rawLastModDate:v}}function J6(e,t,n,r,i){let a=0;return t&&(a=a|w2),n&&(a=a|A2),(i==Ib||i==g2)&&(e>=0&&e<=3&&(a=a|AY),e>3&&e<=5&&(a=a|yY),e==9&&(a=a|vY)),r&&(a=a|y2),a}try{r1({baseURI:import.meta.url})}catch{}const aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function qX(e){let t;e({wasmURI:()=>(t||(t="data:application/wasm;base64,"+(n=>{n=(o=>{const s=(o=(o+"").replace(/[^A-Za-z0-9+/=]/g,"")).length,l=[];for(let u=0;s>u;u+=4){const c=aa.indexOf(o[u])<<18|aa.indexOf(o[u+1])<<12|(63&aa.indexOf(o[u+2]))<<6|63&aa.indexOf(o[u+3]);l.push(c>>16&255),o[u+2]!=="="&&l.push(c>>8&255),o[u+3]!=="="&&l.push(255&c)}return new Uint8Array(l)})(n);let r=new Uint8Array(1024),i=0;for(let o=0;o<n.length;){const s=n[o++];if(128&s){const l=3+(127&s),u=n[o++]<<8|n[o++],c=i-u;a(i+l);for(let d=0;l>d;d++)r[i++]=r[c+d]}else{const l=s;a(i+l);for(let u=0;l>u&&o<n.length;u++)r[i++]=n[o++]}}return(o=>{let s="";const l=o.length;let u=0;for(;l>u+2;u+=3){const d=o[u]<<16|o[u+1]<<8|o[u+2];s+=aa[d>>18&63]+aa[d>>12&63]+aa[d>>6&63]+aa[63&d]}const c=l-u;if(c===1){const d=o[u]<<16;s+=aa[d>>18&63]+aa[d>>12&63]+"=="}else if(c===2){const d=o[u]<<16|o[u+1]<<8;s+=aa[d>>18&63]+aa[d>>12&63]+aa[d>>6&63]+"="}return s})(new Uint8Array(r.buffer.slice(0,i)));function a(o){if(r.length<o){let s=2*r.length;for(;o>s;)s*=2;const l=new Uint8Array(s);l.set(r.subarray(0,i)),r=l}}})("FQBhc20BAAAAAUULYAF/AX9gAn9/AIEABYAACwIDf4IABwEBgAARAQaAAAuDAA6BABUDAGAAgAADgAANAQSBABUDAGAHgwAegAAfEgNCQQcABAEABAgIAAIABQIKAIAAB4EAAwEFgQAHAgICgQAHEAEDAAUGAAMDBQQJBAQJAQaAAAEeAAIEAwIEAgIBBAcDAwQFAXABDQ0FBgEBggKCAgYIgACYIkHQ1QQLB4oEHAZtZW1vcnkCAAxpbmZsYXRlOV9uZXcABw2GAA8HaW5pdAAIEYoAEAdfcmF3AAoQhgAUCXByb2Nlc3MAC4cARgZlbmQADhaGAA8QbGFzdF9jb25zdW1lZAARC4QAGYMAbYUANoMAbAEShQBYhwBrARSFAH+DABMHZ3ppcAAVD4UAFIUAfgEWhgBWgQB9AhgVhQAOjQB8AmRliQB8hQAOggB8AhoQiQAPggB8AhsRigATggB8AhwPhQAUhQB8AR2GAFaBAHwJHwRmcmVlAAIVhQAVjACDCgZtYWxsb2MAAQuCAFUKaWFsaXplAAAZX4AADxZkaXJlY3RfZnVuY3Rpb25fdGFibGUBgAAcG2Vtc2NyaXB0ZW5fc3RhY2tfcmVzdG9yZQAFHI4AGwJnZYAAbw51cnJlbnQABiJfX2N4YYAAWwRjcmVtgAASBl9leGNlcIIAXQZyZWZjb3WAACUtPQkSAQBBAQsMACEiDA8XGR4+NTg7CqHlAkECAAu/JwELfyMAQRBrIgokAAJAjwACEiAAQfQBTQRAQaQnKAIAIgNBEIAAEgYLakH4A3GBAAkQSRsiBkEDdiIAdiIBQQNxBIEAMgYBQX9zQQGAAB8GaiICQQN0gAAZDMwnaiIAIAEoAtQnIoAABgQIIgVGggBSCSADQX4gAndxNoACphEBCyAFIAA2AgwgACAFNgIIC4AASAMIaiGAADcBIIIARoAABQRyNgIEgQAPA2oiAYEATQMEQQGBABIHDAsLIAZBrIIAnwMITQ2AABuBAIYEQQIgAIEANQUAIAJrcoAANQQAdHFogQCjA3QiAIIAj4AAH4IAj4AABosAjwUBd3EiA4YAkQECgQCRAQKEAJEBAIAAaIMAhYAACgJqIoAAjIIA3wUgBmsiBYMAjIAAGQIBaoEALgoAIAgEQCAIQXhxgQBuBCEBQbiBAKAEIQICf4AAZQEBgAAZBwN2dCIHcUWEAHgCIAeAAD6AADyBAHWBASEDCyEDgQDpgAB2gAAchACEAQGDAAeAAJyBAIuCARyAAFYCIASAADmAAP6CAHWAAQsCQaiCAQkCC0WAAQkFC2hBAnSAAOYDKSICgQEuAnhxgACqByEEIAIhAQOCAagFKAIQIgCAAIOBAAoBFIAACgENgAB+gAEQhAAqgADZgQFuBQRJIgEbgAA2gAFJASCAAAmAATgBIYEApwILIIAAVAMYIQmAABaAAAkEDCIAR4AASIAACgEIgAA3hAHGgACxAwgMCoIAKQUUIgEEf4AByAIUaoABU4EAdwMBRQ2AANkOQRBqCyEFA0AgBSEHIAGAAZoDFGohgAIFggAwAg0AgADlARCEABCAADEGDQALIAdBgABbCAAMCQtBfyEGgAAfA79/S4IAJwELgAISgAC1AiEGhAD+CAdFDQBBHyEIgAH+ggDygALEA///B4ACxoABwQEmgQJYBnZnIgBrdoICpQpBAXRrQT5qIQgLhALxAQiFATUBAYEBngIAIYECCoEAB4AAPAEZgAAdAwF2a4AAVwgIQR9HG3QhAoUBSYUBNAQDIARPgACTAQGAALcDAyIEgACGAQCAAH8BAYAARAEDgQI/ggFoAQOAAdOBAtQGHXZBBHFqggDcAkYbgAAdAgMbgABkAQKAAI+AAWSBAO6BADECBXKDAIQBBYACzwEIgQK7gADugALPAgdxgQGuAwMgAIUB4QEhgAEdggHAgAFMiAHCAQKAAb4BIYAAbIEByYMBxAEFgQAJhQFTgAGTAQGDAW8DCyIAggByAQWAATkCIASDA02AAEGBAMsBBYEB5wEIgAA5gAAJhAHngAAKjQHngAKTgAAWgwHnAQWCAeeAAA+EAecBBYIB54ABK4ACeoAA+4MB54IDgIgB54IAEIQB5wEDgwHnAQeHA9gBBYEEgoMDQ4AEpoAAjYECnwNBEE+AAI2CA4uAATKGA4ECBWqBAJOAAFeFA66BA1WAABeGA7sBBYsEQIABX4AEJwEhgAHlgANGgQA6gQNWgAN0gQCZgQNlgAJvgABKAbCCAIgCAkmAAIgBsIAAH4IAgYEALAK8J4AAA4EAG4MAiIEAN4kAjYYEMYUAS4QCSgEvgAQ/BQJ/QfwqgAA7gABTAoQrgAAIgQJoBYgrQn83gABXBoArQoCggIAAAQEEgQAOEfwqIApBDGpBcHFB2KrVqgVzgQB6ApArggEnA0HgKoMACAaAIAsiAWqABaKAAZMBa4AEXIEEmQVNDQhB3IEAZAIiBYAAZgHUggAKAQiABKMFIgkgCE2AAUcFCUlyDQmAAvmAAEUDLQAAgAKQgAJvhQX6hADYgQA5BOQqIQCDAlqBAD+BAY2AADwBCIICagNqSQ2BAtuBAhKCAkMEQQAQBIAFdwJ/RoAB+QMBIQOAAMmCAR0BQYAAk4AD+4AGIYEC/AFrgQVTAWqCAs0DcWohgABAAQOBAKsBA4QAq4EBEYMAq4ADRQNqIgeAAHGAAUoBB4AAqwEEgAAqgABfgAFjBUcNAQwFgQA4gABMgADrgQAWggJCgABTgQCVAUaABP4BAoIDFYEAioABCQVBMGogA4EAuIAB7QMMBAuDAXGBAyADIANrgQCJBwJrcSICEASDAC6ABWWAAJaCACuAAJyAAM0ERw0CC4EBaAHggQCWAkEEgQWsgAWohADpggDygQBoAXKBBSQDTXINgANTgABQgAPoCAZBKGpNDQULgADOgwDRgQDPggGsAdiCAA4BAIECTgLYKoEDSQEAgQGFgwFxAQSHAXGDANOBA2uAANUCIgWAANeCABKDAWuBAMcBtIMCe4EBSoAAewEbgQQtAbSDAr2CAmkDQegqgQYwAQCAAFCCABUFQcQnQX+BAAgCyCeDAnuBAAwB8IMCQIEB4IMGz4MHsIAGUAHUgAMQgQZYAtgngQUngAC7A0EgR4AAeYEDAQQDQShrgAAQAXiAAOkBQYECa4AB3oMDDoQHoIIGzoADdIUDCAQCakEogQNsBMAnQYyBAXuBA+CAAc6AAYEBTYEGZAJLcoMA2gQMQQhxgQAKgAHZAgVqgQAwgABRgATNAiAEggBmgAhRggN0ArAngwOPgQFPgAAtgACJgwBvgAClggBvgABWkABvAQOCARMCDAaDAAeFAT0DIAJLiAE1gwH7AQWCAYACAkCBBpmEAYKBBPeEAXoDAQwCgQWcAi0AgQCtgATgAQuEAa6BCSyDAa4BBIECaYEHPIICjAMiBUmEB1kBCIIGTJQBQAEHkAFAAQeZAUCAAGICBUGAB/iBAEEDakEvgABPgAAoAQSABUyACZQDAUEbggksCUHsKikCADcCEIAACwHkgwALAQiAABSCCVuBAHCNAiCEAgyAACABGIAEr4ICE4AAmIMEv4AABQEEgQmQgADPgQL+AyAERoEG6YMFSQF+gAnDAQSDCC+ABnaEALaCCMEBAIAI8gMCQf+BCkOAAAiECQ+AABWEClCABSqBCd+ACQ0BAoUJDYAAEYIJDYIJgoEBNgELgAbDgADagQkNgABggAZ1AkEMgAWyAQiBBS8BH4IHMwH/hAfdAQKAB92AABmQB92AALGAAMUGNgIcIARCggEPAQCABzkDQdQpgAmaggTrgwg3gAKvgQo1AQOCAIoBqIEJlwEFgwmXggllgQCPAQKACAOAAFWCCAOACGKBCAOCB9aAB6KBAi2BCt2CB3wBAoIDqoAH44EHbIEH04MDDoAH8AIiA4EG5wEFggbngQBXARCBAJqAAe8DGEEIgAcEAgQigAgsAkEMhQoHgAHTgQDwgwCBAQiDAMOACNWAACMBGIABAgEMgAA7hAbsgQLygwRHhAapgAZkAU2ACH6AAmqBB8ixBquAAyEEoCdBMIEAOYEDMIIIwIMHFoIC14ADKIIDa4UCwwFqgAYZhQBCgAmMgAaDggAVgAUFAiAIgAbsA2shB4UE4QIgA4ELboED2YoDzAEHgwUbgQDlhAvYgAHgggfzgwAxhwrrhAifjgAxgQIlgwEGgQFAgAFogQWXBANxQQGAAD+AACSACiABCYEAFoACPYIM14MClIAAEYEIzAECgwwCgwKWgAwGgAA5AXaDDJgBAoEC7IcLg4ECd4EANQMYIQaAAEaABC+BBBqCAEWCAR+BACaBAaWAACaAAB+AABiAC1iACRMBA4IJE4IB+4EJp4AAEIEJE4ALh4IKKoAGiYEJE4IEMIAAMIADV4ELGoEJuYIAMYECLAEFgwkTggqKgACSAQaACaiDAGABHIAA5AECgAW2gQoGggEpgAF+gALYgwGrAwINAYACyIMC3oEA1YUA0oEAOwIgBoAAXYEAMAEGgQAsARCBANeCAAoBFIAC5oIMCoAI5IACl4QAtYEDXoEA2YADOoEAJQEYggEEggw0gQJFgAAZARSGABkEByAJaoALzwEDgAAHgQLtAQSBA32AB02GBCSFBNWAAAoCaiCBBPaAABKDAYwBB5MEIAEHrQQggwMpgQAHhAGxgAQoAQKBAGaEBCgBB4AEKAEHkgQogAFbgALUiAQogA8mgwQogg8dhAQoggS1A3QiBYUEKIAD24MAkoYEKAEHgAQogAUHggQoAQKEDCuCBh6DAfSBDnaCBCgBB4EEKIEMC4EB7YML+4EFfYEEKIMLQIIB/IYEKIAA1gEYgAAHhADkgQDyhQEEgQZ2gwuPgwQqgQIvgQAriAEIAQuADLWCA9qCAgABCIMCQoAAZgEcgADQgADOgAJsgAJCgQ8KgACKgQJCggNdgAbvgQDiAQeEDxmBAa+DAECACgCEAkCACgiEAkCCAAqAAkCEDkoCIAiBAISDAMiCC6mAAIaABomCAMaFDC+BAkCCABkBFIUAGYAAXAMEQQ+DCmMBBIEEqYADi4cLuYMEfYYEIYEMCoQAH4AACoEEb4QAHIEFXQFqggGPgAASgwJegQFxkAJeAQSiAl6BD3aAAByAAAcBDIECzYMAB4cCXoIAZoQCXgEEgAJeAQSVBoaCADwDHCADkQaGgQMaghC1hQJYgAK0hAaAgQelgwBxARiBAJgBBJYGh4MCX4UP74AHo4QGh4IJHYEAJoEF8oECXwEHhw9VgQBeARCDEGiBA9iFAOWBAPOCBvSDBN2CABaDEH+DDaGABBuDBPKCANSBDgGDAl+CBPoBCYMCX4AAPIQCX4AB74ACX4EFZ4AAKI0CXwELgwJfhgJdAwIgCYQCXQEJhgJdggAKiAJdAQmBAIKDEEyPAl2DEHOZAl2BC/uKAl2ACXaNAl2ABQKEAB+AAAqAA5KGAl2AAm6EAl2KEeaBDjqCAYWAAmGGEeQBIIMIT4gR5ogCW4ABO4ICRoMB3IEH6YICW4IB8QEIgQb/ghHXgQ6ZgQBugQiAgQFjAQuADg4DEGokgABKBgveCwEIf4EGz4IA7AJBCIEMd4AJqAFrgwLeAXiBCzQCIQWCE5QCAXGBCa8BQYACXYEGgIEFv4AAIoAAL4MLB4AKo4ISvIME6IAE6oQHeoQG3oAHNIAAPIQJxoMG7wEEgA0ViQcygBMMhAcygQ2YggchigcfiwdFgQ3KhRAwiAcdghAwgwcdAQSAAsoBBIISF4IHHYABhIUQMIIHHYIAEIsSF4AIo4ACZoAJQ4EH9QIDR4AOUIABOIICZ4AQ9oQGf4EBHoMBxIIUbQIAD4QF8YEAmYIFUIAN6Y4HYoICwQEEhwdiAQSWB2KJAsWrB2KBAsWCARyBAsWIB2KCAsWCABmBAsWFA6MBBYQRmoEA7QEBgAHShhW7gwHigglggQHAghTZgAlrggvlhglrgA1IggEXhwENAQODAfACRw2BEXGDEE8BuIMACAEPhAmFgQ/4hAmHggBNhgmHjwBNgQ2YhQFdgQKEgAAjgQw3iwJGghJEgAF7jAl4igJGiwGagAIzghKMgQJXAQWIEoeJAleDAgOREoeAADS0AleAAg2RAkCGAOaDDlmHAjOHB1ODAjOCB1OjAjOABsSjAjOGB1WMAjOHB1WOAjOOALiAABQBCIAPz4UDJYABrYULFIELLIMWt4YHKoAE+oILFIAUhIUEz4AG9I0WtYQGq4AICIUGRYIE1oMGIYACSoEJh4AAZYQHKQEAgAcpgASzgAcpAQGDBymAAsyGCYeCBlyGBymGCYeAEzWAAucBf4sJiYMXSIIJiYMFYoABqIECpIENJYMJIpEJj4ABnoAVnYECD4YNtwEAhgmPgQzagxWKgAG7hgcwgBXRhQcwgQBdgAu9gAfpgQD3AgMihgEGgALVggD8gwEKgAAngADjgRRhAQuAAnWBEF6DBjiEARqCAY2CD/qAEZoBxIICEoAFlIASTQIgAIAPwYATTwSMCwEHgAANgQWagAXHgxBjgRJ3ggXOgAEWggXOghB3gACOhAhIgQAmgRKBhAaPhBC7AQyABm2FD4mAAZGRBcOBD4mGA32AACKBA2yEBgSCADCCB/6BAc+BGJmBA5CCDLABBIADbIEV04QWVgEEghaZiBXzAQeAAWGBBeOAATCCBNKAAUWCBeODABCFAVWLBcOAAIqHBcOCDuKAFD2EA4OBBsaFBcOBABuCBcOEAJmHBcOAAEqEA5CAAJYBHIAAUYYDkAEAhwOQgwlXiwOQhBqPggOQgA8VhgOQgQH1gwOQgAAKgAOQAQOCA5CABeWBA5CCAPoBAoIBWoEDuIMJKIADd4IBIYADuoEB8YEDx4UAGYYFr4QA7pEFtIIFhoYFtIATf4QW1oYPsqkFtIIAH4YFtJAATYEauIQBToERp4ICTYMFtIcCN4QFtIIPj5UCN4sBi4cFtIAGtIYFtIsCSIUFtIECSIgFtIACSIUFtK8CSIIFtI8CMYYA5oMFtIcCJIIFtIgCJIgFtJ0CJIkFtJoCJIIA1pACJIIA/ZACJJEAuIENVYQFtIQBrYUHUIEHaYIFtIAcY4YdrIEVzIEFtIAII4UM3oEK0IAEHoUL2YEM3oMQsoUKfIQQx4MKmIIFtIAErIYFtAEBhhtAAQKDBbSBBSeCBbSCEiGAALkDHCAAgwW0AQOFBbSAEW+GDzuBBkiAFmWGBbKAEAWDAJGEDBCCBq+CBUuABbOAAMGCBbMBA4MFs4ABH4EFs4ICDoEBqIIFswEBgQWzAQOBBbOBAAeABbOAAnqAAJWGBbMBAoMFs4QQu4AClYIBWYQA6oMGl4EGCoYa0IMTZIADXYIM4oQTgIMBDQMLC0mBBxEBkIMGe4EVGwFqgQtiAQKCCzWAAHSCA1CCF4UDIAA/gAUCAXSAHo2HE0UBf4ABTAGQhAqQAwELBoAALQYkAAsEACOAE7MCAQGABtUEQcQAEIAQGYMLyAIEa4EZj4AMOoIADoAGHgMA/AuBGM6CBWuAASMBJIEHjQU2AiAgAIASGQMLCxGAACaBAVEBfoIHxQsQEAkL2QIBA39BeoAHMARAQZQIgQBNATGBAjgBfoEcBYQAVYQEuAEggwJ8gAAKASSEAAgKKEEBQdg3IAIRA4AGVoEAVwF8gQBXgweQgADmAzYCOIUBrwQCQb/+gAAJgABlBCAAECODFg8GQR91IgNzgBlXgQKAgBQFgBYugwLSASiDDnwCdkGCGfoEAUEAToAeWYEfa4ABYIIAPYIAXAM0IAKBAj8BLIkAFIAA54EAB4ABloEAG4AI1YIN8YAAX4ADhgEwgALIgQAWATyDACsBJIAAB4AbNYIOHAFCgRtAAXCCCD8BQoAAqAE3gQ3IAkKBgwAUAcyAAOCAACsCtAqCCr4BcIMA0QFUgwAHAlBBggkNgAEJgxmBAyQRAYQBMQEcgAIsjAFtAXCAAW0BEoIB+oEA5oIXlAgEEA0L/SQBIoQhWQIUJIEBeAEZhgEkgQeMAiIShAFsAwQhE4QbV4ECNwETgARnAwAhE4IAfYEEkAHcgAs6AR+AAKcF9AVqIRWAAAgB2IAAEAEbgAAIAfCAAAgBGoMAvwIhFoEAIIAAEAMRQZyBGBkEIRxBmIIACAQdQZQrgAH4AiEegQM2A0AhCoEABwE8gQr5AUGAGDIIAkkhIEF9IQ2AAA4GBkchISATgQIYgQMvAxchEIEY+JEiCpIAAoEJjpEiNoEQgoAiGoABdxdrDhMEBQYHCAkDAgwNARkAGw8iIhQhIoIEfwVMIQYMGYYACoAW0IAACgFsgR5MgQAIASKAC9YDKAJggh8wAwxJG4AAIQQGCyAggR/agABWgAZSBA4hDQyAAZGBBMYCDQ+ADxICCHKAFeABCIEEAIIXjQMKQQKCBrQDRQ0OgRqIAWuBH5KAARADIAp0gBR4gRSggBrSgAAtAwkhCoMgzoERfoACUAMIQcGAAF6AAtKGAMuAABgBdoIWRwZrDgMAAQKABOgBHoENdIIfmAUIA0BBkIAKBoAP7QGQghokARGBICIFdGpBCDuAAjSAAAuAIFiBAF+AACcCgAKAH0YBBIAAB4MAJ4AFCYAAJwEJgQAngAALgArZhAAnApgCggBOAZiEACeDAE4BB40AToAANAGgigBJggBwhwBJgSB3gAIIA0GgK4EEewKgPIMACQMgFEGAETYBDIAFgwERgAA/gAAXgAARBwxqIBUQJBqCAFMBIIkAUgEFjABSAZyAAE4BPIECqgEcgwBKgBCZAQyAIJYDEUEgigBJgAJ2A0EBOoAEcASgKyEdgQFXAR2AA1GAA3gBiYADeAHQgAOEAViAABOAAEKAA2sCQceCBDwCQQGAAqMBIYAKNAQKQQNrgAKngRXuAiEHgQAdgQg2gSB6gAERgQHsBB8LQcSBAZuDC9ECwguBGTQB0YEAEYIcR4AASoERF4gAQ4UAPQIMGoEAGYAX/gEFgAYIAQqAGJaAAByBGa0CQR+CE66CB+mAAh+AAXaBAh8BBYQCH4MBboMS1AMFDAKABWeAAVKBAhsBBoAAVAEKggCRAR2ABZOBCHID//8DgB6CgAAJgCT3AhB2ggsuAkHdgxKfgQChggqqgAJmBBoLQcKCAEABAoEACIMSVoAE/gFEgABagAi2gABUgQOMgAQWgQBbgACzAwJBw4IAJoIC4gNEIgOCCDmCFNiAG+ACAyCBE7EBEIEACoECiYAAKoQDEYAAOQESgBWIAwMQJYMjmQFEgAWJgABkgAAtBBJqIRKBADYCayGBADuAANaBGlCAAA4CBAyBEzCEBckCDBeACNOCAz0CDUuADFmNAR2FAzyEAR2AA3QBaoMDP4IBHoEBnoMAhoEAUoABEAEfgAEXA0GBAoAaKQFkggAQAgV2gAATgAA7AzYCaIIAEAUKdkEPcYAcVQEigAkgAWCAAE4BDoMBvQEOggG9AkEegiHeAkGhigFKgAChgAAMAcWDAjoCACGABCOBBZgBbIADE4ADqgMGIAyBCpsBE4AACQcGQRNNGyEJgADLAwYgCYIN1oAAE4EhHoAALYAC44AADAV0LwGwDoIC6gEAgQLqAQOABGABAIEHZJgESQEKowRJgANhgBrygwBpgAAMhgBpgADbAgdxgQBsiwKnAQSAAMaFAquDAEEBFoMGi4AAB4AGmYEdgYEDNYAADoAGmYADcAUTIBogG4EDbAIiDoIBIQG/ghdnhgEhARaBASEBxoQCYYIBHYABKAEOgQ6AggJKA2QiD4EABwRoaiEMgADcAQuABVqAATKAHaMEKAJYdIACwQEhghVUA1AhIoABAQEJgACbgAOXggEFASKAAzwCGHGACdIHaiIjLQABIoADBoAfOIEK4YEWDoABFYABAYkDPwEJgQEVAQmFAz+AANeAAZ8GIy8BAiIIhRV/gAj3hgEmgAAMgAEfggTEgSPbgQEcAiAGgwEcAQuBFlABf4UGaIACegQQaw4CgAWHgSOUgAl6gg/AhgCMgBAwoQCMigBlAwUgC4IJsgJBh4sDswEJgAGTAQOAAvmAJpuBBmeAAgaBADOAJYmBAJiAJE2ADqCBJp2BALsDIBFqgAAeAi8Bgg7AgBYzjQCXARuoAJeEAhuAAJqACyyDAiCAAjaAAFSCDFiACnOMAFwBGqkAXAEHiABcAQeDAFwD/wBxgCc/gCeGgQIiAwQgDIAAKQILaoACFJYBEYAD3YEFPoIGKoMBuAEEgQG4gQHPgAJigwMhhALIgAWjAWyAF7mEADiCABQELwH0BIMBbwKUCooCtwEVgQK3gABxhQLrhAMAgQasAiAPjALyAaOLAvKCADuABEMBXIME8wFwgAM+gQaZggLuggChgQLwgABDAR+IAEMB8Y0AQ4QGcYYGloADNIQFkYAACwENgwBkAciFBZGBA1cC0DeJAzeCA1UBUIADyosDNwEMgAFugATjgQM3AQuLAzeBJuahAbgBC4ADNQIhD4AC+oAAQIAp14ELUwX/AXFBDoEARwMGIQyAAJ0BBoECGgMMIA+BAGYCIRiAAJUBBoABwoIAlYIBqQIgGIAAhAELgCgPAXaCAIcBD4EAhwEMgBjPgQHkgACIgAR8pwMzgQdCggOYgABGAQCAAe4BD4IAnYEB6wEPgQZlgAVkAiAMgAXeAtA3gAAvAQyDAmwBDIEALwELgQC0gA/SgQP5AkHNgwFzARGBGscBIIEmEYUGfYAACYAknQLQN4MAGwLAAIEAHAMAQdWBB+mHAaqAABwDAkHJhQdAgBnNAXGBBj4BTIUCZoIP0oAGoYoBhoAAvIQA7oAIUqIA7oICSYAAxwEGgwDOhAdLgAfiAiAGgQFagA5dAQyBAPGLBK2FAumAKDABEIMKHwEQgQDthAcUARKBB5qBAEeACR2GAkwCIBCBAI8DECASgQCCAhIMgh3lggebAQqBHJiAAdABCoIHWoAFz4QARoYAIoIAGIAHCIQAGIITBYUAGIIAEgEOlABMgAE8hAA0AQ2AAk6AAAeBC3cCQdCDAI+GCSGDCTIBCoQrvwJEIYIik5IAUIAAyYQAUIAA+AMCQcqFAZuAASEC1DeAK6mBAEABXIMCj4EACwFUkgMkAQuDAySCAp2HAySAB2miAa6CAoeBBmKBApcCIg+DKhiCAcGCB5SAAGIBC4gDHQEPgwMdAQ+GAx0BD4YDHYIDpIgDHaUCL4sDHYUCO4ACGoEDtYAEHIIDxYAAiAEhgAzCgQMlAQqFAyWJAj8BD4YC8wHxigLzhgJYgCsQAwJBy4UBYAEPhgL7ggVpAUiHAwKIAV8DIAYEgybGhQMBgRnrtQMBAUiJAwGBAHKSAv+BAKUBzIQFKYYDB4AAEYQCJQEGgAfOggBNgArEAhcggA8fAQmAAe2CGy4BCYEcvIAAGgEwgCS5gQAIAsw3gxCpAfyLBikBB4QAQQE0gCrEAQOBANaAAAyAEJEBKIAQM4MARAFrggcrggAWgAAiAWuBBtyBE1qBC0WBFIcDBkkbgQAgARKBCvyCLo2AABeBHYmBAZiHC1cBCYILNgMJIQOAAT4DEiAFgAEtgQO3gwOngQblgQf7gQFKAiIDgRJgARCAAHmAA8aBAE2AAWKFA92BFP6SAzOAAcSEAQ6BDLSFABuJA9mAA0aEACKACFKIB0GIBA6BABaEDIqBEZ4BEIMS4QEShiIFgRQ2gAblgRF9gAFBgQlygApJATyHD58BLIABXQQQIBdGgAhVgAP9gCmBgRG8gBgSgSYJgAARgCsIhBCHgBVdATiDBbyCGDeAEh6BFXACKHSBGhKAEj+BEiaAAG8COCCBFbGCHLUDLCIFggAugRGXATCCMO+CADCBKiICLAuDAfWAALuBA6QBBIEBXANrIAWADK6CIFMBNIMemQEsgBHXgwRwgAANgAHoAWqBDNSAACeBAd+AASWBASkGSSIJGyIEgAA4AQmBAGqBAeyBDPeAKH0DBGsggQAXghaAjABPggANATSAIhiACoWAARyDAKsCCUeAGWmAACmAAniAAJYBCYEdWIENZ4EpH4ASW4IRpAIIIIIRpAEEgABcgAAWgRrdAReDES2AEuSCLQUBFIAAF4EVt4ABVgEgggA6gBKxghF2gAPSgRpygABDBBtqQYCAEdyDERiCEMIBRoEAE4ASrYIUOIEOEoEwBYEIfoAAGYABKQcgDUF7IA0bginVAQ2AAJMBF4AAHwENgACZAROAAAiAAagERhshGYMokQHSgwiwAnwhgBFJARSDIBcGGQuUCQEMgBQrhhKngAEhgAjQgAAHgBMngAM0gANCAQ6CB40BEIIatwMCQUCAAY6HJ++CC3OAM+kBAoEz6YEozoEz6IAEwAEOgSBggCGaAQSABWSABh4BDYEFcoEUpYAASgELgADJgSBEAQuADc8CIA2BC+IBCYAEEwQNIAtrgy1rgAmIAU2BLUWCF5sDCSANgAx/gQjUgwArgQAngAGUARCBAEEBCYAAFQEPgBFgAnJBgSOIgAT9gAjNgCFFgCFNggAPAwwgDIYho4AEeQMIEAOBI4GDGTmCDf2DGS4DDWoigABVgABykwBQAQiDAHOEJoqBKSaFK36BAzKBAFKDIP+CAFKDGTOAAFIFCCALSQ2BKDyAAAmBAD2CBmeSAGABDYYm5YACU4EAOYIm5wEIgSUzhCssgyLSgQA5AiAIhQA7ggAsAgcggBa3hzCagRAagAeogBnCAQ2EIgmCJYOBBtWBAYiAMqwBcYABNYEigoEAooALkoEBRIAABwFrgASngAAiAwwhCoINNYMYJIAAEQEIgABhAQqMGcCBIqmGKOyAAB+BBEOABdaEI/+AADUBGIEUFYAAEwEMgRDchQBFigAmgAAfgAAYAxQiB4AWoQEMghnEgAAPARCBM4gBAYAAEIEZxAENgAVJAQ2ABLMDByIKgRnEgAEiggAwgANvgSLMgAAQAQqCADGBBU6AA56EAYaAERaBBkWCGaOAAFEBHIEA8IAYPYIZo4EBnIABZ4EZo4AAjIAAR4sZowEIiBmjAwwgEIQZowEQgQAsghmjggAKgBmjAQqCGaMBCoEFQAEYhAC1gAAoggDZARCDAQ2AEM2DANyBBo+CABkBFIYAGQESgw7OhAHKARGHAgUBEYsByoMB75ICigEShALajgA0gAIQAhIQggX/gAf5AgcLggCYgCi2gQbegQRJgBgtgSVlAxpBfIArbgEOhCPzgBBTAnEbgilIgQBMgRD2AwdLG4IAOgYJIA4gB/yAOmaAA8cBEIADFwILIoEEAocX2wE8gAAHAQ6ABceABA6AAC6ADPwCIAKDAC6CBk2BBluDF6qBACyBBluBBFODGbKACAYBEYEk9YEAHIIFKIAHO4EF24EFI4AMrYAaOYEf2gUYdHILCIEE6gUFEBALS4AZSIEXDgQEf0F+gh43gCExgQZmgQB7jRd4gAAdgDOcgwAXggZyiBePgRj8AR2JF48DIAERgAengQCcgADkBQAQAgsQhAAehBfSAUCMF74FDxATC9KBGSuHJUObGRiBCQyhGRgBtIcZGAEmgQ5DgC0QgAEFgApqgAYFA0giBIATuANBD0uCGwwDQYH+gAVDAXKIGSaCGR6CGSgBIIEAKYMZIYAARo4ZIYYAFI4ZIYAZXZ0ZJIEbaYsZJIAAtIoZJAHEtBkkAkF+jAFmAXGAAWaLABIBH4AAEowZNgEGgBk2BIBEASOEGTYBEIIZNgEXhQFCgxk2AQyEAYqEGS+BAm2GCKeCB1oBA4IHWoIOVAHAgwcYgAAHgRybgRj2AiEdgAAXgRlTgBkTghlTgAe0khlTgRlrghlTgxk7gBAWgxk7gggFARyFGSsDDiESiRjzgRSCgBlTgiGmpRknwwACgAHmgAG7A2sOH4IZZxszNDU2CgsMDQ4PEBEDAhQVASQAJhcYBD4/QEGEGWoDCwwkhgAKgSRZgBlsgw5aghl2ghopgxl2AQqBB/aBDkmAABIBDIAMGQEygwAKghZ0hgFiAgwzgRBnAQaDBQmACgQBN4oWMgEGixYyAQaBDGKBELGBEP+AIPWABKsEn5YCR4E45oEAWwEogwBZgBBNASiBBf2ABMKAHPyAAAICECeBAwcBHIAPLoAALgI7AYEpLwEQgABKBEECECeCIJ8BtYgXUIAEFYAAYgEzggCrASSBNr6AAlyAEFeAAwSABT0DdEGAgANugi39BWpBH3BFggMhggjBAwBBuYsMaIAAQgEHgRafAQiDF9EBh4AO0I0AHgIEdoEDxwNxIgmCDTiADUYCB02CAMYCIgqABwcBCoAMXYEpvgIoIIAhFgQFT3ENgBaXgAWmgjq4Aa6LDeEBA4AUYwEyiwFGATakAUaCC9aABpCCEhWTAKuAAbYEB0GAwIE9nYAAHQHYixL5gwHTASSEGF+BARiCBDKBNo+BADaAOBGBBGSBNOyDAAuAAXcDOgAIgAc+gQArAjoAhDv/gQGagwGPgh0kAwJBtoUTRYEIwAEGgwDbgxlvA0UNNaUA24gAmIEOToEMtwMtABWCJPSLAJSCCIaKAIoBBIYAigG3kACKhQFlgAwMrgCKgAD3gyK8ggFzgSAWmQCYgQKskwEiAbiLAJiBACSAPBsDQYAIgQGnAQeCERmFAKmBAASLAKiABLyAL4CKAKiDGqKCFq4BNoIamIICfYATlIEAvIENJYAP34EI8YIDV4AAaIEAo4AFvIUArgEogACugBvykQCuAgwohQECgQAngg2oARCAABSKAdQBMqcCr4AICoECWoADh4ADj4A8y4ECc4QDlQQYdnJygwPpgghuATCAAScBvo8BJ4EQVYMIrYEIloAC7I8O8YARF4UO8QRBAiEXgAEShgRKASiMAGGDFHsDCyAdgB8UAg0vhB5PgRohjBoGgBhuhBoGAQ+KGgaFAOyGGgaHAOmkHk+BHkeABjsCpDyAAE+BDG+BHWWCD+7/HlyXHlwFqDxBsDyCJqEBzYAABIEACoACM4keXYAAGIAAEoAeFQMUECmgHl4BrIAAUAHNggfagikfARCJHl+KAEuAASiCHmCBAdIBqIEBK48eX4AAQoceX4MXxYE7jIAR8AEGjR4bATKfHlSTADkBKoEAGYQeVIAZlrceVIAATgMGDDCpHkoBBoEAfZMeRAEGhBizAgwtnh5AAQ6AAAoBDoIeQAINLIANIZIeMwEMgA+mgQApAWuAEDyLHjOBBBOFHjMBJ4MEC4IPyoAECwErqAQLkh4hgTmHjx4jgAGbAWCAAD+AHiOBAYyCHiMEBUEeSYEl+wFNhQfBix4qASeKHiqACNeIHiqAFZqDHiqAGWGCHiqDGCcBC4MeKoIcm4QeKoEa440eKoBFTIEeKpgEJIAbR6EEJAEKgQBpgAS0gQBpgAAMjx4qiwJ9AQiAAMaLHioBFYMLkYAAB4geKoAADoALnwIhDYgeLoADOgIiFoIBJYweLgEmkR4ugR5DiR4qgQHhgBGrgT0piBrzARODGvMBGIYWcAEGggEFgRdSARODF88BGYEXT4AdNIQXz4AAvaQeKgEZgR4qhjOpAQ2IASaAAAyFHHIDBSAKggEcAiAKgwEcAQ2LHiqAPQqFHiqAHbyAAn2CAeIBCIQXCIEUcaMX2ocAZQMFIA2eHiqAFOGAAgaBADOMHioBBIIAu4oeKoAgB40AlwEkqACXhAIbgACagBEXgwIghx4qgBnHjQBcASOpAFyAHiqGAFyCHiqAEkSEHiqAA04BC4AA8oEVnwENmx4qggglgQUNhQG4ggZKgQHPgBHwgwQmhALIgBLdph4qASWIHiqBAuuEAwCIHiqHAu6MHiqCADugHioBHogAQ4weKoIAQ4YeJAEWhx4kAwUMK4keJAQEQQZJgBGXA4ICSYIM3aYIsIAFjAIOaoAFFAFrgBo3gQV9AhJrgSgDgRaRgQ7CghaJAxwiDYEXF4ADkoEWwQQgaiEhgAOXgAAMgxtmASKDAA2DA6QBI4EACwFUgAOkgAAHA1AhGYEABwFAgQLIgQ7QAQOBAAeBFheAAAcDMCEkgga/AQ6BA3KFBrSAMJuAAAuBPrgCCGqAGKGCRckBcoIKeYEDTwILIIAroQIgI4ID6oE9DIRBLwEGgQP0gAzngRl0AgR2gQQWgRuUggHKgBtZAy0AAoEZSIEjIoAcU4ADBIADpoEK8QEGgRshAQmAEhWCHdGCAC6CBO2CA9OBEB+CAJiBIYCBAt2CBk0BCogAqIIAnAIIaoAAT4IAeYABAgEEghqmgTyKgBoEgACJgTF+hADfAQqGAv+BAAuGAN+BHPOAANiBIeOBAOYBC4IEyQEihADfhwDbAQiDG+kBCIEDFIIA24AWuIFK9wF/gACWgQC7hEUegRt/ggOIiQNsgQXvghDsgD8SAQOAGuYBGoMAgQEDhAAfgS7tgQA4gACHgQNhgAC3gwBsgwFHgAEighuAgwDaAWqABVgDDCAfgBjwgxs/gBo+gRkcASSBGzyAAdABxIEbPIAbOoAGaoEdGYEXa4EBVAMOICCAACiDB4KAAIkBC4EFmQMOICGDABSBABGAAESBIhaBGQiBLWeCAbKCGvqDAbKCJUSCBpCBQrGBFawBDoEaioEAfIAUzgIiB4AXcaIANoAWOoEEYIAANANrIQmBFnYBDoEET4EAhYAAB4AUuYEZh6sASYABKwEJgQRuAwlBA4EXlogAOoIBtwE6gAFnhQJ/gBT9gQU7AQmAAFWAAjqBAFWAAAeDB5KAFVGAIMKGADwCCUGAQciAFsuDAq6AAJyCAG+BI4ABDIAcS4AAqYQAKIAADIQAZIIACoIAZIIAVoAuT4MF/IEAcoAQJwECgEqvggBmgAJNgQAqgAA+gAWPAUGCC26AEB2EAGaAAOEFLQAEOgCAOqGAFASAABSAAo0BCIMeHYAeG4EBAIId3QMIDB+BHsCBAhmBAqWCAh2AEOGAAh2DArSAANKCCKeCIUuBAf4BGYcALIcDI4YALAELgQnQgiGTAw0cGoAhdoAAFQEbgQDyhgE/gQMegCAsgBsOAU+AJNKAInGBRAiDKKqABPMByJEjD4ADpIoIHIEeLIQjDwENgQNNgAZtqwgcAiANhSMPgABAAgAigAZLiCMPAQuCHV+BJjGAAGmDIw8BE4AAlYAANYMf8oEYgwEFgBvMgBqYA3EgC4gjD4AKDoUf8qUAiIAKLIMDnQELhiMPAQ2PIw+BAFmBARuMCKwBDYIjD4IUw4YjD4Ao2AEIkSMPAsg3gwAblCMPgikPhiMPggSDgAAhiCMPgE4JgQqjiQGGgAC8hADuggqTpSAOgADHhADOiCMPAQuFBI6DIw+AARWBAOaCARWFB86AAjQBDoEPNoItz4si/oAK7YEMXIQDYYABqoIUX4EePoIHUQEKixBlASSkDFqAHwYCIA6CPQmMHZuBRLMBIIJFh4AZO4EHXAFGggecgBHOgSDHgRD4giJGgRGLgQJPgAG/AQODFGGCAJaAADeABK2AAl2DABkBKIEWV4MUcoQQToID2oARQoERQIAZyZwQ6YIAZwIbRoAAMQMAQeeKCOKABVUBEoEs7oMmkIAAEoEWqAGAgAS3AXSDACaTEMkCvf6CHleCE+wCAHGBR/+BDhUCDB6GIISABHKCIGkBBoEBaYMAFIAAZo8AHpEAMoAtyo4AFIISxwHOhSQ4hA8Fgw8WAQaCLAKBJDgBCoM3joMOnYAA2IEANAHPgwK7gRZ7hyQvgAECAcyLJC+CAZIBVIADV4sCvoAcOgIgCogkL4cERKQqioMDp4EdGIwkLwLIN4MHGYAcjIgEPYokL4EEPYAZxYQEPYEHvoEeaIUEPaUAgYsEPYUDW4ABIYEILoAFPAEKggChgB0vggN7gSfPhARFiQNfniQvggFgiyQvggQbgQ53gRBpkiQ0gAFkAiALhCQ0hQQmqic1jAQmgyQ0hAQmgyQ0iQDFgQ03gACEiSQ0AQ6BNTWAKX6AAMCHJCqCA9GBAeiCJCoBBYwkKoII7o8kKgEShiQqgAoUjSQqgQBEiCQqgAAiiiQqgSIugCD1gyY+hyQqAQuDJCqBAB6FEUGJJCqAD/eLCLGOJCoBDoEkKgEOggBNgAUThiQqhie/iANggSkGjQAUhyghhwAUgAA8hQHzggT9gThtgQEDgSvPgA1nggFVhgx4gRJ+AgN2gCFugx28gAWWAWuBEYEBIoQMngETgCNogAh0gROFgQA9AQWBTJyAE4qBA3aBCDMBBYIByIEMposbGYAABwEEgQR9AUeBBP+EBraAQr+BEt+DJKcBBoFUmoMVwQJBuYcSlwEUgAkUgxbyggFegUXxgSzagBKWggHqghZ2gB+hgB93gRtxAQ2EAAoBGIABnoAABwEUgQHEAQWBAgOADNGADKuAAZaAJEyBGriAHTkDC0sbgRLQgAAmgAoYgUSQkBjMhBbrgRL7hBeWhRL/gQD0AUSEEuyEEvqAAF2AUSqAAL8BuogRLQFEhhf9gQDFgQa0gQaohA93AWqBA80BA4UAx4EfrIFE1gEcgVWbggK2AUSACHiAABEBIIEkc4MSC4EAdYEIMwIgA4IU4YFRyoECQYEBGAJJG4ACPpYYaoYAygEFhADKgQB/ghOugA40gADCgCDkgimehBfGgR4Ygh2qgADGAbuSAM+BDNOFAM+CFNmVAM8BJI0AzwEo5ADPgzYliQDPgRzVAkG8iQJdAQWBAfWCBM2HGfSBLvSgCEWDAJyFAJGAAuIDLwEcgU7wAwBBmosJgYIXwIcYnYQaKAFBgDowgCb7gADwAQmDG1GAEhiMHMyMGIKBBGqAFDmCBGgBFIAACIoI+oJGeqAI+oEIpIEjc4IDkgEggVLLAwBB0IoFFYIApYAF6YQXyYIAuYMHo4AAGwEWgRaWgQCpgywOgSwfgUAJpRC7hBN5gQVhgTTHgAlfgVNMgySngShjhyhiAQiBCvaAABCJKGKCCw+WKGKAAG4BOIFKtIUoYoMokI0oYoAAmwEsgQG7ggYvgAbRgQfZAQiABZaFKBWQKGSCKAcENCIGaoAAJwEJgAAngU8ugCWJgSWNAUmBIagBCIAAOIESw4IoZIAAI4AFIYAQBIAmeYEoZIAAlpMoZIFO84AC74IowYsoZIIPXIsoZIAE3IMnnQEEgQGFhChzgEyChShuggDOlShphQKmhwrPgSEqgACmgwq4ARyBWaKDBweBCtSBEQ0DCBAngySPgQALAigLgQFbgQKOgAAHgijxgQXauSi4AQWAKLgBBYMouAEFggCVARuCS8kBHIYouAEXgwJkgyi4AQuAKLmADMQBEIMouQEXgyQjAQeHJCMBJsEkIwEKg0DqAw8QP4UACwFxhwALAR+AAAuMIosBCIAiiwLXJIApQoEhuoFPOAIQNIEiQYArJAIAGoIC44EBY4QiiwEcg03ZgFWegwCZg0qfgQDqgwE0BQRBmgVHgCtdgRpgAYeBA4uFKZGAJteCAx6ADEiAAHmABDCAAXiHA0KBAa0DABA2ggApgwcfgAIdgwE5gAdfASiFRpUBBIBWdYFFNgJBd4MkNQJLG4EP3IQAEAcDQQRKG2pKgAC2gBBCmCI/AwRBKoEQgYIAqoNEToAEcwELgTCxgAB3ARiDDqYB8YIEpIMwDgMwQQyAIUgB8IEY4IEEOIMAsQGIgACHAUqDBgoChAGAGdYCAkiAEoEBwIEIAgEDgBUKgAAMgAJHAcCBUPkBBoACA4MbX4BPNoAAKQIgcoMJdAFsgSUUAh9wgEChBEEfcxCCCGIBbIIX/wQALwEygQAQgQAJAzAQPIEBSYQNAoMFQIIAm4IBLYEBOIQEc4EAYwMEQTmDUfqEBXiCAC+DBhqBGYqBA0uCAHqAFVsBH4IOl5MAHAGLgRxvlQAdgCEOhkzogyMXkwAoggoV7AAcgB77gkjPggGQAQmAAeMBQYBGy4MDzIIBroE2lwICSIQBjpEARgEggBKFlgBigQfVjgF+ggLUgwKigALmgATxASSBCv6BAyaADEWBHtiAC/OABRKBCq+BBPaBAvqECgeCAF2CALKABLGCAH2ABpwCR0GBBGYDCBtyggC4AQOAAAiCXdOAAAgBEIEITQIbcoIAhIAAX4IG1IUATYMcQIAKH4QASYMAqp4AJoIi0YMAKQMvAQagAE8CLQCBE4mcACa9AX2CALeCRYWcAI6CVlmBTU6BCvShAQyZACaIAQyAAcABC4ABs4IYxIAEG4ADQ4EGn4EAN4IDUoIdZYcKQwEgglsygwOBggRbAcWAJpkGBQIJCQkDghSLAduAMFmBUaUB54EMLIJaAoICLoIoTocAxoAHbwIvAYAG6YAG54EOLYEAbYEEaIFD+YImgIJPvAFPgwPrgAoXghm4gADSgjGCASCAAL+BFpGGHtCAEbuCBzaCACMCLEWBBHgBT4QZlIcA0IAARIAGpgFrhQDTggBJhBIwhgLcgRWlgQwTAQaBBPaDDvKDAuuDQLmQAIkBBoUAhAEUglKdigCHgAClAU2RAIeBAL2GAVqBAVKCE+KGCbyAAD0BHIMGEQEUgiBzgQAThAEjgU1PgADvgkaLhADqAQePAGOAGPeAABiFAGOGBTeCAfuAAEqEChWBIPmBC4SDAQqEAiGAEzyDDAaBBb6EAjOGALeBAjCBDuOEBQ6BAIGDBg+BYPKAGBqBB2OKAIaAABaPAOkB24IA6YYARIIre+MA7IArFq4A7LEA6gHniQHLgQNXgQDIhADUgBdjgh1RhQCpgRPDg0tnATCXAImGAB6aA8uJBwaBAIeNBbiBKUeCAs2CNmaCAAqCD66CAAqADAaEAAqDAI6CK3aAADgBdIFF84FJqIED8oAIP4E0NYQIV4IKc4EE/YMHFQMBEDWCMCeFCOCABQQBAoUfnwMCQZSBESaDRHaFAFcDAhA5iABihBUJArQtgwxCgQmrgAAdAVyBYO0BToFkWYELnQIDaoE8xIEADAFsgAOmBEEBEC6DACYBbIId8IAGfQMQNkGABXSCAAuAA6MBG4MA1oAAVgFggwBAgQArhgHzgAANAqAtgUiugAFNAqAtgUhTBCgCmC2JB3SwAB+DAbCBEg+BFD6ADCuAIAmAACSBHxWCADSADPGAEk0BdIQAt4EPK4I/IIIAToEABgKkLZsA+4EQsYAB448A+IUA9IJhNYIBIwKgLYIObJ4BRpkAToACNYMBRIEBv4IjWIMhfYIAy4BF/QKDAoIVWYYBYwFsgyVogQHaAgFFhwAlAklxgA+VgDioiwAqgSFHgQ4ygQCVgBbHggInhgICgi3iwAICgQLsgwEMhCrJuAEMAQeEEWKAAK6AD7OCET+CAO+BWueAMvQBAYFJ0oANxoEV44IPA4Id/IYACoBi0YEzCgGCgRtkgAkGgBFoiQACgAT8gBvygBE6gR4vAQiDWXWAAAyAADWAGfSBAAqBTyuDAAqAAx6BMjqAAAqAC82BY6WAAAqAIKKAXYaBAAoCB0eBPR2BGMCBHoSAE+mBFdOBE7YFA0H6AUmBHreCEVuCP8iAFd6BBAOAIsiBAAqBLMWBHMwBCYJN1IEcrAEJgk26gRyigh3DgC/CgQAKgRDHgSJ8gQENgAnLgBRfgADUgl4Hgjl7gQcFggHjgAMggQMJAQOANLCAL3eCAHCCAyyCAyqBZB2HC3aBACuFAB+CBNeOA2qOAB+BAFqACAOCBaiBG20ELQCQIYADdYASjQJBhIEffYoDe4Au74IuRoMCfoER6wKIE4IAHAGIgCTjggKogicSgQOYgwyqgwOYggKUgQB/gRYUgQHmgQQ8gQNUgwnJhgDMAQOMAK2GAB+CAE2OAMyOAB8CIAWBAB+CAYmoBDaEAJyFBDeEACy0BDeAHeiBAO2BTj8GQQxsQZgggGi3AQCAM/UBC4AATwF+gBmMgzFyAZqACWiBV9gCQX2ANpSBNKSCADwBBoExVoYJ5IAA3oAExIUGCYALCYAKHgUAAQEBAoJU3IABewK4LYMDoQG8gAEKBXRyIgY7gAASghDCAwNBDoEy1JQLLQEGlwyqgREjArktgwyugFXkhQBdAmt2hABdBANBDWuCEbuAAt+AANEBNoAAHoQAcQEKvwBxgCgygQDAgQBzAkEJhABnAgdqgBRDgQBlAhAtggUQhAeaASuBT62CAaqAMZuBD8SCZkSAAA2AFxmFKHuBIluBDQqCTg6BAfyFNAKABRiCAAiAAbuDKOeGED6CACKCB7yDEJiBJK6CBVcBGIECDARMDQMagwhCgQHcgWdXlQDVggOQhAAqlQAjhQhsgA+ymAAmggAjAy0AM50AI4AAC7sAI4cAjwEKnwCPg1EKlgAjghUlgh/cgGp4AXaLEJCDAyoBGIFniAFKgwbIgGaVhlyIAkULgjTzAfqBJyQEQXsLHIBP7og1CwEQgAxhhzavArsBgDaMgRJwixL3gQ63glZcmBL+gAAgAUScACABQJwAILATXgF9ghJoAfGAE/0BC4FQ1AEBgADEAQmCE0sCbBCBcHOAACcBbYET6gcQQAu6CQEVgTXcAUCAJWSCBtICBkGBOZODDdYCIAeBEoICCkGADTSCZvYCdGqCBOWABPCAScuHBPCAABqAFvmCDXuCV76AF9cCIQmAbgwBDoEj+oFA3YIAQoAQTYIAQIEKeoAADIEkY4EAMoEkJ4AABIFOSoAW2YEZpYAlu4EsBgEQgB8JgiomgAA8gi8UgAA8gjtVgi8UgSNEgCG/gQAdgUo2hAOKgySKhABYgRuOBAhLGyGAOd6ADFEBAYImL4A8H4EA04EAzIE67YIAuYIAQYIeXwIgaoEAZQFrgAkAAgBOhGhRgAALgAIXgQCxAkdygBkegjGogCLQATuAI7KDAFKAAO2AAK6HAS6HASkBIoEJPgEKgwCfhAExgABagwEzgWEhgixSgAANgS5jhQFBAkETgUDJgE+KARWEBYwDAA4CgAuPgT3IDCESQe4IIRVBrgghFIE6bQF/gAARAvANgAARA7ANIYAyQQEBgBatBA9BCUuBaXuAZVyBYOABAoAU7QFxgGnDgARZAw90IoAHPQNrIReDEfCAKZOCDWSABIOBCiOBY84DdCEYgAosAX+BEcECIBaFAMKARQOAFDEBGoAyhgISTIRCNAHggjznARSBRSOACimBACaAQWMDBiAVgQdoAwshGoEk7oAIXwIiDoEBYIApw4BGaoMkzAIgGIIOLYEeZIA9EwEHgyyKAiAQgAFJgCUCAQ6BJMsDGSAagQP1gSZCgl+oAwFrdIMBYoE+EgF2glxhAQeAWWCJAhOGAoiAAbSEAoqAbMWAIcyBUswBB4FxF4AAy4FRjQEGgh9cgijBgEx5gwGwghzNAQyDChSCRUkDAiAXgCBFgRpQgwElgQAYBSAPIgkhgDdshwDLgQRQgQC2gBlMgQC2gRVPgRPWgD8kiACygWIHglmngD4JgmzwgwCYAQCCbV6AAJiCAqODX+8CIBOBAFaDWyCAJKGBAmMBDoEJ4oApA4YBiYQAB4Ifk4AApYEg3gFGgADKAQ+AbNeBPZqDGRkBS4Il/wQgDBsigEflAQeAALIBGIIBegERgQFNgQGTBAZ0IRCCL2eBA3EBDIAvvIEhoYA9cYEBToJKM4IC/IAFUAFKgW2bgDzfggJUgQJNggIgAyATaoACRAPTBkuEAlsFE0HRBEuAAl+CFEqAAtqAJUCCRa0CIA+BAReAAtWDCSCAM7WAUtkBdoEBMoAhOoED0oEAbIECNIMDrIEDyQEAgwMPgT5vg04QgwMdhwOTgAAYAQ2BAAiBAzyFJ0EDDgsrgAFfggHLgATbhB/hgQSTgVzwgQAHgmW8gGr4gW8AgwT1A2BB1IIE9QLEA4JxZYQ8goFV5QHVgRgkgRcbAdWABnSCAAeDUS8BAYEdcoMAHoMlpYAQVIEmy4ADNIEOkoFRBYAcz4EoKoEMDYM364AOYYAIxQdBoIbi7X5zgiASAgFxgXHngzBohBwSgAoagAoQAcCAb+6BABaCIaqBAGiBHKKDbyABc4Agu4FrpIAuKAF/gwKuggDlAyADc4InW4FyYYAAPoEQSIAAKokA8YUCXYAAQ4AYjJQAM4ACoQIIdoEAHoACwYkAHocAGYAC4ZMAGYAcDZMAGYAQuJMAGYAHMpMAGYADIZMAGYA71YoAGYIA4oAdUIEA4oAbRIIA4gMLvQWCB5aCA9qAACGAPKCEXiGBCviAADGAAPuBA60E8f8Da4ER+wRB8P8DgCDEgWqOgXKlgXaGA4CAPIAKF4AAW4IAGwMgAHKBWbqCdRKBHpiEAXaDAVSGAFGBZsKBdD2CAXGDBvSBAGMBcIAAUoEHc4EAbYFjLIIAUoAAUIACKQLbAoEMgANBsCuBD3iAbEmCDjeBAmeDAE2DAA2BMtuEAAuBDZmEAAuAb0qFAAuAALaFAAuADiGFAAuBFMCEAAuADtCFAAuBDUyEAAuBae6EAAuADqqFAAuAQOOFAAuABAmFAAuABZiFAAsBDocACwEPgQALgnWugC0IgiAsgCGJgQR3gwD4ggLZggAJgQGkArArgwGlArArhQKIAQKAAr+BAVIBEIcCyKQBUoYAWoEj/4QBzoJsS4ICuIAADYQAC4FmI4QAC4FxyYQAC4ABMIUAC4FooYQAC4FmXIQAC4FsqYQAC4ABMIUAC4ABMIUAC4E/YYQAC4ABMIUAC4ABMIUAC4ABMIUAC4ABMIUAC4UBMIACZIMBDAEQhAELgRezgS9aAnRygAFEAwsLkYkJeoARooMInocJfAEGiAl8ggUQhQl8gCjFhwl8iAjyhwl8ggBCgTpeigl5gUV3hwl4hGZsgXA+giR1BEHAAjaBDMySABeCTJKBFZGPCa2CB0+BJFCjCa2CCR2DCa2ICjeHCa2ALDyCAFyAbpiECo2CdCiABh2BCYyFLmiAEDOICa+ACMoBToEINYBbzAEggENVgWGnhAmyAg0CgFXfgSjkhgmzgQiEgD5BjAFnhwFihURoiAFqgQh/hAm1ggAXASCBCGuFAI6CBbkBFIAGzwUFIhMhFIwJtQKBAoAJMQmgDyEUQeAOIROBCbWBCUICoBCBABEBD4BaUYAHWAENkgmzAgQagQAbAnQigEraAWuAMiCECbQBDYIXHIEJtIBUJYAAIYAH0QEWhAm0gACAAiAVhQDDgCvAAWqALtMBGoAf6IADdoEGqgEOhAm3AROBABOAE4OFCboBDoABdgEUiQm6BA9rIheBAWuBCO8BD4MJugEHgCKBggs7gijzgAbZgQfmAxggDoEH0gMYIBeBB+0BGIMJugEGiQm6ggFpgQfJgilNAiAGjQm6hQLGgAG/hALIggkiAQaBCSIBBoEJuoAAz4FB9IM5f4UJuoF2v4gA64oJGAEZgClKgEaAgAAoAQ2NCRgBD4AITAQPGyIPgRq3ARGACVaHCRiAAPGACvuADKqCCRiAKcCAUESDMYCCAKyBVimDAmWAUdSBCRgBB4AkUoJldYIJFoAj9AISaoABpgHUhgkWAxJB0IIJFgEHgFQCgkX7g07lgE6/AQ2EMO6DMP8BEYAYfYQJFwELgAp+gAM8gQBrgAGRhAMWggkXgAM1ggyqgSzbgQAYgQKKgAKAhwL8giXJhwkYgQVugTXXgjBOhwqoggGkhAqohgp2ARKECnaCNjGCCncDCwuqgBHygQdSgRY6gTIzAwFBnoISRQQAQYgTgAASgAJJgmzJAkEegwAVAfyBYfaGABUBE4J8a4AACYAAWIMD4YgF0oABMAM7AZSAbC2BDqACsC2DRRIBqIAACIEAEAKgLYEToJIAOZYAGQMLrwKCAKyBD++BEi6BDwKAEkABBIASnYA8xYAAEoF04gEEgxKdgg8ugRnIgxBAgkQpgBBAghPBlAAcgAb4gxIsgmLNhABdgBKdihKbgTJGgxI0AgAQgEX5gwBKhxCmgwBKgjValQAchRELlQAfgAL7AXODFTCUAKiGHhODECKEJI+BD+oBEIA3E4MANYBtRIFAYwGngBPQgkdRggDMAwFBCYgBG4EBWIRtkIUA/wG4hAD/lQAgggEfgxK9gBKvmQAqggBKgiIggwGZgQCAgm76gAH7gQE8ghRwgTkkgQA6BMAtC6aFAKmBAeCEAK2CSie8AK2FAIKCTUqBClABSIJtXp4AVIEAP4cAuoAKgIIB9AQLC/wKgGgFgwarhQX4gRtcgxJugQwyASKAKw8BLIETvoEKnYEDVAcJQf+A/59/gjSsAQaDP3qBDB2BB0CBGVmDBzaCIyOABTaBGWyGBmKABxWCAuoBAYFwOgMvAbyEAAgByIAACAJBIINYfIAMh4E9KIAcroAMW4EAOoAhtIIRcIUWKIEYFIQpGoAOX4ANaoIpAIEBFwWYFmoQL4IACgGkhgAKgACwgQDFBJwWEDCCABCABAKBABABqIUAEAGwgwAqAkH+gYAdAkESgQYjgAECgDVggQZyAQKDL7OCN50B8IBBxIMA2oMF5oYyD4EATgEtgQAygBe6AwVBEYABgIEEEQYoAqwtQQqAIsmAWQ6ACm2AJteAAAqCLFCAABuAHKCBeOCCEYaADXyBHpKBGrSBTt6Aeq2DHmiCJjECECuBAICCBByDdcGAAnOAGA2EACGAFVOABCeANWsCciKARriSBC2NAhGJA8eXAmGBOC2FArSEBC0BAY8ELQJBoIBBjAMaEDGCAoeBJhCEAI2CdwKGAIeEAJq5AI+EAz0BDYEqpIEAmoAAlIIKi4Q3AIRMRoEAk4EB6YEt9gH+gls+ggHogUlaggEXAQyEAJCBIYuHATK4AJgBBYIH04kBKoJuggELggEohABngWwKgAKxgH88gwChgACKAQGHAIqAYzDCAIqDCF2WAIqCAGeCABKHAIoEBkH9/4MBJYIAkwENhwEdwwCTkQEfASKAPaKCAksBDIIAmYcAb4UAGAEEgACfgwHKggQ0AQqGA5iAA+uCE3UBCoJCtoEcbooDk4F/a4YAR58DBYEnV6AAwYEZz48AvIgDB4kArIYEDoEEcoAAkAMJEDKFBHCAZ84BB4IADoEgqQExgReWgH0YgiGJBywLC5YLARKBDT8EIGsiD4AqpIJ1Z4BhrYIXj4INCYEX5oElogEAgk1NAtDHgAhxAdCCRymBAAQBSoKDbwNB2CiDDtoC3BaBVeMBf4MVFIIMF4Fqa4ESWoBXbwEogW3ZgBT/ggDagQCkgFd8ASiAAUuFOeCBLzyBFG+AJjmBVP+CcE6BQtiAH0mAgh2ACPiBAMGAfvuDEqGDBPeCHB2ABO+BNG8CCRuBFoSCbjKDBP+CE5+ANG2AACMBrIEajAELgXQrgwBSgB4bgAG3hQGiAdCALZSAChWEAJCCFVSEcM2GAHCAa6GCLFeCCgyBBgWBCduCAXOAAV2DJiCABmyCAPSAB8iDBrkC0CiCABGCAO+AAISAAF2AABUB4IAMBoICQoIAh4JF4gLgFoAAEYAfRAIQM4MAjwHUgACPgjGlAdSFADKCHwiCAJeABm2EAP2JACaFAB6EATSCIYKGAOoBBYMK4YMMcYEA94INhYN4QoAMKIEfuYEWFAEEggAKgBokgR7JgADfhCHNgQr7gC1NgwsCgBw/iACthEPxhgHcgCshhAaQgwCcgACOggCcgwHhggDKgw8MAbyAAieARc2BGfqAcEqBAmYBCYYCcgEQg3wZAQiDW1ABBINOpoJD74I0hIAKRoI8T4IsCIUcOIYUEYIx1YEMrYMAhIMBYYUK94AxP4IJ7wHUgACtgACUBrwETBshEoIHboIBzoEjGIAv1IAx+IEvNoQAPIEktYAX84A0QoAB6IBSZYQ8YoFDwYEANYEHJQVMIgIbIoIXgIGD9oEqEYEFdAIgDIIV/oIX34se14IU8YA+jYEEIIBIMIFWRIMAbINsZIMHzoAAaYAAfIABpQMQamyDB9GANB+HAtmAQN2AFkeAAIaAAcOBACCDAt+AAMqChuKBRyiAAHaCRNkBAYICg4AB4IEK84KAvYE8noIO3oEI0YAASIE6poIOOoNIvIEBHIEArAECggImgl+igQ5egg+4A0ECSoEABYAtGoAAO4EAXYEAlIQAboEOP4IC/4ID8IM4LIEtKYQBR4EBEIE+HYIJWIAfxIEBQoAFfIMFT4MA9IAAFIEIVQIFa4QA8oAR+4UDbIUTBYEK4oAMuIIWuAMAQbqAAkeBAU+BEJCEAhyBGvEBf4I6nwIASIECxYIEioINWIQbhIMNBoMAgIEFBAEPgwJJgS/RggXIhgGkgoIfgQB8AXGABdiBDj2CAmgBS4QD6IQ4NIITv4JD+IIAnIUNpgEPgA5XASSAFa+DAF2AhreBHHGAbuWBA3yBABGABt6JAraBhVKAA62AA1KHAOsFC7YCAQmABxmBOSyCgmyCAsaABtECOwGAP0sBQYACQoAE7gRBB0GKgGbHARuALHGDDkaBHC4BCoE6ZoEEhoMBAYJ1voEK2ICGroADHoNCyIIaBYAZooF5K4IW7oGMzIQC2IAv24EET4EFjgFLgRBtgAbOgAVegSe5gAQHggE9gxotgALtggDHgh/2ghYqggcdhQAlgHDohgLzggLYgAtugRCLATuAAAeDQvqBCuYBCYJ1KoEAHQHAgwAdAsAVgweagAASAcSDABIBxIBivoARWAIKQYA7hIEEtgRGIgMbhQD3gCTwgAMlARuEAQ+CATgC0AiAATiDDESAJPqBAF6CCr2CCY2ACr2BAHqDBpCAIryAEYeBQNGCekOCB7YBL4EFDIEANYFDOIIikIMBgIIAkIEOsoIcfIQHlYEhwYIPJIAHp4AzgwIDSIcH8Y0OgokPI40AHIgH8YATp4UAXIAH8YMPgIEFqIAU+4EMeoEAC4MK7IAk7AKQIYFBcgJ0IoEWpAQvAYYIiwCmAoQIgDawgwBLAQeAAKeAAjaDCJmDAKsBB4gAq4EHeIEAj4JUAIUtQ58Aq4BY14UAYIAAq4MAYIEkJoEAq4QmF4UInwYJQRxrQWyBF7WCf1YCkB6BOnCDAIyAAA8BoIA0hYA0mYMAkoAaCoIJSYBJAocJ/40AhoIuOoQAHJYQcIwJ/QEEgAqSgzSVhAChhABqhAAVhQCrgACCgQB6gQq0gQ1jgCbRgUgggA4SgR8eBIECSRuAAXgBI4MBeIAW94AC4YANoYMAt4ECGYBEpokRN4AAfQEGhgDakgCupBE6hwFsgADHhABggQe6hgFsAQaGI9oDCUEEgVsjgAjFgAFpAR+ADLCAADuAAAsDoBwigACLhAKigTSwgQK8hAIVgwB/hytZqgIHgYAYiwFnjwCghwByhQLShgCwgRzFgBhsgiF/AqAtgUNygALeAy8BgoGGLYJ82AMvAYCBcryBAD2EAhSDXbubA2+iAiKBETCFALiAgMuEAQ2AiIqDALaBeM2DEKEFswsBCn+DBWuBBY8BIoAfEIEw7YAs9wEbghsvhAV5iwV1gI/CghzcgA6LgQcVgALygU2VgTgkg00Xgj+EgmoygIMmgStDggWEgwVxgQs4gj3SgBVJghVjgABmggTFggDEgATFgR1CggSagQJ9gAFbgQJ9gD2OjAElgAHyAQWIASWNAeKJASWNAByIASWAXOCEASUBBYAB3YMAYIGCjYQBJ4EACwELgQqGgSXyhR4ngRXehxA4hBRUgXrdgRA6gQX4gAD0gRTlgh2whQDmASKCSSaDix6DIeSCA0+CAqaAHluCAfWZA02iArKCI/mBBWCBAMCCEhuBbjSABByDAfOBG0GGD86CfFeBBraDAIqBKraBAQwELwG+FYB2H4YEs4kDRsAAlIEEeo0AlIAF/IAAJ4IBZAEFhQ83gB1chFsFgSoXjQ8zgQ4TgQBtggasjA8zgQJrgi9njwHtjAU2gHcFgyfhgVCZgA/HgQaFhgBxhAAagCs/gQAagkrKgDwQhHuAgQfQjQE3AcL6ATcB/oUBN4QPmeIBN4APrJABM4NOxIIBJgHEjgEmAcb6ASYB9oUBJoIqHeQBJoMqOo0BJoAIQYN+WYIj/4IDkYIKA4At4gFGgA1zgQWPAQiBBYqBCgOAAA+ALiGBBY8BCIQKBwL/AYCX+4MQmoEJsYEQmoGRooUMkIBNOoAMC4FKnYMNKIMOBYCNHYEAnYAOzgEEgAyugkONAQSAHRKCGyuAAWKABV+FAECCBLKBBKWBelmEMPOBABiALt6DABgBDYM9nQENgSpzgATvgQ9cghCPgAAIgj4agAuPgw1cgBraigBCggBjggBagXhbgQDtgQy3gQA/hA+tgXl3gQEpgg9Vg39uhA0ehQAVgCmLAwALg4EahIANGYKMDoQ7zoF2X4EACIVf84ApfoEACoEPggEggS+3gRYHgz0KAduAG6oEAUEWTYAru4AGs4BfxgSggAJxgCe4gQBNgzb1AQGAm8aCC9oDQSpGgUA4AgVGgV/lAwBBOYEtAYEG+YACXwML3AmCAYaBkPqAQs6CAhQBLIEr9oAG34Byv4EAD4AAA4BUXoIruoMpOYMXo4J74YJ64YMCLgJBKoAWwAJ1IoB5b4EBtYACSIEAFwFsgwg5AVyAJaiAAYiBi42BmLaABI6BAGuAAtyBYhyDFJsBT4ASTwFLgRbjgBwAAUWAZfIFIARHcnKBZFuCLJyEPNCADFuAanOALKmBArqCAs6AW2qAHU2EFgOFABOAIpmGGnCHABaBk/WAJCqEGmWHABiAHY6GNKSDLnaAHKKEgHOBARiBAAgBOIIAxoFD5IEAt4AfvoI33oIBBIBEMoEAJYE3q4KLFIE3fYEvroALx4EADYAD8YIDboIAXQFcggANgVH9gDfGgQF/hRk/ghyqgDWFAhA3gi0NhwARggBWggANgQdeg4kngTlhhBrqgn4/ggFjgBCcghjugQMTgn/Tg35DgQGEggJ8gRB6gYGUggSbAiwigjMagnvKgRyjgi+MgQJjgQEkgQDZhAAlgi3XggPbAWyDAEOAABeAY6iBAdiAAWQBBIKY/IAAkYEuKIE0KIEASIEDw4FFAIQBIAGwgARGAUGDg9SCCUGBAHCCALCAAEKBAAcCtC2BQI2CErcBtIMAGYEwFoQBe4ADUYNBOIIAkAFsgSTPgQCLgglSgQChgwBBgWkGgQq/AgVJgDrTgABhggBIgQC0AVyBBT+AACMCxC2BHueCABMCxC2CDtUBBIM0JwEBgAMkgZ9RhAFCgTZXgSIAgQL+gQGtgBpkhgD0gi8LhAAlggCygQLVggmMgEILgCo5gQBfgpJ7gwCggTnLgQHphAESgomvggFZmAESgEgVhBOsAWyDA1SFARyCAYeCBo6CAnCCP+yBBYqBMs2BG1iDATaADQEBA4ICP4MBLIGUmoMAjIIAOIUBLIAAo4QAPIABToMAWJABJIQBAYAMkoAKeIQDy4IDCIUD54EBDoAy2IIDt4QCUoFG+IAD0IMhhoAQtAFFhQO0AQaAYV6ElV6CAWODgx6DAKgBOIAFMYIMfINHdoGAO4ID7IAE6gEagzHAgwGWARqCOzWAGJmBA/yDA0qBAwGCAWGBA7KBEucBQYBa0AEDgorSAUGAQkuAHV6AJIUBi4Muz4JjnwEQgAqkgy9fghfJgGs+gRqTgZSshAVsgjkFgBo7hQJxgBT5ggN/gi+VgAAYgAANgUSGgQQ2ggANhAPVgRptg4FPggBdgWVqgwAcgjVdggAWgACQBBALC4SBHe6BADKAZCeCBEiBJ6WCBAOCA0SCXCyCANGBAiuHHWiAOaYBGIEyp4M4rIIAcwEwgh73gUB/hBGLhQAThDpohABGgACkhAf2gAS4gAANgSI8BQuECQEPgQd3gSDogRk+gR2ugiSDhwByA3RBhYJaSAEAgTcpggARgAKzAoYCgjy1gzCEgzmvgTU8hABuAVSDAriDAoyABwSCAe8BSIEABQNYdHOAgKOBS3qAAA2EAq4BNIAfAoMWcIBQpYMU04EHUIAJTIIDR4IStYQBlQEsgAB5gUUWAgNrgQdtggQrAhA6gjXFggD7gjU7ggT1g1N4ggA0gDTFgwNagTR/gQARgTTFggMWgAAFAXCABQSGCQ6SACqBjzybACKCNd2CBnaBhJqGNd2AEVyBNd2EFZ+DJUqBb16BUiSBXVmBDn+EEKyBRMCAF8QCkCOBCDCCDVyKADaCAHsBdIIA34EE34ABP4IADQKkLYEUSIEAlYFFVoABgIMD3QKAAYUeEoIV04AN6wFgggGIgRz7ggEkAUiDB7EBbIMEXwE0gBfTgQGMgCyFgQGCg0X7AVSATfeBAa6BLTmBAEmCAPaEBdeBFIqECR8DEHRzgE6AgXH3AUiCbhYBDIMByoAlXoIBx4EWIYJfWYELGIMKUoUAkYIpSYI1A4QAV4AksIA4K4ILfoM2+ocEuoQAd4IEIYAAD4FUqYQCQ4MCbIFU7oMBjoECXoEAGYIATYILMoIANYEASYQ7S5YBxogaprAAH4ML3IFSwJQBvYQ3FYMA1YcBTII3FIIBy4Kb1IFEoIQGToALSoE3GYIAwAECgzcZgQQXgjcZgwBGiATxgQAHgztQgpoMgaJtgwY4gAFgAU+AR+2HOqeEAF6CaZKEAF4BAYQ6V4GXJIE6pI0AXoI6pIQAYgEbg0YtAqAtgzpRnQBPmQCtgUaZgAdfgSH2Awu+BYARsoID4IALqYAD4oMKa4Kg0IEACYI03oIEUQFqgRSLggAdASyAA5qCBJaBB1SBEaaBlb6AGIyFBa8BcIAKVoFeh4QCR4AKY4I8vYQGL4EAHAFcgwR+ArQtgj7kgQuahAh0AUSBAAUBTIEd6YMRy4FEIoEAioABCIIG6oMQ7IAADIJD/gQgCE8bhCWjgAuDhAmAgwyeghqkghjOpQA7gBe5gA3PhAhogIXWgkb8gQJEgwV5gwFiAgRqgAcmAhA3ggASggfYAXSDADCBB9GBExCABYmEAneBCG6CAP+BQoGAHleCHDuHAzqBDQ2BAzyCBA8BWIAxKIAFnIAf7YBRFoEQJoEStYAAfoKUb4NAfoEqL4AD8gEIhAAmggDogAAFgEpLiAXCggE3ASKAUjSCA/uAHNyDAwWCGs6CAWSFHIeCHayCWIOBGjMBhYEACoQCHIE/0IUJbIMJaQHEgB9TgiMLgyUbggEJgCM+gAJlgWAGAYKCOwqBpCIBAYAADIAIhYEjHICKGIVKgIEDQoEISoI4p4Gc0YIPTII8CoAAQoGlpIECroGKCIEAB4QM74AHjIAUI4UAQQEBgp+Wg4b2gQCPgA0CgABDgRRxgAkhAwurBIAflIEAGQF8gRlHgCjfgQAMAXiDAX0CjAGFDTuECuUCLGuAAuOBGcCBBUoBA4Bh7YIFgAGQgJACggDbgAGVgAxUgAA0ggWQATiAHMmBoHWBURaABZQBB4I9k4Eq9YEu9oEE04NYIoEACoIAmgE0gB2AgQGYgx0pgQrWgF3AgQv/gwAvgBnzgk6gggAyAiALggiTgQAKgVo7hAANgANKgz4KgT34gxIwiGYwhj3/gACAggAtgQV9gT3QgAANgAHRgj4FgAv0gTEugAANgDpAgAKSgTEigAANgAnHgABQgTEWgAANgD4OgASegTEKgAANgD4RgAGDgTD+gAANghRqgQVKgQc8gBAMgg9KgC6rgT4XgAeMgSC4gz4egACfhD4egRB8g4WQgF9PgQAKgkAHgB3cAQaDRdOAETUBBoOhO4JbW4Ico4AA14IU84IeS4Ja5oBt5oMCFIAC7oMn2YAC5oBKAQEggiLrAQODTo2BAPmDAXeALCiCAAqAABSBTpcBDIBNGIBf84IDCYED5gEBgQuugS53AiIJgQLOgRlLgQAEBUkbC6ALgRwpgwlzgSoZhAlzhQl1ggIFiQlzAUWDAheBCXSAQJyAAV2AQuKCBX2RCXOCAmKaCXODB/WTCXOCCWyAApWFHAOCCHEDNgJ4hAVTgGUYgAIVgSJAgABPAWCBToiFAFABgIIA74EC3YIJoYQEdIUJpAEEgAmkgwf2gEy2hibRgh5MgAulgAH9AUGAAUODADWBAGeAVAMBIIEA2YgAbIIC3AF4gqObgwjoAQWFYMiAABiJB5GCBjeBA0KAAAmFCeiDCogBZIAP7oACT5sHx4BQvccJ7YEo3LQJ7QF4gR3fggkrhAF8gD9QgAeegACMgCjkgRsVglojgQDdgwahAaSCAPoCoC2OCa6AHeWEHbKEAiOBBQyCNMyJAh6ABZiVBc+DIGSLCcqCGiOECcsBeIQJy4MCE4IJvAFohQnZgQ5zgZHUhgl5AVyBUIeGCCoBBIUIKoCjT5oI14Kk+IAACgFohQWOggX+hAT38gnUhwm4iAlVkAmzggLUlAm2hANigQoOhgiahgoohgD6AQSCobKDAVWUAC6ABJiCqZ//ASGHASGCAgjoCouGAmG4CouBBF6AjxYDAAs/gg+agQAejxcghj/GlAAfgAAcglI2AgRAgAGUAQOAAA0CgweBN1qFP2KAENOAIiWBLjyATW2Al8aCULCOdeuFDu+BFfgBQYAjsIAAMAF/gFCoAQaCpL0CAEiAP46BE52BFj+CMuiAVRiCesqCBTGBNXiBF4mCBtyAF3qCkRUCCEmBIbwCS3KAFfOAUuKCBRCBdj8ByIAJjYFUz4MAcINePYNXjIEFY4KaDQJBKoEQioABX4IWuQRC//+BgmzZAVSAAAwDgICCgFF3ATeAW8SATlOBAWaACXmCVmiCFoOBAAyBWtqBCt2DVJiBAHWBI8+CAOSAAHeBVUSEABaBT4aJABmCAseCABcBTIcAF4JCFIAAHQHEgR6TgABegFkbgDjKgAAJAZyEMQgBKIEAD4AYXoQAMIEEgIFkuIAARgGcgSwPAQKAXrGAe+eDFRQBOIJXqYAE84QACAFEgks1gpMgg0Q6gAGRAYCCZ2yAQRSAeNaCB/2BAH4BiIEjhIALRQGEgQCOgCoZgGkkggpUATaCRV2BQzUBbIAFngE2gAQbg5DfAhA0ggHdgACMgBN2incXgACngY9Wg19ShRIZg0G7gAUngRpRgQokgWVJg0G9BEE5QSqBJY+AAdSCp0+CK4mBAv6DS0qCNWeDUoqACpeAS++BAGaAE6ODCCuEQ/oGQYgRNgK4gI+lgAALgB8IgBRvgo+xgHpvAayDABWACJaAALyBABUB4IAAFQGggwAVgAijgADfgQAVAX6CeBOAKpCDAL2BAK4BLIAGIoRbhIVEKIIoEgFEgDgahDK+ghZehQuBhkQhgiqgAiA3gQbcgQCrgG1ihQAShEQ3AUiDAReAMFsCDGyAGOQClCCBCVoBNoALK4EDbwJBkIQADwGMgwAPAZKEAA8BgIMADwGWhAAPAXyBDmACC0ODGVyBWjCXGVyCDWuBOE2CGVyBAAqAATmAeSgBSYIEGgMLC+OAjWKAAhQEC6EEaYCzYAVmZmljaYCy5QEgg7TZEwAxLjMuMS4xLW1vdGxleQBpbnaAs20VZCBsaXRlcmFsL2xlbmd0aHMgc2V0hgAcBWNvZGUgiQAZD3Vua25vd24gaGVhZGVyIICz0wFniwAyAmRpgLN3AW6AtAmKABYDYml0hABHECByZXBlYXQAdG9vIG1hbnmFABcHc3ltYm9sc44AGAJvcoYAU4YAJIUAVoKz9IAAXYC0QAFrhQCmAgBigAD4gACaDGVycm9yAHN0cmVhbYQADYoA1QstLSBtaXNzaW5nIIC0pwQtb2YtggBHgAAlAmNvgLQtAmN0hQDjA2NoZYoAF4QAmI0AFwRkYXRhhgAViwELASCBANQFZmFyIGKAtJABAIUAVwJyY4EAgQVtYXRjaIYAMgF3gLT0BG93IHOBtQOGATuCAN4DdHlwhwATiwGyggDQjwB1ggAWhQGvBGNvbXCAtSQBc4C06YACDgR0aG9kgDInEwwLpQIDAAQABQAGAAcACAAJAAqAKQcNDQAPABEAEwAXABsAH4CVbhYrADMAOwBDAFMAYwBzAIMAowDDAOMAgAY4ggABAYCMAAIBgYQAAgGChAACAYOEAAIBhIQAAgGFhAACBZAASQDIghjMgK1JggCEAQeAAIABDYAAegEZgCkpATGAA4wBYYAARgHBgEjqAYGBSOyAQBYEAQYBCIApDAMQARiABbwJMAFAAWABgAHAiQB4hQBwhQBoAYaAAAIBh4AAAgGIgAACAYmAAAIBioAAAgGLgAACAYyAAAIBjYAAAgGOgAACARCAAHIBEoAAiAEIggCAAQaAAQIBBYABBAMEAAyAAJaAHJwCAA6AAKIBD4CwMwQOC7cMtQEsgBzVggABARCMAAIBEYQAAgEShAACAROEAAIBFIQAAgEVhAACARDAASyJAICFAHSFAGyBAGQBFoAAAgEXgAACARiAAAIBGYAAAgEagAACARuAAAIBHIAAAgEdgAACAUCAAAIGoAgAAKANgACIgADQAR6AAAQBD4AAVAEggAAQAiAOgwDgAR6AAASBABSBAAEBoIQAFAETgAAEAQeEABQBDIABOAGMgAAEAUyAAAQBzIAABAEsgAAEAayAAAQBbIAABAHsgAAEARyAAAQBnIAABAFcgAAEAdyAAAQBPIAABAG8gAAEAXyAAAQB/IAABAECgAAEAYKAAAQBQoAABAHCgAAEASKAAAQBooAABAFigAAEAeKAAAQBEoAABAGSgAAEAVKAAAQB0oAABAEygAAEAbKAAAQBcoAABAHygAAEAQqAAAQBioAABAFKgAAEAcqAAAQBKoAABAGqgAAEAWqAAAQB6oAABAEagAAEAZqAAAQBWoAABAHagAAEgHm4AgC6gAAEAXqAAAQB+oAABAEGgAAEAYaAAAQBRoAABAHGgAAEASaAAAQBpoAABAFmgAAEAeaAAAQBFoAABAGWgAAEAVaAAAQB1oAABAE2gAAEAbaAAAQBdoAABAH2gAAEAQ6AAAQBjoAABAFOgAAEAc6AAAQBLoAABAGugAAEAW6AAAQB7oAABAEegAAEAZ6AAAQBXoAABAHegAAEAT6AAAQBvoAABAF+gAAEAf6AAAQBAYAABAGBgAAEAUGAAAQBwYAABAEhgAAEAaGAAAQBYYAABAHhgAAEARGAAAQBkYAABAFRgAAEAdGAAAQBMYAABAGxgAAEAXGAAAQB8YAABAEJgAAEAYmAAAQBSYAABAHJgAAEASmAAAQBqYAABAFpgAAEAemAAAQBGYAABAGZgAAEAVmAAAQB2YAABAE5gAAEAbmAAAQBeYAABAH5gAAEAQWAAAQBhYAABAFFgAAEAcWAAAQBJYAABAGlgAAEAWWAAAQB5YAABAEVgAAEAZWAAAQBVYAABAHVgAAEATWAAAQBtYAABAF1gAAEAfWAAAQBDYAABAGNgAAEAU2AAAQBzYAABIARMwIArYAABAFtgAAEAe2AAAQBHYAABAGdgAAEAV2AAAQB3YAABAE9gAAEAb2AAAQBfYAABAH9gAAEAROAAMIFEwEJAJOAAAgBk4AACAFTgAAIAVOAAAgB04AACAHTgAAIATOAAAgBM4AACAGzgAAIAbOAAAgBc4AACAFzgAAIAfOAAAgB84AACAELgAAIgBDagAQCgAAEgAAIAUuAAAgBS4AACAHLgAAIAcuAAAgBK4AACAErgAAIAauAAAgBq4AACAFrgAAIAWuAAAgB64AACAHrgAAIARuAAAgBG4AACAGbgAAIAZuAAAgBW4AACAFbgAAIAduAAAgB24AACAE7gAAIATuAAAgBu4AACAG7gAAIAXuAAAgBe4AACAH7gAAIAfuAAAiBA7YBB4AACAGHgAAIAYeAAAgBR4AACAFHgAAIAceAAAgBx4AACAEngAAIASeAAAgBp4AACAGngAAIAWeAAAgBZ4AACAHngAAIAeeAAAgBF4AACAEXgAAIAZeAAAgBl4AACAFXgAAIAVeAAAgB14AACAHXgAAIATeAAAgBN4AACAG3gAAIAbeAAAgBd4AACAF3gAAIAfeAAAgB94AACAEPgAAIAQ+AAAgBj4AACAGPgAAIAU+AAAgBT4AACAHPgAAIAc+AAAgBL4AACAEvgAAIAa+AAAgBr4AACAFvgAAIAW+AAAgB74AACAHvgAAIAR+AAAgBH4AACAGfgAAIAZ+AAAgBX4AACAFfgAAIAd+AAAgB34AACAE/gAAIAT+AAAgBv4AACAG/gAAIAX+AAAgBf4AACAH/gAAIAf+AAAiBBAoBQIAABAEggAAEAWCAAAQBEIAABAFQgAAEATCAAAQBcIIFVgMHAEiAAAQBKIAABAFogAAEARiAAAQBWIAABAE4gAAEAXiAAAQBBIAABAFEgAAEASSAAAQBZIAABAEUgAAEAVSAAAQBNIAABAF0gAAEAQOAAEIBg4AABAFDgAAEAcOAAAQBI4AABAGjgAAEAWOAAAQB44AABIC+K4AAdIECxgEFgABcAQWCBUoBFIAABAEMgAAEARyAAASAvlaABEQBBYIGBAEaggXqAQWAA9QBBYADuAEFgAOcgE92gAAEARGAAAQBCYAABAEZgAAEgQACARWAAAQBDYAABAEdgAAEgL59gAKkgQZAAQWAAiyBBaYBBYABtAEFgD3fAxsLTYMfuYcABIC+rooABIEHUYkABAEEjAAEAQWKAAQEQbAcC4C9CosAS40AO4UALwEGhAAEgQWIgQAEgQEKgQAEgQGSgQAEgIS2ggAEAQuEAAQBDIQABIAF24FHeQTgHQsjhQBfhQXLAhARgAVtBgcJBgoFC4A6uAQNAg4BgAclBJQeC2mFAJCFAIiFAICFAHiBAGiBAFyBBh8BEIAABAEUgAAEARiAAAQBHIAABAEggAAEASiAAAQBMIAABAE4gAAEAUCAAAQBUIAABIEGvQFwgAAEAYCAAAQBoIAABAHAgAAEAeCAAG8DHwtyjQBvgQBrgQBngQBjgQBfgQBbgQBXgQBTgQBPgQBLgQBHgQBDgQE8AYCvAEGAUc0CC22BAMcBBIAAAgEIgAAEgQEzgQJLARCAAA6DAAyBnqyAqmuEACSBB3OBAE8BCIAACIEAGIUADIEIt4MADAEggQCUgDKEgQBrAYCBCC8BBIMADIA/SAoBABAMAEGRIQv/gCUfgMDAgIKxBQgJCQoKgEk3gAABAQ2AAAEBDoAAAQEPgAABARCEAAEBEYQAAQEShAABAROEAAEBFIwAAQEVjAABARaMAAEBF4wAAQEYnAABARmcAAEBGpwAAQEbmwABARyBffsEBAQFBYHB1QEHgAABAQiEAAGAXSqCAAEBCowAAYAnsooAAYEBMJkAAYEBTJkAAYEBaLkAAYEBpLkAAYIDdYABzoUBvI0BqJ0BkLwBgAIbHLwAAQEdvAABgA9PgH05A9AqAQ==")),t)})}let cr,ld,sa,mh;function $X(e){if(cr=e,{malloc:ld,free:sa,memory:mh}=cr,typeof ld!="function"||typeof sa!="function"||!mh)throw cr=ld=sa=mh=null,new Error("Invalid WASM module")}function X6(e,t,n={}){const r=typeof n.level=="number"?n.level:-1,i=typeof n.outBuffer=="number"?n.outBuffer:64*1024,a=typeof n.inBufferSize=="number"?n.inBufferSize:64*1024;return new TransformStream({start(){let o;if(this.out=ld(i),this.in=ld(a),this.inBufferSize=a,this._scratch=new Uint8Array(i),e?(this._process=cr.deflate_process,this._last_consumed=cr.deflate_last_consumed,this._end=cr.deflate_end,this.streamHandle=cr.deflate_new(),t==="gzip"?o=cr.deflate_init_gzip(this.streamHandle,r):t==="deflate-raw"?o=cr.deflate_init_raw(this.streamHandle,r):o=cr.deflate_init(this.streamHandle,r)):t==="deflate64-raw"?(this._process=cr.inflate9_process,this._last_consumed=cr.inflate9_last_consumed,this._end=cr.inflate9_end,this.streamHandle=cr.inflate9_new(),o=cr.inflate9_init_raw(this.streamHandle)):(this._process=cr.inflate_process,this._last_consumed=cr.inflate_last_consumed,this._end=cr.inflate_end,this.streamHandle=cr.inflate_new(),t==="deflate-raw"?o=cr.inflate_init_raw(this.streamHandle):t==="gzip"?o=cr.inflate_init_gzip(this.streamHandle):o=cr.inflate_init(this.streamHandle)),o!==0)throw new Error("init failed:"+o)},transform(o,s){try{const l=o,u=new Uint8Array(mh.buffer),c=this._process,d=this._last_consumed,h=this.out,f=this._scratch;let v=0;for(;v<l.length;){const y=Math.min(l.length-v,32768);(!this.in||this.inBufferSize<y)&&(this.in&&sa&&sa(this.in),this.in=ld(y),this.inBufferSize=y),u.set(l.subarray(v,v+y),this.in);const A=c(this.streamHandle,this.in,y,h,i,0),g=A&16777215;if(g&&(f.set(u.subarray(h,h+g),0),s.enqueue(f.slice(0,g))),!e){const w=A>>24&255,x=w&128?w-256:w;if(x<0)throw new Error("process error:"+x)}const p=d(this.streamHandle);if(p===0)break;v+=p}}catch(l){this._end&&this.streamHandle&&this._end(this.streamHandle),this.in&&sa&&sa(this.in),this.out&&sa&&sa(this.out),s.error(l)}},flush(o){try{const s=new Uint8Array(mh.buffer),l=this._process,u=this.out,c=this._scratch;for(;;){const d=l(this.streamHandle,0,0,u,i,4),h=d&16777215,f=d>>24&255;if(!e){const v=f&128?f-256:f;if(v<0)throw new Error("process error:"+v)}if(h&&(c.set(s.subarray(u,u+h),0),o.enqueue(c.slice(0,h))),f===1||h===0)break}}catch(s){o.error(s)}finally{if(this._end&&this.streamHandle){const s=this._end(this.streamHandle);s!==0&&o.error(new Error("end error:"+s))}this.in&&sa&&sa(this.in),this.out&&sa&&sa(this.out)}}})}class VX{constructor(t="deflate",n){return X6(!0,t,n)}}class WX{constructor(t="deflate",n){return X6(!1,t,n)}}let pk=!1;async function KX(e,{baseURI:t}){if(!pk){let n,r;try{try{r=new URL(e,t)}catch{}n=await(await fetch(r)).arrayBuffer()}catch(a){if(e.startsWith("data:application/wasm;base64,"))n=YX(e);else throw a}const i=await WebAssembly.instantiate(n);$X(i.instance.exports),pk=!0}}function YX(e){const t=e.split(",")[1],n=atob(t),r=n.length,i=new Uint8Array(r);for(let a=0;a<r;++a)i[a]=n.charCodeAt(a);return i.buffer}let dy;qX(r1);tJ({initModule:e=>{if(!dy){let{wasmURI:t}=e;typeof t==zu&&(t=t()),dy=KX(t,e)}return dy}});r1({CompressionStreamZlib:VX,DecompressionStreamZlib:WX});const fy={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin","cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot","wiz"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf","xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","xpdl"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot","ppa","pwz"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":["odm","otm"],"vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw","vsdx","vssx","vstx","vssm","vstm"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-director":["dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-latex":"latex","x-lyx":"lyx","x-lzx":"lzx","x-maker":["frm","fb","fbdoc"],"x-ms-wmd":"wmd","x-msdos-program":["com","exe","bat","dll"],"x-netcdf":["nc"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":["rpm","rpa"],"x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":["mathml","mml"],mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","application/x-ms-installer":"msi","x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-perfmon":["pma","pmc","pmr","pmw"],"ynd.ms-pkipko":"pko",gzip:["gz","tgz"],"smil+xml":["smi","smil"],"vnd.debian.binary-package":["deb","udeb"],"vnd.hzn-3d-crossword":"x3d","vnd.sqlite3":["db","sqlite","sqlite3","db-wal","sqlite-wal","db-shm","sqlite-shm"],"vnd.wap.sic":"sic","vnd.wap.slc":"slc","x-krita":["kra","krz"],"x-perl":["pm","pl"],yaml:["yaml","yml"]},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":"aifc","x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",aac:"aac",aiff:["aiff","aif","aff"],opus:"opus",wav:"wav"},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":"mmod","x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":"sd","x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":"val","x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},font:{otf:"otf",woff:"woff",woff2:"woff2"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe","jfif","jfif-tbnl","jif"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",avif:"avifs",heic:["heif","heic"],pjpeg:["pjpg"],"vnd.adobe.photoshop":"psd","x-adobe-dng":"dng","x-fuji-raf":"raf","x-icns":"icns","x-kodak-dcr":"dcr","x-kodak-k25":"k25","x-kodak-kdc":"kdc","x-minolta-mrw":"mrw","x-panasonic-raw":["raw","rw2","rwl"],"x-pentax-pef":["pef","ptx"],"x-sigma-x3f":"x3f","x-sony-arw":"arw","x-sony-sr2":"sr2","x-sony-srf":"srf"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":"x3dz","x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.usdz+zip":"usdz","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",plain:["txt","text","brf","conf","def","list","log","in","bas","diff","ksh"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:"tm","tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":"patch","x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas","pp","inc"],"x-pcs-gcd":"gcd","x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","h","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt",javascript:"js",json:"json",markdown:["md","markdown","mdown","markdn"],"vnd.wap.si":"si","vnd.wap.sl":"sl"},video:{avif:"avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv",mp2t:"ts"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","flr","wrz","xaf","xof"]}};(()=>{const e={};for(const t of Object.keys(fy))for(const n of Object.keys(fy[t])){const r=fy[t][n];if(typeof r=="string")e[r]=t+"/"+n;else for(let i=0;i<r.length;i++)e[r[i]]=t+"/"+n}return e})();kY(r1);const JX=({isVisible:e,onClose:t,journals:n,activeJournal:r,onSelectJournal:i})=>{const a=[{path:"/app",end:!0,label:"Timeline",icon:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})},{path:"/app/calendar",label:"Calendar",icon:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{path:"/app/search",label:"Search",icon:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})},{path:"/app/profile",label:"Profile",icon:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],o=()=>{window.innerWidth<768&&t()};return b.jsxs("aside",{className:`bg-[#F4EFE9] dark:bg-slate-900 border-r border-[#EAE1D6] dark:border-slate-800 flex flex-col transition-transform duration-300 ease-in-out w-64 fixed md:absolute md:top-0 md:left-0 z-30 h-full ${e?"translate-x-0":"-translate-x-full"}`,children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#EAE1D6] dark:border-slate-800",children:[b.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Diary"}),b.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-slate-200/50 dark:hover:bg-slate-700/50",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[b.jsxs(Zx,{to:"/app/new",onClick:o,className:"w-full flex items-center gap-3 p-3 rounded-lg text-white font-semibold transition-colors bg-indigo-500 hover:bg-indigo-600 shadow-sm mb-6",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),b.jsx("span",{children:"New Entry"})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Views"}),a.map(s=>b.jsxs(Zx,{to:s.path,end:s.end,onClick:o,className:({isActive:l})=>`w-full flex items-center gap-3 p-2.5 rounded-lg text-left text-sm font-medium transition-colors ${l?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-200/50 dark:hover:bg-slate-800"}`,children:[s.icon,b.jsx("span",{children:s.label})]},s.path))]}),b.jsxs("div",{className:"pt-6",children:[b.jsxs("h3",{className:"px-3 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 flex items-center justify-between",children:[b.jsx("span",{children:"Journals"}),b.jsx("span",{className:"bg-slate-200 dark:bg-slate-700 text-[10px] px-1.5 py-0.5 rounded-full text-slate-600 dark:text-slate-300",children:n.length})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("button",{onClick:()=>{i(null),o()},className:`w-full flex items-center gap-3 p-2.5 rounded-lg text-left text-sm font-medium transition-colors ${r===null?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-200/50 dark:hover:bg-slate-800"}`,children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 opacity-70",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})}),b.jsx("span",{children:"All Entries"})]}),n.map(s=>b.jsxs("button",{onClick:()=>{i(s),o()},className:`w-full flex items-center gap-3 p-2.5 rounded-lg text-left text-sm font-medium transition-colors ${r===s?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-200/50 dark:hover:bg-slate-800"}`,children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 opacity-70",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"})}),b.jsx("span",{className:"truncate",children:s})]},s))]})]})]})]})};function Pn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ks(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function XX(e,t){const n=Pn(e);return isNaN(t)?ks(e,NaN):(n.setDate(n.getDate()+t),n)}const Z6=6048e5,ZX=864e5,qg=43200,gk=1440;let eZ={};function dp(){return eZ}function Du(e,t){var s,l,u,c;const n=dp(),r=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Pn(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function bm(e){return Du(e,{weekStartsOn:1})}function eB(e){const t=Pn(e),n=t.getFullYear(),r=ks(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=bm(r),a=ks(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=bm(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function xm(e){const t=Pn(e);return t.setHours(0,0,0,0),t}function Em(e){const t=Pn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function tZ(e,t){const n=xm(e),r=xm(t),i=+n-Em(n),a=+r-Em(r);return Math.round((i-a)/ZX)}function nZ(e){const t=eB(e),n=ks(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),bm(n)}function E0(e,t){const n=Pn(e),r=Pn(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function a1(e){return ks(e,Date.now())}function tB(e,t){const n=xm(e),r=xm(t);return+n==+r}function rZ(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function iZ(e){if(!rZ(e)&&typeof e!="number")return!1;const t=Pn(e);return!isNaN(Number(t))}function aZ(e,t){const n=Pn(e),r=Pn(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function oZ(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function sZ(e,t){return+Pn(e)-+Pn(t)}function lZ(e){const t=Pn(e);return t.setHours(23,59,59,999),t}function uZ(e){const t=Pn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function cZ(e){const t=Pn(e);return+lZ(t)==+uZ(t)}function dZ(e,t){const n=Pn(e),r=Pn(t),i=E0(n,r),a=Math.abs(aZ(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let s=E0(n,r)===-i;cZ(Pn(e))&&a===1&&E0(e,r)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function fZ(e,t,n){const r=sZ(e,t)/1e3;return oZ(n==null?void 0:n.roundingMethod)(r)}function hZ(e){const t=Pn(e),n=ks(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const pZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gZ=(e,t,n)=>{let r;const i=pZ[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function hy(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const mZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},AZ={date:hy({formats:mZ,defaultWidth:"full"}),time:hy({formats:vZ,defaultWidth:"full"}),dateTime:hy({formats:yZ,defaultWidth:"full"})},wZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bZ=(e,t,n,r)=>wZ[e];function jf(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const xZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},EZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_Z={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},NZ=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},IZ={ordinalNumber:NZ,era:jf({values:xZ,defaultWidth:"wide"}),quarter:jf({values:EZ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:jf({values:kZ,defaultWidth:"wide"}),day:jf({values:_Z,defaultWidth:"wide"}),dayPeriod:jf({values:CZ,defaultWidth:"wide",formattingValues:SZ,defaultFormattingWidth:"wide"})};function Df(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?BZ(s,d=>d.test(o)):PZ(s,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(o.length);return{value:u,rest:c}}}function PZ(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function BZ(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function TZ(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const OZ=/^(\d+)(th|st|nd|rd)?/i,jZ=/\d+/i,DZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LZ={any:[/^b/i,/^(a|c)/i]},RZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},FZ={any:[/1/i,/2/i,/3/i,/4/i]},MZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qZ={ordinalNumber:TZ({matchPattern:OZ,parsePattern:jZ,valueCallback:e=>parseInt(e,10)}),era:Df({matchPatterns:DZ,defaultMatchWidth:"wide",parsePatterns:LZ,defaultParseWidth:"any"}),quarter:Df({matchPatterns:RZ,defaultMatchWidth:"wide",parsePatterns:FZ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Df({matchPatterns:MZ,defaultMatchWidth:"wide",parsePatterns:UZ,defaultParseWidth:"any"}),day:Df({matchPatterns:zZ,defaultMatchWidth:"wide",parsePatterns:HZ,defaultParseWidth:"any"}),dayPeriod:Df({matchPatterns:GZ,defaultMatchWidth:"any",parsePatterns:QZ,defaultParseWidth:"any"})},nB={code:"en-US",formatDistance:gZ,formatLong:AZ,formatRelative:bZ,localize:IZ,match:qZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $Z(e){const t=Pn(e);return tZ(t,hZ(t))+1}function VZ(e){const t=Pn(e),n=+bm(t)-+nZ(t);return Math.round(n/Z6)+1}function rB(e,t){var c,d,h,f;const n=Pn(e),r=n.getFullYear(),i=dp(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(h=i.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=ks(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=Du(o,t),l=ks(e,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=Du(l,t);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function WZ(e,t){var s,l,u,c;const n=dp(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=rB(e,t),a=ks(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Du(a,t)}function KZ(e,t){const n=Pn(e),r=+Du(n,t)-+WZ(n,t);return Math.round(r/Z6)+1}function bn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ks={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return bn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):bn(n+1,2)},d(e,t){return bn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return bn(e.getHours()%12||12,t.length)},H(e,t){return bn(e.getHours(),t.length)},m(e,t){return bn(e.getMinutes(),t.length)},s(e,t){return bn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return bn(i,t.length)}},Sc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mk={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ks.y(e,t)},Y:function(e,t,n,r){const i=rB(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return bn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):bn(a,t.length)},R:function(e,t){const n=eB(e);return bn(n,t.length)},u:function(e,t){const n=e.getFullYear();return bn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return bn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return bn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ks.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return bn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=KZ(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):bn(i,t.length)},I:function(e,t,n){const r=VZ(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):bn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ks.d(e,t)},D:function(e,t,n){const r=$Z(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):bn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return bn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return bn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return bn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Sc.noon:r===0?i=Sc.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Sc.evening:r>=12?i=Sc.afternoon:r>=4?i=Sc.morning:i=Sc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ks.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ks.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):bn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):bn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ks.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ks.s(e,t)},S:function(e,t){return Ks.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return yk(r);case"XXXX":case"XX":return nu(r);case"XXXXX":case"XXX":default:return nu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return yk(r);case"xxxx":case"xx":return nu(r);case"xxxxx":case"xxx":default:return nu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+vk(r,":");case"OOOO":default:return"GMT"+nu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+vk(r,":");case"zzzz":default:return"GMT"+nu(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return bn(r,t.length)},T:function(e,t,n){const r=e.getTime();return bn(r,t.length)}};function vk(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+bn(a,2)}function yk(e,t){return e%60===0?(e>0?"-":"+")+bn(Math.abs(e)/60,2):nu(e,t)}function nu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=bn(Math.trunc(r/60),2),a=bn(r%60,2);return n+i+t+a}const Ak=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},iB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},YZ=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Ak(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Ak(r,t)).replace("{{time}}",iB(i,t))},JZ={p:iB,P:YZ},XZ=/^D+$/,ZZ=/^Y+$/,eee=["D","DD","YY","YYYY"];function tee(e){return XZ.test(e)}function nee(e){return ZZ.test(e)}function ree(e,t,n){const r=iee(e,t,n);if(console.warn(r),eee.includes(e))throw new RangeError(r)}function iee(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const aee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,see=/^'([^]*?)'?$/,lee=/''/g,uee=/[a-zA-Z]/;function Kh(e,t,n){var c,d,h,f;const r=dp(),i=r.locale??nB,a=r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,s=Pn(e);if(!iZ(s))throw new RangeError("Invalid time value");let l=t.match(oee).map(v=>{const y=v[0];if(y==="p"||y==="P"){const A=JZ[y];return A(v,i.formatLong)}return v}).join("").match(aee).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:cee(v)};if(mk[y])return{isToken:!0,value:v};if(y.match(uee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const y=v.value;(nee(y)||tee(y))&&ree(y,t,String(e));const A=mk[y[0]];return A(s,y,i.localize,u)}).join("")}function cee(e){const t=e.match(see);return t?t[1].replace(lee,"'"):e}function dee(e,t,n){const r=dp(),i=(n==null?void 0:n.locale)??r.locale??nB,a=2520,o=E0(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,u;o>0?(l=Pn(t),u=Pn(e)):(l=Pn(e),u=Pn(t));const c=fZ(u,l),d=(Em(u)-Em(l))/1e3,h=Math.round((c-d)/60);let f;if(h<2)return n!=null&&n.includeSeconds?c<5?i.formatDistance("lessThanXSeconds",5,s):c<10?i.formatDistance("lessThanXSeconds",10,s):c<20?i.formatDistance("lessThanXSeconds",20,s):c<40?i.formatDistance("halfAMinute",0,s):c<60?i.formatDistance("lessThanXMinutes",1,s):i.formatDistance("xMinutes",1,s):h===0?i.formatDistance("lessThanXMinutes",1,s):i.formatDistance("xMinutes",h,s);if(h<45)return i.formatDistance("xMinutes",h,s);if(h<90)return i.formatDistance("aboutXHours",1,s);if(h<gk){const v=Math.round(h/60);return i.formatDistance("aboutXHours",v,s)}else{if(h<a)return i.formatDistance("xDays",1,s);if(h<qg){const v=Math.round(h/gk);return i.formatDistance("xDays",v,s)}else if(h<qg*2)return f=Math.round(h/qg),i.formatDistance("aboutXMonths",f,s)}if(f=dZ(u,l),f<12){const v=Math.round(h/qg);return i.formatDistance("xMonths",v,s)}else{const v=f%12,y=Math.trunc(f/12);return v<3?i.formatDistance("aboutXYears",y,s):v<9?i.formatDistance("overXYears",y,s):i.formatDistance("almostXYears",y+1,s)}}function aB(e,t){return dee(e,a1(e),t)}function fee(e,t,n){const r=Du(e,n),i=Du(t,n);return+r==+i}function hee(e,t){return fee(e,a1(e),t)}function pee(e){return tB(e,a1(e))}function gee(e,t){return XX(e,-1)}function mee(e){return tB(e,gee(a1(e)))}const vee=({status:e})=>{const t={encrypting:{text:"Encrypting...",icon:b.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})},synced:{text:"Synced",icon:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})},error:{text:"Error",icon:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}},{text:n,icon:r}=t[e];return b.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:[r,b.jsx("span",{className:"hidden sm:inline",children:n})]})},yee=({isEditing:e,onSave:t,onCancel:n,currentDate:r,weather:i,theme:a,onToggleTheme:o,saveStatus:s,profile:l,onShowProfile:u,isToolsPanelVisible:c,onToggleToolsPanel:d,isLeftSidebarVisible:h})=>{const[f,v]=ie.useState(new Date),[y,A]=ie.useState(null),{lock:g}=Fu();return ie.useEffect(()=>{const p=setInterval(()=>{v(new Date)},6e4);return()=>clearInterval(p)},[]),ie.useEffect(()=>{let p=!0;return(async()=>{if(!(l!=null&&l.avatar_url)){p&&A(null);return}if(l.avatar_url.startsWith("http"))p&&A(l.avatar_url);else try{const{data:x,error:C}=await ln.storage.from("avatars").createSignedUrl(l.avatar_url,3600);if(C)throw C;p&&(x!=null&&x.signedUrl)&&A(x.signedUrl)}catch(x){console.error("Error resolving avatar URL in TopBar:",x),p&&A(null)}})(),()=>{p=!1}},[l==null?void 0:l.avatar_url]),b.jsx("header",{className:"bg-white/80 dark:bg-slate-900/50 backdrop-blur-sm border-b border-[#EAE1D6] dark:border-slate-800 min-h-[4rem] flex-shrink-0 relative z-20 transition-all duration-200",children:b.jsxs("div",{className:"min-h-[4rem] flex flex-wrap items-center justify-between px-4 sm:px-6 py-2 gap-y-2",children:[b.jsxs("div",{className:`flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-slate-600 dark:text-slate-300 transition-all duration-300 ${h?"":"pl-12 md:pl-16"} ${e?"hidden md:flex":"flex"}`,children:[b.jsx("span",{className:"font-semibold",children:Kh(f,"p")}),b.jsx("span",{className:"font-semibold",children:Kh(r,"MMMM d, yyyy")}),i&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full"}),b.jsxs("span",{children:[i.location,", ",Math.round(i.temp),"C"]})]})]}),b.jsx("div",{className:`flex items-center gap-3 ${e&&!h?"pl-12 md:pl-0":""}`,children:e?b.jsxs(b.Fragment,{children:[b.jsx(vee,{status:s}),b.jsx("button",{onClick:n,className:"px-3 py-1.5 text-sm font-semibold rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:t,className:"px-4 py-1.5 text-sm font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 transition-colors shadow-sm",children:"Save"})]}):b.jsx("div",{className:"hidden md:block h-9"})}),b.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 ml-auto md:ml-0",children:[e&&b.jsx("button",{onClick:d,title:"Toggle Tools Panel",className:`p-2 rounded-full transition-colors ${c?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600":"hover:bg-slate-200/50 dark:hover:bg-slate-700/50 text-slate-500"}`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),b.jsx("button",{onClick:g,title:"Lock Diary",className:"p-2 rounded-full hover:bg-slate-200/50 dark:hover:bg-slate-700/50 text-slate-500 dark:text-slate-400",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),b.jsx("button",{onClick:o,title:"Toggle Theme",className:"p-2 rounded-full hover:bg-slate-200/50 dark:hover:bg-slate-700/50 text-slate-500 dark:text-slate-400",children:a==="dark"?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 14.464A1 1 0 106.465 13.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zm-1.414-2.12a1 1 0 011.414 0l.707.707a1 1 0 11-1.414 1.414l-.707-.707a1 1 0 010-1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z",clipRule:"evenodd"})})}),b.jsx("button",{onClick:u,title:"Profile & Settings",className:"w-9 h-9 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden flex items-center justify-center hover:ring-2 ring-indigo-500 ring-offset-2 ring-offset-white dark:ring-offset-slate-900 transition-all",children:y?b.jsx("img",{src:y,alt:"User avatar",className:"w-full h-full object-cover"}):b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})]})]})})},Aee="modulepreload",wee=function(e){return"/diary/"+e},wk={},S2=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=wee(l),l in wk)return;wk[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Aee,u||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}var vi=Uint8Array,ma=Uint16Array,Qb=Int32Array,o1=new vi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s1=new vi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),N2=new vi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oB=function(e,t){for(var n=new ma(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Qb(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},sB=oB(o1,2),lB=sB.b,I2=sB.r;lB[28]=258,I2[258]=28;var uB=oB(s1,0),bee=uB.b,bk=uB.r,P2=new ma(32768);for(var Vn=0;Vn<32768;++Vn){var Ys=(Vn&43690)>>1|(Vn&21845)<<1;Ys=(Ys&52428)>>2|(Ys&13107)<<2,Ys=(Ys&61680)>>4|(Ys&3855)<<4,P2[Vn]=((Ys&65280)>>8|(Ys&255)<<8)>>1}var Ro=function(e,t,n){for(var r=e.length,i=0,a=new ma(t);i<r;++i)e[i]&&++a[e[i]-1];var o=new ma(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new ma(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],d=o[e[i]-1]++<<c,h=d|(1<<c)-1;d<=h;++d)s[P2[d]>>l]=u}else for(s=new ma(r),i=0;i<r;++i)e[i]&&(s[i]=P2[o[e[i]-1]++]>>15-e[i]);return s},Nl=new vi(288);for(var Vn=0;Vn<144;++Vn)Nl[Vn]=8;for(var Vn=144;Vn<256;++Vn)Nl[Vn]=9;for(var Vn=256;Vn<280;++Vn)Nl[Vn]=7;for(var Vn=280;Vn<288;++Vn)Nl[Vn]=8;var Yh=new vi(32);for(var Vn=0;Vn<32;++Vn)Yh[Vn]=5;var xee=Ro(Nl,9,0),Eee=Ro(Nl,9,1),kee=Ro(Yh,5,0),_ee=Ro(Yh,5,1),py=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Za=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},gy=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},qb=function(e){return(e+7)/8|0},cB=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new vi(e.subarray(t,n))},Cee=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],oo=function(e,t,n){var r=new Error(t||Cee[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,oo),!n)throw r;return r},See=function(e,t,n,r){var i=e.length,a=0;if(!i||t.f&&!t.l)return n||new vi(0);var o=!n,s=o||t.i!=2,l=t.i;o&&(n=new vi(i*3));var u=function(ye){var Ce=n.length;if(ye>Ce){var Pe=new vi(Math.max(Ce*2,ye));Pe.set(n),n=Pe}},c=t.f||0,d=t.p||0,h=t.b||0,f=t.l,v=t.d,y=t.m,A=t.n,g=i*8;do{if(!f){c=Za(e,d,1);var p=Za(e,d+1,3);if(d+=3,p)if(p==1)f=Eee,v=_ee,y=9,A=5;else if(p==2){var D=Za(e,d,31)+257,N=Za(e,d+10,15)+4,I=D+Za(e,d+5,31)+1;d+=14;for(var R=new vi(I),T=new vi(19),k=0;k<N;++k)T[N2[k]]=Za(e,d+k*3,7);d+=N*3;for(var _=py(T),O=(1<<_)-1,j=Ro(T,_,1),k=0;k<I;){var z=j[Za(e,d,O)];d+=z&15;var w=z>>4;if(w<16)R[k++]=w;else{var Z=0,ee=0;for(w==16?(ee=3+Za(e,d,3),d+=2,Z=R[k-1]):w==17?(ee=3+Za(e,d,7),d+=3):w==18&&(ee=11+Za(e,d,127),d+=7);ee--;)R[k++]=Z}}var K=R.subarray(0,D),W=R.subarray(D);y=py(K),A=py(W),f=Ro(K,y,1),v=Ro(W,A,1)}else oo(1);else{var w=qb(d)+4,x=e[w-4]|e[w-3]<<8,C=w+x;if(C>i){l&&oo(0);break}s&&u(h+x),n.set(e.subarray(w,C),h),t.b=h+=x,t.p=d=C*8,t.f=c;continue}if(d>g){l&&oo(0);break}}s&&u(h+131072);for(var Q=(1<<y)-1,U=(1<<A)-1,B=d;;B=d){var Z=f[gy(e,d)&Q],L=Z>>4;if(d+=Z&15,d>g){l&&oo(0);break}if(Z||oo(2),L<256)n[h++]=L;else if(L==256){B=d,f=null;break}else{var H=L-254;if(L>264){var k=L-257,G=o1[k];H=Za(e,d,(1<<G)-1)+lB[k],d+=G}var M=v[gy(e,d)&U],V=M>>4;M||oo(3),d+=M&15;var W=bee[V];if(V>3){var G=s1[V];W+=gy(e,d)&(1<<G)-1,d+=G}if(d>g){l&&oo(0);break}s&&u(h+131072);var te=h+H;if(h<W){var J=a-W,de=Math.min(W,te);for(J+h<0&&oo(3);h<de;++h)n[h]=r[J+h]}for(;h<te;++h)n[h]=n[h-W]}}t.l=f,t.p=B,t.b=h,t.f=c,f&&(c=1,t.m=y,t.d=v,t.n=A)}while(!c);return h!=n.length&&o?cB(n,0,h):n.subarray(0,h)},ns=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Lf=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},my=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:fB,l:0};if(i==1){var o=new vi(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,D){return C.f-D.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=a[0].s,r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var f=new ma(h+1),v=B2(n[c-1],f,0);if(v>t){var r=0,y=0,A=v-t,g=1<<A;for(a.sort(function(D,N){return f[N.s]-f[D.s]||D.f-N.f});r<i;++r){var p=a[r].s;if(f[p]>t)y+=g-(1<<v-f[p]),f[p]=t;else break}for(y>>=A;y>0;){var w=a[r].s;f[w]<t?y-=1<<t-f[w]++-1:++r}for(;r>=0&&y;--r){var x=a[r].s;f[x]==t&&(--f[x],++y)}v=t}return{t:new vi(f),l:v}},B2=function(e,t,n){return e.s==-1?Math.max(B2(e.l,t,n+1),B2(e.r,t,n+1)):t[e.s]=n},xk=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ma(++t),r=0,i=e[0],a=1,o=function(l){n[r++]=l},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return{c:n.subarray(0,r),n:t}},Rf=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},dB=function(e,t,n){var r=n.length,i=qb(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},Ek=function(e,t,n,r,i,a,o,s,l,u,c){ns(t,c++,n),++i[256];for(var d=my(i,15),h=d.t,f=d.l,v=my(a,15),y=v.t,A=v.l,g=xk(h),p=g.c,w=g.n,x=xk(y),C=x.c,D=x.n,N=new ma(19),I=0;I<p.length;++I)++N[p[I]&31];for(var I=0;I<C.length;++I)++N[C[I]&31];for(var R=my(N,7),T=R.t,k=R.l,_=19;_>4&&!T[N2[_-1]];--_);var O=u+5<<3,j=Rf(i,Nl)+Rf(a,Yh)+o,z=Rf(i,h)+Rf(a,y)+o+14+3*_+Rf(N,T)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&O<=j&&O<=z)return dB(t,c,e.subarray(l,l+u));var Z,ee,K,W;if(ns(t,c,1+(z<j)),c+=2,z<j){Z=Ro(h,f,0),ee=h,K=Ro(y,A,0),W=y;var Q=Ro(T,k,0);ns(t,c,w-257),ns(t,c+5,D-1),ns(t,c+10,_-4),c+=14;for(var I=0;I<_;++I)ns(t,c+3*I,T[N2[I]]);c+=3*_;for(var U=[p,C],B=0;B<2;++B)for(var L=U[B],I=0;I<L.length;++I){var H=L[I]&31;ns(t,c,Q[H]),c+=T[H],H>15&&(ns(t,c,L[I]>>5&127),c+=L[I]>>12)}}else Z=xee,ee=Nl,K=kee,W=Yh;for(var I=0;I<s;++I){var G=r[I];if(G>255){var H=G>>18&31;Lf(t,c,Z[H+257]),c+=ee[H+257],H>7&&(ns(t,c,G>>23&31),c+=o1[H]);var M=G&31;Lf(t,c,K[M]),c+=W[M],M>3&&(Lf(t,c,G>>5&8191),c+=s1[M])}else Lf(t,c,Z[G]),c+=ee[G]}return Lf(t,c,Z[256]),c+ee[256]},Nee=new Qb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fB=new vi(0),Iee=function(e,t,n,r,i,a){var o=a.z||e.length,s=new vi(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),u=a.l,c=(a.r||0)&7;if(t){c&&(l[0]=a.r>>3);for(var d=Nee[t-1],h=d>>13,f=d&8191,v=(1<<n)-1,y=a.p||new ma(32768),A=a.h||new ma(v+1),g=Math.ceil(n/3),p=2*g,w=function(Le){return(e[Le]^e[Le+1]<<g^e[Le+2]<<p)&v},x=new Qb(25e3),C=new ma(288),D=new ma(32),N=0,I=0,R=a.i||0,T=0,k=a.w||0,_=0;R+2<o;++R){var O=w(R),j=R&32767,z=A[O];if(y[j]=z,A[O]=j,k<=R){var Z=o-R;if((N>7e3||T>24576)&&(Z>423||!u)){c=Ek(e,l,0,x,C,D,I,T,_,R-_,c),T=N=I=0,_=R;for(var ee=0;ee<286;++ee)C[ee]=0;for(var ee=0;ee<30;++ee)D[ee]=0}var K=2,W=0,Q=f,U=j-z&32767;if(Z>2&&O==w(R-U))for(var B=Math.min(h,Z)-1,L=Math.min(32767,R),H=Math.min(258,Z);U<=L&&--Q&&j!=z;){if(e[R+K]==e[R+K-U]){for(var G=0;G<H&&e[R+G]==e[R+G-U];++G);if(G>K){if(K=G,W=U,G>B)break;for(var M=Math.min(U,G-2),V=0,ee=0;ee<M;++ee){var te=R-U+ee&32767,J=y[te],de=te-J&32767;de>V&&(V=de,z=te)}}}j=z,z=y[j],U+=j-z&32767}if(W){x[T++]=268435456|I2[K]<<18|bk[W];var ye=I2[K]&31,Ce=bk[W]&31;I+=o1[ye]+s1[Ce],++C[257+ye],++D[Ce],k=R+K,++N}else x[T++]=e[R],++C[e[R]]}}for(R=Math.max(R,k);R<o;++R)x[T++]=e[R],++C[e[R]];c=Ek(e,l,u,x,C,D,I,T,_,R-_,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=A,a.p=y,a.i=R,a.w=k)}else{for(var R=a.w||0;R<o+u;R+=65535){var Pe=R+65535;Pe>=o&&(l[c/8|0]=u,Pe=o),c=dB(l,c+1,e.subarray(R,Pe))}a.i=o}return cB(s,0,r+qb(c)+i)},hB=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Pee=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new vi(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return Iee(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},pB=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Bee=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=hB();i.p(t.dictionary),pB(e,2,i.d())}},Tee=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&oo(6,"invalid zlib data"),(e[1]>>5&1)==1&&oo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function T2(e,t){t||(t={});var n=hB();n.p(e);var r=Pee(e,t,t.dictionary?6:2,4);return Bee(r,t),pB(r,r.length-4,n.d()),r}function Oee(e,t){return See(e.subarray(Tee(e),-4),{i:2},t,t)}var jee=typeof TextDecoder<"u"&&new TextDecoder,Dee=0;try{jee.decode(fB,{stream:!0}),Dee=1}catch{}var Tt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function vy(){Tt.console&&typeof Tt.console.log=="function"&&Tt.console.log.apply(Tt.console,arguments)}var On={log:vy,warn:function(e){Tt.console&&(typeof Tt.console.warn=="function"?Tt.console.warn.apply(Tt.console,arguments):vy.call(null,arguments))},error:function(e){Tt.console&&(typeof Tt.console.error=="function"?Tt.console.error.apply(Tt.console,arguments):vy(e))}};function yy(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){ru(r.response,t,n)},r.onerror=function(){On.error("could not download file")},r.send()}function kk(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function $g(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var vh,O2,ru=Tt.saveAs||((typeof window>"u"?"undefined":En(window))!=="object"||window!==Tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Tt.URL||Tt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?kk(i.href)?yy(e,t,n):$g(i,i.target="_blank"):$g(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){$g(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(kk(e))yy(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){$g(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:En(a)!=="object"&&(On.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return yy(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(Tt.HTMLElement)||Tt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":En(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(e)}else{var l=Tt.URL||Tt.webkitURL,u=l.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function gB(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ay(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=fi(n,r,i,a,t[0],7,-680876936),a=fi(a,n,r,i,t[1],12,-389564586),i=fi(i,a,n,r,t[2],17,606105819),r=fi(r,i,a,n,t[3],22,-1044525330),n=fi(n,r,i,a,t[4],7,-176418897),a=fi(a,n,r,i,t[5],12,1200080426),i=fi(i,a,n,r,t[6],17,-1473231341),r=fi(r,i,a,n,t[7],22,-45705983),n=fi(n,r,i,a,t[8],7,1770035416),a=fi(a,n,r,i,t[9],12,-1958414417),i=fi(i,a,n,r,t[10],17,-42063),r=fi(r,i,a,n,t[11],22,-1990404162),n=fi(n,r,i,a,t[12],7,1804603682),a=fi(a,n,r,i,t[13],12,-40341101),i=fi(i,a,n,r,t[14],17,-1502002290),n=hi(n,r=fi(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=hi(a,n,r,i,t[6],9,-1069501632),i=hi(i,a,n,r,t[11],14,643717713),r=hi(r,i,a,n,t[0],20,-373897302),n=hi(n,r,i,a,t[5],5,-701558691),a=hi(a,n,r,i,t[10],9,38016083),i=hi(i,a,n,r,t[15],14,-660478335),r=hi(r,i,a,n,t[4],20,-405537848),n=hi(n,r,i,a,t[9],5,568446438),a=hi(a,n,r,i,t[14],9,-1019803690),i=hi(i,a,n,r,t[3],14,-187363961),r=hi(r,i,a,n,t[8],20,1163531501),n=hi(n,r,i,a,t[13],5,-1444681467),a=hi(a,n,r,i,t[2],9,-51403784),i=hi(i,a,n,r,t[7],14,1735328473),n=pi(n,r=hi(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=pi(a,n,r,i,t[8],11,-2022574463),i=pi(i,a,n,r,t[11],16,1839030562),r=pi(r,i,a,n,t[14],23,-35309556),n=pi(n,r,i,a,t[1],4,-1530992060),a=pi(a,n,r,i,t[4],11,1272893353),i=pi(i,a,n,r,t[7],16,-155497632),r=pi(r,i,a,n,t[10],23,-1094730640),n=pi(n,r,i,a,t[13],4,681279174),a=pi(a,n,r,i,t[0],11,-358537222),i=pi(i,a,n,r,t[3],16,-722521979),r=pi(r,i,a,n,t[6],23,76029189),n=pi(n,r,i,a,t[9],4,-640364487),a=pi(a,n,r,i,t[12],11,-421815835),i=pi(i,a,n,r,t[15],16,530742520),n=gi(n,r=pi(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=gi(a,n,r,i,t[7],10,1126891415),i=gi(i,a,n,r,t[14],15,-1416354905),r=gi(r,i,a,n,t[5],21,-57434055),n=gi(n,r,i,a,t[12],6,1700485571),a=gi(a,n,r,i,t[3],10,-1894986606),i=gi(i,a,n,r,t[10],15,-1051523),r=gi(r,i,a,n,t[1],21,-2054922799),n=gi(n,r,i,a,t[8],6,1873313359),a=gi(a,n,r,i,t[15],10,-30611744),i=gi(i,a,n,r,t[6],15,-1560198380),r=gi(r,i,a,n,t[13],21,1309151649),n=gi(n,r,i,a,t[4],6,-145523070),a=gi(a,n,r,i,t[11],10,-1120210379),i=gi(i,a,n,r,t[2],15,718787259),r=gi(r,i,a,n,t[9],21,-343485551),e[0]=dl(n,e[0]),e[1]=dl(r,e[1]),e[2]=dl(i,e[2]),e[3]=dl(a,e[3])}function l1(e,t,n,r,i,a){return t=dl(dl(t,e),dl(r,a)),dl(t<<i|t>>>32-i,n)}function fi(e,t,n,r,i,a,o){return l1(t&n|~t&r,e,t,i,a,o)}function hi(e,t,n,r,i,a,o){return l1(t&r|n&~r,e,t,i,a,o)}function pi(e,t,n,r,i,a,o){return l1(t^n^r,e,t,i,a,o)}function gi(e,t,n,r,i,a,o){return l1(n^(t|~r),e,t,i,a,o)}function mB(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ay(r,Lee(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Ay(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Ay(r,i),r}function Lee(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}vh=Tt.atob.bind(Tt),O2=Tt.btoa.bind(Tt);var _k="0123456789abcdef".split("");function Ree(e){for(var t="",n=0;n<4;n++)t+=_k[e>>8*n+4&15]+_k[e>>8*n&15];return t}function Fee(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function j2(e){return mB(e).map(Fee).join("")}var Mee=function(e){for(var t=0;t<e.length;t++)e[t]=Ree(e[t]);return e.join("")}(mB("hello"))!="5d41402abc4b2a76b9719d911017c592";function dl(e,t){if(Mee){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function D2(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=e,r=s}else s=r;var d=t.length,h=0,f=0,v="";for(l=0;l<d;l++)f=(f+(c=s[h=(h+1)%256]))%256,s[h]=s[f],s[f]=c,o=s[(s[h]+s[f])%256],v+=String.fromCharCode(t.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ck={print:4,modify:8,copy:16,"annot-forms":32};function Rc(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(s){if(Ck.perm!==void 0)throw new Error("Invalid permission: "+s);i+=Ck[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=j2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=D2(this.encryptionKey,this.padding)}function Fc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function Sk(e){if(En(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(s){Tt.console&&On.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function km(e){if(!(this instanceof km))return new km(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function vB(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function du(e,t,n,r,i){if(!(this instanceof du))return new du(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,vB.call(this,r,i)}function Zc(e,t,n,r,i){if(!(this instanceof Zc))return new Zc(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,vB.call(this,r,i)}function Pt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;En(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(c=e.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=Sk;var v="1.3",y=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(S){v=S};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return A};var g=f.__private__.getPageFormat=function(S){return A[S]};i=i||"a4";var p={COMPAT:"compat",ADVANCED:"advanced"},w=p.COMPAT;function x(){this.saveGraphicsState(),oe(new At(Ue,0,0,-Ue,0,Ts()*Ue).toString()+" cm"),this.setFontSize(this.getFontSize()/Ue),u="n",w=p.ADVANCED}function C(){this.restoreGraphicsState(),u="S",w=p.COMPAT}var D=f.__private__.combineFontStyleAndFontWeight=function(S,$){if(S=="bold"&&$=="normal"||S=="bold"&&$==400||S=="normal"&&$=="italic"||S=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(S=$==400||$==="normal"?S==="italic"?"italic":"normal":$!=700&&$!=="bold"||S!=="normal"?($==700?"bold":$)+""+S:"bold"),S};f.advancedAPI=function(S){var $=w===p.COMPAT;return $&&x.call(this),typeof S!="function"||(S(this),$&&C.call(this)),this},f.compatAPI=function(S){var $=w===p.ADVANCED;return $&&C.call(this),typeof S!="function"||(S(this),$&&x.call(this)),this},f.isAdvancedAPI=function(){return w===p.ADVANCED};var N,I=function(S){if(w!==p.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=f.roundToPrecision=f.__private__.roundToPrecision=function(S,$){var le=t||$;if(isNaN(S)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(le).replace(/0+$/,"")};N=f.hpf=f.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return R(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return R(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return R(S,16)};var T=f.f2=f.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return R(S,2)},k=f.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return R(S,3)},_=f.scale=f.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return w===p.COMPAT?S*Ue:w===p.ADVANCED?S:void 0},O=function(S){return w===p.COMPAT?Ts()-S:w===p.ADVANCED?S:void 0},j=function(S){return _(O(S))};f.__private__.setPrecision=f.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var z,Z="00000000000000000000000000000000",ee=f.__private__.getFileId=function(){return Z},K=f.__private__.setFileId=function(S){return Z=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(oi=new Rc(c.userPermissions,c.userPassword,c.ownerPassword,Z)),Z};f.setFileId=function(S){return K(S),this},f.getFileId=function(){return ee()};var W=f.__private__.convertDateToPDFDate=function(S){var $=S.getTimezoneOffset(),le=$<0?"+":"-",pe=Math.floor(Math.abs($/60)),_e=Math.abs($%60),De=[le,H(pe),"'",H(_e),"'"].join("");return["D:",S.getFullYear(),H(S.getMonth()+1),H(S.getDate()),H(S.getHours()),H(S.getMinutes()),H(S.getSeconds()),De].join("")},Q=f.__private__.convertPDFDateToDate=function(S){var $=parseInt(S.substr(2,4),10),le=parseInt(S.substr(6,2),10)-1,pe=parseInt(S.substr(8,2),10),_e=parseInt(S.substr(10,2),10),De=parseInt(S.substr(12,2),10),qe=parseInt(S.substr(14,2),10);return new Date($,le,pe,_e,De,qe,0)},U=f.__private__.setCreationDate=function(S){var $;if(S===void 0&&(S=new Date),S instanceof Date)$=W(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=S}return z=$},B=f.__private__.getCreationDate=function(S){var $=z;return S==="jsDate"&&($=Q(z)),$};f.setCreationDate=function(S){return U(S),this},f.getCreationDate=function(S){return B(S)};var L,H=f.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},G=f.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},M=0,V=[],te=[],J=0,de=[],ye=[],Ce=!1,Pe=te,Le=function(){M=0,J=0,te=[],V=[],de=[],it=Ge(),ot=Ge()};f.__private__.setCustomOutputDestination=function(S){Ce=!0,Pe=S};var Ae=function(S){Ce||(Pe=S)};f.__private__.resetCustomOutputDestination=function(){Ce=!1,Pe=te};var oe=f.__private__.out=function(S){return S=S.toString(),J+=S.length+1,Pe.push(S),Pe},Je=f.__private__.write=function(S){return oe(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},he=f.__private__.getArrayBuffer=function(S){for(var $=S.length,le=new ArrayBuffer($),pe=new Uint8Array(le);$--;)pe[$]=S.charCodeAt($);return le},ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ue};var ge=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(S){return ge=w===p.ADVANCED?S/Ue:S,this};var Ee,ae=f.__private__.getFontSize=f.getFontSize=function(){return w===p.COMPAT?ge:ge*Ue},ke=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(S){return ke=S,this},f.__private__.getR2L=f.getR2L=function(){return ke};var Te,Be=f.__private__.setZoomMode=function(S){var $=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))Ee=S;else if(isNaN(S)){if($.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');Ee=S}else Ee=parseInt(S,10)};f.__private__.getZoomMode=function(){return Ee};var Ke,nt=f.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Te=S};f.__private__.getPageMode=function(){return Te};var Ze=f.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Ke=S};f.__private__.getLayoutMode=function(){return Ke},f.__private__.setDisplayMode=f.setDisplayMode=function(S,$,le){return Be(S),Ze($),nt(le),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(S){if(Object.keys(rt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[S]},f.__private__.getDocumentProperties=function(){return rt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(S){for(var $ in rt)rt.hasOwnProperty($)&&S[$]&&(rt[$]=S[$]);return this},f.__private__.setDocumentProperty=function(S,$){if(Object.keys(rt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[S]=$};var Xe,Ue,yt,dt,Ht,Et={},Ot={},on=[],Ct={},Lr={},Zt={},er={},Rr=null,hn=0,Bt=[],en=new Sk(f),mn=e.hotfixes||[],vn={},Kr={},wi=[],At=function S($,le,pe,_e,De,qe){if(!(this instanceof S))return new S($,le,pe,_e,De,qe);isNaN($)&&($=1),isNaN(le)&&(le=0),isNaN(pe)&&(pe=0),isNaN(_e)&&(_e=1),isNaN(De)&&(De=0),isNaN(qe)&&(qe=0),this._matrix=[$,le,pe,_e,De,qe]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(S)},At.prototype.multiply=function(S){var $=S.sx*this.sx+S.shy*this.shx,le=S.sx*this.shy+S.shy*this.sy,pe=S.shx*this.sx+S.sy*this.shx,_e=S.shx*this.shy+S.sy*this.sy,De=S.tx*this.sx+S.ty*this.shx+this.tx,qe=S.tx*this.shy+S.ty*this.sy+this.ty;return new At($,le,pe,_e,De,qe)},At.prototype.decompose=function(){var S=this.sx,$=this.shy,le=this.shx,pe=this.sy,_e=this.tx,De=this.ty,qe=Math.sqrt(S*S+$*$),ct=(S/=qe)*le+($/=qe)*pe;le-=S*ct,pe-=$*ct;var xt=Math.sqrt(le*le+pe*pe);return ct/=xt,S*(pe/=xt)<$*(le/=xt)&&(S=-S,$=-$,ct=-ct,qe=-qe),{scale:new At(qe,0,0,xt,0,0),translate:new At(1,0,0,1,_e,De),rotate:new At(S,$,-$,S,0,0),skew:new At(1,0,ct,1,0,0)}},At.prototype.toString=function(S){return this.join(" ")},At.prototype.inversed=function(){var S=this.sx,$=this.shy,le=this.shx,pe=this.sy,_e=this.tx,De=this.ty,qe=1/(S*pe-$*le),ct=pe*qe,xt=-$*qe,Mt=-le*qe,Lt=S*qe;return new At(ct,xt,Mt,Lt,-ct*_e-Mt*De,-xt*_e-Lt*De)},At.prototype.applyToPoint=function(S){var $=S.x*this.sx+S.y*this.shx+this.tx,le=S.x*this.shy+S.y*this.sy+this.ty;return new Yu($,le)},At.prototype.applyToRectangle=function(S){var $=this.applyToPoint(S),le=this.applyToPoint(new Yu(S.x+S.w,S.y+S.h));return new Xd($.x,$.y,le.x-$.x,le.y-$.y)},At.prototype.clone=function(){var S=this.sx,$=this.shy,le=this.shx,pe=this.sy,_e=this.tx,De=this.ty;return new At(S,$,le,pe,_e,De)},f.Matrix=At;var fe=f.matrixMult=function(S,$){return $.multiply(S)},be=new At(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=be;var Ie=function(S,$){if(!Lr[S]){var le=($ instanceof du?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);$.id=le,Lr[S]=le,Ct[le]=$,en.publish("addPattern",$)}};f.ShadingPattern=du,f.TilingPattern=Zc,f.addShadingPattern=function(S,$){return I("addShadingPattern()"),Ie(S,$),this},f.beginTilingPattern=function(S){I("beginTilingPattern()"),_p(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},f.endTilingPattern=function(S,$){I("endTilingPattern()"),$.stream=ye[L].join(`
`),Ie(S,$),en.publish("endTilingPattern",$),wi.pop().restore()};var je=f.__private__.newObject=function(){var S=Ge();return ut(S,!0),S},Ge=f.__private__.newObjectDeferred=function(){return M++,V[M]=function(){return J},M},ut=function(S,$){return $=typeof $=="boolean"&&$,V[S]=J,$&&oe(S+" 0 obj"),S},wt=f.__private__.newAdditionalObject=function(){var S={objId:Ge(),content:""};return de.push(S),S},it=Ge(),ot=Ge(),Ye=f.__private__.decodeColorString=function(S){var $=S.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length===5&&($[4]==="k"||$[4]==="K")&&($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var le=parseFloat($[0]);$=[le,le,le,"r"]}for(var pe="#",_e=0;_e<3;_e++)pe+=("0"+Math.floor(255*parseFloat($[_e])).toString(16)).slice(-2);return pe},lt=f.__private__.encodeColorString=function(S){var $;typeof S=="string"&&(S={ch1:S});var le=S.ch1,pe=S.ch2,_e=S.ch3,De=S.ch4,qe=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var ct=new gB(le);if(ct.ok)le=ct.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var xt=parseInt(le.substr(1),16);le=xt>>16&255,pe=xt>>8&255,_e=255&xt}if(pe===void 0||De===void 0&&le===pe&&pe===_e)if(typeof le=="string")$=le+" "+qe[0];else switch(S.precision){case 2:$=T(le/255)+" "+qe[0];break;case 3:default:$=k(le/255)+" "+qe[0]}else if(De===void 0||En(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return $=["1.","1.","1.",qe[1]].join(" ");if(typeof le=="string")$=[le,pe,_e,qe[1]].join(" ");else switch(S.precision){case 2:$=[T(le/255),T(pe/255),T(_e/255),qe[1]].join(" ");break;default:case 3:$=[k(le/255),k(pe/255),k(_e/255),qe[1]].join(" ")}}else if(typeof le=="string")$=[le,pe,_e,De,qe[2]].join(" ");else switch(S.precision){case 2:$=[T(le),T(pe),T(_e),T(De),qe[2]].join(" ");break;case 3:default:$=[k(le),k(pe),k(_e),k(De),qe[2]].join(" ")}return $},bt=f.__private__.getFilters=function(){return o},St=f.__private__.putStream=function(S){var $=(S=S||{}).data||"",le=S.filters||bt(),pe=S.alreadyAppliedFilters||[],_e=S.addLength1||!1,De=$.length,qe=S.objectId,ct=function(si){return si};if(c!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(ct=oi.encryptor(qe,0));var xt={};le===!0&&(le=["FlateEncode"]);var Mt=S.additionalKeyValues||[],Lt=(xt=Pt.API.processDataByFilters!==void 0?Pt.API.processDataByFilters($,le):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(xt.data.length!==0&&(Mt.push({key:"Length",value:xt.data.length}),_e===!0&&Mt.push({key:"Length1",value:De})),Lt.length!=0)if(Lt.split("/").length-1==1)Mt.push({key:"Filter",value:Lt});else{Mt.push({key:"Filter",value:"["+Lt+"]"});for(var tn=0;tn<Mt.length;tn+=1)if(Mt[tn].key==="DecodeParms"){for(var tr=[],lr=0;lr<xt.reverseChain.split("/").length-1;lr+=1)tr.push("null");tr.push(Mt[tn].value),Mt[tn].value="["+tr.join(" ")+"]"}}oe("<<");for(var wr=0;wr<Mt.length;wr++)oe("/"+Mt[wr].key+" "+Mt[wr].value);oe(">>"),xt.data.length!==0&&(oe("stream"),oe(ct(xt.data)),oe("endstream"))},un=f.__private__.putPage=function(S){var $=S.number,le=S.data,pe=S.objId,_e=S.contentsObjId;ut(pe,!0),oe("<</Type /Page"),oe("/Parent "+S.rootDictionaryObjId+" 0 R"),oe("/Resources "+S.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(N(S.mediaBox.bottomLeftX))+" "+parseFloat(N(S.mediaBox.bottomLeftY))+" "+N(S.mediaBox.topRightX)+" "+N(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&oe("/CropBox ["+N(S.cropBox.bottomLeftX)+" "+N(S.cropBox.bottomLeftY)+" "+N(S.cropBox.topRightX)+" "+N(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&oe("/BleedBox ["+N(S.bleedBox.bottomLeftX)+" "+N(S.bleedBox.bottomLeftY)+" "+N(S.bleedBox.topRightX)+" "+N(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&oe("/TrimBox ["+N(S.trimBox.bottomLeftX)+" "+N(S.trimBox.bottomLeftY)+" "+N(S.trimBox.topRightX)+" "+N(S.trimBox.topRightY)+"]"),S.artBox!==null&&oe("/ArtBox ["+N(S.artBox.bottomLeftX)+" "+N(S.artBox.bottomLeftY)+" "+N(S.artBox.topRightX)+" "+N(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&oe("/UserUnit "+S.userUnit),en.publish("putPage",{objId:pe,pageContext:Bt[$],pageNumber:$,page:le}),oe("/Contents "+_e+" 0 R"),oe(">>"),oe("endobj");var De=le.join(`
`);return w===p.ADVANCED&&(De+=`
Q`),ut(_e,!0),St({data:De,filters:bt(),objectId:_e}),oe("endobj"),pe},Yt=f.__private__.putPages=function(){var S,$,le=[];for(S=1;S<=hn;S++)Bt[S].objId=Ge(),Bt[S].contentsObjId=Ge();for(S=1;S<=hn;S++)le.push(un({number:S,data:ye[S],objId:Bt[S].objId,contentsObjId:Bt[S].contentsObjId,mediaBox:Bt[S].mediaBox,cropBox:Bt[S].cropBox,bleedBox:Bt[S].bleedBox,trimBox:Bt[S].trimBox,artBox:Bt[S].artBox,userUnit:Bt[S].userUnit,rootDictionaryObjId:it,resourceDictionaryObjId:ot}));ut(it,!0),oe("<</Type /Pages");var pe="/Kids [";for($=0;$<hn;$++)pe+=le[$]+" 0 R ";oe(pe+"]"),oe("/Count "+hn),oe(">>"),oe("endobj"),en.publish("postPutPages")},$e=function(S){en.publish("putFont",{font:S,out:oe,newObject:je,putStream:St}),S.isAlreadyPutted!==!0&&(S.objectNumber=je(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Fc(S.postScriptName)),oe("/Subtype /Type1"),typeof S.encoding=="string"&&oe("/Encoding /"+S.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},ce=function(){for(var S in Et)Et.hasOwnProperty(S)&&(d===!1||d===!0&&h.hasOwnProperty(S))&&$e(Et[S])},Qe=function(S){S.objectNumber=je();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[N(S.x),N(S.y),N(S.x+S.width),N(S.y+S.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var le=S.pages[1].join(`
`);St({data:le,additionalKeyValues:$,objectId:S.objectNumber}),oe("endobj")},st=function(){for(var S in vn)vn.hasOwnProperty(S)&&Qe(vn[S])},qt=function(S,$){var le,pe=[],_e=1/($-1);for(le=0;le<1;le+=_e)pe.push(le);if(pe.push(1),S[0].offset!=0){var De={offset:0,color:S[0].color};S.unshift(De)}if(S[S.length-1].offset!=1){var qe={offset:1,color:S[S.length-1].color};S.push(qe)}for(var ct="",xt=0,Mt=0;Mt<pe.length;Mt++){for(le=pe[Mt];le>S[xt+1].offset;)xt++;var Lt=S[xt].offset,tn=(le-Lt)/(S[xt+1].offset-Lt),tr=S[xt].color,lr=S[xt+1].color;ct+=G(Math.round((1-tn)*tr[0]+tn*lr[0]).toString(16))+G(Math.round((1-tn)*tr[1]+tn*lr[1]).toString(16))+G(Math.round((1-tn)*tr[2]+tn*lr[2]).toString(16))}return ct.trim()},cn=function(S,$){$||($=21);var le=je(),pe=qt(S.colors,$),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+$+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),St({data:pe,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),oe("endobj"),S.objectNumber=je(),oe("<< /ShadingType "+S.type),oe("/ColorSpace /DeviceRGB");var De="/Coords ["+N(parseFloat(S.coords[0]))+" "+N(parseFloat(S.coords[1]))+" ";S.type===2?De+=N(parseFloat(S.coords[2]))+" "+N(parseFloat(S.coords[3])):De+=N(parseFloat(S.coords[2]))+" "+N(parseFloat(S.coords[3]))+" "+N(parseFloat(S.coords[4]))+" "+N(parseFloat(S.coords[5])),oe(De+="]"),S.matrix&&oe("/Matrix ["+S.matrix.toString()+"]"),oe("/Function "+le+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},_n=function(S,$){var le=Ge(),pe=je();$.push({resourcesOid:le,objectOid:pe}),S.objectNumber=pe;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+S.boundingBox.map(N).join(" ")+"]"}),_e.push({key:"XStep",value:N(S.xStep)}),_e.push({key:"YStep",value:N(S.yStep)}),_e.push({key:"Resources",value:le+" 0 R"}),S.matrix&&_e.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),St({data:S.stream,additionalKeyValues:_e,objectId:S.objectNumber}),oe("endobj")},Bn=function(S){var $;for($ in Ct)Ct.hasOwnProperty($)&&(Ct[$]instanceof du?cn(Ct[$]):Ct[$]instanceof Zc&&_n(Ct[$],S))},sr=function(S){for(var $ in S.objectNumber=je(),oe("<<"),S)switch($){case"opacity":oe("/ca "+T(S[$]));break;case"stroke-opacity":oe("/CA "+T(S[$]))}oe(">>"),oe("endobj")},bi=function(){var S;for(S in Zt)Zt.hasOwnProperty(S)&&sr(Zt[S])},Li=function(){for(var S in oe("/XObject <<"),vn)vn.hasOwnProperty(S)&&vn[S].objectNumber>=0&&oe("/"+S+" "+vn[S].objectNumber+" 0 R");en.publish("putXobjectDict"),oe(">>")},kt=function(){oi.oid=je(),oe("<<"),oe("/Filter /Standard"),oe("/V "+oi.v),oe("/R "+oi.r),oe("/U <"+oi.toHexString(oi.U)+">"),oe("/O <"+oi.toHexString(oi.O)+">"),oe("/P "+oi.P),oe(">>"),oe("endobj")},pn=function(){for(var S in oe("/Font <<"),Et)Et.hasOwnProperty(S)&&(d===!1||d===!0&&h.hasOwnProperty(S))&&oe("/"+S+" "+Et[S].objectNumber+" 0 R");oe(">>")},Yi=function(){if(Object.keys(Ct).length>0){for(var S in oe("/Shading <<"),Ct)Ct.hasOwnProperty(S)&&Ct[S]instanceof du&&Ct[S].objectNumber>=0&&oe("/"+S+" "+Ct[S].objectNumber+" 0 R");en.publish("putShadingPatternDict"),oe(">>")}},xa=function(S){if(Object.keys(Ct).length>0){for(var $ in oe("/Pattern <<"),Ct)Ct.hasOwnProperty($)&&Ct[$]instanceof f.TilingPattern&&Ct[$].objectNumber>=0&&Ct[$].objectNumber<S&&oe("/"+$+" "+Ct[$].objectNumber+" 0 R");en.publish("putTilingPatternDict"),oe(">>")}},Kn=function(){if(Object.keys(Zt).length>0){var S;for(S in oe("/ExtGState <<"),Zt)Zt.hasOwnProperty(S)&&Zt[S].objectNumber>=0&&oe("/"+S+" "+Zt[S].objectNumber+" 0 R");en.publish("putGStateDict"),oe(">>")}},Cn=function(S){ut(S.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),pn(),Yi(),xa(S.objectOid),Kn(),Li(),oe(">>"),oe("endobj")},Dl=function(){var S=[];ce(),bi(),st(),Bn(S),en.publish("putResources"),S.forEach(Cn),Cn({resourcesOid:ot,objectOid:Number.MAX_SAFE_INTEGER}),en.publish("postPutResources")},Gu=function(){en.publish("putAdditionalObjects");for(var S=0;S<de.length;S++){var $=de[S];ut($.objId,!0),oe($.content),oe("endobj")}en.publish("postPutAdditionalObjects")},fp=function(S){Ot[S.fontName]=Ot[S.fontName]||{},Ot[S.fontName][S.fontStyle]=S.id},Gd=function(S,$,le,pe,_e){var De={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:S,fontName:$,fontStyle:le,encoding:pe,isStandardFont:_e||!1,metadata:{}};return en.publish("addFont",{font:De,instance:this}),Et[De.id]=De,fp(De),De.id},v1=function(S){for(var $=0,le=ue.length;$<le;$++){var pe=Gd.call(this,S[$][0],S[$][1],S[$][2],ue[$][3],!0);d===!1&&(h[pe]=!0);var _e=S[$][0].split("-");fp({id:pe,fontName:_e[0],fontStyle:_e[1]||""})}en.publish("addFonts",{fonts:Et,dictionary:Ot})},Ga=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(pe){var $=pe.stack||"";~$.indexOf(" at ")&&($=$.split(" at ")[1]);var le="Error in function "+$.split(`
`)[0].split("<")[0]+": "+pe.message;if(!Tt.console)throw new Error(le);Tt.console.error(le,pe),Tt.alert&&alert(le)}},S.foo.bar=S,S.foo},Qu=function(S,$){var le,pe,_e,De,qe,ct,xt,Mt,Lt;if(_e=($=$||{}).sourceEncoding||"Unicode",qe=$.outputEncoding,($.autoencode||qe)&&Et[Xe].metadata&&Et[Xe].metadata[_e]&&Et[Xe].metadata[_e].encoding&&(De=Et[Xe].metadata[_e].encoding,!qe&&Et[Xe].encoding&&(qe=Et[Xe].encoding),!qe&&De.codePages&&(qe=De.codePages[0]),typeof qe=="string"&&(qe=De[qe]),qe)){for(xt=!1,ct=[],le=0,pe=S.length;le<pe;le++)(Mt=qe[S.charCodeAt(le)])?ct.push(String.fromCharCode(Mt)):ct.push(S[le]),ct[le].charCodeAt(0)>>8&&(xt=!0);S=ct.join("")}for(le=S.length;xt===void 0&&le!==0;)S.charCodeAt(le-1)>>8&&(xt=!0),le--;if(!xt)return S;for(ct=$.noBOM?[]:[254,255],le=0,pe=S.length;le<pe;le++){if((Lt=(Mt=S.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(Lt),ct.push(Mt-(Lt<<8))}return String.fromCharCode.apply(void 0,ct)},Ri=f.__private__.pdfEscape=f.pdfEscape=function(S,$){return Qu(S,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qd=f.__private__.beginPage=function(S){ye[++hn]=[],Bt[hn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},pp(hn),Ae(ye[L])},hp=function(S,$){var le,pe,_e;switch(n=$||n,typeof S=="string"&&(le=g(S.toLowerCase()),Array.isArray(le)&&(pe=le[0],_e=le[1])),Array.isArray(S)&&(pe=S[0]*Ue,_e=S[1]*Ue),isNaN(pe)&&(pe=i[0],_e=i[1]),(pe>14400||_e>14400)&&(On.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),_e=Math.min(14400,_e)),i=[pe,_e],n.substr(0,1)){case"l":_e>pe&&(i=[_e,pe]);break;case"p":pe>_e&&(i=[_e,pe])}Qd(i),wp(Wd),oe(Qa),Yd!==0&&oe(Yd+" J"),Jd!==0&&oe(Jd+" j"),en.publish("addPage",{pageNumber:hn})},y1=function(S){S>0&&S<=hn&&(ye.splice(S,1),Bt.splice(S,1),hn--,L>hn&&(L=hn),this.setPage(L))},pp=function(S){S>0&&S<=hn&&(L=S)},A1=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ye.length-1},gp=function(S,$,le){var pe,_e=void 0;return le=le||{},S=S!==void 0?S:Et[Xe].fontName,$=$!==void 0?$:Et[Xe].fontStyle,pe=S.toLowerCase(),Ot[pe]!==void 0&&Ot[pe][$]!==void 0?_e=Ot[pe][$]:Ot[S]!==void 0&&Ot[S][$]!==void 0?_e=Ot[S][$]:le.disableWarning===!1&&On.warn("Unable to look up font label for font '"+S+"', '"+$+"'. Refer to getFontList() for available fonts."),_e||le.noFallback||(_e=Ot.times[$])==null&&(_e=Ot.times.normal),_e},w1=f.__private__.putInfo=function(){var S=je(),$=function(pe){return pe};for(var le in c!==null&&($=oi.encryptor(S,0)),oe("<<"),oe("/Producer ("+Ri($("jsPDF "+Pt.version))+")"),rt)rt.hasOwnProperty(le)&&rt[le]&&oe("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Ri($(rt[le]))+")");oe("/CreationDate ("+Ri($(z))+")"),oe(">>"),oe("endobj")},qd=f.__private__.putCatalog=function(S){var $=(S=S||{}).rootDictionaryObjId||it;switch(je(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+$+" 0 R"),Ee||(Ee="fullwidth"),Ee){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+Ee;le.substr(le.length-1)==="%"&&(Ee=parseInt(Ee)/100),typeof Ee=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+T(Ee)+"]")}switch(Ke||(Ke="continuous"),Ke){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Te&&oe("/PageMode /"+Te),en.publish("putCatalog"),oe(">>"),oe("endobj")},b1=f.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(M+1)),oe("/Root "+M+" 0 R"),oe("/Info "+(M-1)+" 0 R"),c!==null&&oe("/Encrypt "+oi.oid+" 0 R"),oe("/ID [ <"+Z+"> <"+Z+"> ]"),oe(">>")},x1=f.__private__.putHeader=function(){oe("%PDF-"+v),oe("%")},E1=f.__private__.putXRef=function(){var S="0000000000";oe("xref"),oe("0 "+(M+1)),oe("0000000000 65535 f ");for(var $=1;$<=M;$++)typeof V[$]=="function"?oe((S+V[$]()).slice(-10)+" 00000 n "):V[$]!==void 0?oe((S+V[$]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},Ho=f.__private__.buildDocument=function(){Le(),Ae(te),en.publish("buildDocument"),x1(),Yt(),Gu(),Dl(),c!==null&&kt(),w1(),qd();var S=J;return E1(),b1(),oe("startxref"),oe(""+S),oe("%%EOF"),Ae(ye[L]),te.join(`
`)},qu=f.__private__.getBlob=function(S){return new Blob([he(S)],{type:"application/pdf"})},$u=f.output=f.__private__.output=Ga(function(S,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",S){case void 0:return Ho();case"save":f.save($.filename);break;case"arraybuffer":return he(Ho());case"blob":return qu(Ho());case"bloburi":case"bloburl":if(Tt.URL!==void 0&&typeof Tt.URL.createObjectURL=="function")return Tt.URL&&Tt.URL.createObjectURL(qu(Ho()))||void 0;On.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",pe=Ho();try{le=O2(pe)}catch{le=O2(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+$.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(_e=$.pdfObjectUrl,De="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",ct=Tt.open();return ct!==null&&ct.document.write(qe),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',Mt=Tt.open();if(Mt!==null){Mt.document.write(xt);var Lt=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=$.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',tr=Tt.open();if(tr!==null&&(tr.document.write(tn),tr.document.title=$.filename),tr||typeof safari>"u")return tr;break;case"datauri":case"dataurl":return Tt.document.location.href=this.output("datauristring",$);default:return null}}),mp=function(S){return Array.isArray(mn)===!0&&mn.indexOf(S)>-1};switch(r){case"pt":Ue=1;break;case"mm":Ue=72/25.4;break;case"cm":Ue=72/2.54;break;case"in":Ue=72;break;case"px":Ue=mp("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ue=12;break;case"ex":Ue=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ue=r}var oi=null;U(),K();var k1=function(S){return c!==null?oi.encryptor(S,0):function($){return $}},vp=f.__private__.getPageInfo=f.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bt[S].objId,pageNumber:S,pageContext:Bt[S]}},jt=f.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in Bt)if(Bt[$].objId===S)break;return vp($)},_1=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Bt[L].objId,pageNumber:L,pageContext:Bt[L]}};f.addPage=function(){return hp.apply(this,arguments),this},f.setPage=function(){return pp.apply(this,arguments),Ae.call(this,ye[L]),this},f.insertPage=function(S){return this.addPage(),this.movePage(L,S),this},f.movePage=function(S,$){var le,pe;if(S>$){le=ye[S],pe=Bt[S];for(var _e=S;_e>$;_e--)ye[_e]=ye[_e-1],Bt[_e]=Bt[_e-1];ye[$]=le,Bt[$]=pe,this.setPage($)}else if(S<$){le=ye[S],pe=Bt[S];for(var De=S;De<$;De++)ye[De]=ye[De+1],Bt[De]=Bt[De+1];ye[$]=le,Bt[$]=pe,this.setPage($)}return this},f.deletePage=function(){return y1.apply(this,arguments),this},f.__private__.text=f.text=function(S,$,le,pe,_e){var De,qe,ct,xt,Mt,Lt,tn,tr,lr,wr=(pe=pe||{}).scope||this;if(typeof S=="number"&&typeof $=="number"&&(typeof le=="string"||Array.isArray(le))){var si=le;le=$,$=S,S=si}if(arguments[3]instanceof At?(I("The transform parameter of text() with a Matrix value"),lr=_e):(ct=arguments[4],xt=arguments[5],En(tn=arguments[3])==="object"&&tn!==null||(typeof ct=="string"&&(xt=ct,ct=null),typeof tn=="string"&&(xt=tn,tn=null),typeof tn=="number"&&(ct=tn,tn=null),pe={flags:tn,angle:ct,align:xt})),isNaN($)||isNaN(le)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return wr;var Fr="",qa=!1,Ji=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:Rl,xo=wr.internal.scaleFactor;function Cp(jn){return jn=jn.split("	").join(Array(pe.TabLen||9).join(" ")),Ri(jn,tn)}function nf(jn){for(var Dn,pr=jn.concat(),Br=[],Vo=pr.length;Vo--;)typeof(Dn=pr.shift())=="string"?Br.push(Dn):Array.isArray(jn)&&(Dn.length===1||Dn[1]===void 0&&Dn[2]===void 0)?Br.push(Dn[0]):Br.push([Dn[0],Dn[1],Dn[2]]);return Br}function rf(jn,Dn){var pr;if(typeof jn=="string")pr=Dn(jn)[0];else if(Array.isArray(jn)){for(var Br,Vo,ff=jn.concat(),sc=[],Bp=ff.length;Bp--;)typeof(Br=ff.shift())=="string"?sc.push(Dn(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(Vo=Dn(Br[0],Br[1],Br[2]),sc.push([Vo[0],Vo[1],Vo[2]]));pr=sc}return pr}var Xu=!1,af=!0;if(typeof S=="string")Xu=!0;else if(Array.isArray(S)){var of=S.concat();qe=[];for(var Zu,Yr=of.length;Yr--;)(typeof(Zu=of.shift())!="string"||Array.isArray(Zu)&&typeof Zu[0]!="string")&&(af=!1);Xu=af}if(Xu===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var ec=ge/wr.internal.scaleFactor,tc=ec*(Ji-1);switch(pe.baseline){case"bottom":le-=tc;break;case"top":le+=ec-tc;break;case"hanging":le+=ec-2*tc;break;case"middle":le+=ec/2-tc}if((Lt=pe.maxWidth||0)>0&&(typeof S=="string"?S=wr.splitTextToSize(S,Lt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(jn,Dn){return jn.concat(wr.splitTextToSize(Dn,Lt))},[]))),De={text:S,x:$,y:le,options:pe,mutex:{pdfEscape:Ri,activeFontKey:Xe,fonts:Et,activeFontSize:ge}},en.publish("preProcessText",De),S=De.text,ct=(pe=De.options).angle,!(lr instanceof At)&&ct&&typeof ct=="number"){ct*=Math.PI/180,pe.rotationDirection===0&&(ct=-ct),w===p.ADVANCED&&(ct=-ct);var nc=Math.cos(ct),sf=Math.sin(ct);lr=new At(nc,sf,-sf,nc,0,0)}else ct&&ct instanceof At&&(lr=ct);w!==p.ADVANCED||lr||(lr=be),(Mt=pe.charSpace||Ku)!==void 0&&(Fr+=N(_(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tr=pe.horizontalScale)!==void 0&&(Fr+=N(100*tr)+` Tz
`),pe.lang;var Fi=-1,D1=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,lf=wr.internal.getCurrentPageInfo().pageContext;switch(D1){case 0:case!1:case"fill":Fi=0;break;case 1:case!0:case"stroke":Fi=1;break;case 2:case"fillThenStroke":Fi=2;break;case 3:case"invisible":Fi=3;break;case 4:case"fillAndAddForClipping":Fi=4;break;case 5:case"strokeAndAddPathForClipping":Fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fi=6;break;case 7:case"addToPathForClipping":Fi=7}var Sp=lf.usedRenderingMode!==void 0?lf.usedRenderingMode:-1;Fi!==-1?Fr+=Fi+` Tr
`:Sp!==-1&&(Fr+=`0 Tr
`),Fi!==-1&&(lf.usedRenderingMode=Fi),xt=pe.align||"left";var Ea,rc=ge*Ji,Np=wr.internal.pageSize.getWidth(),Ip=Et[Xe];Mt=pe.charSpace||Ku,Lt=pe.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var Os=[],Ul=function(jn){return wr.getStringUnitWidth(jn,{font:Ip,charSpace:Mt,fontSize:ge,doKerning:!1})*ge/xo};if(Object.prototype.toString.call(S)==="[object Array]"){var Mi;qe=nf(S),xt!=="left"&&(Ea=qe.map(Ul));var xi,js=0;if(xt==="right"){$-=Ea[0],S=[],Yr=qe.length;for(var Qo=0;Qo<Yr;Qo++)Qo===0?(xi=bo($),Mi=Go(le)):(xi=_(js-Ea[Qo]),Mi=-rc),S.push([qe[Qo],xi,Mi]),js=Ea[Qo]}else if(xt==="center"){$-=Ea[0]/2,S=[],Yr=qe.length;for(var qo=0;qo<Yr;qo++)qo===0?(xi=bo($),Mi=Go(le)):(xi=_((js-Ea[qo])/2),Mi=-rc),S.push([qe[qo],xi,Mi]),js=Ea[qo]}else if(xt==="left"){S=[],Yr=qe.length;for(var ic=0;ic<Yr;ic++)S.push(qe[ic])}else if(xt==="justify"&&Ip.encoding==="Identity-H"){S=[],Yr=qe.length,Lt=Lt!==0?Lt:Np;for(var $o=0,hr=0;hr<Yr;hr++)if(Mi=hr===0?Go(le):-rc,xi=hr===0?bo($):$o,hr<Yr-1){var uf=_((Lt-Ea[hr])/(qe[hr].split(" ").length-1)),Ei=qe[hr].split(" ");S.push([Ei[0]+" ",xi,Mi]),$o=0;for(var ka=1;ka<Ei.length;ka++){var ac=(Ul(Ei[ka-1]+" "+Ei[ka])-Ul(Ei[ka]))*xo+uf;ka==Ei.length-1?S.push([Ei[ka],ac,0]):S.push([Ei[ka]+" ",ac,0]),$o-=ac}}else S.push([qe[hr],xi,Mi]);S.push(["",$o,0])}else{if(xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Yr=qe.length,Lt=Lt!==0?Lt:Np,hr=0;hr<Yr;hr++)Mi=hr===0?Go(le):-rc,xi=hr===0?bo($):0,hr<Yr-1?Os.push(N(_((Lt-Ea[hr])/(qe[hr].split(" ").length-1)))):Os.push(0),S.push([qe[hr],xi,Mi])}}var Pp=typeof pe.R2L=="boolean"?pe.R2L:ke;Pp===!0&&(S=rf(S,function(jn,Dn,pr){return[jn.split("").reverse().join(""),Dn,pr]})),De={text:S,x:$,y:le,options:pe,mutex:{pdfEscape:Ri,activeFontKey:Xe,fonts:Et,activeFontSize:ge}},en.publish("postProcessText",De),S=De.text,qa=De.mutex.isHex||!1;var cf=Et[Xe].encoding;cf!=="WinAnsiEncoding"&&cf!=="StandardEncoding"||(S=rf(S,function(jn,Dn,pr){return[Cp(jn),Dn,pr]})),qe=nf(S),S=[];for(var zl,Hl,Ds,Gl=0,oc=1,Ql=Array.isArray(qe[0])?oc:Gl,Ls="",df=function(jn,Dn,pr){var Br="";return pr instanceof At?(pr=typeof pe.angle=="number"?fe(pr,new At(1,0,0,1,jn,Dn)):fe(new At(1,0,0,1,jn,Dn),pr),w===p.ADVANCED&&(pr=fe(new At(1,0,0,-1,0,0),pr)),Br=pr.join(" ")+` Tm
`):Br=N(jn)+" "+N(Dn)+` Td
`,Br},_a=0;_a<qe.length;_a++){switch(Ls="",Ql){case oc:Ds=(qa?"<":"(")+qe[_a][0]+(qa?">":")"),zl=parseFloat(qe[_a][1]),Hl=parseFloat(qe[_a][2]);break;case Gl:Ds=(qa?"<":"(")+qe[_a]+(qa?">":")"),zl=bo($),Hl=Go(le)}Os!==void 0&&Os[_a]!==void 0&&(Ls=Os[_a]+` Tw
`),_a===0?S.push(Ls+df(zl,Hl,lr)+Ds):Ql===Gl?S.push(Ls+Ds):Ql===oc&&S.push(Ls+df(zl,Hl,lr)+Ds)}S=Ql===Gl?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ca=`BT
/`;return Ca+=Xe+" "+ge+` Tf
`,Ca+=N(ge*Ji)+` TL
`,Ca+=Fl+`
`,Ca+=Fr,Ca+=S,oe(Ca+="ET"),h[Xe]=!0,wr};var C1=f.__private__.clip=f.clip=function(S){return oe(S==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return C1("evenodd")},f.__private__.discardPath=f.discardPath=function(){return oe("n"),this};var wo=f.__private__.isValidStyle=function(S){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&($=!0),$};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(S){return wo(S)&&(u=S),this};var yp=f.__private__.getStyle=f.getStyle=function(S){var $=u;switch(S){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=S}return $},Ap=f.close=function(){return oe("h"),this};f.stroke=function(){return oe("S"),this},f.fill=function(S){return Vu("f",S),this},f.fillEvenOdd=function(S){return Vu("f*",S),this},f.fillStroke=function(S){return Vu("B",S),this},f.fillStrokeEvenOdd=function(S){return Vu("B*",S),this};var Vu=function(S,$){En($)==="object"?N1($,S):oe(S)},$d=function(S){S===null||w===p.ADVANCED&&S===void 0||(S=yp(S),oe(S))};function S1(S,$,le,pe,_e){var De=new Zc($||this.boundingBox,le||this.xStep,pe||this.yStep,this.gState,_e||this.matrix);De.stream=this.stream;var qe=S+"$$"+this.cloneIndex+++"$$";return Ie(qe,De),De}var N1=function(S,$){var le=Lr[S.key],pe=Ct[le];if(pe instanceof du)oe("q"),oe(I1($)),pe.gState&&f.setGState(pe.gState),oe(S.matrix.toString()+" cm"),oe("/"+le+" sh"),oe("Q");else if(pe instanceof Zc){var _e=new At(1,0,0,-1,0,Ts());S.matrix&&(_e=_e.multiply(S.matrix||be),le=S1.call(pe,S.key,S.boundingBox,S.xStep,S.yStep,_e).id),oe("q"),oe("/Pattern cs"),oe("/"+le+" scn"),pe.gState&&f.setGState(pe.gState),oe($),oe("Q")}},I1=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Vd=f.moveTo=function(S,$){return oe(N(_(S))+" "+N(j($))+" m"),this},Ll=f.lineTo=function(S,$){return oe(N(_(S))+" "+N(j($))+" l"),this},Ps=f.curveTo=function(S,$,le,pe,_e,De){return oe([N(_(S)),N(j($)),N(_(le)),N(j(pe)),N(_(_e)),N(j(De)),"c"].join(" ")),this};f.__private__.line=f.line=function(S,$,le,pe,_e){if(isNaN(S)||isNaN($)||isNaN(le)||isNaN(pe)||!wo(_e))throw new Error("Invalid arguments passed to jsPDF.line");return w===p.COMPAT?this.lines([[le-S,pe-$]],S,$,[1,1],_e||"S"):this.lines([[le-S,pe-$]],S,$,[1,1]).stroke()},f.__private__.lines=f.lines=function(S,$,le,pe,_e,De){var qe,ct,xt,Mt,Lt,tn,tr,lr,wr,si,Fr,qa;if(typeof S=="number"&&(qa=le,le=$,$=S,S=qa),pe=pe||[1,1],De=De||!1,isNaN($)||isNaN(le)||!Array.isArray(S)||!Array.isArray(pe)||!wo(_e)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vd($,le),qe=pe[0],ct=pe[1],Mt=S.length,si=$,Fr=le,xt=0;xt<Mt;xt++)(Lt=S[xt]).length===2?(si=Lt[0]*qe+si,Fr=Lt[1]*ct+Fr,Ll(si,Fr)):(tn=Lt[0]*qe+si,tr=Lt[1]*ct+Fr,lr=Lt[2]*qe+si,wr=Lt[3]*ct+Fr,si=Lt[4]*qe+si,Fr=Lt[5]*ct+Fr,Ps(tn,tr,lr,wr,si,Fr));return De&&Ap(),$d(_e),this},f.path=function(S){for(var $=0;$<S.length;$++){var le=S[$],pe=le.c;switch(le.op){case"m":Vd(pe[0],pe[1]);break;case"l":Ll(pe[0],pe[1]);break;case"c":Ps.apply(this,pe);break;case"h":Ap()}}return this},f.__private__.rect=f.rect=function(S,$,le,pe,_e){if(isNaN(S)||isNaN($)||isNaN(le)||isNaN(pe)||!wo(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return w===p.COMPAT&&(pe=-pe),oe([N(_(S)),N(j($)),N(_(le)),N(_(pe)),"re"].join(" ")),$d(_e),this},f.__private__.triangle=f.triangle=function(S,$,le,pe,_e,De,qe){if(isNaN(S)||isNaN($)||isNaN(le)||isNaN(pe)||isNaN(_e)||isNaN(De)||!wo(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-S,pe-$],[_e-le,De-pe],[S-_e,$-De]],S,$,[1,1],qe,!0),this},f.__private__.roundedRect=f.roundedRect=function(S,$,le,pe,_e,De,qe){if(isNaN(S)||isNaN($)||isNaN(le)||isNaN(pe)||isNaN(_e)||isNaN(De)||!wo(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*le),De=Math.min(De,.5*pe),this.lines([[le-2*_e,0],[_e*ct,0,_e,De-De*ct,_e,De],[0,pe-2*De],[0,De*ct,-_e*ct,De,-_e,De],[2*_e-le,0],[-_e*ct,0,-_e,-De*ct,-_e,-De],[0,2*De-pe],[0,-De*ct,_e*ct,-De,_e,-De]],S+_e,$,[1,1],qe,!0),this},f.__private__.ellipse=f.ellipse=function(S,$,le,pe,_e){if(isNaN(S)||isNaN($)||isNaN(le)||isNaN(pe)||!wo(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*le,qe=4/3*(Math.SQRT2-1)*pe;return Vd(S+le,$),Ps(S+le,$-qe,S+De,$-pe,S,$-pe),Ps(S-De,$-pe,S-le,$-qe,S-le,$),Ps(S-le,$+qe,S-De,$+pe,S,$+pe),Ps(S+De,$+pe,S+le,$+qe,S+le,$),$d(_e),this},f.__private__.circle=f.circle=function(S,$,le,pe){if(isNaN(S)||isNaN($)||isNaN(le)||!wo(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,$,le,le,pe)},f.setFont=function(S,$,le){return le&&($=D($,le)),Xe=gp(S,$,{disableWarning:!1}),this};var P1=f.__private__.getFont=f.getFont=function(){return Et[gp.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var S,$,le={};for(S in Ot)if(Ot.hasOwnProperty(S))for($ in le[S]=[],Ot[S])Ot[S].hasOwnProperty($)&&le[S].push($);return le},f.addFont=function(S,$,le,pe,_e){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(le=D(le,pe)),_e=_e||"Identity-H",Gd.call(this,S,$,le,_e)};var Rl,Wd=e.lineWidth||.200025,Wu=f.__private__.getLineWidth=f.getLineWidth=function(){return Wd},wp=f.__private__.setLineWidth=f.setLineWidth=function(S){return Wd=S,oe(N(_(S))+" w"),this};f.__private__.setLineDash=Pt.API.setLineDash=Pt.API.setLineDashPattern=function(S,$){if(S=S||[],$=$||0,isNaN($)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(le){return N(_(le))}).join(" "),$=N(_($)),oe("["+S+"] "+$+" d"),this};var bp=f.__private__.getLineHeight=f.getLineHeight=function(){return ge*Rl};f.__private__.getLineHeight=f.getLineHeight=function(){return ge*Rl};var xp=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Rl=S),this},Ep=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Rl};xp(e.lineHeight);var bo=f.__private__.getHorizontalCoordinate=function(S){return _(S)},Go=f.__private__.getVerticalCoordinate=function(S){return w===p.ADVANCED?S:Bt[L].mediaBox.topRightY-Bt[L].mediaBox.bottomLeftY-_(S)},B1=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(S){return N(bo(S))},Bs=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(S){return N(Go(S))},Qa=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ye(Qa)},f.__private__.setStrokeColor=f.setDrawColor=function(S,$,le,pe){return Qa=lt({ch1:S,ch2:$,ch3:le,ch4:pe,pdfColorType:"draw",precision:2}),oe(Qa),this};var Kd=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ye(Kd)},f.__private__.setFillColor=f.setFillColor=function(S,$,le,pe){return Kd=lt({ch1:S,ch2:$,ch3:le,ch4:pe,pdfColorType:"fill",precision:2}),oe(Kd),this};var Fl=e.textColor||"0 g",T1=f.__private__.getTextColor=f.getTextColor=function(){return Ye(Fl)};f.__private__.setTextColor=f.setTextColor=function(S,$,le,pe){return Fl=lt({ch1:S,ch2:$,ch3:le,ch4:pe,pdfColorType:"text",precision:3}),this};var Ku=e.charSpace,O1=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ku||0)};f.__private__.setCharSpace=f.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ku=S,this};var Yd=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(S){var $=f.CapJoinStyles[S];if($===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yd=$,oe($+" J"),this};var Jd=0;f.__private__.setLineJoin=f.setLineJoin=function(S){var $=f.CapJoinStyles[S];if($===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jd=$,oe($+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(N(_(S))+" M"),this},f.GState=km,f.setGState=function(S){(S=typeof S=="string"?Zt[er[S]]:kp(null,S)).equals(Rr)||(oe("/"+S.id+" gs"),Rr=S)};var kp=function(S,$){if(!S||!er[S]){var le=!1;for(var pe in Zt)if(Zt.hasOwnProperty(pe)&&Zt[pe].equals($)){le=!0;break}if(le)$=Zt[pe];else{var _e="GS"+(Object.keys(Zt).length+1).toString(10);Zt[_e]=$,$.id=_e}return S&&(er[S]=$.id),en.publish("addGState",$),$}};f.addGState=function(S,$){return kp(S,$),this},f.saveGraphicsState=function(){return oe("q"),on.push({key:Xe,size:ge,color:Fl}),this},f.restoreGraphicsState=function(){oe("Q");var S=on.pop();return Xe=S.key,ge=S.size,Fl=S.color,Rr=null,this},f.setCurrentTransformationMatrix=function(S){return oe(S.toString()+" cm"),this},f.comment=function(S){return oe("#"+S),this};var Yu=function(S,$){var le=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(De){isNaN(De)||(le=parseFloat(De))}});var pe=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(De){isNaN(De)||(pe=parseFloat(De))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(De){_e=De.toString()}}),this},Xd=function(S,$,le,pe){Yu.call(this,S,$),this.type="rect";var _e=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(qe){isNaN(qe)||(_e=parseFloat(qe))}});var De=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(qe){isNaN(qe)||(De=parseFloat(qe))}}),this},Zd=function(){this.page=hn,this.currentPage=L,this.pages=ye.slice(0),this.pagesContext=Bt.slice(0),this.x=yt,this.y=dt,this.matrix=Ht,this.width=Ml(L),this.height=Ts(L),this.outputDestination=Pe,this.id="",this.objectNumber=-1};Zd.prototype.restore=function(){hn=this.page,L=this.currentPage,Bt=this.pagesContext,ye=this.pages,yt=this.x,dt=this.y,Ht=this.matrix,ef(L,this.width),tf(L,this.height),Pe=this.outputDestination};var _p=function(S,$,le,pe,_e){wi.push(new Zd),hn=L=0,ye=[],yt=S,dt=$,Ht=_e,Qd([le,pe])},j1=function(S){if(Kr[S])wi.pop().restore();else{var $=new Zd,le="Xo"+(Object.keys(vn).length+1).toString(10);$.id=le,Kr[S]=le,vn[le]=$,en.publish("addFormObject",$),wi.pop().restore()}};for(var Ju in f.beginFormObject=function(S,$,le,pe,_e){return _p(S,$,le,pe,_e),this},f.endFormObject=function(S){return j1(S),this},f.doFormObject=function(S,$){var le=vn[Kr[S]];return oe("q"),oe($.toString()+" cm"),oe("/"+le.id+" Do"),oe("Q"),this},f.getFormObject=function(S){var $=vn[Kr[S]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},f.save=function(S,$){return S=S||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(ru(qu(Ho()),S),typeof ru.unload=="function"&&Tt.setTimeout&&setTimeout(ru.unload,911),this):new Promise(function(le,pe){try{var _e=ru(qu(Ho()),S);typeof ru.unload=="function"&&Tt.setTimeout&&setTimeout(ru.unload,911),le(_e)}catch(De){pe(De.message)}})},Pt.API)Pt.API.hasOwnProperty(Ju)&&(Ju==="events"&&Pt.API.events.length?function(S,$){var le,pe,_e;for(_e=$.length-1;_e!==-1;_e--)le=$[_e][0],pe=$[_e][1],S.subscribe.apply(S,[le].concat(typeof pe=="function"?[pe]:pe))}(en,Pt.API.events):f[Ju]=Pt.API[Ju]);var Ml=f.getPageWidth=function(S){return(Bt[S=S||L].mediaBox.topRightX-Bt[S].mediaBox.bottomLeftX)/Ue},ef=f.setPageWidth=function(S,$){Bt[S].mediaBox.topRightX=$*Ue+Bt[S].mediaBox.bottomLeftX},Ts=f.getPageHeight=function(S){return(Bt[S=S||L].mediaBox.topRightY-Bt[S].mediaBox.bottomLeftY)/Ue},tf=f.setPageHeight=function(S,$){Bt[S].mediaBox.topRightY=$*Ue+Bt[S].mediaBox.bottomLeftY};return f.internal={pdfEscape:Ri,getStyle:yp,getFont:P1,getFontSize:ae,getCharSpace:O1,getTextColor:T1,getLineHeight:bp,getLineHeightFactor:Ep,getLineWidth:Wu,write:Je,getHorizontalCoordinate:bo,getVerticalCoordinate:Go,getCoordinateString:B1,getVerticalCoordinateString:Bs,collections:{},newObject:je,newAdditionalObject:wt,newObjectDeferred:Ge,newObjectDeferredBegin:ut,getFilters:bt,putStream:St,events:en,scaleFactor:Ue,pageSize:{getWidth:function(){return Ml(L)},setWidth:function(S){ef(L,S)},getHeight:function(){return Ts(L)},setHeight:function(S){tf(L,S)}},encryptionOptions:c,encryption:oi,getEncryptor:k1,output:$u,getNumberOfPages:A1,pages:ye,out:oe,f2:T,f3:k,getPageInfo:vp,getPageInfoByObjId:jt,getCurrentPageInfo:_1,getPDFVersion:y,Point:Yu,Rectangle:Xd,Matrix:At,hasHotfix:mp},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Ml(L)},set:function(S){ef(L,S)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ts(L)},set:function(S){tf(L,S)},enumerable:!0,configurable:!0}),v1.call(f,ue),Xe="F1",hp(i,n),en.publish("initialized"),f}Rc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Rc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Rc.prototype.processOwnerPassword=function(e,t){return D2(j2(t).substr(0,5),e)},Rc.prototype.encryptor=function(e,t){var n=j2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return D2(n,r)}},km.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||En(e)!==En(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Pt.API={events:[]},Pt.version="2.5.2";var dr=Pt.API,$b=1,Hu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ft=function(e){return e.toFixed(2)},Js=function(e){return e.toFixed(5)};dr.__acroform__={};var Ki=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Nk=function(e){return e*$b},So=function(e){var t=new AB,n=mt.internal.getHeight(e)||0,r=mt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ft(r)),Number(Ft(n))],t},Uee=dr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},zee=dr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Hee=dr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},vr=dr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Hee(e,t-1)},yr=dr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Uee(e,t-1)},Ar=dr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zee(e,t-1)},Gee=dr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(Ft(l.lowerLeft_X)),Number(Ft(l.lowerLeft_Y)),Number(Ft(l.upperRight_X)),Number(Ft(l.upperRight_Y))]},Qee=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=L2(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Ft(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=So(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},L2=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var a=n,o=mt.internal.getHeight(e)||0;o=o<0?-o:o;var s=mt.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(k,_,O){if(k+1<i.length){var j=_+" "+i[k+1][0];return Vg(j,e,O).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var u,c,d=Vg("3",e,a).height,h=e.multiline?o-a:(o-d)/2,f=h+=2,v=0,y=0,A=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Vg(t,e,a=12).width+", FieldWidth:"+s+`
`;break}for(var g="",p=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var x=!1;if(i[w].length!==1&&A!==i[w].length-1){if((d+2)*(p+2)+2>o)continue e;g+=i[w][A],x=!0,y=w,w--}else{g=(g+=i[w][A]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var C=parseInt(w),D=l(C,g,a),N=w>=i.length-1;if(D&&!N){g+=" ",A=0;continue}if(D||N){if(N)y=C;else if(e.multiline&&(d+2)*(p+2)+2>o)continue e}else{if(!e.multiline||(d+2)*(p+2)+2>o)continue e;y=C}}for(var I="",R=v;R<=y;R++){var T=i[R];if(e.multiline){if(R===y){I+=T[A]+" ",A=(A+1)%T.length;continue}if(R===v){I+=T[T.length-1]+" ";continue}}I+=T[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,c=Vg(I,e,a).width,e.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;case"left":default:u=2}t+=Ft(u)+" "+Ft(f)+` Td
`,t+="("+Hu(I)+`) Tj
`,t+=-Ft(u)+` 0 Td
`,f=-(a+2),c=0,v=x?y:y+1,p++,g=""}break}return r.text=t,r.fontSize=a,r},Vg=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},qee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$ee=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Vee=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),En(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},Wee=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(yo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(qee)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");$b=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new wB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&$ee(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=Gee(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=mt.createDefaultAppearanceStream(s),En(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=Qee(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var d="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var f=s.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var v=f[o];typeof v=="function"&&(v=v.call(i,s)),d+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(i,s)),d+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&Vee(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},yB=dr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),En(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Hu(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wy=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Hu(r(e))+")"},Bo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bo.prototype.toString=function(){return this.objId+" 0 R"},Bo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Bo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:yB(i,this.objId,this.scope)}):i instanceof Bo?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var AB=function(){Bo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Ki(AB,Bo);var wB=function(){Bo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Hu(n(e))+")"}},set:function(n){e=n}})};Ki(wB,Bo);var yo=function e(){Bo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vr(t,3)},set:function(g){g?this.F=yr(t,3):this.F=Ar(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof _m)return;a="FieldObject"+e.FieldNum++}var g=function(p){return p};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Hu(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/$b:u},set:function(g){u=g}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof _m||this instanceof ku))return wy(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=g}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof $r?h:wy(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof $r?g:g.substr(0,1)==="("?Nc(g.substr(1,g.length-2)):Nc(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r?Nc(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof $r?"/"+g:g}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof $r?f:wy(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=this instanceof $r?g:g.substr(0,1)==="("?Nc(g.substr(1,g.length-2)):Nc(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r?Nc(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof $r?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(g){g=!!g,y=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,1)},set:function(g){g?this.Ff=yr(this.Ff,1):this.Ff=Ar(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,2)},set:function(g){g?this.Ff=yr(this.Ff,2):this.Ff=Ar(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,3)},set:function(g){g?this.Ff=yr(this.Ff,3):this.Ff=Ar(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');A=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(A){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Ki(yo,Bo);var ud=function(){yo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yB(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,18)},set:function(n){n?this.Ff=yr(this.Ff,18):this.Ff=Ar(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=yr(this.Ff,19):this.Ff=Ar(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,20)},set:function(n){n?(this.Ff=yr(this.Ff,20),t.sort()):this.Ff=Ar(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,22)},set:function(n){n?this.Ff=yr(this.Ff,22):this.Ff=Ar(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(n){n?this.Ff=yr(this.Ff,23):this.Ff=Ar(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,27)},set:function(n){n?this.Ff=yr(this.Ff,27):this.Ff=Ar(this.Ff,27)}}),this.hasAppearanceStream=!1};Ki(ud,yo);var cd=function(){ud.call(this),this.fontName="helvetica",this.combo=!1};Ki(cd,ud);var dd=function(){cd.call(this),this.combo=!0};Ki(dd,cd);var k0=function(){dd.call(this),this.edit=!0};Ki(k0,dd);var $r=function(){yo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,15)},set:function(n){n?this.Ff=yr(this.Ff,15):this.Ff=Ar(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,16)},set:function(n){n?this.Ff=yr(this.Ff,16):this.Ff=Ar(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,17)},set:function(n){n?this.Ff=yr(this.Ff,17):this.Ff=Ar(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(n){n?this.Ff=yr(this.Ff,26):this.Ff=Ar(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Hu(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){En(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Ki($r,yo);var _0=function(){$r.call(this),this.pushButton=!0};Ki(_0,$r);var fd=function(){$r.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ki(fd,$r);var _m=function(){var e,t;yo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Hu(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){En(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ki(_m,yo),fd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},fd.prototype.createOption=function(e){var t=new _m;return t.Parent=this,t.optionName=e,this.Kids.push(t),Kee.call(this.scope,t),t};var C0=function(){$r.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Ki(C0,$r);var ku=function(){yo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,13)},set:function(t){t?this.Ff=yr(this.Ff,13):this.Ff=Ar(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,21)},set:function(t){t?this.Ff=yr(this.Ff,21):this.Ff=Ar(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(t){t?this.Ff=yr(this.Ff,23):this.Ff=Ar(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,24)},set:function(t){t?this.Ff=yr(this.Ff,24):this.Ff=Ar(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,25)},set:function(t){t?this.Ff=yr(this.Ff,25):this.Ff=Ar(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(t){t?this.Ff=yr(this.Ff,26):this.Ff=Ar(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ki(ku,yo);var S0=function(){ku.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,14)},set:function(e){e?this.Ff=yr(this.Ff,14):this.Ff=Ar(this.Ff,14)}}),this.password=!0};Ki(S0,ku);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=So(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=L2(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Ft(mt.internal.getWidth(e))+" "+Ft(mt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ft(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=So(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=mt.internal.getHeight(e),o=mt.internal.getWidth(e),s=L2(e,e.caption);return i.push("1 g"),i.push("0 0 "+Ft(o)+" "+Ft(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ft(o-1)+" "+Ft(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Ft(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=So(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ft(mt.internal.getWidth(e))+" "+Ft(mt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=mt.RadioButton.Circle.YesNormal,t.D[e]=mt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=So(e);t.scope=e.scope;var n=[],r=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=mt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Js(mt.internal.getWidth(e)/2)+" "+Js(mt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=So(e);t.scope=e.scope;var n=[],r=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*mt.internal.Bezier_C).toFixed(5)),o=Number((r*mt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(mt.internal.getWidth(e)/2)+" "+Js(mt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Js(mt.internal.getWidth(e)/2)+" "+Js(mt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=So(e);t.scope=e.scope;var n=[],r=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*mt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(mt.internal.getWidth(e)/2)+" "+Js(mt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=mt.RadioButton.Cross.YesNormal,t.D[e]=mt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=So(e);t.scope=e.scope;var n=[],r=mt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Ft(mt.internal.getWidth(e)-2)+" "+Ft(mt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ft(r.x1.x)+" "+Ft(r.x1.y)+" m"),n.push(Ft(r.x2.x)+" "+Ft(r.x2.y)+" l"),n.push(Ft(r.x4.x)+" "+Ft(r.x4.y)+" m"),n.push(Ft(r.x3.x)+" "+Ft(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=So(e);t.scope=e.scope;var n=mt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ft(mt.internal.getWidth(e))+" "+Ft(mt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ft(mt.internal.getWidth(e)-2)+" "+Ft(mt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ft(n.x1.x)+" "+Ft(n.x1.y)+" m"),r.push(Ft(n.x2.x)+" "+Ft(n.x2.y)+" l"),r.push(Ft(n.x4.x)+" "+Ft(n.x4.y)+" m"),r.push(Ft(n.x3.x)+" "+Ft(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=So(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ft(mt.internal.getWidth(e))+" "+Ft(mt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};mt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=mt.internal.getWidth(e),n=mt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},mt.internal.getWidth=function(e){var t=0;return En(e)==="object"&&(t=Nk(e.Rect[2])),t},mt.internal.getHeight=function(e){var t=0;return En(e)==="object"&&(t=Nk(e.Rect[3])),t};var Kee=dr.addField=function(e){if(Wee(this,e),!(e instanceof yo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};dr.AcroFormChoiceField=ud,dr.AcroFormListBox=cd,dr.AcroFormComboBox=dd,dr.AcroFormEditBox=k0,dr.AcroFormButton=$r,dr.AcroFormPushButton=_0,dr.AcroFormRadioButton=fd,dr.AcroFormCheckBox=C0,dr.AcroFormTextField=ku,dr.AcroFormPasswordField=S0,dr.AcroFormAppearance=mt,dr.AcroForm={ChoiceField:ud,ListBox:cd,ComboBox:dd,EditBox:k0,Button:$r,PushButton:_0,RadioButton:fd,CheckBox:C0,TextField:ku,PasswordField:S0,Appearance:mt},Pt.AcroForm={ChoiceField:ud,ListBox:cd,ComboBox:dd,EditBox:k0,Button:$r,PushButton:_0,RadioButton:fd,CheckBox:C0,TextField:ku,PasswordField:S0,Appearance:mt};Pt.AcroForm;function bB(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(k,_){var O,j,z,Z,ee,K=t;if((_=_||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(D(k))for(ee in n)for(z=n[ee],O=0;O<z.length;O+=1){for(Z=!0,j=0;j<z[O].length;j+=1)if(z[O][j]!==void 0&&z[O][j]!==k[j]){Z=!1;break}if(Z===!0){K=ee;break}}else for(ee in n)for(z=n[ee],O=0;O<z.length;O+=1){for(Z=!0,j=0;j<z[O].length;j+=1)if(z[O][j]!==void 0&&z[O][j]!==k.charCodeAt(j)){Z=!1;break}if(Z===!0){K=ee;break}}return K===t&&_!==t&&(K=_),K},i=function k(_){for(var O=this.internal.write,j=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);_.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:_.width}),Z.push({key:"Height",value:_.height}),_.colorSpace===A.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_.palette.length/3-1)+" "+("sMask"in _&&_.sMask!==void 0?_.objectId+2:_.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+_.colorSpace}),_.colorSpace===A.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:_.bitsPerComponent}),"decodeParameters"in _&&_.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+_.decodeParameters+">>"}),"transparency"in _&&Array.isArray(_.transparency)){for(var ee="",K=0,W=_.transparency.length;K<W;K++)ee+=_.transparency[K]+" "+_.transparency[K]+" ";Z.push({key:"Mask",value:"["+ee+"]"})}_.sMask!==void 0&&Z.push({key:"SMask",value:_.objectId+1+" 0 R"});var Q=_.filter!==void 0?["/"+_.filter]:void 0;if(j({data:_.data,additionalKeyValues:Z,alreadyAppliedFilters:Q,objectId:_.objectId}),O("endobj"),"sMask"in _&&_.sMask!==void 0){var U="/Predictor "+_.predictor+" /Colors 1 /BitsPerComponent "+_.bitsPerComponent+" /Columns "+_.width,B={width:_.width,height:_.height,colorSpace:"DeviceGray",bitsPerComponent:_.bitsPerComponent,decodeParameters:U,data:_.sMask};"filter"in _&&(B.filter=_.filter),k.call(this,B)}if(_.colorSpace===A.INDEXED){var L=this.internal.newObject();j({data:I(new Uint8Array(_.palette)),objectId:L}),O("endobj")}},a=function(){var k=this.internal.collections.addImage_images;for(var _ in k)i.call(this,k[_])},o=function(){var k,_=this.internal.collections.addImage_images,O=this.internal.write;for(var j in _)O("/I"+(k=_[j]).index,k.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var k=this.internal.collections.addImage_images;return s.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(k){return typeof e["process"+k.toUpperCase()]=="function"},d=function(k){return En(k)==="object"&&k.nodeType===1},h=function(k,_){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var O=""+k.getAttribute("src");if(O.indexOf("data:image/")===0)return vh(unescape(O).split("base64,").pop());var j=e.loadFile(O,!0);if(j!==void 0)return j}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var z;switch(_){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;case"JPEG":case"JPG":default:z="image/jpeg"}return vh(k.toDataURL(z,1).split("base64,").pop())}},f=function(k){var _=this.internal.collections.addImage_images;if(_){for(var O in _)if(k===_[O].alias)return _[O]}},v=function(k,_,O){return k||_||(k=-96,_=-96),k<0&&(k=-1*O.width*72/k/this.internal.scaleFactor),_<0&&(_=-1*O.height*72/_/this.internal.scaleFactor),k===0&&(k=_*O.width/O.height),_===0&&(_=k*O.height/O.width),[k,_]},y=function(k,_,O,j,z,Z){var ee=v.call(this,O,j,z),K=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,Q=l.call(this);if(O=ee[0],j=ee[1],Q[z.index]=z,Z){Z*=Math.PI/180;var U=Math.cos(Z),B=Math.sin(Z),L=function(G){return G.toFixed(4)},H=[L(U),L(B),L(-1*B),L(U),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,K(k),W(_+j),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([K(O),"0","0",K(j),"0","0","cm"].join(" "))):this.internal.write([K(O),"0","0",K(j),K(k),W(_+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},p=e.__addimage__.sHashCode=function(k){var _,O,j=0;if(typeof k=="string")for(O=k.length,_=0;_<O;_++)j=(j<<5)-j+k.charCodeAt(_),j|=0;else if(D(k))for(O=k.byteLength/2,_=0;_<O;_++)j=(j<<5)-j+k[_],j|=0;return j},w=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var _=!0;return k.length===0&&(_=!1),k.length%4!=0&&(_=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(_=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(_=!1),_},x=e.__addimage__.extractImageFromDataUrl=function(k){var _=(k=k||"").split("base64,"),O=null;if(_.length===2){var j=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(_[0]);Array.isArray(j)&&(O={mimeType:j[1],charset:j[2],data:_[1]})}return O},C=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(k){return C()&&k instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(k){return C()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},N=e.__addimage__.binaryStringToUint8Array=function(k){for(var _=k.length,O=new Uint8Array(_),j=0;j<_;j++)O[j]=k.charCodeAt(j);return O},I=e.__addimage__.arrayBufferToBinaryString=function(k){for(var _="",O=D(k)?k:new Uint8Array(k),j=0;j<O.length;j+=8192)_+=String.fromCharCode.apply(null,O.subarray(j,j+8192));return _};e.addImage=function(){var k,_,O,j,z,Z,ee,K,W;if(typeof arguments[1]=="number"?(_=t,O=arguments[1],j=arguments[2],z=arguments[3],Z=arguments[4],ee=arguments[5],K=arguments[6],W=arguments[7]):(_=arguments[1],O=arguments[2],j=arguments[3],z=arguments[4],Z=arguments[5],ee=arguments[6],K=arguments[7],W=arguments[8]),En(k=arguments[0])==="object"&&!d(k)&&"imageData"in k){var Q=k;k=Q.imageData,_=Q.format||_||t,O=Q.x||O||0,j=Q.y||j||0,z=Q.w||Q.width||z,Z=Q.h||Q.height||Z,ee=Q.alias||ee,K=Q.compression||K,W=Q.rotation||Q.angle||W}var U=this.internal.getFilters();if(K===void 0&&U.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(O)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var B=R.call(this,k,_,ee,K);return y.call(this,O,j,z,Z,B,W),this};var R=function(k,_,O,j){var z,Z,ee;if(typeof k=="string"&&r(k)===t){k=unescape(k);var K=T(k,!1);(K!==""||(K=e.loadFile(k,!0))!==void 0)&&(k=K)}if(d(k)&&(k=h(k,_)),_=r(k,_),!c(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(((ee=O)==null||ee.length===0)&&(O=function(W){return typeof W=="string"||D(W)?p(W):D(W.data)?p(W.data):null}(k)),(z=f.call(this,O))||(C()&&(k instanceof Uint8Array||_==="RGBA"||(Z=k,k=N(k))),z=this["process"+_.toUpperCase()](k,u.call(this),O,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in e.image_compression?W:g.NONE}(j),Z)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},T=e.__addimage__.convertBase64ToBinaryString=function(k,_){var O;_=typeof _!="boolean"||_;var j,z="";if(typeof k=="string"){j=(O=x(k))!==null?O.data:k;try{z=vh(j)}catch(Z){if(_)throw w(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(k){var _,O,j="";if(d(k)&&(k=h(k)),typeof k=="string"&&r(k)===t&&((j=T(k,!1))===""&&(j=e.loadFile(k)||""),k=j),O=r(k),!c(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!C()||k instanceof Uint8Array||(k=N(k)),!(_=this["process"+O.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return _.fileType=O,_}})(Pt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Pt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){r=u[h];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(y.objId),p=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+f(g(r.contents))+")",a+=" /Popup "+A.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+f(g(p))+") >>",y.content=a;var w=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+w,r.open&&(a+=" /Open true"),a+=" >>",A.content=a,this.internal.write(y.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var x=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(v(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var D=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+D+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(n,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,s,o,a),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Pt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},s=e.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(y){var A=0,g=n,p="",w=0;for(A=0;A<y.length;A+=1)g[y.charCodeAt(A)]!==void 0?(w++,typeof(g=g[y.charCodeAt(A)])=="number"&&(p+=String.fromCharCode(g),g=n,w=0),A===y.length-1&&(g=n,p+=y.charAt(A-(w-1)),A-=w-1,w=0)):(g=n,p+=y.charAt(A-w),A-=w,w=0);return p};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(y,A,g){return o(y)?a(y)===!1?-1:!u(y)||!o(A)&&!o(g)||!o(g)&&s(A)||s(y)&&!o(A)||s(y)&&l(A)||s(y)&&s(A)?0:c(y)&&o(A)&&!s(A)&&o(g)&&u(g)?3:s(y)||!o(g)?1:2:-1},f=function(y){var A=0,g=0,p=0,w="",x="",C="",D=(y=y||"").split("\\s+"),N=[];for(A=0;A<D.length;A+=1){for(N.push(""),g=0;g<D[A].length;g+=1)w=D[A][g],x=D[A][g-1],C=D[A][g+1],o(w)?(p=h(w,x,C),N[A]+=p!==-1?String.fromCharCode(t[w.charCodeAt(0)][p]):w):N[A]+=w;N[A]=d(N[A])}return N.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var y,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(A)){var p=0;for(g=[],p=0;p<A.length;p+=1)Array.isArray(A[p])?g.push([f(A[p][0]),A[p][1],A[p][2]]):g.push([f(A[p])]);y=g}else y=f(A);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",v])}(Pt.API),Pt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Pt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(y){v=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,f=0,v=0,y=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=u.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,x){return w.concat(A.splitTextToSize(x,g))},[])):l=Array.isArray(l)?l:[l];for(var p=0;p<l.length;p++)f<(y=this.getStringUnitWidth(l[p],{font:d})*c)&&(f=y);return f!==0&&(v=l.length),{w:f/=h,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,c,d,h){if(r.call(this),!c)throw new Error("No data for PDF table.");var f,v,y,A,g=[],p=[],w=[],x={},C={},D=[],N=[],I=(h=h||{}).autoSize||!1,R=h.printHeaders!==!1,T=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,k=h.margins||Object.assign({width:this.getPageWidth()},t),_=typeof h.padding=="number"?h.padding:3,O=h.headerBackgroundColor||"#c8c8c8",j=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=j,this.setFontSize(T),d==null)p=g=Object.keys(c[0]),w=g.map(function(){return"left"});else if(Array.isArray(d)&&En(d[0])==="object")for(g=d.map(function(Q){return Q.name}),p=d.map(function(Q){return Q.prompt||Q.name||""}),w=d.map(function(Q){return Q.align||"left"}),f=0;f<d.length;f+=1)C[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(p=g=d,w=g.map(function(){return"left"}));if(I||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<g.length;f+=1){for(x[A=g[f]]=c.map(function(Q){return Q[A]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(p[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=x[A],this.setFont(void 0,"normal"),y=0;y<v.length;y+=1)D.push(this.getTextDimensions(v[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[A]=Math.max.apply(null,D)+_+_,D=[]}if(R){var z={};for(f=0;f<g.length;f+=1)z[g[f]]={},z[g[f]].text=p[f],z[g[f]].align=w[f];var Z=s.call(this,z,C);N=g.map(function(Q){return new a(l,u,C[Q],Z,z[Q].text,void 0,z[Q].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var ee=d.reduce(function(Q,U){return Q[U.name]=U.align,Q},{});for(f=0;f<c.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:c[f]},this);var K=s.call(this,c[f],C);for(y=0;y<g.length;y+=1){var W=c[f][g[y]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:y,data:W},this),o.call(this,new a(l,u,C[g[y]],K,W,f+2,ee[g[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var v=l[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+c+c},this).reduce(function(f,v){return Math.max(f,v)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(Pt.API);var xB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},EB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],R2=bB(EB),kB=[100,200,300,400,500,600,700,800,900],Yee=bB(kB);function F2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return xB[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof R2[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Ik(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Jee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Pk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Bk(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Xee(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Jee,n.genericFontFamilies||{}),a=null,o=null,s=0;s<t.length;++s)if(i[(a=F2(t[s])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+Bk(a)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=R2[l],d=c<=R2.normal?-1:1,h=Ik(u,EB,c,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(a.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=xB[l],d=0;d<c.length;++d)if(u[c[d]])return u[c[d]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=Yee[l],d=Ik(u,kB,c,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Bk(a)+"'.");return o}function Tk(e){return e.trimLeft()}function Zee(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function ete(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Wg,Ok,jk,by=["times"];(function(e){var t,n,r,i,a,o,s,l,u,c=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=B;Object.defineProperty(this,"pdf",{get:function(){return L}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(Ae){H=!!Ae}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(Ae){G=!!Ae}});var M=0;Object.defineProperty(this,"posX",{get:function(){return M},set:function(Ae){isNaN(Ae)||(M=Ae)}});var V=0;Object.defineProperty(this,"posY",{get:function(){return V},set:function(Ae){isNaN(Ae)||(V=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ae){var oe;typeof Ae=="number"?oe=[Ae,Ae,Ae,Ae]:((oe=new Array(4))[0]=Ae[0],oe[1]=Ae.length>=2?Ae[1]:oe[0],oe[2]=Ae.length>=3?Ae[2]:oe[0],oe[3]=Ae.length>=4?Ae[3]:oe[1]),u.margin=oe}});var te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return te},set:function(Ae){te=Ae}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(Ae){J=Ae}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(Ae){de=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ae){Ae instanceof c&&(u=Ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ae){u.path=Ae}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(Ae){ye=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var oe;oe=h(Ae),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var oe=h(Ae);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Ce=null;function Pe(Ae,oe){if(Ce===null){var Je=function(he){var ue=[];return Object.keys(he).forEach(function(ge){he[ge].forEach(function(Ee){var ae=null;switch(Ee){case"bold":ae={family:ge,weight:"bold"};break;case"italic":ae={family:ge,style:"italic"};break;case"bolditalic":ae={family:ge,weight:"bold",style:"italic"};break;case"":case"normal":ae={family:ge}}ae!==null&&(ae.ref={name:ge,style:Ee},ue.push(ae))})}),ue}(Ae.getFontList());Ce=function(he){for(var ue={},ge=0;ge<he.length;++ge){var Ee=F2(he[ge]),ae=Ee.family,ke=Ee.stretch,Te=Ee.style,Be=Ee.weight;ue[ae]=ue[ae]||{},ue[ae][ke]=ue[ae][ke]||{},ue[ae][ke][Te]=ue[ae][ke][Te]||{},ue[ae][ke][Te][Be]=Ee}return ue}(Je.concat(oe))}return Ce}var Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(Ae){Ce=null,Le=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var oe;if(this.ctx.font=Ae,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var Je=oe[1],he=(oe[2],oe[3]),ue=oe[4],ge=(oe[5],oe[6]),Ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ue)[2];ue=Math.floor(Ee==="px"?parseFloat(ue)*this.pdf.internal.scaleFactor:Ee==="em"?parseFloat(ue)*this.pdf.getFontSize():parseFloat(ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ue);var ae=function(rt){var Xe,Ue,yt=[],dt=rt.trim();if(dt==="")return by;if(dt in Pk)return[Pk[dt]];for(;dt!=="";){switch(Ue=null,Xe=(dt=Tk(dt)).charAt(0)){case'"':case"'":Ue=Zee(dt.substring(1),Xe);break;default:Ue=ete(dt)}if(Ue===null||(yt.push(Ue[0]),(dt=Tk(Ue[1]))!==""&&dt.charAt(0)!==","))return by;dt=dt.replace(/^,/,"")}return yt}(ge);if(this.fontFaces){var ke=Xee(Pe(this.pdf,this.fontFaces),ae.map(function(rt){return{family:rt,stretch:"normal",weight:he,style:Je}}));this.pdf.setFont(ke.ref.name,ke.ref.style)}else{var Te="";(he==="bold"||parseInt(he,10)>=700||Je==="bold")&&(Te="bold"),Je==="italic"&&(Te+="italic"),Te.length===0&&(Te="normal");for(var Be="",Ke={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},nt=0;nt<ae.length;nt++){if(this.pdf.internal.getFont(ae[nt],Te,{noFallback:!0,disableWarning:!0})!==void 0){Be=ae[nt];break}if(Te==="bolditalic"&&this.pdf.internal.getFont(ae[nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Be=ae[nt],Te="bold";else if(this.pdf.internal.getFont(ae[nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Be=ae[nt],Te="normal";break}}if(Be===""){for(var Ze=0;Ze<ae.length;Ze++)if(Ke[ae[Ze]]){Be=Ke[ae[Ze]];break}}Be=Be===""?"Times":Be,this.pdf.setFont(Be,Te)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,U.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,U.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};d.prototype.setLineDash=function(B){this.lineDash=B},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){x.call(this,"fill",!1)},d.prototype.stroke=function(){x.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(B,L){if(isNaN(B)||isNaN(L))throw On.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new o(B,L));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(B,L)},d.prototype.closePath=function(){var B=new o(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&En(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){B=new o(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},d.prototype.lineTo=function(B,L){if(isNaN(B)||isNaN(L))throw On.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new o(B,L));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},d.prototype.quadraticCurveTo=function(B,L,H,G){if(isNaN(H)||isNaN(G)||isNaN(B)||isNaN(L))throw On.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var M=this.ctx.transform.applyToPoint(new o(H,G)),V=this.ctx.transform.applyToPoint(new o(B,L));this.path.push({type:"qct",x1:V.x,y1:V.y,x:M.x,y:M.y}),this.ctx.lastPoint=new o(M.x,M.y)},d.prototype.bezierCurveTo=function(B,L,H,G,M,V){if(isNaN(M)||isNaN(V)||isNaN(B)||isNaN(L)||isNaN(H)||isNaN(G))throw On.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var te=this.ctx.transform.applyToPoint(new o(M,V)),J=this.ctx.transform.applyToPoint(new o(B,L)),de=this.ctx.transform.applyToPoint(new o(H,G));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:de.x,y2:de.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},d.prototype.arc=function(B,L,H,G,M,V){if(isNaN(B)||isNaN(L)||isNaN(H)||isNaN(G)||isNaN(M))throw On.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(V=!!V,!this.ctx.transform.isIdentity){var te=this.ctx.transform.applyToPoint(new o(B,L));B=te.x,L=te.y;var J=this.ctx.transform.applyToPoint(new o(0,H)),de=this.ctx.transform.applyToPoint(new o(0,0));H=Math.sqrt(Math.pow(J.x-de.x,2)+Math.pow(J.y-de.y,2))}Math.abs(M-G)>=2*Math.PI&&(G=0,M=2*Math.PI),this.path.push({type:"arc",x:B,y:L,radius:H,startAngle:G,endAngle:M,counterclockwise:V})},d.prototype.arcTo=function(B,L,H,G,M){throw new Error("arcTo not implemented.")},d.prototype.rect=function(B,L,H,G){if(isNaN(B)||isNaN(L)||isNaN(H)||isNaN(G))throw On.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,L),this.lineTo(B+H,L),this.lineTo(B+H,L+G),this.lineTo(B,L+G),this.lineTo(B,L),this.lineTo(B+H,L),this.lineTo(B,L)},d.prototype.fillRect=function(B,L,H,G){if(isNaN(B)||isNaN(L)||isNaN(H)||isNaN(G))throw On.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var M={};this.lineCap!=="butt"&&(M.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(M.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,L,H,G),this.fill(),M.hasOwnProperty("lineCap")&&(this.lineCap=M.lineCap),M.hasOwnProperty("lineJoin")&&(this.lineJoin=M.lineJoin)}},d.prototype.strokeRect=function(B,L,H,G){if(isNaN(B)||isNaN(L)||isNaN(H)||isNaN(G))throw On.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(B,L,H,G),this.stroke())},d.prototype.clearRect=function(B,L,H,G){if(isNaN(B)||isNaN(L)||isNaN(H)||isNaN(G))throw On.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,L,H,G))},d.prototype.save=function(B){B=typeof B!="boolean"||B;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},d.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(L),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(B){var L,H,G,M;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))L=0,H=0,G=0,M=0;else{var V=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(V!==null)L=parseInt(V[1]),H=parseInt(V[2]),G=parseInt(V[3]),M=1;else if((V=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)L=parseInt(V[1]),H=parseInt(V[2]),G=parseInt(V[3]),M=parseFloat(V[4]);else{if(M=1,typeof B=="string"&&B.charAt(0)!=="#"){var te=new gB(B);B=te.ok?te.toHex():"#000000"}B.length===4?(L=B.substring(1,2),L+=L,H=B.substring(2,3),H+=H,G=B.substring(3,4),G+=G):(L=B.substring(1,3),H=B.substring(3,5),G=B.substring(5,7)),L=parseInt(L,16),H=parseInt(H,16),G=parseInt(G,16)}}return{r:L,g:H,b:G,a:M,style:B}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(B,L,H,G){if(isNaN(L)||isNaN(H)||typeof B!="string")throw On.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!f.call(this)){var M=K(this.ctx.transform.rotation),V=this.ctx.transform.scaleX;_.call(this,{text:B,x:L,y:H,scale:V,angle:M,align:this.textAlign,maxWidth:G})}},d.prototype.strokeText=function(B,L,H,G){if(isNaN(L)||isNaN(H)||typeof B!="string")throw On.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){G=isNaN(G)?void 0:G;var M=K(this.ctx.transform.rotation),V=this.ctx.transform.scaleX;_.call(this,{text:B,x:L,y:H,scale:V,renderingMode:"stroke",angle:M,align:this.textAlign,maxWidth:G})}},d.prototype.measureText=function(B){if(typeof B!="string")throw On.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,H=this.pdf.internal.scaleFactor,G=L.internal.getFontSize(),M=L.getStringUnitWidth(B)*G/L.internal.scaleFactor,V=function(te){var J=(te=te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return J}}),this};return new V({width:M*=Math.round(96*H/72*1e4)/1e4})},d.prototype.scale=function(B,L){if(isNaN(B)||isNaN(L))throw On.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new l(B,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.rotate=function(B){if(isNaN(B))throw On.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},d.prototype.translate=function(B,L){if(isNaN(B)||isNaN(L))throw On.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new l(1,0,0,1,B,L);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.transform=function(B,L,H,G,M,V){if(isNaN(B)||isNaN(L)||isNaN(H)||isNaN(G)||isNaN(M)||isNaN(V))throw On.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var te=new l(B,L,H,G,M,V);this.ctx.transform=this.ctx.transform.multiply(te)},d.prototype.setTransform=function(B,L,H,G,M,V){B=isNaN(B)?1:B,L=isNaN(L)?0:L,H=isNaN(H)?0:H,G=isNaN(G)?1:G,M=isNaN(M)?0:M,V=isNaN(V)?0:V,this.ctx.transform=new l(B,L,H,G,M,V)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(B,L,H,G,M,V,te,J,de){var ye=this.pdf.getImageProperties(B),Ce=1,Pe=1,Le=1,Ae=1;G!==void 0&&J!==void 0&&(Le=J/G,Ae=de/M,Ce=ye.width/G*J/G,Pe=ye.height/M*de/M),V===void 0&&(V=L,te=H,L=0,H=0),G!==void 0&&J===void 0&&(J=G,de=M),G===void 0&&J===void 0&&(J=ye.width,de=ye.height);for(var oe,Je=this.ctx.transform.decompose(),he=K(Je.rotate.shx),ue=new l,ge=(ue=(ue=(ue=ue.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new s(V-L*Le,te-H*Ae,G*Ce,M*Pe)),Ee=A.call(this,ge),ae=[],ke=0;ke<Ee.length;ke+=1)ae.indexOf(Ee[ke])===-1&&ae.push(Ee[ke]);if(w(ae),this.autoPaging)for(var Te=ae[0],Be=ae[ae.length-1],Ke=Te;Ke<Be+1;Ke++){this.pdf.setPage(Ke);var nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Ke===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=Ke===1?0:rt+(Ke-2)*Xe;if(this.ctx.clip_path.length!==0){var yt=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(oe,this.posX+this.margin[3],-Ue+Ze+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=yt}var dt=JSON.parse(JSON.stringify(ge));dt=p([dt],this.posX+this.margin[3],-Ue+Ze+this.ctx.prevPageLastElemOffset)[0];var Ht=(Ke>Te||Ke<Be)&&y.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Xe,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,he),Ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",ge.x,ge.y,ge.w,ge.h,null,null,he)};var A=function(B,L,H){var G=[];L=L||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var M=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":G.push(Math.floor((B.y+M)/H)+1);break;case"arc":G.push(Math.floor((B.y+M-B.radius)/H)+1),G.push(Math.floor((B.y+M+B.radius)/H)+1);break;case"qct":var V=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);G.push(Math.floor((V.y+M)/H)+1),G.push(Math.floor((V.y+V.h+M)/H)+1);break;case"bct":var te=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);G.push(Math.floor((te.y+M)/H)+1),G.push(Math.floor((te.y+te.h+M)/H)+1);break;case"rect":G.push(Math.floor((B.y+M)/H)+1),G.push(Math.floor((B.y+B.h+M)/H)+1)}for(var J=0;J<G.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<G[J];)g.call(this);return G},g=function(){var B=this.fillStyle,L=this.strokeStyle,H=this.font,G=this.lineCap,M=this.lineWidth,V=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=L,this.font=H,this.lineCap=G,this.lineWidth=M,this.lineJoin=V},p=function(B,L,H){for(var G=0;G<B.length;G++)switch(B[G].type){case"bct":B[G].x2+=L,B[G].y2+=H;case"qct":B[G].x1+=L,B[G].y1+=H;case"mt":case"lt":case"arc":default:B[G].x+=L,B[G].y+=H}return B},w=function(B){return B.sort(function(L,H){return L-H})},x=function(B,L){for(var H,G,M=this.fillStyle,V=this.strokeStyle,te=this.lineCap,J=this.lineWidth,de=Math.abs(J*this.ctx.transform.scaleX),ye=this.lineJoin,Ce=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),Le=[],Ae=0;Ae<Pe.length;Ae++)if(Pe[Ae].x!==void 0)for(var oe=A.call(this,Pe[Ae]),Je=0;Je<oe.length;Je+=1)Le.indexOf(oe[Je])===-1&&Le.push(oe[Je]);for(var he=0;he<Le.length;he++)for(;this.pdf.internal.getNumberOfPages()<Le[he];)g.call(this);if(w(Le),this.autoPaging)for(var ue=Le[0],ge=Le[Le.length-1],Ee=ue;Ee<ge+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=M,this.strokeStyle=V,this.lineCap=te,this.lineWidth=de,this.lineJoin=ye;var ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=Ee===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=Ee===1?0:Te+(Ee-2)*Be;if(this.ctx.clip_path.length!==0){var nt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(H,this.posX+this.margin[3],-Ke+ke+this.ctx.prevPageLastElemOffset),C.call(this,B,!0),this.path=nt}if(G=JSON.parse(JSON.stringify(Ce)),this.path=p(G,this.posX+this.margin[3],-Ke+ke+this.ctx.prevPageLastElemOffset),L===!1||Ee===0){var Ze=(Ee>ue||Ee<ge)&&y.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ae,Be,null).clip().discardPath()),C.call(this,B,L),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=de,C.call(this,B,L),this.lineWidth=J;this.path=Ce},C=function(B,L){if((B!=="stroke"||L||!v.call(this))&&(B==="stroke"||L||!f.call(this))){for(var H,G,M=[],V=this.path,te=0;te<V.length;te++){var J=V[te];switch(J.type){case"begin":M.push({begin:!0});break;case"close":M.push({close:!0});break;case"mt":M.push({start:J,deltas:[],abs:[]});break;case"lt":var de=M.length;if(V[te-1]&&!isNaN(V[te-1].x)&&(H=[J.x-V[te-1].x,J.y-V[te-1].y],de>0)){for(;de>=0;de--)if(M[de-1].close!==!0&&M[de-1].begin!==!0){M[de-1].deltas.push(H),M[de-1].abs.push(J);break}}break;case"bct":H=[J.x1-V[te-1].x,J.y1-V[te-1].y,J.x2-V[te-1].x,J.y2-V[te-1].y,J.x-V[te-1].x,J.y-V[te-1].y],M[M.length-1].deltas.push(H);break;case"qct":var ye=V[te-1].x+2/3*(J.x1-V[te-1].x),Ce=V[te-1].y+2/3*(J.y1-V[te-1].y),Pe=J.x+2/3*(J.x1-J.x),Le=J.y+2/3*(J.y1-J.y),Ae=J.x,oe=J.y;H=[ye-V[te-1].x,Ce-V[te-1].y,Pe-V[te-1].x,Le-V[te-1].y,Ae-V[te-1].x,oe-V[te-1].y],M[M.length-1].deltas.push(H);break;case"arc":M.push({deltas:[],abs:[],arc:!0}),Array.isArray(M[M.length-1].abs)&&M[M.length-1].abs.push(J)}}G=L?null:B==="stroke"?"stroke":"fill";for(var Je=!1,he=0;he<M.length;he++)if(M[he].arc)for(var ue=M[he].abs,ge=0;ge<ue.length;ge++){var Ee=ue[ge];Ee.type==="arc"?I.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,L,!Je):O.call(this,Ee.x,Ee.y),Je=!0}else if(M[he].close===!0)this.pdf.internal.out("h"),Je=!1;else if(M[he].begin!==!0){var ae=M[he].start.x,ke=M[he].start.y;j.call(this,M[he].deltas,ae,ke),Je=!0}G&&R.call(this,G),L&&T.call(this)}},D=function(B){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-H;case"top":return B+L-H;case"hanging":return B+L-2*H;case"middle":return B+L/2-H;case"ideographic":return B;case"alphabetic":default:return B}},N=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(L,H){this.colorStops.push([L,H])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(B,L,H,G,M,V,te,J,de){for(var ye=Z.call(this,H,G,M,V),Ce=0;Ce<ye.length;Ce++){var Pe=ye[Ce];Ce===0&&(de?k.call(this,Pe.x1+B,Pe.y1+L):O.call(this,Pe.x1+B,Pe.y1+L)),z.call(this,B,L,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}J?T.call(this):R.call(this,te)},R=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(B,L){this.pdf.internal.out(n(B)+" "+r(L)+" m")},_=function(B){var L;switch(B.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var H=this.pdf.getTextDimensions(B.text),G=D.call(this,B.y),M=N.call(this,G)-H.h,V=this.ctx.transform.applyToPoint(new o(B.x,G)),te=this.ctx.transform.decompose(),J=new l;J=(J=(J=J.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var de,ye,Ce,Pe=this.ctx.transform.applyToRectangle(new s(B.x,G,H.w,H.h)),Le=J.applyToRectangle(new s(B.x,M,H.w,H.h)),Ae=A.call(this,Le),oe=[],Je=0;Je<Ae.length;Je+=1)oe.indexOf(Ae[Je])===-1&&oe.push(Ae[Je]);if(w(oe),this.autoPaging)for(var he=oe[0],ue=oe[oe.length-1],ge=he;ge<ue+1;ge++){this.pdf.setPage(ge);var Ee=ge===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[2],Te=ke-this.margin[0],Be=this.pdf.internal.pageSize.width-this.margin[1],Ke=Be-this.margin[3],nt=ge===1?0:ae+(ge-2)*Te;if(this.ctx.clip_path.length!==0){var Ze=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(de,this.posX+this.margin[3],-1*nt+Ee),C.call(this,"fill",!0),this.path=Ze}var rt=p([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-nt+Ee+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*B.scale),Ce=this.lineWidth,this.lineWidth=Ce*B.scale);var Xe=this.autoPaging!=="text";if(Xe||rt.y+rt.h<=ke){if(Xe||rt.y>=Ee&&rt.x<=Be){var Ue=Xe?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Be-rt.x)[0],yt=p([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-nt+Ee+this.ctx.prevPageLastElemOffset)[0],dt=Xe&&(ge>he||ge<ue)&&y.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,Te,null).clip().discardPath()),this.pdf.text(Ue,yt.x,yt.y,{angle:B.angle,align:L,renderingMode:B.renderingMode}),dt&&this.pdf.restoreGraphicsState()}}else rt.y<ke&&(this.ctx.prevPageLastElemOffset+=ke-rt.y);B.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Ce)}else B.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*B.scale),Ce=this.lineWidth,this.lineWidth=Ce*B.scale),this.pdf.text(B.text,V.x+this.posX,V.y+this.posY,{angle:B.angle,align:L,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Ce)},O=function(B,L,H,G){H=H||0,G=G||0,this.pdf.internal.out(n(B+H)+" "+r(L+G)+" l")},j=function(B,L,H){return this.pdf.lines(B,L,H,null,null)},z=function(B,L,H,G,M,V,te,J){this.pdf.internal.out([t(i(H+B)),t(a(G+L)),t(i(M+B)),t(a(V+L)),t(i(te+B)),t(a(J+L)),"c"].join(" "))},Z=function(B,L,H,G){for(var M=2*Math.PI,V=Math.PI/2;L>H;)L-=M;var te=Math.abs(H-L);te<M&&G&&(te=M-te);for(var J=[],de=G?-1:1,ye=L;te>1e-5;){var Ce=ye+de*Math.min(te,V);J.push(ee.call(this,B,ye,Ce)),te-=Math.abs(Ce-ye),ye=Ce}return J},ee=function(B,L,H){var G=(H-L)/2,M=B*Math.cos(G),V=B*Math.sin(G),te=M,J=-V,de=te*te+J*J,ye=de+te*M+J*V,Ce=4/3*(Math.sqrt(2*de*ye)-ye)/(te*V-J*M),Pe=te-Ce*J,Le=J+Ce*te,Ae=Pe,oe=-Le,Je=G+L,he=Math.cos(Je),ue=Math.sin(Je);return{x1:B*Math.cos(L),y1:B*Math.sin(L),x2:Pe*he-Le*ue,y2:Pe*ue+Le*he,x3:Ae*he-oe*ue,y3:Ae*ue+oe*he,x4:B*Math.cos(H),y4:B*Math.sin(H)}},K=function(B){return 180*B/Math.PI},W=function(B,L,H,G,M,V){var te=B+.5*(H-B),J=L+.5*(G-L),de=M+.5*(H-M),ye=V+.5*(G-V),Ce=Math.min(B,M,te,de),Pe=Math.max(B,M,te,de),Le=Math.min(L,V,J,ye),Ae=Math.max(L,V,J,ye);return new s(Ce,Le,Pe-Ce,Ae-Le)},Q=function(B,L,H,G,M,V,te,J){var de,ye,Ce,Pe,Le,Ae,oe,Je,he,ue,ge,Ee,ae,ke,Te=H-B,Be=G-L,Ke=M-H,nt=V-G,Ze=te-M,rt=J-V;for(ye=0;ye<41;ye++)he=(oe=(Ce=B+(de=ye/40)*Te)+de*((Le=H+de*Ke)-Ce))+de*(Le+de*(M+de*Ze-Le)-oe),ue=(Je=(Pe=L+de*Be)+de*((Ae=G+de*nt)-Pe))+de*(Ae+de*(V+de*rt-Ae)-Je),ye==0?(ge=he,Ee=ue,ae=he,ke=ue):(ge=Math.min(ge,he),Ee=Math.min(Ee,ue),ae=Math.max(ae,he),ke=Math.max(ke,ue));return new s(Math.round(ge),Math.round(Ee),Math.round(ae-ge),Math.round(ke-Ee))},U=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,L,H=(B=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:L}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(Pt.API),function(e){var t=function(a){var o,s,l,u,c,d,h,f,v,y;for(s=[],l=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>l;l+=4)(c=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(d=(c=((c=((c=((c=(c-(y=c%85))/85)-(v=c%85))/85)-(f=c%85))/85)-(h=c%85))/85)%85,s.push(d+33,h+33,f+33,v+33,y+33)):s.push(122);return function(A,g){for(var p=g;p>0;p--)A.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(a){var o,s,l,u,c,d=String,h="length",f=255,v="charCodeAt",y="slice",A="replace";for(a[y](-2),a=a[y](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),l=[],u=0,c=(a+=o="uuuuu"[y](a[h]%5||5))[h];c>u;u+=5)s=52200625*(a[v](u)-33)+614125*(a[v](u+1)-33)+7225*(a[v](u+2)-33)+85*(a[v](u+3)-33)+(a[v](u+4)-33),l.push(f&s>>24,f&s>>16,f&s>>8,f&s);return function(g,p){for(var w=p;w>0;w--)g.pop()}(l,o[h]),d.fromCharCode.apply(d,l)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=T2(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(a,o){var s=0,l=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(Pt.API),function(e){e.loadFile=function(t,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var d=new XMLHttpRequest,h=0,f=function(v){var y=v.length,A=[],g=String.fromCharCode;for(h=0;h<y;h+=1)A.push(g(255&v.charCodeAt(h)));return A.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(f(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return f(d.responseText)}(i,a,o)}catch{}return s}(t,n,r)},e.loadImageFile=e.loadFile}(Pt.API),function(e){function t(){return(Tt.html2canvas?Promise.resolve(Tt.html2canvas):S2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Tt.DOMPurify?Promise.resolve(Tt.DOMPurify):S2(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=En(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,c){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var f=u[h],v=f.src.find(function(y){return y.format==="truetype"});v&&l.addFont(v.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),s(this.prop.container,d)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||Pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,u),d}).then(u,c).then(function(d){return l.updateProgress(1),d})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,s);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Pt.getPageSize=function(o,s,l){if(En(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,d=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+s}var f,v=0,y=0;if(h.hasOwnProperty(d))v=h[d][1]/c,y=h[d][0]/c;else try{v=l[1],y=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",y>v&&(f=y,y=v,v=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>y&&(f=y,y=v,v=f)}return{width:y,height:v,unit:s,k:c,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(F2):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(Pt.API),Pt.API.addJS=function(e){return jk=e,this.internal.events.subscribe("postPutResources",function(){Wg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Wg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ok=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+jk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Wg!==void 0&&Ok!==void 0&&this.internal.out("/Names <</JavaScript "+Wg+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var d=n.internal.newObject();c.push(d);var h=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(Pt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),v=d.length,y={width:0,height:0,numcomponents:1},A=4;A<v;A+=2){if(A+=f,t.indexOf(d.charCodeAt(A+1))!==-1){h=256*d.charCodeAt(A+5)+d.charCodeAt(A+6),y={width:256*d.charCodeAt(A+7)+d.charCodeAt(A+8),height:h,numcomponents:d.charCodeAt(A+9)};break}f=256*d.charCodeAt(A+2)+d.charCodeAt(A+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(Pt.API);var Ic,Kg,Dk,Lk,Rk,tte=function(){var e,t,n;function r(a){var o,s,l,u,c,d,h,f,v,y,A,g,p,w;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),v=(function(){var x,C;for(C=[],x=0;x<4;++x)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*c/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),a=(d!=null?d.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((y=l-this.transparency.indexed.length)>0)for(p=0;0<=y?p<y:p>y;0<=y?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(A=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,A.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,A.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(d,h,f,v){var y,A,g,p,w,x,C,D,N,I,R,T,k,_,O,j,z,Z,ee,K,W,Q=Math.ceil((u.width-d)/f),U=Math.ceil((u.height-h)/v),B=u.width==Q&&u.height==U;for(_=o*Q,T=B?s:new Uint8Array(_*U),x=a.length,k=0,A=0;k<U&&l<x;){switch(a[l++]){case 0:for(p=z=0;z<_;p=z+=1)T[A++]=a[l++];break;case 1:for(p=Z=0;Z<_;p=Z+=1)y=a[l++],w=p<o?0:T[A-o],T[A++]=(y+w)%256;break;case 2:for(p=ee=0;ee<_;p=ee+=1)y=a[l++],g=(p-p%o)/o,O=k&&T[(k-1)*_+g*o+p%o],T[A++]=(O+y)%256;break;case 3:for(p=K=0;K<_;p=K+=1)y=a[l++],g=(p-p%o)/o,w=p<o?0:T[A-o],O=k&&T[(k-1)*_+g*o+p%o],T[A++]=(y+Math.floor((w+O)/2))%256;break;case 4:for(p=W=0;W<_;p=W+=1)y=a[l++],g=(p-p%o)/o,w=p<o?0:T[A-o],k===0?O=j=0:(O=T[(k-1)*_+g*o+p%o],j=g&&T[(k-1)*_+(g-1)*o+p%o]),C=w+O-j,D=Math.abs(C-w),I=Math.abs(C-O),R=Math.abs(C-j),N=D<=I&&D<=R?w:I<=R?O:j,T[A++]=(y+N)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!B){var L=((h+k*v)*u.width+d)*o,H=k*_;for(p=0;p<Q;p+=1){for(var G=0;G<o;G+=1)s[L++]=T[H++];L+=(f-1)*o}}k++}}return a=Oee(a),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,l,u,c,d,h,f;for(s=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+s.length),l=0,a=0,o=d=0,h=s.length;d<h;o=d+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(f=c[a++])!=null?f:255;return u},r.prototype.copyToImageData=function(a,o){var s,l,u,c,d,h,f,v,y,A,g;if(l=this.colors,y=null,s=this.hasAlphaChannel,this.palette.length&&(y=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),l=4,s=!0),v=(u=a.data||a).length,d=y||o,c=h=0,l===1)for(;c<v;)f=y?4*o[c/4]:h,A=d[f++],u[c++]=A,u[c++]=A,u[c++]=A,u[c++]=s?d[f++]:255,h=f;else for(;c<v;)f=y?4*o[c/4]:h,u[c++]=d[f++],u[c++]=d[f++],u[c++]=d[f++],u[c++]=s?d[f++]:255,h=f},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Tt)==="[object Window]"){try{t=Tt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,l,u,c,d,h,f;if(this.animation){for(f=[],s=c=0,d=(h=this.animation.frames).length;c<d;s=++c)o=h[s],l=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,f.push(o.image=e(l));return f}},r.prototype.renderFrame=function(a,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,l,u,c,d,h=this;return s=0,d=this.animation,u=d.numFrames,l=d.frames,c=d.numPlays,(o=function(){var f,v;if(f=s++%u,v=l[f],h.renderFrame(a,f),u>1&&s/u<c)return h.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nte(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var s=null,l=null;a&&(s=t,l=o,t+=3*o);var u=!0,c=[],d=0,h=null,f=0,v=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],!(1&y)&&(h=null),f=y>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var A=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,p=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,x=e[t++],C=x>>6&1,D=1<<(7&x)+1,N=s,I=l,R=!1;x>>7&&(R=!0,N=t,I=D,t+=3*D);var T=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}c.push({x:A,y:g,width:p,height:w,has_local_palette:R,palette_offset:N,palette_size:I,data_offset:T,data_length:t-T,transparent_index:h,interlaced:!!C,delay:d,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(_){if(_<0||_>=c.length)throw new Error("Frame index out of range.");return c[_]},this.decodeAndBlitFrameBGRA=function(_,O){var j=this.frameInfo(_),z=j.width*j.height,Z=new Uint8Array(z);Fk(e,j.data_offset,Z,z);var ee=j.palette_offset,K=j.transparent_index;K===null&&(K=256);var W=j.width,Q=n-W,U=W,B=4*(j.y*n+j.x),L=4*((j.y+j.height)*n+j.x),H=B,G=4*Q;j.interlaced===!0&&(G+=4*n*7);for(var M=8,V=0,te=Z.length;V<te;++V){var J=Z[V];if(U===0&&(U=W,(H+=G)>=L&&(G=4*Q+4*n*(M-1),H=B+(W+Q)*(M<<1),M>>=1)),J===K)H+=4;else{var de=e[ee+3*J],ye=e[ee+3*J+1],Ce=e[ee+3*J+2];O[H++]=Ce,O[H++]=ye,O[H++]=de,O[H++]=255}--U}},this.decodeAndBlitFrameRGBA=function(_,O){var j=this.frameInfo(_),z=j.width*j.height,Z=new Uint8Array(z);Fk(e,j.data_offset,Z,z);var ee=j.palette_offset,K=j.transparent_index;K===null&&(K=256);var W=j.width,Q=n-W,U=W,B=4*(j.y*n+j.x),L=4*((j.y+j.height)*n+j.x),H=B,G=4*Q;j.interlaced===!0&&(G+=4*n*7);for(var M=8,V=0,te=Z.length;V<te;++V){var J=Z[V];if(U===0&&(U=W,(H+=G)>=L&&(G=4*Q+4*n*(M-1),H=B+(W+Q)*(M<<1),M>>=1)),J===K)H+=4;else{var de=e[ee+3*J],ye=e[ee+3*J+1],Ce=e[ee+3*J+2];O[H++]=de,O[H++]=ye,O[H++]=Ce,O[H++]=255}--U}}}function Fk(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,d=0,h=0,f=e[t++],v=new Int32Array(4096),y=null;;){for(;c<16&&f!==0;)d|=e[t++]<<c,c+=8,f===1?f=e[t++]:--f;if(c<l)break;var A=d&u;if(d>>=l,c-=l,A!==a){if(A===o)break;for(var g=A<s?A:y,p=0,w=g;w>a;)w=v[w]>>8,++p;var x=w;if(h+p+(g!==A?1:0)>r)return void On.log("Warning, gif stream longer than expected.");n[h++]=x;var C=h+=p;for(g!==A&&(n[h++]=x),w=g;p--;)w=v[w],n[--C]=255&w,w>>=8;y!==null&&s<4096&&(v[s++]=y<<8|x,s>=u+1&&l<12&&(++l,u=u<<1|1)),y=A}else s=o+1,u=(1<<(l=i+1))-1,y=null}return h!==r&&On.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function xy(e){var t,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),v=new Array(64),y=[],A=0,g=7,p=new Array(64),w=new Array(64),x=new Array(64),C=new Array(256),D=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(B,L){for(var H=0,G=0,M=new Array,V=1;V<=16;V++){for(var te=1;te<=B[V];te++)M[L[G]]=[],M[L[G]][0]=H,M[L[G]][1]=V,G++,H++;H*=2}return M}function ee(B){for(var L=B[0],H=B[1]-1;H>=0;)L&1<<H&&(A|=1<<g),H--,--g<0&&(A==255?(K(255),K(0)):K(A),g=7,A=0)}function K(B){y.push(B)}function W(B){K(B>>8&255),K(255&B)}function Q(B,L,H,G,M){for(var V,te=M[0],J=M[240],de=function(ue,ge){var Ee,ae,ke,Te,Be,Ke,nt,Ze,rt,Xe,Ue=0;for(rt=0;rt<8;++rt){Ee=ue[Ue],ae=ue[Ue+1],ke=ue[Ue+2],Te=ue[Ue+3],Be=ue[Ue+4],Ke=ue[Ue+5],nt=ue[Ue+6];var yt=Ee+(Ze=ue[Ue+7]),dt=Ee-Ze,Ht=ae+nt,Et=ae-nt,Ot=ke+Ke,on=ke-Ke,Ct=Te+Be,Lr=Te-Be,Zt=yt+Ct,er=yt-Ct,Rr=Ht+Ot,hn=Ht-Ot;ue[Ue]=Zt+Rr,ue[Ue+4]=Zt-Rr;var Bt=.707106781*(hn+er);ue[Ue+2]=er+Bt,ue[Ue+6]=er-Bt;var en=.382683433*((Zt=Lr+on)-(hn=Et+dt)),mn=.5411961*Zt+en,vn=1.306562965*hn+en,Kr=.707106781*(Rr=on+Et),wi=dt+Kr,At=dt-Kr;ue[Ue+5]=At+mn,ue[Ue+3]=At-mn,ue[Ue+1]=wi+vn,ue[Ue+7]=wi-vn,Ue+=8}for(Ue=0,rt=0;rt<8;++rt){Ee=ue[Ue],ae=ue[Ue+8],ke=ue[Ue+16],Te=ue[Ue+24],Be=ue[Ue+32],Ke=ue[Ue+40],nt=ue[Ue+48];var fe=Ee+(Ze=ue[Ue+56]),be=Ee-Ze,Ie=ae+nt,je=ae-nt,Ge=ke+Ke,ut=ke-Ke,wt=Te+Be,it=Te-Be,ot=fe+wt,Ye=fe-wt,lt=Ie+Ge,bt=Ie-Ge;ue[Ue]=ot+lt,ue[Ue+32]=ot-lt;var St=.707106781*(bt+Ye);ue[Ue+16]=Ye+St,ue[Ue+48]=Ye-St;var un=.382683433*((ot=it+ut)-(bt=je+be)),Yt=.5411961*ot+un,$e=1.306562965*bt+un,ce=.707106781*(lt=ut+je),Qe=be+ce,st=be-ce;ue[Ue+40]=st+Yt,ue[Ue+24]=st-Yt,ue[Ue+8]=Qe+$e,ue[Ue+56]=Qe-$e,Ue++}for(rt=0;rt<64;++rt)Xe=ue[rt]*ge[rt],f[rt]=Xe>0?Xe+.5|0:Xe-.5|0;return f}(B,L),ye=0;ye<64;++ye)v[N[ye]]=de[ye];var Ce=v[0]-H;H=v[0],Ce==0?ee(G[0]):(ee(G[h[V=32767+Ce]]),ee(d[V]));for(var Pe=63;Pe>0&&v[Pe]==0;)Pe--;if(Pe==0)return ee(te),H;for(var Le,Ae=1;Ae<=Pe;){for(var oe=Ae;v[Ae]==0&&Ae<=Pe;)++Ae;var Je=Ae-oe;if(Je>=16){Le=Je>>4;for(var he=1;he<=Le;++he)ee(J);Je&=15}V=32767+v[Ae],ee(M[(Je<<4)+h[V]]),ee(d[V]),Ae++}return Pe!=63&&ee(te),H}function U(B){B=Math.min(Math.max(B,1),100),a!=B&&(function(L){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var M=o((H[G]*L+50)/100);M=Math.min(Math.max(M,1),255),s[N[G]]=M}for(var V=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var J=o((V[te]*L+50)/100);J=Math.min(Math.max(J,1),255),l[N[te]]=J}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,Ce=0;Ce<8;Ce++)for(var Pe=0;Pe<8;Pe++)u[ye]=1/(s[N[ye]]*de[Ce]*de[Pe]*8),c[ye]=1/(l[N[ye]]*de[Ce]*de[Pe]*8),ye++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),a=B)}this.encode=function(B,L){L&&U(L),y=new Array,A=0,g=7,W(65496),W(65504),W(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),W(1),W(1),K(0),K(0),function(){W(65499),W(132),K(0);for(var ae=0;ae<64;ae++)K(s[ae]);K(1);for(var ke=0;ke<64;ke++)K(l[ke])}(),function(ae,ke){W(65472),W(17),K(8),W(ke),W(ae),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(B.width,B.height),function(){W(65476),W(418),K(0);for(var ae=0;ae<16;ae++)K(I[ae+1]);for(var ke=0;ke<=11;ke++)K(R[ke]);K(16);for(var Te=0;Te<16;Te++)K(T[Te+1]);for(var Be=0;Be<=161;Be++)K(k[Be]);K(1);for(var Ke=0;Ke<16;Ke++)K(_[Ke+1]);for(var nt=0;nt<=11;nt++)K(O[nt]);K(17);for(var Ze=0;Ze<16;Ze++)K(j[Ze+1]);for(var rt=0;rt<=161;rt++)K(z[rt])}(),W(65498),W(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var H=0,G=0,M=0;A=0,g=7,this.encode.displayName="_encode_";for(var V,te,J,de,ye,Ce,Pe,Le,Ae,oe=B.data,Je=B.width,he=B.height,ue=4*Je,ge=0;ge<he;){for(V=0;V<ue;){for(ye=ue*ge+V,Pe=-1,Le=0,Ae=0;Ae<64;Ae++)Ce=ye+(Le=Ae>>3)*ue+(Pe=4*(7&Ae)),ge+Le>=he&&(Ce-=ue*(ge+1+Le-he)),V+Pe>=ue&&(Ce-=V+Pe-ue+4),te=oe[Ce++],J=oe[Ce++],de=oe[Ce++],p[Ae]=(D[te]+D[J+256>>0]+D[de+512>>0]>>16)-128,w[Ae]=(D[te+768>>0]+D[J+1024>>0]+D[de+1280>>0]>>16)-128,x[Ae]=(D[te+1280>>0]+D[J+1536>>0]+D[de+1792>>0]>>16)-128;H=Q(p,u,H,t,r),G=Q(w,c,G,n,i),M=Q(x,c,M,n,i),V+=32}ge+=8}if(g>=0){var Ee=[];Ee[1]=g+1,Ee[0]=(1<<g+1)-1,ee(Ee)}return W(65497),new Uint8Array(y)},e=e||50,function(){for(var B=String.fromCharCode,L=0;L<256;L++)C[L]=B(L)}(),t=Z(I,R),n=Z(_,O),r=Z(T,k),i=Z(j,z),function(){for(var B=1,L=2,H=1;H<=15;H++){for(var G=B;G<L;G++)h[32767+G]=H,d[32767+G]=[],d[32767+G][1]=H,d[32767+G][0]=G;for(var M=-(L-1);M<=-B;M++)h[32767+M]=H,d[32767+M]=[],d[32767+M][1]=H,d[32767+M][0]=L-1+M;B<<=1,L<<=1}}(),function(){for(var B=0;B<256;B++)D[B]=19595*B,D[B+256>>0]=38470*B,D[B+512>>0]=7471*B+32768,D[B+768>>0]=-11059*B,D[B+1024>>0]=-21709*B,D[B+1280>>0]=32768*B+8421375,D[B+1536>>0]=-27439*B,D[B+1792>>0]=-5329*B}(),U(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function eo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Mk(e){function t(I){if(!I)throw Error("assert :P")}function n(I,R,T){for(var k=0;4>k;k++)if(I[R+k]!=T.charCodeAt(k))return!0;return!1}function r(I,R,T,k,_){for(var O=0;O<_;O++)I[R+O]=T[k+O]}function i(I,R,T,k){for(var _=0;_<k;_++)I[R+_]=T}function a(I){return new Int32Array(I)}function o(I,R){for(var T=[],k=0;k<I;k++)T.push(new R);return T}function s(I,R){var T=[];return function k(_,O,j){for(var z=j[O],Z=0;Z<z&&(_.push(j.length>O+1?[]:new R),!(j.length<O+1));Z++)k(_[Z],O+1,j)}(T,0,I),T}var l=function(){var I=this;function R(m,E){for(var P=1<<E-1>>>0;m&P;)P>>>=1;return P?(m&P-1)+P:m}function T(m,E,P,F,q){t(!(F%P));do m[E+(F-=P)]=q;while(0<F)}function k(m,E,P,F,q){if(t(2328>=q),512>=q)var Y=a(512);else if((Y=a(q))==null)return 0;return function(X,ne,re,se,me,Se){var Ne,xe,ze=ne,Oe=1<<re,ve=a(16),we=a(16);for(t(me!=0),t(se!=null),t(X!=null),t(0<re),xe=0;xe<me;++xe){if(15<se[xe])return 0;++ve[se[xe]]}if(ve[0]==me)return 0;for(we[1]=0,Ne=1;15>Ne;++Ne){if(ve[Ne]>1<<Ne)return 0;we[Ne+1]=we[Ne]+ve[Ne]}for(xe=0;xe<me;++xe)Ne=se[xe],0<se[xe]&&(Se[we[Ne]++]=xe);if(we[15]==1)return(se=new _).g=0,se.value=Se[0],T(X,ze,1,Oe,se),Oe;var Re,He=-1,Fe=Oe-1,ft=0,tt=1,_t=1,at=1<<re;for(xe=0,Ne=1,me=2;Ne<=re;++Ne,me<<=1){if(tt+=_t<<=1,0>(_t-=ve[Ne]))return 0;for(;0<ve[Ne];--ve[Ne])(se=new _).g=Ne,se.value=Se[xe++],T(X,ze+ft,me,at,se),ft=R(ft,Ne)}for(Ne=re+1,me=2;15>=Ne;++Ne,me<<=1){if(tt+=_t<<=1,0>(_t-=ve[Ne]))return 0;for(;0<ve[Ne];--ve[Ne]){if(se=new _,(ft&Fe)!=He){for(ze+=at,Re=1<<(He=Ne)-re;15>He&&!(0>=(Re-=ve[He]));)++He,Re<<=1;Oe+=at=1<<(Re=He-re),X[ne+(He=ft&Fe)].g=Re+re,X[ne+He].value=ze-ne-He}se.g=Ne-re,se.value=Se[xe++],T(X,ze+(ft>>re),me,at,se),ft=R(ft,Ne)}}return tt!=2*we[15]-1?0:Oe}(m,E,P,F,q,Y)}function _(){this.value=this.g=0}function O(){this.value=this.g=0}function j(){this.G=o(5,_),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Yr,O)}function z(m,E,P,F){t(m!=null),t(E!=null),t(2147483648>F),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=E,m.pa=P,m.Jd=E,m.Yc=P+F,m.Zc=4<=F?P+F-4+1:P,V(m)}function Z(m,E){for(var P=0;0<E--;)P|=J(m,128)<<E;return P}function ee(m,E){var P=Z(m,E);return te(m)?-P:P}function K(m,E,P,F){var q,Y=0;for(t(m!=null),t(E!=null),t(4294967288>F),m.Sb=F,m.Ra=0,m.u=0,m.h=0,4<F&&(F=4),q=0;q<F;++q)Y+=E[P+q]<<8*q;m.Ra=Y,m.bb=F,m.oa=E,m.pa=P}function W(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<nc-8>>>0,++m.bb,m.u-=8;H(m)&&(m.h=1,m.u=0)}function Q(m,E){if(t(0<=E),!m.h&&E<=tc){var P=L(m)&ec[E];return m.u+=E,W(m),P}return m.h=1,m.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(m){return m.Ra>>>(m.u&nc-1)>>>0}function H(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>nc}function G(m,E){m.u=E,m.h=H(m)}function M(m){m.u>=sf&&(t(m.u>=sf),W(m))}function V(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function te(m){return Z(m,1)}function J(m,E){var P=m.Ca;0>m.b&&V(m);var F=m.b,q=P*E>>>8,Y=(m.I>>>F>q)+0;for(Y?(P-=q,m.I-=q+1<<F>>>0):P=q+1,F=P,q=0;256<=F;)q+=8,F>>=8;return F=7^q+Fi[F],m.b-=F,m.Ca=(P<<F)-1,Y}function de(m,E,P){m[E+0]=P>>24&255,m[E+1]=P>>16&255,m[E+2]=P>>8&255,m[E+3]=P>>0&255}function ye(m,E){return m[E+0]<<0|m[E+1]<<8}function Ce(m,E){return ye(m,E)|m[E+2]<<16}function Pe(m,E){return ye(m,E)|ye(m,E+2)<<16}function Le(m,E){var P=1<<E;return t(m!=null),t(0<E),m.X=a(P),m.X==null?0:(m.Mb=32-E,m.Xa=E,1)}function Ae(m,E){t(m!=null),t(E!=null),t(m.Xa==E.Xa),r(E.X,0,m.X,0,1<<E.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function Je(m,E,P,F){t(P!=null),t(F!=null);var q=P[0],Y=F[0];return q==0&&(q=(m*Y+E/2)/E),Y==0&&(Y=(E*q+m/2)/m),0>=q||0>=Y?0:(P[0]=q,F[0]=Y,1)}function he(m,E){return m+(1<<E)-1>>>E}function ue(m,E){return((4278255360&m)+(4278255360&E)>>>0&4278255360)+((16711935&m)+(16711935&E)>>>0&16711935)>>>0}function ge(m,E){I[E]=function(P,F,q,Y,X,ne,re){var se;for(se=0;se<X;++se){var me=I[m](ne[re+se-1],q,Y+se);ne[re+se]=ue(P[F+se],me)}}}function Ee(){this.ud=this.hd=this.jd=0}function ae(m,E){return((4278124286&(m^E))>>>1)+(m&E)>>>0}function ke(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Te(m,E){return ke(m+(m-E+.5>>1))}function Be(m,E,P){return Math.abs(E-P)-Math.abs(m-P)}function Ke(m,E,P,F,q,Y,X){for(F=Y[X-1],P=0;P<q;++P)Y[X+P]=F=ue(m[E+P],F)}function nt(m,E,P,F,q){var Y;for(Y=0;Y<P;++Y){var X=m[E+Y],ne=X>>8&255,re=16711935&(re=(re=16711935&X)+((ne<<16)+ne));F[q+Y]=(4278255360&X)+re>>>0}}function Ze(m,E){E.jd=m>>0&255,E.hd=m>>8&255,E.ud=m>>16&255}function rt(m,E,P,F,q,Y){var X;for(X=0;X<F;++X){var ne=E[P+X],re=ne>>>8,se=ne,me=255&(me=(me=ne>>>16)+((m.jd<<24>>24)*(re<<24>>24)>>>5));se=255&(se=(se=se+((m.hd<<24>>24)*(re<<24>>24)>>>5))+((m.ud<<24>>24)*(me<<24>>24)>>>5)),q[Y+X]=(4278255360&ne)+(me<<16)+se}}function Xe(m,E,P,F,q){I[E]=function(Y,X,ne,re,se,me,Se,Ne,xe){for(re=Se;re<Ne;++re)for(Se=0;Se<xe;++Se)se[me++]=q(ne[F(Y[X++])])},I[m]=function(Y,X,ne,re,se,me,Se){var Ne=8>>Y.b,xe=Y.Ea,ze=Y.K[0],Oe=Y.w;if(8>Ne)for(Y=(1<<Y.b)-1,Oe=(1<<Ne)-1;X<ne;++X){var ve,we=0;for(ve=0;ve<xe;++ve)ve&Y||(we=F(re[se++])),me[Se++]=q(ze[we&Oe]),we>>=Ne}else I["VP8LMapColor"+P](re,se,ze,Oe,me,Se,X,ne,xe)}}function Ue(m,E,P,F,q){for(P=E+P;E<P;){var Y=m[E++];F[q++]=Y>>16&255,F[q++]=Y>>8&255,F[q++]=Y>>0&255}}function yt(m,E,P,F,q){for(P=E+P;E<P;){var Y=m[E++];F[q++]=Y>>16&255,F[q++]=Y>>8&255,F[q++]=Y>>0&255,F[q++]=Y>>24&255}}function dt(m,E,P,F,q){for(P=E+P;E<P;){var Y=(X=m[E++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;F[q++]=Y,F[q++]=X}}function Ht(m,E,P,F,q){for(P=E+P;E<P;){var Y=(X=m[E++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;F[q++]=Y,F[q++]=X}}function Et(m,E,P,F,q){for(P=E+P;E<P;){var Y=m[E++];F[q++]=Y>>0&255,F[q++]=Y>>8&255,F[q++]=Y>>16&255}}function Ot(m,E,P,F,q,Y){if(Y==0)for(P=E+P;E<P;)de(F,((Y=m[E++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),q+=32;else r(F,q,m,E,P)}function on(m,E){I[E][0]=I[m+"0"],I[E][1]=I[m+"1"],I[E][2]=I[m+"2"],I[E][3]=I[m+"3"],I[E][4]=I[m+"4"],I[E][5]=I[m+"5"],I[E][6]=I[m+"6"],I[E][7]=I[m+"7"],I[E][8]=I[m+"8"],I[E][9]=I[m+"9"],I[E][10]=I[m+"10"],I[E][11]=I[m+"11"],I[E][12]=I[m+"12"],I[E][13]=I[m+"13"],I[E][14]=I[m+"0"],I[E][15]=I[m+"0"]}function Ct(m){return m==F1||m==M1||m==Rp||m==U1}function Lr(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Lr,this.f.kb=new Zt,this.sd=null}function Rr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function en(m,E){var P=m.T,F=E.ba.f.RGBA,q=F.eb,Y=F.fb+m.ka*F.A,X=Na[E.ba.S],ne=m.y,re=m.O,se=m.f,me=m.N,Se=m.ea,Ne=m.W,xe=E.cc,ze=E.dc,Oe=E.Mc,ve=E.Nc,we=m.ka,Re=m.ka+m.T,He=m.U,Fe=He+1>>1;for(we==0?X(ne,re,null,null,se,me,Se,Ne,se,me,Se,Ne,q,Y,null,null,He):(X(E.ec,E.fc,ne,re,xe,ze,Oe,ve,se,me,Se,Ne,q,Y-F.A,q,Y,He),++P);we+2<Re;we+=2)xe=se,ze=me,Oe=Se,ve=Ne,me+=m.Rc,Ne+=m.Rc,Y+=2*F.A,X(ne,(re+=2*m.fa)-m.fa,ne,re,xe,ze,Oe,ve,se,me,Se,Ne,q,Y-F.A,q,Y,He);return re+=m.fa,m.j+Re<m.o?(r(E.ec,E.fc,ne,re,He),r(E.cc,E.dc,se,me,Fe),r(E.Mc,E.Nc,Se,Ne,Fe),P--):1&Re||X(ne,re,null,null,se,me,Se,Ne,se,me,Se,Ne,q,Y+F.A,null,null,He),P}function mn(m,E,P){var F=m.F,q=[m.J];if(F!=null){var Y=m.U,X=E.ba.S,ne=X==Lp||X==Rp;E=E.ba.f.RGBA;var re=[0],se=m.ka;re[0]=m.T,m.Kb&&(se==0?--re[0]:(--se,q[0]-=m.width),m.j+m.ka+m.T==m.o&&(re[0]=m.o-m.j-se));var me=E.eb;se=E.fb+se*E.A,m=Dn(F,q[0],m.width,Y,re,me,se+(ne?0:3),E.A),t(P==re),m&&Ct(X)&&Ca(me,se,ne,Y,re,E.A)}return 0}function vn(m){var E=m.ma,P=E.ba.S,F=11>P,q=P==jp||P==Dp||P==Lp||P==R1||P==12||Ct(P);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!af(E.Oa,m,q?11:12))return 0;if(q&&Ct(P)&&qe(),m.da)alert("todo:use_scaling");else{if(F){if(E.Ib=Bt,m.Kb){if(P=m.U+1>>1,E.memory=a(m.U+2*P),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+m.U,E.Mc=E.cc,E.Nc=E.dc+P,E.Ib=en,qe()}}else alert("todo:EmitYUV");q&&(E.Jb=mn,F&&_e())}if(F&&!o5){for(m=0;256>m;++m)kT[m]=89858*(m-128)+Mp>>Fp,ST[m]=-22014*(m-128)+Mp,CT[m]=-45773*(m-128),_T[m]=113618*(m-128)+Mp>>Fp;for(m=pf;m<G1;++m)E=76283*(m-16)+Mp>>Fp,NT[m-pf]=Ji(E,255),IT[m-pf]=Ji(E+8>>4,15);o5=1}return 1}function Kr(m){var E=m.ma,P=m.U,F=m.T;return t(!(1&m.ka)),0>=P||0>=F?0:(P=E.Ib(m,E),E.Jb!=null&&E.Jb(m,E,P),E.Dc+=P,1)}function wi(m){m.ma.memory=null}function At(m,E,P,F){return Q(m,8)!=47?0:(E[0]=Q(m,14)+1,P[0]=Q(m,14)+1,F[0]=Q(m,1),Q(m,3)!=0?0:!m.h)}function fe(m,E){if(4>m)return m+1;var P=m-2>>1;return(2+(1&m)<<P)+Q(E,P)+1}function be(m,E){return 120<E?E-120:1<=(P=((P=cT[E-1])>>4)*m+(8-(15&P)))?P:1;var P}function Ie(m,E,P){var F=L(P),q=m[E+=255&F].g-8;return 0<q&&(G(P,P.u+8),F=L(P),E+=m[E].value,E+=F&(1<<q)-1),G(P,P.u+m[E].g),m[E].value}function je(m,E,P){return P.g+=m.g,P.value+=m.value<<E>>>0,t(8>=P.g),m.g}function Ge(m,E,P){var F=m.xc;return t((E=F==0?0:m.vc[m.md*(P>>F)+(E>>F)])<m.Wb),m.Ya[E]}function ut(m,E,P,F){var q=m.ab,Y=m.c*E,X=m.C;E=X+E;var ne=P,re=F;for(F=m.Ta,P=m.Ua;0<q--;){var se=m.gc[q],me=X,Se=E,Ne=ne,xe=re,ze=(re=F,ne=P,se.Ea);switch(t(me<Se),t(Se<=se.nc),se.hc){case 2:Sp(Ne,xe,(Se-me)*ze,re,ne);break;case 0:var Oe=me,ve=Se,we=re,Re=ne,He=(at=se).Ea;Oe==0&&(D1(Ne,xe,null,null,1,we,Re),Ke(Ne,xe+1,0,0,He-1,we,Re+1),xe+=He,Re+=He,++Oe);for(var Fe=1<<at.b,ft=Fe-1,tt=he(He,at.b),_t=at.K,at=at.w+(Oe>>at.b)*tt;Oe<ve;){var dn=_t,yn=at,nn=1;for(lf(Ne,xe,we,Re-He,1,we,Re);nn<He;){var Jt=(nn&~ft)+Fe;Jt>He&&(Jt=He),(0,Os[dn[yn++]>>8&15])(Ne,xe+ +nn,we,Re+nn-He,Jt-nn,we,Re+nn),nn=Jt}xe+=He,Re+=He,++Oe&ft||(at+=tt)}Se!=se.nc&&r(re,ne-ze,re,ne+(Se-me-1)*ze,ze);break;case 1:for(ze=Ne,ve=xe,He=(Ne=se.Ea)-(Re=Ne&~(we=(xe=1<<se.b)-1)),Oe=he(Ne,se.b),Fe=se.K,se=se.w+(me>>se.b)*Oe;me<Se;){for(ft=Fe,tt=se,_t=new Ee,at=ve+Re,dn=ve+Ne;ve<at;)Ze(ft[tt++],_t),Ul(_t,ze,ve,xe,re,ne),ve+=xe,ne+=xe;ve<dn&&(Ze(ft[tt++],_t),Ul(_t,ze,ve,He,re,ne),ve+=He,ne+=He),++me&we||(se+=Oe)}break;case 3:if(Ne==re&&xe==ne&&0<se.b){for(ve=re,Ne=ze=ne+(Se-me)*ze-(Re=(Se-me)*he(se.Ea,se.b)),xe=re,we=ne,Oe=[],Re=(He=Re)-1;0<=Re;--Re)Oe[Re]=xe[we+Re];for(Re=He-1;0<=Re;--Re)ve[Ne+Re]=Oe[Re];Ea(se,me,Se,re,ze,re,ne)}else Ea(se,me,Se,Ne,xe,re,ne)}ne=F,re=P}re!=P&&r(F,P,ne,re,Y)}function wt(m,E){var P=m.V,F=m.Ba+m.c*m.C,q=E-m.C;if(t(E<=m.l.o),t(16>=q),0<q){var Y=m.l,X=m.Ta,ne=m.Ua,re=Y.width;if(ut(m,q,P,F),q=ne=[ne],t((P=m.C)<(F=E)),t(Y.v<Y.va),F>Y.o&&(F=Y.o),P<Y.j){var se=Y.j-P;P=Y.j,q[0]+=se*re}if(P>=F?P=0:(q[0]+=4*Y.v,Y.ka=P-Y.j,Y.U=Y.va-Y.v,Y.T=F-P,P=1),P){if(ne=ne[0],11>(P=m.ca).S){var me=P.f.RGBA,Se=(F=P.S,q=Y.U,Y=Y.T,se=me.eb,me.A),Ne=Y;for(me=me.fb+m.Ma*me.A;0<Ne--;){var xe=X,ze=ne,Oe=q,ve=se,we=me;switch(F){case Op:Mi(xe,ze,Oe,ve,we);break;case jp:xi(xe,ze,Oe,ve,we);break;case F1:xi(xe,ze,Oe,ve,we),Ca(ve,we,0,Oe,1,0);break;case Jb:qo(xe,ze,Oe,ve,we);break;case Dp:Ot(xe,ze,Oe,ve,we,1);break;case M1:Ot(xe,ze,Oe,ve,we,1),Ca(ve,we,0,Oe,1,0);break;case Lp:Ot(xe,ze,Oe,ve,we,0);break;case Rp:Ot(xe,ze,Oe,ve,we,0),Ca(ve,we,1,Oe,1,0);break;case R1:js(xe,ze,Oe,ve,we);break;case U1:js(xe,ze,Oe,ve,we),jn(ve,we,Oe,1,0);break;case Xb:Qo(xe,ze,Oe,ve,we);break;default:t(0)}ne+=re,me+=Se}m.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=P.height)}}m.C=E,t(m.C<=m.i)}function it(m){var E;if(0<m.ua)return 0;for(E=0;E<m.Wb;++E){var P=m.Ya[E].G,F=m.Ya[E].H;if(0<P[1][F[1]+0].g||0<P[2][F[2]+0].g||0<P[3][F[3]+0].g)return 0}return 1}function ot(m,E,P,F,q,Y){if(m.Z!=0){var X=m.qd,ne=m.rd;for(t(Fs[m.Z]!=null);E<P;++E)Fs[m.Z](X,ne,F,q,F,q,Y),X=F,ne=q,q+=Y;m.qd=X,m.rd=ne}}function Ye(m,E){var P=m.l.ma,F=P.Z==0||P.Z==1?m.l.j:m.C;if(F=m.C<F?F:m.C,t(E<=m.l.o),E>F){var q=m.l.width,Y=P.ca,X=P.tb+q*F,ne=m.V,re=m.Ba+m.c*F,se=m.gc;t(m.ab==1),t(se[0].hc==3),Np(se[0],F,E,ne,re,Y,X),ot(P,F,E,Y,X,q)}m.C=m.Ma=E}function lt(m,E,P,F,q,Y,X){var ne=m.$/F,re=m.$%F,se=m.m,me=m.s,Se=P+m.$,Ne=Se;q=P+F*q;var xe=P+F*Y,ze=280+me.ua,Oe=m.Pb?ne:16777216,ve=0<me.ua?me.Wa:null,we=me.wc,Re=Se<xe?Ge(me,re,ne):null;t(m.C<Y),t(xe<=q);var He=!1;e:for(;;){for(;He||Se<xe;){var Fe=0;if(ne>=Oe){var ft=Se-P;t((Oe=m).Pb),Oe.wd=Oe.m,Oe.xd=ft,0<Oe.s.ua&&Ae(Oe.s.Wa,Oe.s.vb),Oe=ne+fT}if(re&we||(Re=Ge(me,re,ne)),t(Re!=null),Re.Qb&&(E[Se]=Re.qb,He=!0),!He)if(M(se),Re.jc){Fe=se,ft=E;var tt=Se,_t=Re.pd[L(Fe)&Yr-1];t(Re.jc),256>_t.g?(G(Fe,Fe.u+_t.g),ft[tt]=_t.value,Fe=0):(G(Fe,Fe.u+_t.g-256),t(256<=_t.value),Fe=_t.value),Fe==0&&(He=!0)}else Fe=Ie(Re.G[0],Re.H[0],se);if(se.h)break;if(He||256>Fe){if(!He)if(Re.nd)E[Se]=(Re.qb|Fe<<8)>>>0;else{if(M(se),He=Ie(Re.G[1],Re.H[1],se),M(se),ft=Ie(Re.G[2],Re.H[2],se),tt=Ie(Re.G[3],Re.H[3],se),se.h)break;E[Se]=(tt<<24|He<<16|Fe<<8|ft)>>>0}if(He=!1,++Se,++re>=F&&(re=0,++ne,X!=null&&ne<=Y&&!(ne%16)&&X(m,ne),ve!=null))for(;Ne<Se;)Fe=E[Ne++],ve.X[(506832829*Fe&4294967295)>>>ve.Mb]=Fe}else if(280>Fe){if(Fe=fe(Fe-256,se),ft=Ie(Re.G[4],Re.H[4],se),M(se),ft=be(F,ft=fe(ft,se)),se.h)break;if(Se-P<ft||q-Se<Fe)break e;for(tt=0;tt<Fe;++tt)E[Se+tt]=E[Se+tt-ft];for(Se+=Fe,re+=Fe;re>=F;)re-=F,++ne,X!=null&&ne<=Y&&!(ne%16)&&X(m,ne);if(t(Se<=q),re&we&&(Re=Ge(me,re,ne)),ve!=null)for(;Ne<Se;)Fe=E[Ne++],ve.X[(506832829*Fe&4294967295)>>>ve.Mb]=Fe}else{if(!(Fe<ze))break e;for(He=Fe-280,t(ve!=null);Ne<Se;)Fe=E[Ne++],ve.X[(506832829*Fe&4294967295)>>>ve.Mb]=Fe;Fe=Se,t(!(He>>>(ft=ve).Xa)),E[Fe]=ft.X[He],He=!0}He||t(se.h==H(se))}if(m.Pb&&se.h&&Se<q)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ae(m.s.vb,m.s.Wa);else{if(se.h)break e;X!=null&&X(m,ne>Y?Y:ne),m.a=0,m.$=Se-P}return 1}return m.a=3,0}function bt(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var E=m.Wa;E!=null&&(E.X=null),m.vb=null,t(m!=null)}function St(){var m=new j1;return m==null?null:(m.a=0,m.xb=t5,on("Predictor","VP8LPredictors"),on("Predictor","VP8LPredictors_C"),on("PredictorAdd","VP8LPredictorsAdd"),on("PredictorAdd","VP8LPredictorsAdd_C"),Sp=nt,Ul=rt,Mi=Ue,xi=yt,js=dt,Qo=Ht,qo=Et,I.VP8LMapColor32b=rc,I.VP8LMapColor8b=Ip,m)}function un(m,E,P,F,q){var Y=1,X=[m],ne=[E],re=F.m,se=F.s,me=null,Se=0;e:for(;;){if(P)for(;Y&&Q(re,1);){var Ne=X,xe=ne,ze=F,Oe=1,ve=ze.m,we=ze.gc[ze.ab],Re=Q(ve,2);if(ze.Oc&1<<Re)Y=0;else{switch(ze.Oc|=1<<Re,we.hc=Re,we.Ea=Ne[0],we.nc=xe[0],we.K=[null],++ze.ab,t(4>=ze.ab),Re){case 0:case 1:we.b=Q(ve,3)+2,Oe=un(he(we.Ea,we.b),he(we.nc,we.b),0,ze,we.K),we.K=we.K[0];break;case 3:var He,Fe=Q(ve,8)+1,ft=16<Fe?0:4<Fe?1:2<Fe?2:3;if(Ne[0]=he(we.Ea,ft),we.b=ft,He=Oe=un(Fe,1,0,ze,we.K)){var tt,_t=Fe,at=we,dn=1<<(8>>at.b),yn=a(dn);if(yn==null)He=0;else{var nn=at.K[0],Jt=at.w;for(yn[0]=at.K[0][0],tt=1;tt<1*_t;++tt)yn[tt]=ue(nn[Jt+tt],yn[tt-1]);for(;tt<4*dn;++tt)yn[tt]=0;at.K[0]=null,at.K[0]=yn,He=1}}Oe=He;break;case 2:break;default:t(0)}Y=Oe}}if(X=X[0],ne=ne[0],Y&&Q(re,1)&&!(Y=1<=(Se=Q(re,4))&&11>=Se)){F.a=3;break e}var Tn;if(Tn=Y)t:{var Sn,Ut,br,Ui=F,xr=X,zi=ne,An=Se,Zi=P,ea=Ui.m,Mr=Ui.s,Jr=[null],ki=1,Ia=0,Eo=dT[An];n:for(;;){if(Zi&&Q(ea,1)){var Ur=Q(ea,3)+2,Ko=he(xr,Ur),ql=he(zi,Ur),lc=Ko*ql;if(!un(Ko,ql,0,Ui,Jr))break n;for(Jr=Jr[0],Mr.xc=Ur,Sn=0;Sn<lc;++Sn){var Ms=Jr[Sn]>>8&65535;Jr[Sn]=Ms,Ms>=ki&&(ki=Ms+1)}}if(ea.h)break n;for(Ut=0;5>Ut;++Ut){var ur=Zb[Ut];!Ut&&0<An&&(ur+=1<<An),Ia<ur&&(Ia=ur)}var Q1=o(ki*Eo,_),u5=ki,c5=o(u5,j);if(c5==null)var zp=null;else t(65536>=u5),zp=c5;var gf=a(Ia);if(zp==null||gf==null||Q1==null){Ui.a=1;break n}var Hp=Q1;for(Sn=br=0;Sn<ki;++Sn){var Va=zp[Sn],uc=Va.G,cc=Va.H,d5=0,Gp=1,f5=0;for(Ut=0;5>Ut;++Ut){ur=Zb[Ut],uc[Ut]=Hp,cc[Ut]=br,!Ut&&0<An&&(ur+=1<<An);i:{var Qp,q1=ur,qp=Ui,mf=gf,TT=Hp,OT=br,$1=0,Us=qp.m,jT=Q(Us,1);if(i(mf,0,0,q1),jT){var DT=Q(Us,1)+1,LT=Q(Us,1),h5=Q(Us,LT==0?1:8);mf[h5]=1,DT==2&&(mf[h5=Q(Us,8)]=1);var $p=1}else{var p5=a(19),g5=Q(Us,4)+4;if(19<g5){qp.a=3;var Vp=0;break i}for(Qp=0;Qp<g5;++Qp)p5[uT[Qp]]=Q(Us,3);var V1=void 0,vf=void 0,m5=qp,RT=p5,Wp=q1,v5=mf,W1=0,zs=m5.m,y5=8,A5=o(128,_);r:for(;k(A5,0,7,RT,19);){if(Q(zs,1)){var FT=2+2*Q(zs,3);if((V1=2+Q(zs,FT))>Wp)break r}else V1=Wp;for(vf=0;vf<Wp&&V1--;){M(zs);var w5=A5[0+(127&L(zs))];G(zs,zs.u+w5.g);var dc=w5.value;if(16>dc)v5[vf++]=dc,dc!=0&&(y5=dc);else{var MT=dc==16,b5=dc-16,UT=sT[b5],x5=Q(zs,oT[b5])+UT;if(vf+x5>Wp)break r;for(var zT=MT?y5:0;0<x5--;)v5[vf++]=zT}}W1=1;break r}W1||(m5.a=3),$p=W1}($p=$p&&!Us.h)&&($1=k(TT,OT,8,mf,q1)),$p&&$1!=0?Vp=$1:(qp.a=3,Vp=0)}if(Vp==0)break n;if(Gp&&lT[Ut]==1&&(Gp=Hp[br].g==0),d5+=Hp[br].g,br+=Vp,3>=Ut){var yf,K1=gf[0];for(yf=1;yf<ur;++yf)gf[yf]>K1&&(K1=gf[yf]);f5+=K1}}if(Va.nd=Gp,Va.Qb=0,Gp&&(Va.qb=(uc[3][cc[3]+0].value<<24|uc[1][cc[1]+0].value<<16|uc[2][cc[2]+0].value)>>>0,d5==0&&256>uc[0][cc[0]+0].value&&(Va.Qb=1,Va.qb+=uc[0][cc[0]+0].value<<8)),Va.jc=!Va.Qb&&6>f5,Va.jc){var Kp,Yo=Va;for(Kp=0;Kp<Yr;++Kp){var Hs=Kp,Gs=Yo.pd[Hs],Yp=Yo.G[0][Yo.H[0]+Hs];256<=Yp.value?(Gs.g=Yp.g+256,Gs.value=Yp.value):(Gs.g=0,Gs.value=0,Hs>>=je(Yp,8,Gs),Hs>>=je(Yo.G[1][Yo.H[1]+Hs],16,Gs),Hs>>=je(Yo.G[2][Yo.H[2]+Hs],0,Gs),je(Yo.G[3][Yo.H[3]+Hs],24,Gs))}}}Mr.vc=Jr,Mr.Wb=ki,Mr.Ya=zp,Mr.yc=Q1,Tn=1;break t}Tn=0}if(!(Y=Tn)){F.a=3;break e}if(0<Se){if(se.ua=1<<Se,!Le(se.Wa,Se)){F.a=1,Y=0;break e}}else se.ua=0;var Y1=F,E5=X,HT=ne,J1=Y1.s,X1=J1.xc;if(Y1.c=E5,Y1.i=HT,J1.md=he(E5,X1),J1.wc=X1==0?-1:(1<<X1)-1,P){F.xb=AT;break e}if((me=a(X*ne))==null){F.a=1,Y=0;break e}Y=(Y=lt(F,me,0,X,ne,ne,null))&&!re.h;break e}return Y?(q!=null?q[0]=me:(t(me==null),t(P)),F.$=0,P||bt(se)):bt(se),Y}function Yt(m,E){var P=m.c*m.i,F=P+E+16*E;return t(m.c<=E),m.V=a(F),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+P+E,1)}function $e(m,E){var P=m.C,F=E-P,q=m.V,Y=m.Ba+m.c*P;for(t(E<=m.l.o);0<F;){var X=16<F?16:F,ne=m.l.ma,re=m.l.width,se=re*X,me=ne.ca,Se=ne.tb+re*P,Ne=m.Ta,xe=m.Ua;ut(m,X,q,Y),pr(Ne,xe,me,Se,se),ot(ne,P,P+X,me,Se,re),F-=X,q+=X*m.c,P+=X}t(P==E),m.C=m.Ma=E}function ce(){this.ub=this.yd=this.td=this.Rb=0}function Qe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function st(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function qt(){this.Yb=function(){var m=[];return function E(P,F,q){for(var Y=q[F],X=0;X<Y&&(P.push(q.length>F+1?[]:0),!(q.length<F+1));X++)E(P[X],F+1,q)}(m,0,[3,11]),m}()}function cn(){this.jb=a(3),this.Wc=s([4,8],qt),this.Xc=s([4,17],qt)}function _n(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Bn(){this.ld=this.La=this.dd=this.tc=0}function sr(){this.Na=this.la=0}function bi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Li(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function kt(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bn),this.Y=0,this.ya=Array(new Li),this.aa=0,this.l=new xa}function pn(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Yi(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new ce,this.Kc=new Qe,this.ed=new _n,this.Qa=new st,this.Ic=this.$c=this.Aa=0,this.D=new kt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,U),this.ia=0,this.pb=o(4,bi),this.Pa=new cn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pn),this.Hd=0,this.rb=Array(new sr),this.sb=0,this.wa=Array(new Bn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Li),this.L=this.aa=0,this.gd=s([4,2],Bn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kn(){var m=new Yi;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,hf||(hf=fp)),m}function Cn(m,E,P){return m.a==0&&(m.a=E,m.sc=P,m.cb=0),0}function Dl(m,E,P){return 3<=P&&m[E+0]==157&&m[E+1]==1&&m[E+2]==42}function Gu(m,E){if(m==null)return 0;if(m.a=0,m.sc="OK",E==null)return Cn(m,2,"null VP8Io passed to VP8GetHeaders()");var P=E.data,F=E.w,q=E.ha;if(4>q)return Cn(m,7,"Truncated header.");var Y=P[F+0]|P[F+1]<<8|P[F+2]<<16,X=m.Od;if(X.Rb=!(1&Y),X.td=Y>>1&7,X.yd=Y>>4&1,X.ub=Y>>5,3<X.td)return Cn(m,3,"Incorrect keyframe parameters.");if(!X.yd)return Cn(m,4,"Frame not displayable.");F+=3,q-=3;var ne=m.Kc;if(X.Rb){if(7>q)return Cn(m,7,"cannot parse picture header");if(!Dl(P,F,q))return Cn(m,3,"Bad code word");ne.c=16383&(P[F+4]<<8|P[F+3]),ne.Td=P[F+4]>>6,ne.i=16383&(P[F+6]<<8|P[F+5]),ne.Ud=P[F+6]>>6,F+=7,q-=7,m.za=ne.c+15>>4,m.Ub=ne.i+15>>4,E.width=ne.c,E.height=ne.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,i((Y=m.Pa).jb,0,255,Y.jb.length),t((Y=m.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(X.ub>q)return Cn(m,7,"bad partition length");z(Y=m.m,P,F,X.ub),F+=X.ub,q-=X.ub,X.Rb&&(ne.Ld=te(Y),ne.Kd=te(Y)),ne=m.Qa;var re,se=m.Pa;if(t(Y!=null),t(ne!=null),ne.Cb=te(Y),ne.Cb){if(ne.Bb=te(Y),te(Y)){for(ne.Fb=te(Y),re=0;4>re;++re)ne.Zb[re]=te(Y)?ee(Y,7):0;for(re=0;4>re;++re)ne.Lb[re]=te(Y)?ee(Y,6):0}if(ne.Bb)for(re=0;3>re;++re)se.jb[re]=te(Y)?Z(Y,8):255}else ne.Bb=0;if(Y.Ka)return Cn(m,3,"cannot parse segment header");if((ne=m.ed).zd=te(Y),ne.Tb=Z(Y,6),ne.wb=Z(Y,3),ne.Pc=te(Y),ne.Pc&&te(Y)){for(se=0;4>se;++se)te(Y)&&(ne.vd[se]=ee(Y,6));for(se=0;4>se;++se)te(Y)&&(ne.od[se]=ee(Y,6))}if(m.L=ne.Tb==0?0:ne.zd?1:2,Y.Ka)return Cn(m,3,"cannot parse filter header");var me=q;if(q=re=F,F=re+me,ne=me,m.Xb=(1<<Z(m.m,2))-1,me<3*(se=m.Xb))P=7;else{for(re+=3*se,ne-=3*se,me=0;me<se;++me){var Se=P[q+0]|P[q+1]<<8|P[q+2]<<16;Se>ne&&(Se=ne),z(m.Jc[+me],P,re,Se),re+=Se,ne-=Se,q+=3}z(m.Jc[+se],P,re,ne),P=re<F?0:5}if(P!=0)return Cn(m,P,"cannot parse partitions");for(P=Z(re=m.m,7),q=te(re)?ee(re,4):0,F=te(re)?ee(re,4):0,ne=te(re)?ee(re,4):0,se=te(re)?ee(re,4):0,re=te(re)?ee(re,4):0,me=m.Qa,Se=0;4>Se;++Se){if(me.Cb){var Ne=me.Zb[Se];me.Fb||(Ne+=P)}else{if(0<Se){m.pb[Se]=m.pb[0];continue}Ne=P}var xe=m.pb[Se];xe.Sc[0]=z1[Ji(Ne+q,127)],xe.Sc[1]=H1[Ji(Ne+0,127)],xe.Eb[0]=2*z1[Ji(Ne+F,127)],xe.Eb[1]=101581*H1[Ji(Ne+ne,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=z1[Ji(Ne+se,117)],xe.Qc[1]=H1[Ji(Ne+re,127)],xe.lc=Ne+re}if(!X.Rb)return Cn(m,4,"Not a key frame.");for(te(Y),X=m.Pa,P=0;4>P;++P){for(q=0;8>q;++q)for(F=0;3>F;++F)for(ne=0;11>ne;++ne)se=J(Y,vT[P][q][F][ne])?Z(Y,8):gT[P][q][F][ne],X.Wc[P][q].Yb[F][ne]=se;for(q=0;17>q;++q)X.Xc[P][q]=X.Wc[P][yT[q]]}return m.kc=te(Y),m.kc&&(m.Bd=Z(Y,8)),m.cb=1}function fp(m,E,P,F,q,Y,X){var ne=E[q].Yb[P];for(P=0;16>q;++q){if(!J(m,ne[P+0]))return q;for(;!J(m,ne[P+1]);)if(ne=E[++q].Yb[0],P=0,q==16)return 16;var re=E[q+1].Yb;if(J(m,ne[P+2])){var se=m,me=0;if(J(se,(Ne=ne)[(Se=P)+3]))if(J(se,Ne[Se+6])){for(ne=0,Se=2*(me=J(se,Ne[Se+8]))+(Ne=J(se,Ne[Se+9+me])),me=0,Ne=hT[Se];Ne[ne];++ne)me+=me+J(se,Ne[ne]);me+=3+(8<<Se)}else J(se,Ne[Se+7])?(me=7+2*J(se,165),me+=J(se,145)):me=5+J(se,159);else me=J(se,Ne[Se+4])?3+J(se,Ne[Se+5]):2;ne=re[2]}else me=1,ne=re[1];re=X+pT[q],0>(se=m).b&&V(se);var Se,Ne=se.b,xe=(Se=se.Ca>>1)-(se.I>>Ne)>>31;--se.b,se.Ca+=xe,se.Ca|=1,se.I-=(Se+1&xe)<<Ne,Y[re]=((me^xe)-xe)*F[(0<q)+0]}return 16}function Gd(m){var E=m.rb[m.sb-1];E.la=0,E.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function v1(m,E){if(m==null)return 0;if(E==null)return Cn(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!Gu(m,E))return 0;if(t(m.cb),E.ac==null||E.ac(E)){E.ob&&(m.L=0);var P=Up[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=E.v-P>>4,m.zb=E.j-P>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=E.o+15+P>>4,m.Hb=E.va+15+P>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var F=m.ed;for(P=0;4>P;++P){var q;if(m.Qa.Cb){var Y=m.Qa.Lb[P];m.Qa.Fb||(Y+=F.Tb)}else Y=F.Tb;for(q=0;1>=q;++q){var X=m.gd[P][q],ne=Y;if(F.Pc&&(ne+=F.vd[0],q&&(ne+=F.od[0])),0<(ne=0>ne?0:63<ne?63:ne)){var re=ne;0<F.wb&&(re=4<F.wb?re>>2:re>>1)>9-F.wb&&(re=9-F.wb),1>re&&(re=1),X.dd=re,X.tc=2*ne+re,X.ld=40<=ne?2:15<=ne?1:0}else X.tc=0;X.La=q}}}P=0}else Cn(m,6,"Frame setup failed"),P=m.a;if(P=P==0){if(P){m.$c=0,0<m.Aa||(m.Ic=BT);e:{P=m.Ic,F=4*(re=m.za);var se=32*re,me=re+1,Se=0<m.L?re*(0<m.Aa?2:1):0,Ne=(m.Aa==2?2:1)*re;if((X=F+832+(q=3*(16*P+Up[m.L])/2*se)+(Y=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=X)P=0;else{if(X>m.Vb){if(m.Vb=0,m.Ec=a(X),m.Fc=0,m.Ec==null){P=Cn(m,1,"no memory during frame initialization.");break e}m.Vb=X}X=m.Ec,ne=m.Fc,m.Ac=X,m.Bc=ne,ne+=F,m.Gd=o(se,pn),m.Hd=0,m.rb=o(me+1,sr),m.sb=1,m.wa=Se?o(Se,Bn):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=re),t(!0),m.oc=X,m.pc=ne,ne+=832,m.ya=o(Ne,Li),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=re),m.R=16*re,m.B=8*re,re=(se=Up[m.L])*m.R,se=se/2*m.B,m.sa=X,m.ta=ne+re,m.qa=m.sa,m.ra=m.ta+16*P*m.R+se,m.Ha=m.qa,m.Ia=m.ra+8*P*m.B+se,m.$c=0,ne+=q,m.mb=Y?X:null,m.nb=Y?ne:null,t(ne+Y<=m.Fc+m.Vb),Gd(m),i(m.Ac,m.Bc,0,F),P=1}}if(P){if(E.ka=0,E.y=m.sa,E.O=m.ta,E.f=m.qa,E.N=m.ra,E.ea=m.Ha,E.Vd=m.Ia,E.fa=m.R,E.Rc=m.B,E.F=null,E.J=0,!Bp){for(P=-255;255>=P;++P)Br[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Vo[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)ff[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)sc[255+P]=0>P?0:255<P?255:P;Bp=1}ic=w1,$o=y1,uf=pp,Ei=A1,ka=gp,hr=hp,ac=Kd,Pp=Fl,cf=O1,zl=Yd,Hl=T1,Ds=Ku,Gl=Jd,oc=kp,Ql=Ep,Ls=bo,df=Go,_a=B1,$a[0]=wo,$a[1]=b1,$a[2]=_1,$a[3]=C1,$a[4]=yp,$a[5]=Vu,$a[6]=Ap,$a[7]=$d,$a[8]=N1,$a[9]=S1,Rs[0]=mp,Rs[1]=E1,Rs[2]=Ho,Rs[3]=qu,Rs[4]=oi,Rs[5]=k1,Rs[6]=vp,Wo[0]=Ps,Wo[1]=x1,Wo[2]=I1,Wo[3]=Vd,Wo[4]=Rl,Wo[5]=P1,Wo[6]=Wd,P=1}else P=0}P&&(P=function(xe,ze){for(xe.M=0;xe.M<xe.Va;++xe.M){var Oe,ve=xe.Jc[xe.M&xe.Xb],we=xe.m,Re=xe;for(Oe=0;Oe<Re.za;++Oe){var He=we,Fe=Re,ft=Fe.Ac,tt=Fe.Bc+4*Oe,_t=Fe.zc,at=Fe.ya[Fe.aa+Oe];if(Fe.Qa.Bb?at.$b=J(He,Fe.Pa.jb[0])?2+J(He,Fe.Pa.jb[2]):J(He,Fe.Pa.jb[1]):at.$b=0,Fe.kc&&(at.Ad=J(He,Fe.Bd)),at.Za=!J(He,145)+0,at.Za){var dn=at.Ob,yn=0;for(Fe=0;4>Fe;++Fe){var nn,Jt=_t[0+Fe];for(nn=0;4>nn;++nn){Jt=mT[ft[tt+nn]][Jt];for(var Tn=e5[J(He,Jt[0])];0<Tn;)Tn=e5[2*Tn+J(He,Jt[Tn])];Jt=-Tn,ft[tt+nn]=Jt}r(dn,yn,ft,tt,4),yn+=4,_t[0+Fe]=Jt}}else Jt=J(He,156)?J(He,128)?1:3:J(He,163)?2:0,at.Ob[0]=Jt,i(ft,tt,Jt,4),i(_t,0,Jt,4);at.Dd=J(He,142)?J(He,114)?J(He,183)?1:3:2:0}if(Re.m.Ka)return Cn(xe,7,"Premature end-of-partition0 encountered.");for(;xe.ja<xe.za;++xe.ja){if(Re=ve,He=(we=xe).rb[we.sb-1],ft=we.rb[we.sb+we.ja],Oe=we.ya[we.aa+we.ja],tt=we.kc?Oe.Ad:0)He.la=ft.la=0,Oe.Za||(He.Na=ft.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var Sn,Ut;if(He=ft,ft=Re,tt=we.Pa.Xc,_t=we.ya[we.aa+we.ja],at=we.pb[_t.$b],Fe=_t.ad,dn=0,yn=we.rb[we.sb-1],Jt=nn=0,i(Fe,dn,0,384),_t.Za)var br=0,Ui=tt[3];else{Tn=a(16);var xr=He.Na+yn.Na;if(xr=hf(ft,tt[1],xr,at.Eb,0,Tn,0),He.Na=yn.Na=(0<xr)+0,1<xr)ic(Tn,0,Fe,dn);else{var zi=Tn[0]+3>>3;for(Tn=0;256>Tn;Tn+=16)Fe[dn+Tn]=zi}br=1,Ui=tt[0]}var An=15&He.la,Zi=15&yn.la;for(Tn=0;4>Tn;++Tn){var ea=1&Zi;for(zi=Ut=0;4>zi;++zi)An=An>>1|(ea=(xr=hf(ft,Ui,xr=ea+(1&An),at.Sc,br,Fe,dn))>br)<<7,Ut=Ut<<2|(3<xr?3:1<xr?2:Fe[dn+0]!=0),dn+=16;An>>=4,Zi=Zi>>1|ea<<7,nn=(nn<<8|Ut)>>>0}for(Ui=An,br=Zi>>4,Sn=0;4>Sn;Sn+=2){for(Ut=0,An=He.la>>4+Sn,Zi=yn.la>>4+Sn,Tn=0;2>Tn;++Tn){for(ea=1&Zi,zi=0;2>zi;++zi)xr=ea+(1&An),An=An>>1|(ea=0<(xr=hf(ft,tt[2],xr,at.Qc,0,Fe,dn)))<<3,Ut=Ut<<2|(3<xr?3:1<xr?2:Fe[dn+0]!=0),dn+=16;An>>=2,Zi=Zi>>1|ea<<5}Jt|=Ut<<4*Sn,Ui|=An<<4<<Sn,br|=(240&Zi)<<Sn}He.la=Ui,yn.la=br,_t.Hc=nn,_t.Gc=Jt,_t.ia=43690&Jt?0:at.ia,tt=!(nn|Jt)}if(0<we.L&&(we.wa[we.Y+we.ja]=we.gd[Oe.$b][Oe.Za],we.wa[we.Y+we.ja].La|=!tt),Re.Ka)return Cn(xe,7,"Premature end-of-file encountered.")}if(Gd(xe),we=ze,Re=1,Oe=(ve=xe).D,He=0<ve.L&&ve.M>=ve.zb&&ve.M<=ve.Va,ve.Aa==0)e:{if(Oe.M=ve.M,Oe.uc=He,rf(ve,Oe),Re=1,Oe=(Ut=ve.D).Nb,He=(Jt=Up[ve.L])*ve.R,ft=Jt/2*ve.B,Tn=16*Oe*ve.R,zi=8*Oe*ve.B,tt=ve.sa,_t=ve.ta-He+Tn,at=ve.qa,Fe=ve.ra-ft+zi,dn=ve.Ha,yn=ve.Ia-ft+zi,Zi=(An=Ut.M)==0,nn=An>=ve.Va-1,ve.Aa==2&&rf(ve,Ut),Ut.uc)for(ea=(xr=ve).D.M,t(xr.D.uc),Ut=xr.yb;Ut<xr.Hb;++Ut){br=Ut,Ui=ea;var Mr=(Jr=(ur=xr).D).Nb;Sn=ur.R;var Jr=Jr.wa[Jr.Y+br],ki=ur.sa,Ia=ur.ta+16*Mr*Sn+16*br,Eo=Jr.dd,Ur=Jr.tc;if(Ur!=0)if(t(3<=Ur),ur.L==1)0<br&&Ls(ki,Ia,Sn,Ur+4),Jr.La&&_a(ki,Ia,Sn,Ur),0<Ui&&Ql(ki,Ia,Sn,Ur+4),Jr.La&&df(ki,Ia,Sn,Ur);else{var Ko=ur.B,ql=ur.qa,lc=ur.ra+8*Mr*Ko+8*br,Ms=ur.Ha,ur=ur.Ia+8*Mr*Ko+8*br;Mr=Jr.ld,0<br&&(Pp(ki,Ia,Sn,Ur+4,Eo,Mr),zl(ql,lc,Ms,ur,Ko,Ur+4,Eo,Mr)),Jr.La&&(Ds(ki,Ia,Sn,Ur,Eo,Mr),oc(ql,lc,Ms,ur,Ko,Ur,Eo,Mr)),0<Ui&&(ac(ki,Ia,Sn,Ur+4,Eo,Mr),cf(ql,lc,Ms,ur,Ko,Ur+4,Eo,Mr)),Jr.La&&(Hl(ki,Ia,Sn,Ur,Eo,Mr),Gl(ql,lc,Ms,ur,Ko,Ur,Eo,Mr))}}if(ve.ia&&alert("todo:DitherRow"),we.put!=null){if(Ut=16*An,An=16*(An+1),Zi?(we.y=ve.sa,we.O=ve.ta+Tn,we.f=ve.qa,we.N=ve.ra+zi,we.ea=ve.Ha,we.W=ve.Ia+zi):(Ut-=Jt,we.y=tt,we.O=_t,we.f=at,we.N=Fe,we.ea=dn,we.W=yn),nn||(An-=Jt),An>we.o&&(An=we.o),we.F=null,we.J=null,ve.Fa!=null&&0<ve.Fa.length&&Ut<An&&(we.J=tf(ve,we,Ut,An-Ut),we.F=ve.mb,we.F==null&&we.F.length==0)){Re=Cn(ve,3,"Could not decode alpha data.");break e}Ut<we.j&&(Jt=we.j-Ut,Ut=we.j,t(!(1&Jt)),we.O+=ve.R*Jt,we.N+=ve.B*(Jt>>1),we.W+=ve.B*(Jt>>1),we.F!=null&&(we.J+=we.width*Jt)),Ut<An&&(we.O+=we.v,we.N+=we.v>>1,we.W+=we.v>>1,we.F!=null&&(we.J+=we.v),we.ka=Ut-we.j,we.U=we.va-we.v,we.T=An-Ut,Re=we.put(we))}Oe+1!=ve.Ic||nn||(r(ve.sa,ve.ta-He,tt,_t+16*ve.R,He),r(ve.qa,ve.ra-ft,at,Fe+8*ve.B,ft),r(ve.Ha,ve.Ia-ft,dn,yn+8*ve.B,ft))}if(!Re)return Cn(xe,6,"Output aborted.")}return 1}(m,E)),E.bc!=null&&E.bc(E),P&=1}return P?(m.cb=0,P):0}function Ga(m,E,P,F,q){q=m[E+P+32*F]+(q>>3),m[E+P+32*F]=-256&q?0>q?0:255:q}function Qu(m,E,P,F,q,Y){Ga(m,E,0,P,F+q),Ga(m,E,1,P,F+Y),Ga(m,E,2,P,F-Y),Ga(m,E,3,P,F-q)}function Ri(m){return(20091*m>>16)+m}function Qd(m,E,P,F){var q,Y=0,X=a(16);for(q=0;4>q;++q){var ne=m[E+0]+m[E+8],re=m[E+0]-m[E+8],se=(35468*m[E+4]>>16)-Ri(m[E+12]),me=Ri(m[E+4])+(35468*m[E+12]>>16);X[Y+0]=ne+me,X[Y+1]=re+se,X[Y+2]=re-se,X[Y+3]=ne-me,Y+=4,E++}for(q=Y=0;4>q;++q)ne=(m=X[Y+0]+4)+X[Y+8],re=m-X[Y+8],se=(35468*X[Y+4]>>16)-Ri(X[Y+12]),Ga(P,F,0,0,ne+(me=Ri(X[Y+4])+(35468*X[Y+12]>>16))),Ga(P,F,1,0,re+se),Ga(P,F,2,0,re-se),Ga(P,F,3,0,ne-me),Y++,F+=32}function hp(m,E,P,F){var q=m[E+0]+4,Y=35468*m[E+4]>>16,X=Ri(m[E+4]),ne=35468*m[E+1]>>16;Qu(P,F,0,q+X,m=Ri(m[E+1]),ne),Qu(P,F,1,q+Y,m,ne),Qu(P,F,2,q-Y,m,ne),Qu(P,F,3,q-X,m,ne)}function y1(m,E,P,F,q){Qd(m,E,P,F),q&&Qd(m,E+16,P,F+4)}function pp(m,E,P,F){$o(m,E+0,P,F,1),$o(m,E+32,P,F+128,1)}function A1(m,E,P,F){var q;for(m=m[E+0]+4,q=0;4>q;++q)for(E=0;4>E;++E)Ga(P,F,E,q,m)}function gp(m,E,P,F){m[E+0]&&Ei(m,E+0,P,F),m[E+16]&&Ei(m,E+16,P,F+4),m[E+32]&&Ei(m,E+32,P,F+128),m[E+48]&&Ei(m,E+48,P,F+128+4)}function w1(m,E,P,F){var q,Y=a(16);for(q=0;4>q;++q){var X=m[E+0+q]+m[E+12+q],ne=m[E+4+q]+m[E+8+q],re=m[E+4+q]-m[E+8+q],se=m[E+0+q]-m[E+12+q];Y[0+q]=X+ne,Y[8+q]=X-ne,Y[4+q]=se+re,Y[12+q]=se-re}for(q=0;4>q;++q)X=(m=Y[0+4*q]+3)+Y[3+4*q],ne=Y[1+4*q]+Y[2+4*q],re=Y[1+4*q]-Y[2+4*q],se=m-Y[3+4*q],P[F+0]=X+ne>>3,P[F+16]=se+re>>3,P[F+32]=X-ne>>3,P[F+48]=se-re>>3,F+=64}function qd(m,E,P){var F,q=E-32,Y=Xi,X=255-m[q-1];for(F=0;F<P;++F){var ne,re=Y,se=X+m[E-1];for(ne=0;ne<P;++ne)m[E+ne]=re[se+m[q+ne]];E+=32}}function b1(m,E){qd(m,E,4)}function x1(m,E){qd(m,E,8)}function E1(m,E){qd(m,E,16)}function Ho(m,E){var P;for(P=0;16>P;++P)r(m,E+32*P,m,E-32,16)}function qu(m,E){var P;for(P=16;0<P;--P)i(m,E,m[E-1],16),E+=32}function $u(m,E,P){var F;for(F=0;16>F;++F)i(E,P+32*F,m,16)}function mp(m,E){var P,F=16;for(P=0;16>P;++P)F+=m[E-1+32*P]+m[E+P-32];$u(F>>5,m,E)}function oi(m,E){var P,F=8;for(P=0;16>P;++P)F+=m[E-1+32*P];$u(F>>4,m,E)}function k1(m,E){var P,F=8;for(P=0;16>P;++P)F+=m[E+P-32];$u(F>>4,m,E)}function vp(m,E){$u(128,m,E)}function jt(m,E,P){return m+2*E+P+2>>2}function _1(m,E){var P,F=E-32;for(F=new Uint8Array([jt(m[F-1],m[F+0],m[F+1]),jt(m[F+0],m[F+1],m[F+2]),jt(m[F+1],m[F+2],m[F+3]),jt(m[F+2],m[F+3],m[F+4])]),P=0;4>P;++P)r(m,E+32*P,F,0,F.length)}function C1(m,E){var P=m[E-1],F=m[E-1+32],q=m[E-1+64],Y=m[E-1+96];de(m,E+0,16843009*jt(m[E-1-32],P,F)),de(m,E+32,16843009*jt(P,F,q)),de(m,E+64,16843009*jt(F,q,Y)),de(m,E+96,16843009*jt(q,Y,Y))}function wo(m,E){var P,F=4;for(P=0;4>P;++P)F+=m[E+P-32]+m[E-1+32*P];for(F>>=3,P=0;4>P;++P)i(m,E+32*P,F,4)}function yp(m,E){var P=m[E-1+0],F=m[E-1+32],q=m[E-1+64],Y=m[E-1-32],X=m[E+0-32],ne=m[E+1-32],re=m[E+2-32],se=m[E+3-32];m[E+0+96]=jt(F,q,m[E-1+96]),m[E+1+96]=m[E+0+64]=jt(P,F,q),m[E+2+96]=m[E+1+64]=m[E+0+32]=jt(Y,P,F),m[E+3+96]=m[E+2+64]=m[E+1+32]=m[E+0+0]=jt(X,Y,P),m[E+3+64]=m[E+2+32]=m[E+1+0]=jt(ne,X,Y),m[E+3+32]=m[E+2+0]=jt(re,ne,X),m[E+3+0]=jt(se,re,ne)}function Ap(m,E){var P=m[E+1-32],F=m[E+2-32],q=m[E+3-32],Y=m[E+4-32],X=m[E+5-32],ne=m[E+6-32],re=m[E+7-32];m[E+0+0]=jt(m[E+0-32],P,F),m[E+1+0]=m[E+0+32]=jt(P,F,q),m[E+2+0]=m[E+1+32]=m[E+0+64]=jt(F,q,Y),m[E+3+0]=m[E+2+32]=m[E+1+64]=m[E+0+96]=jt(q,Y,X),m[E+3+32]=m[E+2+64]=m[E+1+96]=jt(Y,X,ne),m[E+3+64]=m[E+2+96]=jt(X,ne,re),m[E+3+96]=jt(ne,re,re)}function Vu(m,E){var P=m[E-1+0],F=m[E-1+32],q=m[E-1+64],Y=m[E-1-32],X=m[E+0-32],ne=m[E+1-32],re=m[E+2-32],se=m[E+3-32];m[E+0+0]=m[E+1+64]=Y+X+1>>1,m[E+1+0]=m[E+2+64]=X+ne+1>>1,m[E+2+0]=m[E+3+64]=ne+re+1>>1,m[E+3+0]=re+se+1>>1,m[E+0+96]=jt(q,F,P),m[E+0+64]=jt(F,P,Y),m[E+0+32]=m[E+1+96]=jt(P,Y,X),m[E+1+32]=m[E+2+96]=jt(Y,X,ne),m[E+2+32]=m[E+3+96]=jt(X,ne,re),m[E+3+32]=jt(ne,re,se)}function $d(m,E){var P=m[E+0-32],F=m[E+1-32],q=m[E+2-32],Y=m[E+3-32],X=m[E+4-32],ne=m[E+5-32],re=m[E+6-32],se=m[E+7-32];m[E+0+0]=P+F+1>>1,m[E+1+0]=m[E+0+64]=F+q+1>>1,m[E+2+0]=m[E+1+64]=q+Y+1>>1,m[E+3+0]=m[E+2+64]=Y+X+1>>1,m[E+0+32]=jt(P,F,q),m[E+1+32]=m[E+0+96]=jt(F,q,Y),m[E+2+32]=m[E+1+96]=jt(q,Y,X),m[E+3+32]=m[E+2+96]=jt(Y,X,ne),m[E+3+64]=jt(X,ne,re),m[E+3+96]=jt(ne,re,se)}function S1(m,E){var P=m[E-1+0],F=m[E-1+32],q=m[E-1+64],Y=m[E-1+96];m[E+0+0]=P+F+1>>1,m[E+2+0]=m[E+0+32]=F+q+1>>1,m[E+2+32]=m[E+0+64]=q+Y+1>>1,m[E+1+0]=jt(P,F,q),m[E+3+0]=m[E+1+32]=jt(F,q,Y),m[E+3+32]=m[E+1+64]=jt(q,Y,Y),m[E+3+64]=m[E+2+64]=m[E+0+96]=m[E+1+96]=m[E+2+96]=m[E+3+96]=Y}function N1(m,E){var P=m[E-1+0],F=m[E-1+32],q=m[E-1+64],Y=m[E-1+96],X=m[E-1-32],ne=m[E+0-32],re=m[E+1-32],se=m[E+2-32];m[E+0+0]=m[E+2+32]=P+X+1>>1,m[E+0+32]=m[E+2+64]=F+P+1>>1,m[E+0+64]=m[E+2+96]=q+F+1>>1,m[E+0+96]=Y+q+1>>1,m[E+3+0]=jt(ne,re,se),m[E+2+0]=jt(X,ne,re),m[E+1+0]=m[E+3+32]=jt(P,X,ne),m[E+1+32]=m[E+3+64]=jt(F,P,X),m[E+1+64]=m[E+3+96]=jt(q,F,P),m[E+1+96]=jt(Y,q,F)}function I1(m,E){var P;for(P=0;8>P;++P)r(m,E+32*P,m,E-32,8)}function Vd(m,E){var P;for(P=0;8>P;++P)i(m,E,m[E-1],8),E+=32}function Ll(m,E,P){var F;for(F=0;8>F;++F)i(E,P+32*F,m,8)}function Ps(m,E){var P,F=8;for(P=0;8>P;++P)F+=m[E+P-32]+m[E-1+32*P];Ll(F>>4,m,E)}function P1(m,E){var P,F=4;for(P=0;8>P;++P)F+=m[E+P-32];Ll(F>>3,m,E)}function Rl(m,E){var P,F=4;for(P=0;8>P;++P)F+=m[E-1+32*P];Ll(F>>3,m,E)}function Wd(m,E){Ll(128,m,E)}function Wu(m,E,P){var F=m[E-P],q=m[E+0],Y=3*(q-F)+L1[1020+m[E-2*P]-m[E+P]],X=Tp[112+(Y+4>>3)];m[E-P]=Xi[255+F+Tp[112+(Y+3>>3)]],m[E+0]=Xi[255+q-X]}function wp(m,E,P,F){var q=m[E+0],Y=m[E+P];return Sa[255+m[E-2*P]-m[E-P]]>F||Sa[255+Y-q]>F}function bp(m,E,P,F){return 4*Sa[255+m[E-P]-m[E+0]]+Sa[255+m[E-2*P]-m[E+P]]<=F}function xp(m,E,P,F,q){var Y=m[E-3*P],X=m[E-2*P],ne=m[E-P],re=m[E+0],se=m[E+P],me=m[E+2*P],Se=m[E+3*P];return 4*Sa[255+ne-re]+Sa[255+X-se]>F?0:Sa[255+m[E-4*P]-Y]<=q&&Sa[255+Y-X]<=q&&Sa[255+X-ne]<=q&&Sa[255+Se-me]<=q&&Sa[255+me-se]<=q&&Sa[255+se-re]<=q}function Ep(m,E,P,F){var q=2*F+1;for(F=0;16>F;++F)bp(m,E+F,P,q)&&Wu(m,E+F,P)}function bo(m,E,P,F){var q=2*F+1;for(F=0;16>F;++F)bp(m,E+F*P,1,q)&&Wu(m,E+F*P,1)}function Go(m,E,P,F){var q;for(q=3;0<q;--q)Ep(m,E+=4*P,P,F)}function B1(m,E,P,F){var q;for(q=3;0<q;--q)bo(m,E+=4,P,F)}function Bs(m,E,P,F,q,Y,X,ne){for(Y=2*Y+1;0<q--;){if(xp(m,E,P,Y,X))if(wp(m,E,P,ne))Wu(m,E,P);else{var re=m,se=E,me=P,Se=re[se-2*me],Ne=re[se-me],xe=re[se+0],ze=re[se+me],Oe=re[se+2*me],ve=27*(Re=L1[1020+3*(xe-Ne)+L1[1020+Se-ze]])+63>>7,we=18*Re+63>>7,Re=9*Re+63>>7;re[se-3*me]=Xi[255+re[se-3*me]+Re],re[se-2*me]=Xi[255+Se+we],re[se-me]=Xi[255+Ne+ve],re[se+0]=Xi[255+xe-ve],re[se+me]=Xi[255+ze-we],re[se+2*me]=Xi[255+Oe-Re]}E+=F}}function Qa(m,E,P,F,q,Y,X,ne){for(Y=2*Y+1;0<q--;){if(xp(m,E,P,Y,X))if(wp(m,E,P,ne))Wu(m,E,P);else{var re=m,se=E,me=P,Se=re[se-me],Ne=re[se+0],xe=re[se+me],ze=Tp[112+((Oe=3*(Ne-Se))+4>>3)],Oe=Tp[112+(Oe+3>>3)],ve=ze+1>>1;re[se-2*me]=Xi[255+re[se-2*me]+ve],re[se-me]=Xi[255+Se+Oe],re[se+0]=Xi[255+Ne-ze],re[se+me]=Xi[255+xe-ve]}E+=F}}function Kd(m,E,P,F,q,Y){Bs(m,E,P,1,16,F,q,Y)}function Fl(m,E,P,F,q,Y){Bs(m,E,1,P,16,F,q,Y)}function T1(m,E,P,F,q,Y){var X;for(X=3;0<X;--X)Qa(m,E+=4*P,P,1,16,F,q,Y)}function Ku(m,E,P,F,q,Y){var X;for(X=3;0<X;--X)Qa(m,E+=4,1,P,16,F,q,Y)}function O1(m,E,P,F,q,Y,X,ne){Bs(m,E,q,1,8,Y,X,ne),Bs(P,F,q,1,8,Y,X,ne)}function Yd(m,E,P,F,q,Y,X,ne){Bs(m,E,1,q,8,Y,X,ne),Bs(P,F,1,q,8,Y,X,ne)}function Jd(m,E,P,F,q,Y,X,ne){Qa(m,E+4*q,q,1,8,Y,X,ne),Qa(P,F+4*q,q,1,8,Y,X,ne)}function kp(m,E,P,F,q,Y,X,ne){Qa(m,E+4,1,q,8,Y,X,ne),Qa(P,F+4,1,q,8,Y,X,ne)}function Yu(){this.ba=new er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Zd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _p(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new _}function j1(){this.xb=this.a=0,this.l=new xa,this.ca=new er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _p,this.ab=0,this.gc=o(4,Zd),this.Oc=0}function Ju(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ml(m,E,P,F,q,Y,X){for(m=m==null?0:m[E+0],E=0;E<X;++E)q[Y+E]=m+P[F+E]&255,m=q[Y+E]}function ef(m,E,P,F,q,Y,X){var ne;if(m==null)Ml(null,null,P,F,q,Y,X);else for(ne=0;ne<X;++ne)q[Y+ne]=m[E+ne]+P[F+ne]&255}function Ts(m,E,P,F,q,Y,X){if(m==null)Ml(null,null,P,F,q,Y,X);else{var ne,re=m[E+0],se=re,me=re;for(ne=0;ne<X;++ne)se=me+(re=m[E+ne])-se,me=P[F+ne]+(-256&se?0>se?0:255:se)&255,se=re,q[Y+ne]=me}}function tf(m,E,P,F){var q=E.width,Y=E.o;if(t(m!=null&&E!=null),0>P||0>=F||P+F>Y)return null;if(!m.Cc){if(m.ga==null){var X;if(m.ga=new Ju,(X=m.ga==null)||(X=E.width*E.o,t(m.Gb.length==0),m.Gb=a(X),m.Uc=0,m.Gb==null?X=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,X=1),X=!X),!X){X=m.ga;var ne=m.Fa,re=m.P,se=m.qc,me=m.mb,Se=m.nb,Ne=re+1,xe=se-1,ze=X.l;if(t(ne!=null&&me!=null&&E!=null),Fs[0]=null,Fs[1]=Ml,Fs[2]=ef,Fs[3]=Ts,X.ca=me,X.tb=Se,X.c=E.width,X.i=E.height,t(0<X.c&&0<X.i),1>=se)E=0;else if(X.$a=ne[re+0]>>0&3,X.Z=ne[re+0]>>2&3,X.Lc=ne[re+0]>>4&3,re=ne[re+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||re)E=0;else if(ze.put=Kr,ze.ac=vn,ze.bc=wi,ze.ma=X,ze.width=E.width,ze.height=E.height,ze.Da=E.Da,ze.v=E.v,ze.va=E.va,ze.j=E.j,ze.o=E.o,X.$a)e:{t(X.$a==1),E=St();t:for(;;){if(E==null){E=0;break e}if(t(X!=null),X.mc=E,E.c=X.c,E.i=X.i,E.l=X.l,E.l.ma=X,E.l.width=X.c,E.l.height=X.i,E.a=0,K(E.m,ne,Ne,xe),!un(X.c,X.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&it(E.s)?(X.ic=1,ne=E.c*E.i,E.Ta=null,E.Ua=0,E.V=a(ne),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(X.ic=0,E=Yt(E,X.c)),!E))break t;E=1;break e}X.mc=null,E=0}else E=xe>=X.c*X.i;X=!E}if(X)return null;m.ga.Lc!=1?m.Ga=0:F=Y-P}t(m.ga!=null),t(P+F<=Y);e:{if(E=(ne=m.ga).c,Y=ne.l.o,ne.$a==0){if(Ne=m.rc,xe=m.Vc,ze=m.Fa,re=m.P+1+P*E,se=m.mb,me=m.nb+P*E,t(re<=m.P+m.qc),ne.Z!=0)for(t(Fs[ne.Z]!=null),X=0;X<F;++X)Fs[ne.Z](Ne,xe,ze,re,se,me,E),Ne=se,xe=me,me+=E,re+=E;else for(X=0;X<F;++X)r(se,me,ze,re,E),Ne=se,xe=me,me+=E,re+=E;m.rc=Ne,m.Vc=xe}else{if(t(ne.mc!=null),E=P+F,t((X=ne.mc)!=null),t(E<=X.i),X.C>=E)E=1;else if(ne.ic||_e(),ne.ic){ne=X.V,Ne=X.Ba,xe=X.c;var Oe=X.i,ve=(ze=1,re=X.$/xe,se=X.$%xe,me=X.m,Se=X.s,X.$),we=xe*Oe,Re=xe*E,He=Se.wc,Fe=ve<Re?Ge(Se,se,re):null;t(ve<=we),t(E<=Oe),t(it(Se));t:for(;;){for(;!me.h&&ve<Re;){if(se&He||(Fe=Ge(Se,se,re)),t(Fe!=null),M(me),256>(Oe=Ie(Fe.G[0],Fe.H[0],me)))ne[Ne+ve]=Oe,++ve,++se>=xe&&(se=0,++re<=E&&!(re%16)&&Ye(X,re));else{if(!(280>Oe)){ze=0;break t}Oe=fe(Oe-256,me);var ft,tt=Ie(Fe.G[4],Fe.H[4],me);if(M(me),!(ve>=(tt=be(xe,tt=fe(tt,me)))&&we-ve>=Oe)){ze=0;break t}for(ft=0;ft<Oe;++ft)ne[Ne+ve+ft]=ne[Ne+ve+ft-tt];for(ve+=Oe,se+=Oe;se>=xe;)se-=xe,++re<=E&&!(re%16)&&Ye(X,re);ve<Re&&se&He&&(Fe=Ge(Se,se,re))}t(me.h==H(me))}Ye(X,re>E?E:re);break t}!ze||me.h&&ve<we?(ze=0,X.a=me.h?5:3):X.$=ve,E=ze}else E=lt(X,X.V,X.Ba,X.c,X.i,E,$e);if(!E){F=0;break e}}P+F>=Y&&(m.Cc=1),F=1}if(!F)return null;if(m.Cc&&((F=m.ga)!=null&&(F.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+P*q}function S(m,E,P,F,q,Y){for(;0<q--;){var X,ne=m,re=E+(P?1:0),se=m,me=E+(P?0:3);for(X=0;X<F;++X){var Se=se[me+4*X];Se!=255&&(Se*=32897,ne[re+4*X+0]=ne[re+4*X+0]*Se>>23,ne[re+4*X+1]=ne[re+4*X+1]*Se>>23,ne[re+4*X+2]=ne[re+4*X+2]*Se>>23)}E+=Y}}function $(m,E,P,F,q){for(;0<F--;){var Y;for(Y=0;Y<P;++Y){var X=m[E+2*Y+0],ne=15&(se=m[E+2*Y+1]),re=4369*ne,se=(240&se|se>>4)*re>>16;m[E+2*Y+0]=(240&X|X>>4)*re>>16&240|(15&X|X<<4)*re>>16>>4&15,m[E+2*Y+1]=240&se|ne}E+=q}}function le(m,E,P,F,q,Y,X,ne){var re,se,me=255;for(se=0;se<q;++se){for(re=0;re<F;++re){var Se=m[E+re];Y[X+4*re]=Se,me&=Se}E+=P,X+=ne}return me!=255}function pe(m,E,P,F,q){var Y;for(Y=0;Y<q;++Y)P[F+Y]=m[E+Y]>>8}function _e(){Ca=S,jn=$,Dn=le,pr=pe}function De(m,E,P){I[m]=function(F,q,Y,X,ne,re,se,me,Se,Ne,xe,ze,Oe,ve,we,Re,He){var Fe,ft=He-1>>1,tt=ne[re+0]|se[me+0]<<16,_t=Se[Ne+0]|xe[ze+0]<<16;t(F!=null);var at=3*tt+_t+131074>>2;for(E(F[q+0],255&at,at>>16,Oe,ve),Y!=null&&(at=3*_t+tt+131074>>2,E(Y[X+0],255&at,at>>16,we,Re)),Fe=1;Fe<=ft;++Fe){var dn=ne[re+Fe]|se[me+Fe]<<16,yn=Se[Ne+Fe]|xe[ze+Fe]<<16,nn=tt+dn+_t+yn+524296,Jt=nn+2*(dn+_t)>>3;at=Jt+tt>>1,tt=(nn=nn+2*(tt+yn)>>3)+dn>>1,E(F[q+2*Fe-1],255&at,at>>16,Oe,ve+(2*Fe-1)*P),E(F[q+2*Fe-0],255&tt,tt>>16,Oe,ve+(2*Fe-0)*P),Y!=null&&(at=nn+_t>>1,tt=Jt+yn>>1,E(Y[X+2*Fe-1],255&at,at>>16,we,Re+(2*Fe-1)*P),E(Y[X+2*Fe+0],255&tt,tt>>16,we,Re+(2*Fe+0)*P)),tt=dn,_t=yn}1&He||(at=3*tt+_t+131074>>2,E(F[q+He-1],255&at,at>>16,Oe,ve+(He-1)*P),Y!=null&&(at=3*_t+tt+131074>>2,E(Y[X+He-1],255&at,at>>16,we,Re+(He-1)*P)))}}function qe(){Na[Op]=wT,Na[jp]=n5,Na[Jb]=bT,Na[Dp]=r5,Na[Lp]=i5,Na[R1]=a5,Na[Xb]=xT,Na[F1]=n5,Na[M1]=r5,Na[Rp]=i5,Na[U1]=a5}function ct(m){return m&-16384?0>m?0:255:m>>ET}function xt(m,E){return ct((19077*m>>8)+(26149*E>>8)-14234)}function Mt(m,E,P){return ct((19077*m>>8)-(6419*E>>8)-(13320*P>>8)+8708)}function Lt(m,E){return ct((19077*m>>8)+(33050*E>>8)-17685)}function tn(m,E,P,F,q){F[q+0]=xt(m,P),F[q+1]=Mt(m,E,P),F[q+2]=Lt(m,E)}function tr(m,E,P,F,q){F[q+0]=Lt(m,E),F[q+1]=Mt(m,E,P),F[q+2]=xt(m,P)}function lr(m,E,P,F,q){var Y=Mt(m,E,P);E=Y<<3&224|Lt(m,E)>>3,F[q+0]=248&xt(m,P)|Y>>5,F[q+1]=E}function wr(m,E,P,F,q){var Y=240&Lt(m,E)|15;F[q+0]=240&xt(m,P)|Mt(m,E,P)>>4,F[q+1]=Y}function si(m,E,P,F,q){F[q+0]=255,tn(m,E,P,F,q+1)}function Fr(m,E,P,F,q){tr(m,E,P,F,q),F[q+3]=255}function qa(m,E,P,F,q){tn(m,E,P,F,q),F[q+3]=255}function Ji(m,E){return 0>m?0:m>E?E:m}function xo(m,E,P){I[m]=function(F,q,Y,X,ne,re,se,me,Se){for(var Ne=me+(-2&Se)*P;me!=Ne;)E(F[q+0],Y[X+0],ne[re+0],se,me),E(F[q+1],Y[X+0],ne[re+0],se,me+P),q+=2,++X,++re,me+=2*P;1&Se&&E(F[q+0],Y[X+0],ne[re+0],se,me)}}function Cp(m,E,P){return P==0?m==0?E==0?6:5:E==0?4:0:P}function nf(m,E,P,F,q){switch(m>>>30){case 3:$o(E,P,F,q,0);break;case 2:hr(E,P,F,q);break;case 1:Ei(E,P,F,q)}}function rf(m,E){var P,F,q=E.M,Y=E.Nb,X=m.oc,ne=m.pc+40,re=m.oc,se=m.pc+584,me=m.oc,Se=m.pc+600;for(P=0;16>P;++P)X[ne+32*P-1]=129;for(P=0;8>P;++P)re[se+32*P-1]=129,me[Se+32*P-1]=129;for(0<q?X[ne-1-32]=re[se-1-32]=me[Se-1-32]=129:(i(X,ne-32-1,127,21),i(re,se-32-1,127,9),i(me,Se-32-1,127,9)),F=0;F<m.za;++F){var Ne=E.ya[E.aa+F];if(0<F){for(P=-1;16>P;++P)r(X,ne+32*P-4,X,ne+32*P+12,4);for(P=-1;8>P;++P)r(re,se+32*P-4,re,se+32*P+4,4),r(me,Se+32*P-4,me,Se+32*P+4,4)}var xe=m.Gd,ze=m.Hd+F,Oe=Ne.ad,ve=Ne.Hc;if(0<q&&(r(X,ne-32,xe[ze].y,0,16),r(re,se-32,xe[ze].f,0,8),r(me,Se-32,xe[ze].ea,0,8)),Ne.Za){var we=X,Re=ne-32+16;for(0<q&&(F>=m.za-1?i(we,Re,xe[ze].y[15],4):r(we,Re,xe[ze+1].y,0,4)),P=0;4>P;P++)we[Re+128+P]=we[Re+256+P]=we[Re+384+P]=we[Re+0+P];for(P=0;16>P;++P,ve<<=2)we=X,Re=ne+s5[P],$a[Ne.Ob[P]](we,Re),nf(ve,Oe,16*+P,we,Re)}else if(we=Cp(F,q,Ne.Ob[0]),Rs[we](X,ne),ve!=0)for(P=0;16>P;++P,ve<<=2)nf(ve,Oe,16*+P,X,ne+s5[P]);for(P=Ne.Gc,we=Cp(F,q,Ne.Dd),Wo[we](re,se),Wo[we](me,Se),ve=Oe,we=re,Re=se,255&(Ne=P>>0)&&(170&Ne?uf(ve,256,we,Re):ka(ve,256,we,Re)),Ne=me,ve=Se,255&(P>>=8)&&(170&P?uf(Oe,320,Ne,ve):ka(Oe,320,Ne,ve)),q<m.Ub-1&&(r(xe[ze].y,0,X,ne+480,16),r(xe[ze].f,0,re,se+224,8),r(xe[ze].ea,0,me,Se+224,8)),P=8*Y*m.B,xe=m.sa,ze=m.ta+16*F+16*Y*m.R,Oe=m.qa,Ne=m.ra+8*F+P,ve=m.Ha,we=m.Ia+8*F+P,P=0;16>P;++P)r(xe,ze+P*m.R,X,ne+32*P,16);for(P=0;8>P;++P)r(Oe,Ne+P*m.B,re,se+32*P,8),r(ve,we+P*m.B,me,Se+32*P,8)}}function Xu(m,E,P,F,q,Y,X,ne,re){var se=[0],me=[0],Se=0,Ne=re!=null?re.kd:0,xe=re??new Xd;if(m==null||12>P)return 7;xe.data=m,xe.w=E,xe.ha=P,E=[E],P=[P],xe.gb=[xe.gb];e:{var ze=E,Oe=P,ve=xe.gb;if(t(m!=null),t(Oe!=null),t(ve!=null),ve[0]=0,12<=Oe[0]&&!n(m,ze[0],"RIFF")){if(n(m,ze[0]+8,"WEBP")){ve=3;break e}var we=Pe(m,ze[0]+4);if(12>we||4294967286<we){ve=3;break e}if(Ne&&we>Oe[0]-8){ve=7;break e}ve[0]=we,ze[0]+=12,Oe[0]-=12}ve=0}if(ve!=0)return ve;for(we=0<xe.gb[0],P=P[0];;){e:{var Re=m;Oe=E,ve=P;var He=se,Fe=me,ft=ze=[0];if((at=Se=[Se])[0]=0,8>ve[0])ve=7;else{if(!n(Re,Oe[0],"VP8X")){if(Pe(Re,Oe[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var tt=Pe(Re,Oe[0]+8),_t=1+Ce(Re,Oe[0]+12);if(2147483648<=_t*(Re=1+Ce(Re,Oe[0]+15))){ve=3;break e}ft!=null&&(ft[0]=tt),He!=null&&(He[0]=_t),Fe!=null&&(Fe[0]=Re),Oe[0]+=18,ve[0]-=18,at[0]=1}ve=0}}if(Se=Se[0],ze=ze[0],ve!=0)return ve;if(Oe=!!(2&ze),!we&&Se)return 3;if(Y!=null&&(Y[0]=!!(16&ze)),X!=null&&(X[0]=Oe),ne!=null&&(ne[0]=0),X=se[0],ze=me[0],Se&&Oe&&re==null){ve=0;break}if(4>P){ve=7;break}if(we&&Se||!we&&!Se&&!n(m,E[0],"ALPH")){P=[P],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{tt=m,ve=E,we=P;var at=xe.gb;He=xe.na,Fe=xe.P,ft=xe.Sa,_t=22,t(tt!=null),t(we!=null),Re=ve[0];var dn=we[0];for(t(He!=null),t(ft!=null),He[0]=null,Fe[0]=null,ft[0]=0;;){if(ve[0]=Re,we[0]=dn,8>dn){ve=7;break e}var yn=Pe(tt,Re+4);if(4294967286<yn){ve=3;break e}var nn=8+yn+1&-2;if(_t+=nn,0<at&&_t>at){ve=3;break e}if(!n(tt,Re,"VP8 ")||!n(tt,Re,"VP8L")){ve=0;break e}if(dn[0]<nn){ve=7;break e}n(tt,Re,"ALPH")||(He[0]=tt,Fe[0]=Re+8,ft[0]=yn),Re+=nn,dn-=nn}}if(P=P[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],ve!=0)break}P=[P],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(at=m,ve=E,we=P,He=xe.gb[0],Fe=xe.Ja,ft=xe.xa,tt=ve[0],Re=!n(at,tt,"VP8 "),_t=!n(at,tt,"VP8L"),t(at!=null),t(we!=null),t(Fe!=null),t(ft!=null),8>we[0])ve=7;else{if(Re||_t){if(at=Pe(at,tt+4),12<=He&&at>He-12){ve=3;break e}if(Ne&&at>we[0]-8){ve=7;break e}Fe[0]=at,ve[0]+=8,we[0]-=8,ft[0]=_t}else ft[0]=5<=we[0]&&at[tt+0]==47&&!(at[tt+4]>>5),Fe[0]=we[0];ve=0}if(P=P[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],E=E[0],ve!=0)break;if(4294967286<xe.Ja)return 3;if(ne==null||Oe||(ne[0]=xe.xa?2:1),X=[X],ze=[ze],xe.xa){if(5>P){ve=7;break}ne=X,Ne=ze,Oe=Y,m==null||5>P?m=0:5<=P&&m[E+0]==47&&!(m[E+4]>>5)?(we=[0],at=[0],He=[0],K(Fe=new B,m,E,P),At(Fe,we,at,He)?(ne!=null&&(ne[0]=we[0]),Ne!=null&&(Ne[0]=at[0]),Oe!=null&&(Oe[0]=He[0]),m=1):m=0):m=0}else{if(10>P){ve=7;break}ne=ze,m==null||10>P||!Dl(m,E+3,P-3)?m=0:(Ne=m[E+0]|m[E+1]<<8|m[E+2]<<16,Oe=16383&(m[E+7]<<8|m[E+6]),m=16383&(m[E+9]<<8|m[E+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=xe.Ja||!Oe||!m?m=0:(X&&(X[0]=Oe),ne&&(ne[0]=m),m=1))}if(!m||(X=X[0],ze=ze[0],Se&&(se[0]!=X||me[0]!=ze)))return 3;re!=null&&(re[0]=xe,re.offset=E-re.w,t(4294967286>E-re.w),t(re.offset==re.ha-P));break}return ve==0||ve==7&&Se&&re==null?(Y!=null&&(Y[0]|=xe.na!=null&&0<xe.na.length),F!=null&&(F[0]=X),q!=null&&(q[0]=ze),0):ve}function af(m,E,P){var F=E.width,q=E.height,Y=0,X=0,ne=F,re=q;if(E.Da=m!=null&&0<m.Da,E.Da&&(ne=m.cd,re=m.bd,Y=m.v,X=m.j,11>P||(Y&=-2,X&=-2),0>Y||0>X||0>=ne||0>=re||Y+ne>F||X+re>q))return 0;if(E.v=Y,E.j=X,E.va=Y+ne,E.o=X+re,E.U=ne,E.T=re,E.da=m!=null&&0<m.da,E.da){if(!Je(ne,re,P=[m.ib],Y=[m.hb]))return 0;E.ib=P[0],E.hb=Y[0]}return E.ob=m!=null&&m.ob,E.Kb=m==null||!m.Sd,E.da&&(E.ob=E.ib<3*F/4&&E.hb<3*q/4,E.Kb=0),1}function of(m){if(m==null)return 2;if(11>m.S){var E=m.f.RGBA;E.fb+=(m.height-1)*E.A,E.A=-E.A}else E=m.f.kb,m=m.height,E.O+=(m-1)*E.fa,E.fa=-E.fa,E.N+=(m-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(m-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(m-1)*E.lb,E.lb=-E.lb);return 0}function Zu(m,E,P,F){if(F==null||0>=m||0>=E)return 2;if(P!=null){if(P.Da){var q=P.cd,Y=P.bd,X=-2&P.v,ne=-2&P.j;if(0>X||0>ne||0>=q||0>=Y||X+q>m||ne+Y>E)return 2;m=q,E=Y}if(P.da){if(!Je(m,E,q=[P.ib],Y=[P.hb]))return 2;m=q[0],E=Y[0]}}F.width=m,F.height=E;e:{var re=F.width,se=F.height;if(m=F.S,0>=re||0>=se||!(m>=Op&&13>m))m=2;else{if(0>=F.Rd&&F.sd==null){X=Y=q=E=0;var me=(ne=re*l5[m])*se;if(11>m||(Y=(se+1)/2*(E=(re+1)/2),m==12&&(X=(q=re)*se)),(se=a(me+2*Y+X))==null){m=1;break e}F.sd=se,11>m?((re=F.f.RGBA).eb=se,re.fb=0,re.A=ne,re.size=me):((re=F.f.kb).y=se,re.O=0,re.fa=ne,re.Fd=me,re.f=se,re.N=0+me,re.Ab=E,re.Cd=Y,re.ea=se,re.W=0+me+Y,re.Db=E,re.Ed=Y,m==12&&(re.F=se,re.J=0+me+2*Y),re.Tc=X,re.lb=q)}if(E=1,q=F.S,Y=F.width,X=F.height,q>=Op&&13>q)if(11>q)m=F.f.RGBA,E&=(ne=Math.abs(m.A))*(X-1)+Y<=m.size,E&=ne>=Y*l5[q],E&=m.eb!=null;else{m=F.f.kb,ne=(Y+1)/2,me=(X+1)/2,re=Math.abs(m.fa),se=Math.abs(m.Ab);var Se=Math.abs(m.Db),Ne=Math.abs(m.lb),xe=Ne*(X-1)+Y;E&=re*(X-1)+Y<=m.Fd,E&=se*(me-1)+ne<=m.Cd,E=(E&=Se*(me-1)+ne<=m.Ed)&re>=Y&se>=ne&Se>=ne,E&=m.y!=null,E&=m.f!=null,E&=m.ea!=null,q==12&&(E&=Ne>=Y,E&=xe<=m.Tc,E&=m.F!=null)}else E=0;m=E?0:2}}return m!=0||P!=null&&P.fd&&(m=of(F)),m}var Yr=64,ec=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],tc=24,nc=32,sf=8,Fi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ge("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(m){return m},I.Predictor2=function(m,E,P){return E[P+0]},I.Predictor3=function(m,E,P){return E[P+1]},I.Predictor4=function(m,E,P){return E[P-1]},I.Predictor5=function(m,E,P){return ae(ae(m,E[P+1]),E[P+0])},I.Predictor6=function(m,E,P){return ae(m,E[P-1])},I.Predictor7=function(m,E,P){return ae(m,E[P+0])},I.Predictor8=function(m,E,P){return ae(E[P-1],E[P+0])},I.Predictor9=function(m,E,P){return ae(E[P+0],E[P+1])},I.Predictor10=function(m,E,P){return ae(ae(m,E[P-1]),ae(E[P+0],E[P+1]))},I.Predictor11=function(m,E,P){var F=E[P+0];return 0>=Be(F>>24&255,m>>24&255,(E=E[P-1])>>24&255)+Be(F>>16&255,m>>16&255,E>>16&255)+Be(F>>8&255,m>>8&255,E>>8&255)+Be(255&F,255&m,255&E)?F:m},I.Predictor12=function(m,E,P){var F=E[P+0];return(ke((m>>24&255)+(F>>24&255)-((E=E[P-1])>>24&255))<<24|ke((m>>16&255)+(F>>16&255)-(E>>16&255))<<16|ke((m>>8&255)+(F>>8&255)-(E>>8&255))<<8|ke((255&m)+(255&F)-(255&E)))>>>0},I.Predictor13=function(m,E,P){var F=E[P-1];return(Te((m=ae(m,E[P+0]))>>24&255,F>>24&255)<<24|Te(m>>16&255,F>>16&255)<<16|Te(m>>8&255,F>>8&255)<<8|Te(m>>0&255,F>>0&255))>>>0};var D1=I.PredictorAdd0;I.PredictorAdd1=Ke,ge("Predictor2","PredictorAdd2"),ge("Predictor3","PredictorAdd3"),ge("Predictor4","PredictorAdd4"),ge("Predictor5","PredictorAdd5"),ge("Predictor6","PredictorAdd6"),ge("Predictor7","PredictorAdd7"),ge("Predictor8","PredictorAdd8"),ge("Predictor9","PredictorAdd9"),ge("Predictor10","PredictorAdd10"),ge("Predictor11","PredictorAdd11"),ge("Predictor12","PredictorAdd12"),ge("Predictor13","PredictorAdd13");var lf=I.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Sp,Ea=I.ColorIndexInverseTransform,rc=I.MapARGB,Np=I.VP8LColorIndexInverseTransformAlpha,Ip=I.MapAlpha,Os=I.VP8LPredictorsAdd=[];Os.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Ul,Mi,xi,js,Qo,qo,ic,$o,hr,uf,Ei,ka,ac,Pp,cf,zl,Hl,Ds,Gl,oc,Ql,Ls,df,_a,Ca,jn,Dn,pr,Br=a(511),Vo=a(2041),ff=a(225),sc=a(767),Bp=0,L1=Vo,Tp=ff,Xi=sc,Sa=Br,Op=0,jp=1,Jb=2,Dp=3,Lp=4,R1=5,Xb=6,F1=7,M1=8,Rp=9,U1=10,oT=[2,3,7],sT=[3,3,11],Zb=[280,256,256,256,40],lT=[0,1,1,1,0],uT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],cT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dT=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fT=8,z1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],H1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hf=null,hT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pT=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],e5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],mT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rs=[],$a=[],Wo=[],AT=1,t5=2,Fs=[],Na=[];De("UpsampleRgbLinePair",tn,3),De("UpsampleBgrLinePair",tr,3),De("UpsampleRgbaLinePair",qa,4),De("UpsampleBgraLinePair",Fr,4),De("UpsampleArgbLinePair",si,4),De("UpsampleRgba4444LinePair",wr,2),De("UpsampleRgb565LinePair",lr,2);var wT=I.UpsampleRgbLinePair,bT=I.UpsampleBgrLinePair,n5=I.UpsampleRgbaLinePair,r5=I.UpsampleBgraLinePair,i5=I.UpsampleArgbLinePair,a5=I.UpsampleRgba4444LinePair,xT=I.UpsampleRgb565LinePair,Fp=16,Mp=1<<Fp-1,pf=-227,G1=482,ET=6,o5=0,kT=a(256),_T=a(256),CT=a(256),ST=a(256),NT=a(G1-pf),IT=a(G1-pf);xo("YuvToRgbRow",tn,3),xo("YuvToBgrRow",tr,3),xo("YuvToRgbaRow",qa,4),xo("YuvToBgraRow",Fr,4),xo("YuvToArgbRow",si,4),xo("YuvToRgba4444Row",wr,2),xo("YuvToRgb565Row",lr,2);var s5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Up=[0,2,8],PT=[8,7,6,4,4,2,2,2,1,1,1,1],BT=1;this.WebPDecodeRGBA=function(m,E,P,F,q){var Y=jp,X=new Yu,ne=new er;X.ba=ne,ne.S=Y,ne.width=[ne.width],ne.height=[ne.height];var re=ne.width,se=ne.height,me=new Rr;if(me==null||m==null)var Se=2;else t(me!=null),Se=Xu(m,E,P,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Se!=0?re=0:(re!=null&&(re[0]=me.width[0]),se!=null&&(se[0]=me.height[0]),re=1),re){ne.width=ne.width[0],ne.height=ne.height[0],F!=null&&(F[0]=ne.width),q!=null&&(q[0]=ne.height);e:{if(F=new xa,(q=new Xd).data=m,q.w=E,q.ha=P,q.kd=1,E=[0],t(q!=null),((m=Xu(q.data,q.w,q.ha,null,null,null,E,null,q))==0||m==7)&&E[0]&&(m=4),(E=m)==0){if(t(X!=null),F.data=q.data,F.w=q.w+q.offset,F.ha=q.ha-q.offset,F.put=Kr,F.ac=vn,F.bc=wi,F.ma=X,q.xa){if((m=St())==null){X=1;break e}if(function(Ne,xe){var ze=[0],Oe=[0],ve=[0];t:for(;;){if(Ne==null)return 0;if(xe==null)return Ne.a=2,0;if(Ne.l=xe,Ne.a=0,K(Ne.m,xe.data,xe.w,xe.ha),!At(Ne.m,ze,Oe,ve)){Ne.a=3;break t}if(Ne.xb=t5,xe.width=ze[0],xe.height=Oe[0],!un(ze[0],Oe[0],1,Ne,null))break t;return 1}return t(Ne.a!=0),0}(m,F)){if(F=(E=Zu(F.width,F.height,X.Oa,X.ba))==0){t:{F=m;n:for(;;){if(F==null){F=0;break t}if(t(F.s.yc!=null),t(F.s.Ya!=null),t(0<F.s.Wb),t((P=F.l)!=null),t((q=P.ma)!=null),F.xb!=0){if(F.ca=q.ba,F.tb=q.tb,t(F.ca!=null),!af(q.Oa,P,Dp)){F.a=2;break n}if(!Yt(F,P.width)||P.da)break n;if((P.da||Ct(F.ca.S))&&_e(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&_e()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!Le(F.s.vb,F.s.Wa.Xa)){F.a=1;break n}F.xb=0}if(!lt(F,F.V,F.Ba,F.c,F.i,P.o,wt))break n;q.Dc=F.Ma,F=1;break t}t(F.a!=0),F=0}F=!F}F&&(E=m.a)}else E=m.a}else{if((m=new Kn)==null){X=1;break e}if(m.Fa=q.na,m.P=q.P,m.qc=q.Sa,Gu(m,F)){if((E=Zu(F.width,F.height,X.Oa,X.ba))==0){if(m.Aa=0,P=X.Oa,t((q=m)!=null),P!=null){if(0<(re=0>(re=P.Md)?0:100<re?255:255*re/100)){for(se=me=0;4>se;++se)12>(Se=q.pb[se]).lc&&(Se.ia=re*PT[0>Se.lc?0:Se.lc]>>3),me|=Se.ia;me&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=P.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}v1(m,F)||(E=m.a)}}else E=m.a}E==0&&X.Oa!=null&&X.Oa.fd&&(E=of(X.ba))}X=E}Y=X!=0?null:11>Y?ne.f.RGBA.eb:ne.f.kb.y}else Y=null;return Y};var l5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,R){for(var T="",k=0;k<4;k++)T+=String.fromCharCode(I[R++]);return T}function c(I,R){return(I[R+0]<<0|I[R+1]<<8|I[R+2]<<16)>>>0}function d(I,R){return(I[R+0]<<0|I[R+1]<<8|I[R+2]<<16|I[R+3]<<24)>>>0}new l;var h=[0],f=[0],v=[],y=new l,A=e,g=function(I,R){var T={},k=0,_=!1,O=0,j=0;if(T.frames=[],!function(L,H,G,M){for(var V=0;V<M;V++)if(L[H+V]!=G.charCodeAt(V))return!0;return!1}(I,R,"RIFF",4)){var z,Z;for(d(I,R+=4),R+=8;R<I.length;){var ee=u(I,R),K=d(I,R+=4);R+=4;var W=K+(1&K);switch(ee){case"VP8 ":case"VP8L":T.frames[k]===void 0&&(T.frames[k]={}),(B=T.frames[k]).src_off=_?j:R-8,B.src_size=O+K+8,k++,_&&(_=!1,O=0,j=0);break;case"VP8X":(B=T.header={}).feature_flags=I[R];var Q=R+4;B.canvas_width=1+c(I,Q),Q+=3,B.canvas_height=1+c(I,Q),Q+=3;break;case"ALPH":_=!0,O=W+8,j=R-8;break;case"ANIM":(B=T.header).bgcolor=d(I,R),Q=R+4,B.loop_count=(z=I)[(Z=Q)+0]<<0|z[Z+1]<<8,Q+=2;break;case"ANMF":var U,B;(B=T.frames[k]={}).offset_x=2*c(I,R),R+=3,B.offset_y=2*c(I,R),R+=3,B.width=1+c(I,R),R+=3,B.height=1+c(I,R),R+=3,B.duration=c(I,R),R+=3,U=I[R++],B.dispose=1&U,B.blend=U>>1&1}ee!="ANMF"&&(R+=W)}return T}}(A,0);g.response=A,g.rgbaoutput=!0,g.dataurl=!1;var p=g.header?g.header:null,w=g.frames?g.frames:null;if(p){p.loop_counter=p.loop_count,h=[p.canvas_height],f=[p.canvas_width];for(var x=0;x<w.length&&w[x].blend!=0;x++);}var C=w[0],D=y.WebPDecodeRGBA(A,C.src_off,C.src_size,f,h);C.rgba=D,C.imgwidth=f[0],C.imgheight=h[0];for(var N=0;N<f[0]*h[0]*4;N++)v[N]=D[N];return this.width=f,this.height=h,this.data=v,this}(function(e){var t=function(){return typeof T2=="function"},n=function(h,f,v,y){var A=4,g=o;switch(y){case e.image_compression.FAST:A=1,g=a;break;case e.image_compression.MEDIUM:A=6,g=s;break;case e.image_compression.SLOW:A=9,g=l}h=r(h,f,v,g);var p=T2(h,{level:A});return e.__addimage__.arrayBufferToBinaryString(p)},r=function(h,f,v,y){for(var A,g,p,w=h.length/f,x=new Uint8Array(h.length+w),C=c(),D=0;D<w;D+=1){if(p=D*f,A=h.subarray(p,p+f),y)x.set(y(A,v,g),p+D);else{for(var N,I=C.length,R=[];N<I;N+=1)R[N]=C[N](A,v,g);var T=d(R.concat());x.set(R[T],p+D)}g=A}return x},i=function(h){var f=Array.apply([],h);return f.unshift(0),f},a=function(h,f){var v,y=[],A=h.length;y[0]=1;for(var g=0;g<A;g+=1)v=h[g-f]||0,y[g+1]=h[g]-v+256&255;return y},o=function(h,f,v){var y,A=[],g=h.length;A[0]=2;for(var p=0;p<g;p+=1)y=v&&v[p]||0,A[p+1]=h[p]-y+256&255;return A},s=function(h,f,v){var y,A,g=[],p=h.length;g[0]=3;for(var w=0;w<p;w+=1)y=h[w-f]||0,A=v&&v[w]||0,g[w+1]=h[w]+256-(y+A>>>1)&255;return g},l=function(h,f,v){var y,A,g,p,w=[],x=h.length;w[0]=4;for(var C=0;C<x;C+=1)y=h[C-f]||0,A=v&&v[C]||0,g=v&&v[C-f]||0,p=u(y,A,g),w[C+1]=h[C]-p+256&255;return w},u=function(h,f,v){if(h===f&&f===v)return h;var y=Math.abs(f-v),A=Math.abs(h-v),g=Math.abs(h+f-v-v);return y<=A&&y<=g?h:A<=g?f:v},c=function(){return[i,a,o,s,l]},d=function(h){var f=h.map(function(v){return v.reduce(function(y,A){return y+Math.abs(A)},0)});return f.indexOf(Math.min.apply(null,f))};e.processPNG=function(h,f,v,y){var A,g,p,w,x,C,D,N,I,R,T,k,_,O,j,z=this.decode.FLATE_DECODE,Z="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(p=new tte(h)).imgData,g=p.bits,A=p.colorSpace,x=p.colors,[4,6].indexOf(p.colorType)!==-1){if(p.bits===8){I=(N=p.pixelBitlength==32?new Uint32Array(p.decodePixels().buffer):p.pixelBitlength==16?new Uint16Array(p.decodePixels().buffer):new Uint8Array(p.decodePixels().buffer)).length,T=new Uint8Array(I*p.colors),R=new Uint8Array(I);var ee,K=p.pixelBitlength-p.bits;for(O=0,j=0;O<I;O++){for(_=N[O],ee=0;ee<K;)T[j++]=_>>>ee&255,ee+=p.bits;R[O]=_>>>ee&255}}if(p.bits===16){I=(N=new Uint32Array(p.decodePixels().buffer)).length,T=new Uint8Array(I*(32/p.pixelBitlength)*p.colors),R=new Uint8Array(I*(32/p.pixelBitlength)),k=p.colors>1,O=0,j=0;for(var W=0;O<I;)_=N[O++],T[j++]=_>>>0&255,k&&(T[j++]=_>>>16&255,_=N[O++],T[j++]=_>>>0&255),R[W++]=_>>>16&255;g=8}y!==e.image_compression.NONE&&t()?(h=n(T,p.width*p.colors,p.colors,y),D=n(R,p.width,1,y)):(h=T,D=R,z=void 0)}if(p.colorType===3&&(A=this.color_spaces.INDEXED,C=p.palette,p.transparency.indexed)){var Q=p.transparency.indexed,U=0;for(O=0,I=Q.length;O<I;++O)U+=Q[O];if((U/=255)===I-1&&Q.indexOf(0)!==-1)w=[Q.indexOf(0)];else if(U!==I){for(N=p.decodePixels(),R=new Uint8Array(N.length),O=0,I=N.length;O<I;O++)R[O]=Q[N[O]];D=n(R,p.width,1)}}var B=function(L){var H;switch(L){case e.image_compression.FAST:H=11;break;case e.image_compression.MEDIUM:H=13;break;case e.image_compression.SLOW:H=14;break;default:H=12}return H}(y);return z===this.decode.FLATE_DECODE&&(Z="/Predictor "+B+" "),Z+="/Colors "+x+" /BitsPerComponent "+g+" /Columns "+p.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:v,data:h,index:f,filter:z,decodeParameters:Z,transparency:w,palette:C,sMask:D,predictor:B,width:p.width,height:p.height,bitsPerComponent:g,colorSpace:A}}}})(Pt.API),function(e){e.processGIF89A=function(t,n,r,i){var a=new nte(t),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new xy(100).encode(u,100);return e.processJPEG.call(this,c,n,r,i)},e.processGIF87A=e.processGIF89A}(Pt.API),eo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},eo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){On.log("bit decode error:"+n)}},eo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},eo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},eo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},eo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=e}},eo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=e}},eo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},eo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},eo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new eo(t,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new xy(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(Pt.API),Mk.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new Mk(t),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new xy(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(Pt.API),Pt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],d=r[u+1],h=r[u+2],f=r[u+3];a[s++]=c,a[s++]=d,a[s++]=h,o[l++]=f}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Pt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ic=Pt.API,Kg=Ic.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=t.doKerning!==!1,h=0,f=e.length,v=0,y=s[0]||l,A=[];for(n=0;n<f;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(h=d&&En(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/c:0,A.push((s[r]||y)/l+h)),v=r;return A},Dk=Ic.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Ic.processArabic&&(e=Ic.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Kg.apply(this,arguments).reduce(function(a,o){return a+o},0)},Lk=function(e,t,n,r){for(var i=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<n;)s+=t[a],a++;i.push(e.slice(0,a));var l=a;for(s=0;a!==o;)s+t[a]>r&&(i.push(e.slice(l,a)),s=0,l=a),s+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},Rk=function(e,t,n){n||(n={});var r,i,a,o,s,l,u,c=[],d=[c],h=n.textIndent||0,f=0,v=0,y=e.split(" "),A=Kg.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),p=[];y.map(function(x){(x=x.split(/\s*\n/)).length>1?p=p.concat(x.map(function(C,D){return(D&&C.length?`
`:"")+C})):p.push(x[0])}),y=p,l=Dk.apply(this,[g,n])}for(a=0,o=y.length;a<o;a++){var w=0;if(r=y[a],l&&r[0]==`
`&&(r=r.substr(1),w=1),h+f+(v=(i=Kg.apply(this,[r,n])).reduce(function(x,C){return x+C},0))>t||w){if(v>t){for(s=Lk.apply(this,[r,i,t-(h+f),t]),c.push(s.shift()),c=[s.pop()];s.length;)d.push([s.shift()]);v=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(x,C){return x+C},0)}else c=[r];d.push(c),h=v+l,f=A}else c.push(r),h+=f+v,f=A}return u=l?function(x,C){return(C?g:"")+x.join(" ")}:function(x){return x.join(" ")},d.map(u)},Ic.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(Rk.apply(this,[r[s],o,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var a=function(d){return"0x"+parseInt(d,10).toString(16)},o=e.__fontmetrics__.compress=function(d){var h,f,v,y,A=["{"];for(var g in d){if(h=d[g],isNaN(parseInt(g,10))?f="'"+g+"'":(g=parseInt(g,10),f=(f=a(g).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof h=="number")h<0?(v=a(h).slice(3),y="-"):(v=a(h).slice(2),y=""),v=y+v.slice(0,-1)+r[v.slice(-1)];else{if(En(h)!=="object")throw new Error("Don't know what to do with value type "+En(h)+".");v=o(h)}A.push(f+v)}return A.push("}"),A.join("")},s=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,v,y,A={},g=1,p=A,w=[],x="",C="",D=d.length-1,N=1;N<D;N+=1)(y=d[N])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(y):y=="{"?(w.push([p,v]),p={},v=void 0):y=="}"?((f=w.pop())[0][f[1]]=p,v=void 0,p=f[0]):y=="-"?g=-1:v===void 0?n.hasOwnProperty(y)?(x+=n[y],v=parseInt(x,16)*g,g=1,x=""):x+=y:n.hasOwnProperty(y)?(C+=n[y],p[v]=parseInt(C,16)*g,g=1,v=void 0,C=""):C+=y;return A},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var h=d.font,f=c.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(Pt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(vh(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Pt),function(e){function t(){return(Tt.canvg?Promise.resolve(Tt.canvg):S2(()=>import("./index.es-DjhisJ_o.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Pt.API.addSvgAsImage=function(n,r,i,a,o,s,l,u){if(isNaN(r)||isNaN(i))throw On.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw On.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=o;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(v){return v.fromString(d,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),r,i,a,o,l,u)})}}(),Pt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Pt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,d=0;function h(v,y){var A,g=!1;for(A=0;A<v.length;A+=1)v[A]===y&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=s.length;for(d=0;d<f;d+=1)n[s[d]].value=n[s[d]].defaultValue,n[s[d]].explicitSet=!1}if(En(e)==="object"){for(i in e)if(a=e[i],h(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&h(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,y=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?y.push("/"+v+" /"+n[v].value):y.push("/"+v+" "+n[v].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Pt.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,h=a.length;d<h;++d){if(s=o.metadata.characterToGlyph(a.charCodeAt(d)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(d),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},r=function(a){var o,s,l,u,c,d,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(s=Object.keys(a).sort(function(f,v){return f-v})).length;d<h;d++)o=s[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var d=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),f="",v=0;v<h.length;v++)f+=String.fromCharCode(h[v]);var y=u();c({data:f,addLength1:!0,objectId:y}),l("endobj");var A=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var g=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Fc(s.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var p=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Fc(s.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+Fc(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+p+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var d=s.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var v=u();c({data:h,addLength1:!0,objectId:v}),l("endobj");var y=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var A=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Fc(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var g=0;g<s.metadata.hmtx.widths.length;g++)s.metadata.hmtx.widths[g]=parseInt(s.metadata.hmtx.widths[g]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Fc(s.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},d=a.mutex||{},h=d.pdfEscape,f=d.activeFontKey,v=d.fonts,y=f,A="",g=0,p="",w=v[y].encoding;if(v[y].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:d};for(p=s,y=f,Array.isArray(s)&&(p=s[0]),g=0;g<p.length;g+=1)v[y].metadata.hasOwnProperty("cmap")&&(o=v[y].metadata.cmap.unicode.codeMap[p[g].charCodeAt(0)]),o||p[g].charCodeAt(0)<256&&v[y].metadata.hasOwnProperty("Unicode")?A+=p[g]:A+="";var x="";return parseInt(y.slice(1))<14||w==="WinAnsiEncoding"?x=h(A,y).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(x=n(A,v[y])),d.isHex=!0,{text:x,x:l,y:u,options:c,mutex:d}};t.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(Pt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Pt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,o,s,l,u,c,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),p=!1,w=0;this.__bidiEngine__={};var x=function(k){var _=k.charCodeAt(),O=_>>8,j=y[O];return j!==void 0?d[256*j+(255&_)]:O===252||O===253?"AL":g.test(O)?"L":O===8?"R":"N"},C=function(k){for(var _,O=0;O<k.length;O++){if((_=x(k.charAt(O)))==="L")return!1;if(_==="R")return!0}return!1},D=function(k,_,O,j){var z,Z,ee,K,W=_[j];switch(W){case"L":case"R":p=!1;break;case"N":case"AN":break;case"EN":p&&(W="AN");break;case"AL":p=!0,W="R";break;case"WS":W="N";break;case"CS":j<1||j+1>=_.length||(z=O[j-1])!=="EN"&&z!=="AN"||(Z=_[j+1])!=="EN"&&Z!=="AN"?W="N":p&&(Z="AN"),W=Z===z?Z:"N";break;case"ES":W=(z=j>0?O[j-1]:"B")==="EN"&&j+1<_.length&&_[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&O[j-1]==="EN"){W="EN";break}if(p){W="N";break}for(ee=j+1,K=_.length;ee<K&&_[ee]==="ET";)ee++;W=ee<K&&_[ee]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(K=_.length,ee=j+1;ee<K&&_[ee]==="NSM";)ee++;if(ee<K){var Q=k[j],U=Q>=1425&&Q<=2303||Q===64286;if(z=_[ee],U&&(z==="R"||z==="AL")){W="R";break}}}W=j<1||(z=_[j-1])==="B"?"N":O[j-1];break;case"B":p=!1,i=!0,W=w;break;case"S":a=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":p=!1;break;case"BN":W="N"}return W},N=function(k,_,O){var j=k.split("");return O&&I(j,O,{hiLevel:w}),j.reverse(),_&&_.reverse(),j.join("")},I=function(k,_,O){var j,z,Z,ee,K,W=-1,Q=k.length,U=0,B=[],L=w?f:h,H=[];for(p=!1,i=!1,a=!1,z=0;z<Q;z++)H[z]=x(k[z]);for(Z=0;Z<Q;Z++){if(K=U,B[Z]=D(k,H,B,Z),j=240&(U=L[K][v[B[Z]]]),U&=15,_[Z]=ee=L[U][5],j>0)if(j===16){for(z=W;z<Z;z++)_[z]=1;W=-1}else W=-1;if(L[U][6])W===-1&&(W=Z);else if(W>-1){for(z=W;z<Z;z++)_[z]=ee;W=-1}H[Z]==="B"&&(_[Z]=0),O.hiLevel|=ee}a&&function(G,M,V){for(var te=0;te<V;te++)if(G[te]==="S"){M[te]=w;for(var J=te-1;J>=0&&G[J]==="WS";J--)M[J]=w}}(H,_,Q)},R=function(k,_,O,j,z){if(!(z.hiLevel<k)){if(k===1&&w===1&&!i)return _.reverse(),void(O&&O.reverse());for(var Z,ee,K,W,Q=_.length,U=0;U<Q;){if(j[U]>=k){for(K=U+1;K<Q&&j[K]>=k;)K++;for(W=U,ee=K-1;W<ee;W++,ee--)Z=_[W],_[W]=_[ee],_[ee]=Z,O&&(Z=O[W],O[W]=O[ee],O[ee]=Z);U=K}U++}}},T=function(k,_,O){var j=k.split(""),z={hiLevel:w};return O||(O=[]),I(j,O,z),function(Z,ee,K){if(K.hiLevel!==0&&c)for(var W,Q=0;Q<Z.length;Q++)ee[Q]===1&&(W=A.indexOf(Z[Q]))>=0&&(Z[Q]=A[W+1])}(j,O,z),R(2,j,_,O,z),R(1,j,_,O,z),j.join("")};return this.__bidiEngine__.doBidiReorder=function(k,_,O){if(function(z,Z){if(Z)for(var ee=0;ee<z.length;ee++)Z[ee]=ee;s===void 0&&(s=C(z)),u===void 0&&(u=C(z))}(k,_),o||!l||u)if(o&&l&&s^u)w=s?1:0,k=N(k,_,O);else if(!o&&l&&u)w=s?1:0,k=T(k,_,O),k=N(k,_);else if(!o||s||l||u){if(o&&!l&&s^u)k=N(k,_),s?(w=0,k=T(k,_,O)):(w=1,k=T(k,_,O),k=N(k,_));else if(o&&s&&!l&&u)w=1,k=T(k,_,O),k=N(k,_);else if(!o&&!l&&s^u){var j=c;s?(w=1,k=T(k,_,O),w=0,c=!1,k=T(k,_,O),c=j):(w=0,k=T(k,_,O),k=N(k,_),w=1,c=!1,k=T(k,_,O),c=j,k=N(k,_))}}else w=0,k=T(k,_,O);else w=s?1:0,k=T(k,_,O);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,l=k.isOutputVisual,s=k.isInputRtl,u=k.isOutputRtl,c=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),o=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Pt),Pt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Il(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new vte(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new rte(this.contents),this.head=new ate(this),this.name=new cte(this),this.cmap=new _B(this),this.toUnicode={},this.hhea=new ote(this),this.maxp=new dte(this),this.hmtx=new fte(this),this.post=new lte(this),this.os2=new ste(this),this.loca=new mte(this),this.glyf=new hte(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,o,s;for(o=0,a=0,s=(t=""+t).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Ao,Il=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,o,s,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),rte=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,o,s,l,u,c,d,h,f,v,y;for(y in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),c=16*f-d,(i=new Il).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(o),i.writeShort(c),a=16*f,u=i.pos+a,s=null,v=[],n)for(h=n[y],i.writeString(y),i.writeInt(e(h)),i.writeInt(u),i.writeInt(h.length),v=v.concat(h),y==="head"&&(s=u),u+=h.length;u%4;)v.push(0),u++;return i.write(v),r=2981146554-e(i.data),i.pos=s+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,o;for(n=CB.call(n);n.length%4;)n.push(0);for(a=new Il(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),ite={}.hasOwnProperty,zo=function(e,t){for(var n in t)ite.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ao=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var ate=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,Ao),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Il).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),Uk=function(){function e(t,n){var r,i,a,o,s,l,u,c,d,h,f,v,y,A,g,p,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,a=function(){var x,C;for(C=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)C.push(t.readUInt16());return C}(),t.pos+=2,y=function(){var x,C;for(C=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)C.push(t.readUInt16());return C}(),u=function(){var x,C;for(C=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)C.push(t.readUInt16());return C}(),c=function(){var x,C;for(C=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)C.push(t.readUInt16());return C}(),i=(this.length-t.pos+this.offset)/2,s=function(){var x,C;for(C=[],l=x=0;0<=i?x<i:x>i;l=0<=i?++x:--x)C.push(t.readUInt16());return C}(),l=g=0,w=a.length;g<w;l=++g)for(A=a[l],r=p=v=y[l];v<=A?p<=A:p>=A;r=v<=A?++p:--p)c[l]===0?o=r+u[l]:(o=s[c[l]/2+(r-v)-(h-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}t.pos=d}return e.encode=function(t,n){var r,i,a,o,s,l,u,c,d,h,f,v,y,A,g,p,w,x,C,D,N,I,R,T,k,_,O,j,z,Z,ee,K,W,Q,U,B,L,H,G,M,V,te,J,de,ye,Ce;switch(j=new Il,o=Object.keys(t).sort(function(Pe,Le){return Pe-Le}),n){case"macroman":for(y=0,A=function(){var Pe=[];for(v=0;v<256;++v)Pe.push(0);return Pe}(),p={0:0},a={},z=0,W=o.length;z<W;z++)p[J=t[i=o[z]]]==null&&(p[J]=++y),a[i]={old:t[i],new:p[t[i]]},A[i]=p[t[i]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(A),{charMap:a,subtable:j.data,maxGlyphID:y+1};case"unicode":for(_=[],d=[],w=0,p={},r={},g=u=null,Z=0,Q=o.length;Z<Q;Z++)p[C=t[i=o[Z]]]==null&&(p[C]=++w),r[i]={old:C,new:p[C]},s=p[C]-i,g!=null&&s===u||(g&&d.push(g),_.push(i),u=s),g=i;for(g&&d.push(g),d.push(65535),_.push(65535),T=2*(R=_.length),I=2*Math.pow(Math.log(R)/Math.LN2,2),h=Math.log(I/2)/Math.LN2,N=2*R-I,l=[],D=[],f=[],v=ee=0,U=_.length;ee<U;v=++ee){if(k=_[v],c=d[v],k===65535){l.push(0),D.push(0);break}if(k-(O=r[k].new)>=32768)for(l.push(0),D.push(2*(f.length+R-v)),i=K=k;k<=c?K<=c:K>=c;i=k<=c?++K:--K)f.push(r[i].new);else l.push(O-k),D.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*R+2*f.length),j.writeUInt16(0),j.writeUInt16(T),j.writeUInt16(I),j.writeUInt16(h),j.writeUInt16(N),V=0,B=d.length;V<B;V++)i=d[V],j.writeUInt16(i);for(j.writeUInt16(0),te=0,L=_.length;te<L;te++)i=_[te],j.writeUInt16(i);for(de=0,H=l.length;de<H;de++)s=l[de],j.writeUInt16(s);for(ye=0,G=D.length;ye<G;ye++)x=D[ye],j.writeUInt16(x);for(Ce=0,M=f.length;Ce<M;Ce++)y=f[Ce],j.writeUInt16(y);return{charMap:r,subtable:j.data,maxGlyphID:w+1}}},e}(),_B=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,Ao),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new Uk(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=Uk.encode(n,r),(a=new Il).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),ote=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,Ao),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),ste=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,Ao),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),lte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,Ao),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(n.readUInt32());return u}).call(this)}},t}(),ute=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},cte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,Ao),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,a,o,s,l,u,c,d,h,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=d=0,h=i.length;d<h;o=++d)a=i[o],n.pos=a.offset,c=n.readString(a.length),s=new ute(c,a),u[f=a.nameID]==null&&(u[f]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),dte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,Ao),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),fte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,Ao),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,a,o,s,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)d.push(n.readInt16());return d}(),this.widths=(function(){var c,d,h,f;for(f=[],c=0,d=(h=this.metrics).length;c<d;c++)o=h[c],f.push(o.advance);return f}).call(this),i=this.widths[this.widths.length-1],u=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)u.push(this.widths.push(i));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),CB=[].slice,hte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,Ao),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,a,o,s,l,u,c,d,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,s=(l=new Il(r.read(a))).readShort(),c=l.readShort(),h=l.readShort(),u=l.readShort(),d=l.readShort(),this.cache[n]=s===-1?new gte(l,c,h,u,d):new pte(l,s,c,h,u,d),this.cache[n]))},t.prototype.encode=function(n,r,i){var a,o,s,l,u;for(s=[],o=[],l=0,u=r.length;l<u;l++)a=n[r[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},t}(),pte=function(){function e(t,n,r,i,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),gte=function(){function e(t,n,r,i,a){var o,s;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Il(CB.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),mte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zo(t,Ao),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(a+=u)}for(var c=new Array(4*i.length),d=0;d<i.length;++d)c[4*d+3]=255&i[d],c[4*d+2]=(65280&i[d])>>8,c[4*d+1]=(16711680&i[d])>>16,c[4*d]=(4278190080&i[d])>>24;return c},t}(),vte=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,o,s,l;for(i={},o=0,s=t.length;o<s;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,o,s,l,u,c,d,h,f,v,y,A,g;for(i in r=_B.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},g=r.charMap)f[(l=g[i]).old]=l.new;for(v in h=r.maxGlyphID,o)v in f||(f[v]=h++);return c=function(p){var w,x;for(w in x={},p)x[p[w]]=w;return x}(f),d=Object.keys(c).sort(function(p,w){return p-w}),y=function(){var p,w,x;for(x=[],p=0,w=d.length;p<w;p++)s=d[p],x.push(c[s]);return x}(),a=this.font.glyf.encode(o,y,f),u=this.font.loca.encode(a.offsets,y),A={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();Pt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)r=n[s],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();const SB=e=>{const t=new Pt,n=t.internal.pageSize.getWidth(),r=20,i="#4F46E5",a="#334155",o="#0F172A";t.setFont("helvetica","bold"),t.setFontSize(22),t.setTextColor(i),t.text("Diary Recovery Kit",r,30),t.setFontSize(10),t.setTextColor("#64748B"),t.text(`Generated on: ${new Date().toLocaleDateString()}`,r,38),t.setDrawColor(239,68,68),t.setLineWidth(.5),t.rect(r,50,n-r*2,25),t.setFont("helvetica","bold"),t.setFontSize(12),t.setTextColor(220,38,38),t.text(" EXTREMELY SENSITIVE DOCUMENT",r+5,60),t.setFont("helvetica","normal"),t.setFontSize(10),t.setTextColor(a),t.text("This document contains your Master Password and Encryption Keys.",r+5,68),t.text("Keep it safe. If you lose your password, this is the ONLY way to restore your data.",r+5,73);let s=95;t.setFont("helvetica","bold"),t.setFontSize(14),t.setTextColor(o),t.text("1. Login Credentials",r,s),s+=10,t.setFontSize(10),t.setTextColor("#64748B"),t.text("Email Address:",r,s),t.setFont("courier","bold"),t.setFontSize(12),t.setTextColor(o),t.text(e.email,r+40,s),s+=10,t.setFont("helvetica","normal"),t.setFontSize(10),t.setTextColor("#64748B"),t.text("Master Password:",r,s),t.setFillColor(241,245,249),t.rect(r,s+5,n-r*2,15,"F"),t.setFont("courier","bold"),t.setFontSize(14),t.setTextColor(o),t.text(e.password,r+5,s+14),s+=40,t.setFont("helvetica","bold"),t.setFontSize(14),t.setTextColor(o),t.text("2. Emergency Technical Keys",r,s),s+=8,t.setFont("helvetica","normal"),t.setFontSize(10),t.setTextColor(a),t.text("If the password mechanism ever changes or fails, these raw keys can mathematically",r,s),t.text("decrypt your data using standard AES-GCM algorithms.",r,s+5),s+=15,t.setFontSize(10),t.setTextColor("#64748B"),t.text("Encryption Salt:",r,s),t.setFont("courier","normal"),t.setFontSize(9),t.setTextColor(o),t.text(e.salt,r,s+6),s+=20,t.setFont("helvetica","normal"),t.setFontSize(10),t.setTextColor("#64748B"),t.text("Raw Encryption Key (AES-GCM):",r,s),t.setFont("courier","normal"),t.setFontSize(9),t.setTextColor(o),t.text(e.rawKey,r,s+6),t.setFont("helvetica","italic"),t.setFontSize(8),t.setTextColor("#94A3B8"),t.text("Diary App - Zero Knowledge Architecture",n/2,280,{align:"center"}),t.save("Diary-Recovery-Kit.pdf")},yte=({onSuccess:e,session:t})=>{const[n,r]=ie.useState(""),[i,a]=ie.useState(!1),[o,s]=ie.useState(!1),[l,u]=ie.useState(null),[c,d]=ie.useState(!1),[h,f]=ie.useState(!1),[v,y]=ie.useState(null),[A,g]=ie.useState(!1),p=async C=>{var D,N,I;if(C.preventDefault(),n.length<6){u("Password must be at least 6 characters long.");return}s(!0),u(null);try{const R=t.user;if(!R)throw new Error("User not available.");const k=`v1:600000:${zR()}`,_=await yI(n,k),{iv:O,data:j}=await db(_,mI),z=(D=R.user_metadata)==null?void 0:D.full_name,Z=((N=R.user_metadata)==null?void 0:N.avatar_url)||((I=R.user_metadata)==null?void 0:I.picture),{error:ee}=await ln.from("profiles").insert({id:R.id,salt:k,key_check_value:j,key_check_iv:O,full_name:z,avatar_url:Z});if(ee)throw ee;const K=await hb(_);y({key:_,rawKey:K,salt:k,password:n,email:R.email||"Unknown Email"})}catch(R){u(R.error_description||R.message||"An unknown error occurred during setup."),console.error("Encryption initialization failed:",R)}finally{s(!1)}},w=()=>{v&&(SB({email:v.email,password:v.password,salt:v.salt,rawKey:v.rawKey}),g(!0))},x=()=>{v&&e(v.key)};return v?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:b.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-slate-800 rounded-lg shadow-md border-t-4 border-green-500 animate-fade-in",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900 mb-4",children:b.jsx("svg",{className:"h-6 w-6 text-green-600 dark:text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Setup Complete!"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Your secure diary is ready."})]}),b.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-md p-4",children:[b.jsxs("h3",{className:"text-sm font-bold text-yellow-800 dark:text-yellow-200 flex items-center gap-2",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Important: Backup Required"]}),b.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-2",children:["Because we can't reset your password, you ",b.jsx("strong",{children:"must"})," download your Recovery Kit. It contains your password and raw encryption keys."]})]}),b.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 px-4 py-3 font-semibold text-white bg-slate-800 hover:bg-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-md transition-all shadow-lg",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Recovery Kit"]}),b.jsx("button",{onClick:x,disabled:!A,className:"w-full px-4 py-2 font-semibold text-indigo-600 bg-indigo-50 rounded-md hover:bg-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-400 transition-colors dark:bg-transparent dark:text-indigo-400 dark:hover:text-indigo-300 dark:disabled:text-slate-600",children:A?"Continue to App":"Download Kit to Continue"})]})}):b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:b.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-slate-800 rounded-lg shadow-md",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Final Security Step"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"To complete your secure setup, please create your password."})]}),b.jsx("p",{className:"text-xs text-center text-slate-600 dark:text-slate-300 bg-slate-50 dark:bg-slate-900/50 p-3 rounded-md border dark:border-slate-700",children:"This is required to create your unique encryption key. Your password is never stored, and this one-time step ensures your diary remains private and end-to-end encrypted."}),l&&b.jsx("p",{className:"text-center text-red-500 bg-red-50 p-3 rounded-md",children:l}),b.jsxs("form",{className:"space-y-6",onSubmit:p,children:[b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:i?"text":"password",placeholder:"Your password",value:n,required:!0,minLength:6,onChange:C=>r(C.target.value),className:"w-full px-4 py-2 pr-10 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200",autoComplete:"new-password"}),b.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute inset-y-0 right-0 flex items-center px-3 text-slate-500 dark:text-slate-400","aria-label":i?"Hide password":"Show password",children:i?b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),b.jsx("path",{fillRule:"evenodd",d:"M.458 10C3.732 4.943 9.522 3 10 3s6.268 1.943 9.542 7c-3.274 5.057-9.042 7-9.542 7S3.732 15.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.27 8.138 15.522 6 10 6c-1.55 0-2.998.48-4.257 1.254l-1.74-1.741zM10 12a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}),b.jsx("path",{d:"M2.042 10c.832 2.345 3.16 4 5.918 4 1.55 0 2.998-.48 4.257-1.254l-1.473-1.473A3.999 3.999 0 0110 14c-2.209 0-4-1.791-4-4a3.999 3.999 0 011.21-2.828L5.293 5.293A10.014 10.014 0 00.458 10c1.274 1.862 4.022 4 9.542 4 1.105 0 2.158-.149 3.168-.43L10.373 12.16A4.003 4.003 0 0110 12z"})]})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("label",{className:"flex items-start gap-3 cursor-pointer text-sm text-slate-600 dark:text-slate-400",children:[b.jsx("input",{type:"checkbox",checked:c,onChange:C=>d(C.target.checked),className:"mt-1 h-4 w-4 rounded text-indigo-600 focus:ring-indigo-500 border-slate-300 dark:border-slate-600 dark:bg-slate-900 dark:checked:bg-indigo-500",required:!0}),b.jsxs("span",{children:["I have read and agree to the ",b.jsx(Rh,{to:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-indigo-600 hover:underline dark:text-indigo-400",children:"Privacy Policy"}),"."]})]}),b.jsxs("label",{className:"flex items-start gap-3 cursor-pointer text-sm text-slate-600 dark:text-slate-400",children:[b.jsx("input",{type:"checkbox",checked:h,onChange:C=>f(C.target.checked),className:"mt-1 h-4 w-4 rounded text-indigo-600 focus:ring-indigo-500 border-slate-300 dark:border-slate-600 dark:bg-slate-900 dark:checked:bg-indigo-500",required:!0}),b.jsxs("span",{children:["I have read and agree to the ",b.jsx(Rh,{to:"/terms",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-indigo-600 hover:underline dark:text-indigo-400",children:"Terms of Use"}),"."]})]})]}),b.jsx("button",{type:"submit",disabled:o||!c||!h,className:"w-full px-4 py-2 font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 disabled:bg-indigo-300 disabled:cursor-not-allowed transition-colors",children:o?"Securing...":"Initialize Diary"})]})]})})},NB=typeof PublicKeyCredential<"u"&&typeof PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable=="function",IB=async()=>{if(!NB)return!1;try{return await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch{return!1}},Ate=e=>Uint8Array.from(e,t=>t.charCodeAt(0)),wte=async(e,t)=>{var y,A,g,p;if(!NB)throw new Error("WebAuthn not supported");const n=window.crypto.getRandomValues(new Uint8Array(32)),r=Bu(n.buffer),i=window.crypto.getRandomValues(new Uint8Array(32)),a=Ate(t),o={publicKey:{challenge:i,rp:{name:"Diary App",id:window.location.hostname},user:{id:a,name:"diary-user",displayName:"Diary Owner"},pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required",residentKey:"required",requireResidentKey:!0},timeout:6e4,extensions:{prf:{eval:{first:n}}}}},s=await navigator.credentials.create(o);if(!s)throw new Error("Failed to create credential");const l=Bu(s.rawId);let u=null;const c=s.getClientExtensionResults();if((A=(y=c==null?void 0:c.prf)==null?void 0:y.results)!=null&&A.first)u=new Uint8Array(c.prf.results.first);else{const w={publicKey:{challenge:window.crypto.getRandomValues(new Uint8Array(32)),rpId:window.location.hostname,allowCredentials:[{type:"public-key",id:s.rawId}],userVerification:"required",extensions:{prf:{eval:{first:n}}}}},x=await navigator.credentials.get(w),C=x==null?void 0:x.getClientExtensionResults();(p=(g=C==null?void 0:C.prf)==null?void 0:g.results)!=null&&p.first&&(u=new Uint8Array(C.prf.results.first))}if(!u)throw new Error("Authenticator does not support PRF extension. Please ensure your device and browser support WebAuthn PRF.");const d=await window.crypto.subtle.importKey("raw",u,"AES-GCM",!1,["encrypt","decrypt"]),h=await hb(e),{iv:f,data:v}=await db(d,h);return{credentialId:l,salt:r,encryptedKey:v,iv:f}},bte=async e=>{var u;const t=Tu(e.salt),n=Tu(e.credentialId),r={publicKey:{challenge:window.crypto.getRandomValues(new Uint8Array(32)),rpId:window.location.hostname,allowCredentials:[{type:"public-key",id:n}],userVerification:"required",extensions:{prf:{eval:{first:t}}}}},i=await navigator.credentials.get(r);if(!i)throw new Error("Authentication failed");const a=(u=i==null?void 0:i.getClientExtensionResults())==null?void 0:u.prf;if(!a||!a.results||!a.results.first)throw new Error("Could not retrieve PRF key from authenticator.");const o=new Uint8Array(a.results.first),s=await window.crypto.subtle.importKey("raw",o,"AES-GCM",!1,["encrypt","decrypt"]),l=await fb(s,e.encryptedKey,e.iv);return qR(l)},xte=({onSuccess:e,session:t})=>{const[n,r]=ie.useState(""),[i,a]=ie.useState(!1),[o,s]=ie.useState(!1),[l,u]=ie.useState(null),{deriveAndVerifyKey:c}=Fu(),[d,h]=ie.useState(!1),[f,v]=ie.useState(!1);ie.useEffect(()=>{(async()=>{const p=await IB();v(p),localStorage.getItem(`diary_bio_${t.user.id}`)&&h(!0)})()},[t.user.id]);const y=async g=>{g.preventDefault(),s(!0),u(null);try{const p=t.user;if(!p)throw new Error("User not available.");const w=await c(n,p.id);w?e(w):u("Incorrect password. Please try again.")}catch(p){u(p.error_description||p.message||"An unknown error occurred."),console.error("Key derivation failed:",p)}finally{s(!1)}},A=async()=>{s(!0),u(null);try{const g=localStorage.getItem(`diary_bio_${t.user.id}`);if(!g)throw new Error("No biometric data found.");const p=JSON.parse(g),w=await bte(p);e(w)}catch(g){console.error("Biometric unlock failed:",g),u("Biometric unlock failed. Please use your password.")}finally{s(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:b.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-slate-800 rounded-lg shadow-md",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Unlock Your Diary"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"For your security, please enter your password to continue."})]}),b.jsx("p",{className:"text-xs text-center text-slate-600 dark:text-slate-300 bg-slate-50 dark:bg-slate-900/50 p-3 rounded-md border dark:border-slate-700",children:"Your diary is end-to-end encrypted. We need your password to securely decrypt your entries."}),l&&b.jsx("p",{className:"text-center text-red-500 bg-red-50 p-3 rounded-md",children:l}),b.jsxs("form",{className:"space-y-6",onSubmit:y,children:[b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:i?"text":"password",placeholder:"Your password",value:n,required:!0,onChange:g=>r(g.target.value),className:"w-full px-4 py-2 pr-10 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200","aria-label":"Password for decryption",autoComplete:"current-password"}),b.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute inset-y-0 right-0 flex items-center px-3 text-slate-500 dark:text-slate-400","aria-label":i?"Hide password":"Show password",children:i?b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),b.jsx("path",{fillRule:"evenodd",d:"M.458 10C3.732 4.943 9.522 3 10 3s6.268 1.943 9.542 7c-3.274 5.057-9.042 7-9.542 7S3.732 15.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.27 8.138 15.522 6 10 6c-1.55 0-2.998.48-4.257 1.254l-1.74-1.741zM10 12a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}),b.jsx("path",{d:"M2.042 10c.832 2.345 3.16 4 5.918 4 1.55 0 2.998-.48 4.257-1.254l-1.473-1.473A3.999 3.999 0 0110 14c-2.209 0-4-1.791-4-4a3.999 3.999 0 011.21-2.828L5.293 5.293A10.014 10.014 0 00.458 10c1.274 1.862 4.022 4 9.542 4 1.105 0 2.158-.149 3.168-.43L10.373 12.16A4.003 4.003 0 0110 12z"})]})})]}),b.jsx("button",{type:"submit",disabled:o,className:"w-full px-4 py-2 font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 disabled:bg-indigo-300",children:o?"Unlocking...":"Unlock with Password"})]}),f&&d&&b.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700 text-center",children:b.jsxs("button",{type:"button",onClick:A,disabled:o,className:"flex flex-col items-center justify-center gap-2 w-full p-4 rounded-lg border-2 border-dashed border-indigo-300 hover:border-indigo-500 hover:bg-indigo-50 dark:border-slate-600 dark:hover:border-indigo-400 dark:hover:bg-indigo-900/20 transition-all group",children:[b.jsx("div",{className:"h-12 w-12 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-indigo-600 dark:text-indigo-300 group-hover:scale-110 transition-transform",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4"})})}),b.jsx("span",{className:"font-semibold text-indigo-600 dark:text-indigo-300",children:"Unlock with Biometrics"})]})})]})})},Ete=({onClick:e})=>b.jsx("button",{onClick:e,className:"fixed top-3 left-4 z-40 p-2 rounded-md bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm hover:bg-slate-200/50 dark:hover:bg-slate-700/50","aria-label":"Open navigation menu",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),kte=({isOpen:e,existingTags:t,suggestedTags:n,onConfirm:r,onCancel:i})=>{const[a,o]=ie.useState([]);if(ie.useEffect(()=>{if(e){const u=Array.from(new Set([...t,...n]));o(u)}},[e,t,n]),!e)return null;const s=u=>{o(c=>c.filter(d=>d!==u))},l=document.getElementById("portal-root");return l?Yw.createPortal(b.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",role:"dialog","aria-modal":"true",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md border border-slate-200 dark:border-slate-700 overflow-hidden",children:[b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"flex items-start justify-between mb-4",children:b.jsxs("div",{children:[b.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})}),"Smart Tags"]}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"We found some keywords in your entry. Review them before saving."})]})}),b.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-lg p-4 min-h-[100px] border border-slate-100 dark:border-slate-700",children:a.length>0?b.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(u=>{const c=!t.includes(u);return b.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium transition-colors group ${c?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/60 dark:text-indigo-200 border border-indigo-200 dark:border-indigo-800":"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 border border-transparent"}`,children:[u,b.jsx("button",{onClick:()=>s(u),className:"hover:text-red-500 dark:hover:text-red-400 focus:outline-none opacity-60 group-hover:opacity-100 transition-opacity","aria-label":`Remove tag ${u}`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},u)})}):b.jsx("p",{className:"text-sm text-slate-400 italic text-center mt-4",children:"No tags selected."})}),b.jsxs("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 flex gap-3",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),b.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-300",children:[b.jsx("p",{className:"font-semibold mb-1",children:"Privacy Check:"}),b.jsxs("p",{children:["1. Analysis happens ",b.jsx("strong",{children:"offline"})," on your device."]}),b.jsxs("p",{children:["2. Tags are saved as ",b.jsx("strong",{children:"unencrypted metadata"})," (for search)."]}),b.jsxs("p",{children:["3. Your diary body remains ",b.jsx("strong",{children:"fully encrypted"}),"."]})]})]})]}),b.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/80 px-6 py-4 flex justify-end gap-3 border-t border-slate-100 dark:border-slate-700",children:[b.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-semibold text-slate-600 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Save without suggestions"}),b.jsx("button",{onClick:()=>r(a),className:"px-6 py-2 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm shadow-indigo-200 dark:shadow-none transition-all transform active:scale-95",children:"Confirm & Save"})]})]})}),l):null},_te="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",zk=()=>new Promise(e=>setTimeout(e,0)),Cte=({session:e,theme:t,onToggleTheme:n})=>{const[r,i]=ie.useState([]),[a,o]=ie.useState(!0),{key:s,setKey:l,encrypt:u,decrypt:c,encryptBinary:d,lock:h}=Fu(),[f,v]=ie.useState("checking"),[y,A]=ie.useState(null),[g,p]=ie.useState(()=>window.innerWidth>=768),[w,x]=ie.useState(!1),[C,D]=ie.useState("synced"),[N,I]=ie.useState(null),[R,T]=ie.useState(!1),[k,_]=ie.useState(null),[O,j]=ie.useState([]),z=ie.useRef(new Set),Z=ie.useRef(null),{addToast:ee}=Zm(),K=Ns(),W=Uo(),Q=ie.useCallback(ae=>{Z.current=ae},[]);ie.useEffect(()=>{navigator.geolocation.getCurrentPosition(async ae=>{try{const ke=await WR(ae.coords.latitude,ae.coords.longitude);I(ke)}catch(ke){console.error("Failed to fetch weather:",ke)}},ae=>{console.warn("Geolocation permission denied. Weather feature disabled.",ae.message)},{enableHighAccuracy:!1,timeout:1e4,maximumAge:1e3*60*60})},[]),ie.useEffect(()=>{(async()=>{if(s){v("ready");return}try{const{data:ke}=await ln.from("profiles").select("id").eq("id",e.user.id).maybeSingle();v(ke?"reauth":"needed")}catch(ke){console.error("Error checking profile:",ke),ee("Error accessing profile. Please log out and in again.","error"),await ln.auth.signOut()}})()},[s,e.user.id,ee]);const U=ae=>{l(ae),v("ready")};ie.useEffect(()=>{const ae=()=>{if(document.visibilityState==="hidden")localStorage.setItem("diary_last_active",Date.now().toString());else if(document.visibilityState==="visible"){const ke=localStorage.getItem("diary_last_active");ke&&(Date.now()-parseInt(ke,10)>12e4&&s&&(h(),ee("Diary locked for security.","info")),localStorage.removeItem("diary_last_active"))}};return document.addEventListener("visibilitychange",ae),()=>document.removeEventListener("visibilitychange",ae)},[s,h,ee]);const B=ie.useCallback(async()=>{try{const{data:ae,error:ke}=await ln.from("profiles").select("*").eq("id",e.user.id).single();if(ke)throw ke;A(ae)}catch(ae){console.error("Error fetching profile:",ae)}},[e.user.id]),L=ie.useCallback(async()=>{if(s){o(!0);try{const{data:ae,error:ke}=await ln.from("diaries").select("id, created_at, mood, tags, owner_id, journal").order("created_at",{ascending:!1});if(ke)throw ke;const Te=(ae||[]).map(Be=>({id:Be.id,created_at:Be.created_at,mood:Be.mood,tags:Be.tags,owner_id:Be.owner_id,journal:Be.journal||"Personal",title:"",content:"",isDecrypted:!1,isLoading:!1}));i(Te)}catch(ae){console.error("Error fetching entries:",ae),ee("Could not fetch entries.","error")}finally{o(!1)}}},[s,ee]),H=ie.useCallback(async ae=>{if(z.current.has(ae)||!s)return;const ke=r.findIndex(Te=>Te.id===ae);if(ke!==-1&&!r[ke].isDecrypted){z.current.add(ae),i(Te=>Te.map(Be=>Be.id===ae?{...Be,isLoading:!0}:Be));try{const{data:Te,error:Be}=await ln.from("diaries").select("encrypted_entry, iv").eq("id",ae).single();if(Be)throw Be;const Ke=await c(s,Te.encrypted_entry,Te.iv),{title:nt,content:Ze,audio:rt}=JSON.parse(Ke);i(Xe=>Xe.map(Ue=>Ue.id===ae?{...Ue,title:nt,content:Ze,audio:rt,isDecrypted:!0,isLoading:!1}:Ue))}catch(Te){console.error(`Error decrypting entry ${ae}:`,Te),i(Be=>Be.map(Ke=>Ke.id===ae?{...Ke,isLoading:!1}:Ke))}finally{z.current.delete(ae)}}},[r,s,c]);ie.useEffect(()=>{f==="ready"&&(L(),B())},[L,B,f]);const G=ie.useMemo(()=>{const ae=new Set;return r.forEach(ke=>{ke.journal?ae.add(ke.journal):ae.add("Personal")}),Array.from(ae).sort()},[r]),M=ae=>{const Te=new DOMParser().parseFromString(ae,"text/html");return Te.querySelectorAll("img.secure-diary-image").forEach(Ke=>{var nt;(nt=Ke.getAttribute("src"))!=null&&nt.startsWith("blob:")&&Ke.setAttribute("src",_te)}),Te.body.innerHTML},V=ie.useCallback(async ae=>{if(!s){ee("Security session expired.","error");return}D("encrypting");try{const ke=ae.id?r.find(yt=>yt.id===ae.id):null,Te=[];ke&&ke.audio&&(Array.isArray(ke.audio)?Te.push(...ke.audio):Te.push({...ke.audio,id:"legacy"}));let Be=[];if(ae.audio){const yt=new Set(ae.audio.map(Ht=>Ht.id)),dt=Te.filter(Ht=>!yt.has(Ht.id));if(dt.length>0){console.log(`Deleting ${dt.length} orphaned audio files...`);const Ht=dt.map(Ot=>Ot.path),{error:Et}=await ln.storage.from("diary-audio").remove(Ht);Et&&console.error("Failed to cleanup audio files:",Et)}Be=[...ae.audio]}else Be=[...Te];if(ae.tempAudioBlobs&&ae.tempAudioBlobs.length>0)for(const yt of ae.tempAudioBlobs)try{const dt=await yt.blob.arrayBuffer(),{iv:Ht,data:Et}=await d(s,dt),Ot=new Blob([Et],{type:"application/octet-stream"}),on=`${e.user.id}/${Date.now()}-${yt.id}.bin`,{error:Ct}=await ln.storage.from("diary-audio").upload(on,Ot,{upsert:!0});if(Ct)throw Ct;Be.push({id:yt.id,path:on,iv:Ht,type:yt.blob.type})}catch(dt){console.error("Audio upload failed",dt),ee("Failed to secure one or more audio notes.","error")}if(ke&&ke.content){const yt=fY(ke.content,ae.content);if(yt.length>0){console.log(`Deleting ${yt.length} removed images...`);const{error:dt}=await ln.storage.from("diary-images").remove(yt);dt&&console.error("Failed to cleanup image files:",dt)}}const Ke=M(ae.content),nt=JSON.stringify({title:ae.title,content:Ke,audio:Be}),{iv:Ze,data:rt}=await u(s,nt),Xe=!!ae.id,Ue={encrypted_entry:rt,iv:Ze,mood:ae.mood,tags:ae.tags,journal:ae.journal||"Personal",created_at:ae.created_at};if(Xe){const{error:yt}=await ln.from("diaries").update(Ue).eq("id",ae.id);if(yt)throw yt;i(dt=>dt.map(Ht=>Ht.id===ae.id?{...Ht,...ae,audio:Be,tempAudioBlobs:[],isDecrypted:!0}:Ht)),ee("Entry saved!","success"),K(`/app/entry/${ae.id}`)}else{const{data:yt,error:dt}=await ln.from("diaries").insert({...Ue,owner_id:e.user.id}).select("id, created_at, mood, tags, owner_id, journal").single();if(dt)throw dt;const Ht={...yt,...ae,audio:Be,tempAudioBlobs:[],id:yt.id,isDecrypted:!0,isLoading:!1};i(Et=>[Ht,...Et].sort((Ot,on)=>new Date(on.created_at).getTime()-new Date(Ot.created_at).getTime())),ee("Entry created!","success"),K(`/app/entry/${yt.id}`)}D("synced"),T(!1),_(null)}catch(ke){console.error("Error saving entry:",ke),ee("Failed to save entry.","error"),D("error")}},[s,e.user.id,u,d,ee,r,K]),te=ie.useCallback(async ae=>{const ke=ae.tags||[],Be=dY(ae.content).filter(Ke=>!ke.some(nt=>nt.toLowerCase()===Ke.toLowerCase()));Be.length>0?(_(ae),j(Be),T(!0)):await V(ae)},[V]),J=ae=>{if(k){const ke=k.title||"",Te=k.content||"",Be=k.created_at||new Date().toISOString();V({...k,title:ke,content:Te,created_at:Be,tags:ae})}},de=()=>{if(k){const ae=k.title||"",ke=k.content||"",Te=k.created_at||new Date().toISOString();V({...k,title:ae,content:ke,created_at:Te})}},ye=async ae=>{try{const ke=r.find(Be=>Be.id===ae);if(ke){if(ke.isDecrypted&&ke.content){const Be=p2(ke.content);Be.length>0&&(await ln.storage.from("diary-images").remove(Be),console.log(`Cleaned up ${Be.length} image files.`))}if(ke.audio){const Be=Array.isArray(ke.audio)?ke.audio:[ke.audio];if(Be.length>0){const Ke=Be.map(nt=>nt.path).filter(Boolean);Ke.length>0&&(await ln.storage.from("diary-audio").remove(Ke),console.log(`Cleaned up ${Ke.length} audio files.`))}}}const{error:Te}=await ln.from("diaries").delete().eq("id",ae);if(Te)throw Te;i(Be=>Be.filter(Ke=>Ke.id!==ae)),ee("Entry deleted successfully.","success"),K("/app")}catch(ke){console.error("Error deleting entry:",ke),ee("Failed to delete entry.","error")}},Ce=async ae=>{try{const{data:ke,error:Te}=await ln.from("profiles").update(ae).eq("id",e.user.id).select().single();if(Te)throw Te;A(ke),ee("Profile updated successfully!","success")}catch(ke){ee("Failed to update profile.","error"),console.error("Error updating profile:",ke)}},Pe=async ae=>{try{const ke=ae.name.split(".").pop(),Te=`${e.user.id}/${Date.now()}.${ke}`,{error:Be}=await ln.storage.from("avatars").upload(Te,ae,{upsert:!0});if(Be)throw Be;const{error:Ke}=await ln.from("profiles").update({avatar_url:Te}).eq("id",e.user.id);if(Ke)throw Ke;A(nt=>nt?{...nt,avatar_url:Te}:null)}catch(ke){throw console.error("Error uploading avatar:",ke),ke}},Le=async ae=>{if(s)try{const{count:ke,error:Te}=await ln.from("diaries").select("*",{count:"exact",head:!0});if(Te)throw Te;const Be=ke||0;if(Be===0){ee("No entries to export.","info");return}const Ke=new pJ("application/zip"),nt=new jX(Ke),Ze=50;let rt=0,Xe=[],Ue="";for(let Et=0;Et<Be;Et+=Ze){ae(`Processing ${rt} / ${Be}`),await zk();const{data:Ot,error:on}=await ln.from("diaries").select("*").order("created_at",{ascending:!1}).range(Et,Et+Ze-1);if(on)throw on;if(Ot)for(const Ct of Ot){try{const Lr=await c(s,Ct.encrypted_entry,Ct.iv),Zt=JSON.parse(Lr),er=new Date(Ct.created_at),Rr=`${er.getFullYear()}-${String(er.getMonth()+1).padStart(2,"0")}`;Ue&&Rr!==Ue&&Xe.length>0&&(await nt.add(`${Ue}.json`,new X3(JSON.stringify(Xe,null,2))),Xe=[],await zk()),Ue=Rr,Xe.push({id:Ct.id,created_at:Ct.created_at,title:Zt.title,content:Zt.content,tags:Ct.tags,mood:Ct.mood,journal:Ct.journal,audio:Zt.audio?"Audio file attached":void 0})}catch(Lr){console.error(`Failed to export entry ${Ct.id}`,Lr)}rt++}}Xe.length>0&&await nt.add(`${Ue}.json`,new X3(JSON.stringify(Xe,null,2))),ae("Finalizing ZIP...");const yt=await nt.close(),dt=URL.createObjectURL(yt),Ht=document.createElement("a");Ht.href=dt,Ht.download=`diary_export_${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(Ht),Ht.click(),document.body.removeChild(Ht),URL.revokeObjectURL(dt),ee("Export complete!","success")}catch(ke){console.error("Export failed:",ke),ee("Export failed.","error")}},Ae=async()=>{await ln.auth.signOut(),K("/")};let oe="timeline";W.pathname.includes("/calendar")?oe="calendar":W.pathname.includes("/search")?oe="search":W.pathname.includes("/profile")&&(oe="profile");const he=new URLSearchParams(W.search).get("journal"),ue=ae=>{K(ae?`/app?journal=${encodeURIComponent(ae)}`:"/app")},ge=ae=>{K(ae==="timeline"?"/app":`/app/${ae}`)};if(f!=="ready"){let ae;switch(f){case"checking":ae=b.jsx("p",{children:"Initializing Secure Session..."});break;case"needed":ae=b.jsx(yte,{onSuccess:U,session:e});break;case"reauth":ae=b.jsx(xte,{onSuccess:U,session:e});break;default:ae=b.jsx("p",{children:"An unexpected error occurred."})}return b.jsx("main",{className:"flex items-center justify-center h-screen bg-[#FBF8F3] dark:bg-slate-900 text-slate-800 dark:text-slate-200",children:ae})}const Ee={entries:r,profile:y,loading:a,weather:N,uniqueJournals:G,refreshEntries:L,loadEntryContent:H,saveEntry:te,deleteEntry:ye,updateProfile:Ce,uploadAvatar:Pe,exportData:Le,theme:t,onToggleTheme:n,key:s,encryptBinary:d,session:e,signOut:Ae,registerSaveHandler:Q,isToolsPanelVisible:w,setToolsPanelVisible:x};return b.jsxs("div",{className:"h-screen w-screen flex flex-col font-sans bg-[#FBF8F3] dark:bg-slate-900",children:[b.jsx(yee,{isEditing:W.pathname.includes("/edit")||W.pathname.includes("/new"),onSave:()=>{Z.current?Z.current():console.warn("No save handler registered")},onCancel:()=>K(-1),currentDate:new Date,weather:N,theme:t,onToggleTheme:n,saveStatus:C,profile:y,onShowProfile:()=>K("/app/profile"),isToolsPanelVisible:w,onToggleToolsPanel:()=>x(ae=>!ae),isLeftSidebarVisible:g}),!g&&b.jsx(Ete,{onClick:()=>p(!0)}),g&&b.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-20 md:hidden",onClick:()=>p(!1),"aria-hidden":"true"}),b.jsxs("div",{className:`flex flex-1 overflow-hidden transition-all duration-300 ${g?"md:pl-64":"pl-0"} relative`,children:[b.jsx(JX,{isVisible:g,onClose:()=>p(!1),activeView:oe,onChangeView:ge,onNewEntry:()=>K("/app/new"),journals:G,activeJournal:he,onSelectJournal:ue}),b.jsx("main",{className:"flex-1 p-4 sm:p-6 md:p-8 overflow-y-auto min-w-0 w-full relative",children:b.jsx(B8,{context:Ee})})]}),b.jsx(kte,{isOpen:R,existingTags:(k==null?void 0:k.tags)||[],suggestedTags:O,onConfirm:J,onCancel:de})]})};function Ld(){return m8()}const Ste=({entries:e,onSelectEntry:t})=>e.length===0?null:b.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-slate-800/50 dark:to-slate-800/50 p-6 rounded-lg border border-indigo-200 dark:border-slate-700 shadow-sm",children:[b.jsxs("h3",{className:"text-lg font-bold text-indigo-800 dark:text-indigo-300 mb-4 flex items-center gap-2",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l-3-3m0 0l3-3m-3 3h9"})]}),"On This Day..."]}),b.jsx("div",{className:"space-y-3",children:e.map(n=>{const r=new Date(n.created_at).getFullYear(),i=new Date().getFullYear()-r;return b.jsxs("div",{onClick:()=>t(n.id),className:"bg-white/60 dark:bg-slate-700/50 p-3 rounded-md cursor-pointer hover:bg-white dark:hover:bg-slate-700 transition-colors flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:n.title}),b.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[i," year",i>1?"s":""," ago"]})]}),b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]},n.id)})})]}),PB=e=>{try{const t=new Date(e);return pee(t)?aB(t,{addSuffix:!0}):mee(t)?"Yesterday":hee(t,{weekStartsOn:0})?Kh(t,"EEEE"):Kh(t,"MMMM d, yyyy")}catch(t){return console.error("Error formatting date:",e,t),"Invalid date"}},Nte=e=>{try{const t=new Date(e);return Kh(t,"EEEE, MMMM d, yyyy 'at' p")}catch(t){return console.error("Error formatting full date:",e,t),"Invalid date"}},Ite=e=>{try{const t=new Date(e);return aB(t,{addSuffix:!0})}catch(t){return console.error("Error formatting relative time:",e,t),"Invalid time"}},Pte=({entry:e,onLoadContent:t})=>{const n=ie.useRef(null);ie.useEffect(()=>{if(e.isDecrypted||e.isLoading)return;const i=new IntersectionObserver(a=>{a[0].isIntersecting&&(t(e.id),i.disconnect())},{rootMargin:"100px"});return n.current&&i.observe(n.current),()=>i.disconnect()},[e.id,e.isDecrypted,e.isLoading,t]);const r=i=>new DOMParser().parseFromString(i,"text/html").body.textContent||"";return b.jsxs(Rh,{ref:n,to:`/app/entry/${e.id}`,className:"block bg-white/50 dark:bg-slate-800/50 p-6 rounded-lg shadow-sm hover:shadow-lg transition-shadow duration-300 cursor-pointer border border-slate-200 dark:border-slate-700 hover:border-indigo-300 dark:hover:border-indigo-600",children:[b.jsxs("div",{className:"flex justify-between items-start gap-4",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v11.494m0-11.494M12 6.253a4.093 4.093 0 00-3.32 6.19l-2.06 2.06a1 1 0 001.42 1.42l2.06-2.06A4.094 4.094 0 0012 17.747m0 0a4.093 4.093 0 003.32-6.19l2.06-2.06a1 1 0 00-1.42-1.42l-2.06 2.06A4.094 4.094 0 0012 6.253z"})}),b.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:e.journal||"Personal"})]}),e.isDecrypted?b.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:e.title||"Untitled"}):b.jsx("div",{className:"h-7 bg-slate-200 dark:bg-slate-700 rounded w-48 animate-pulse"})]}),b.jsxs("div",{className:"text-right flex-shrink-0",children:[b.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 whitespace-nowrap",title:new Date(e.created_at).toLocaleString(),children:PB(e.created_at)}),e.mood&&b.jsx("span",{className:"text-lg block mt-1","aria-label":`Mood: ${e.mood}`,children:e.mood})]})]}),e.tags&&e.tags.length>0&&b.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:e.tags.map(i=>b.jsx("span",{className:"text-xs font-medium bg-indigo-100 text-indigo-800 px-2 py-0.5 rounded-full dark:bg-indigo-900/50 dark:text-indigo-300",children:i},i))}),b.jsx("div",{className:"mt-3",children:e.isDecrypted?b.jsx("p",{className:"text-slate-600 dark:text-slate-300 line-clamp-2",children:r(e.content)}):b.jsxs("div",{className:"space-y-2 animate-pulse mt-2",children:[b.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),b.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]})})]})},Bte=({entries:e,onSelectEntry:t,onLoadContent:n,onThisDayEntries:r,profile:i,filteredDate:a,onClearFilter:o})=>e.length===0?a?b.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-20 w-20 text-slate-300 dark:text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 4h-4m-4-4h-4"})]}),b.jsxs("h2",{className:"mt-6 text-2xl font-bold text-slate-700 dark:text-slate-200",children:["No entries found for ",a.toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric"}),"."]}),b.jsx("button",{onClick:o,className:"mt-4 text-indigo-600 dark:text-indigo-400 hover:underline font-semibold",children:"Show All Entries"})]}):b.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-20 w-20 text-slate-300 dark:text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v11.494m-9-5.747h18"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]}),b.jsxs("h2",{className:"mt-6 text-3xl font-bold text-slate-700 dark:text-slate-200",children:["Welcome to Diary, ",(i==null?void 0:i.full_name)||"friend","!"]}),b.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"This is your private, encrypted space to reflect and record."}),b.jsx("p",{className:"mt-4 text-slate-500 dark:text-slate-400",children:'Click "New Entry" to write your first post.'})]}):b.jsxs("div",{className:"space-y-6",children:[a?b.jsxs("div",{className:"bg-indigo-50 dark:bg-slate-800/50 p-4 rounded-lg border border-indigo-200 dark:border-slate-700 flex justify-between items-center",children:[b.jsxs("h3",{className:"text-lg font-bold text-indigo-800 dark:text-indigo-300",children:["Showing entries for ",a.toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric"})]}),b.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-sm font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Show All"]})]}):b.jsx(Ste,{entries:r,onSelectEntry:t}),!a&&b.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:["Welcome back, ",(i==null?void 0:i.full_name)||"friend","!"]}),b.jsx("div",{className:"space-y-4",children:e.map(s=>b.jsx(Pte,{entry:s,onLoadContent:n},s.id))})]}),Tte=()=>{const{entries:e,loadEntryContent:t,profile:n}=Ld(),[r,i]=ie.useState(null),a=Uo(),o=Ns(),s=new URLSearchParams(a.search),l=s.get("journal"),u=s.get("date");ie.useEffect(()=>{if(u){const f=new Date(u);isNaN(f.getTime())||i(f)}else i(null)},[u]);const c=ie.useMemo(()=>{const f=new Date,v=f.getMonth(),y=f.getDate();return e.filter(A=>{const g=new Date(A.created_at);return g.getMonth()===v&&g.getDate()===y&&g.getFullYear()<f.getFullYear()}).sort((A,g)=>new Date(g.created_at).getTime()-new Date(A.created_at).getTime())},[e]);let d=e;if(l&&(d=d.filter(f=>(f.journal||"Personal")===l)),r){const f=r.toISOString().split("T")[0];d=d.filter(v=>{const y=new Date(v.created_at),A=y.getTimezoneOffset();return new Date(y.getTime()-A*60*1e3).toISOString().split("T")[0]===f})}const h=()=>{i(null),o("/app")};return b.jsx(Bte,{entries:d,onThisDayEntries:c,onSelectEntry:()=>{},onLoadContent:t,profile:n,filteredDate:r,onClearFilter:h})},Ote=({isOpen:e,onClose:t,date:n,hasEntries:r,onCreate:i,onView:a,position:o})=>{const s=ie.useRef(null),l=ie.useRef(null);if(ie.useEffect(()=>{const h=f=>{const v=f.target,y=s.current&&s.current.contains(v),A=l.current&&l.current.contains(v);!y&&!A&&t()};return e&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[e,t]),!e)return null;const u=n.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),c=b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm lg:hidden",onClick:t,children:b.jsxs("div",{ref:l,className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-sm overflow-hidden animate-fade-in-up",onClick:h=>h.stopPropagation(),children:[b.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[b.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:u}),b.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),b.jsxs("div",{className:"p-2 space-y-1",children:[r&&b.jsxs("button",{onClick:()=>a(n),className:"w-full text-left px-4 py-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-md flex items-center gap-3 text-slate-700 dark:text-slate-200 transition-colors",children:[b.jsx("span",{className:"bg-indigo-100 dark:bg-indigo-900/50 p-2 rounded-full text-indigo-600 dark:text-indigo-400",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),b.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium",children:"View Entries"}),b.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"See what you wrote on this day"})]})]}),b.jsxs("button",{onClick:()=>i(n),className:"w-full text-left px-4 py-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-md flex items-center gap-3 text-slate-700 dark:text-slate-200 transition-colors",children:[b.jsx("span",{className:"bg-emerald-100 dark:bg-emerald-900/50 p-2 rounded-full text-emerald-600 dark:text-emerald-400",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium",children:"New Entry"}),b.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Write a new diary entry"})]})]})]})]})}),d=b.jsxs("div",{ref:s,className:"hidden lg:block fixed z-50 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 w-64 overflow-hidden animate-scale-in origin-top-left",style:{top:(o==null?void 0:o.top)??0,left:(o==null?void 0:o.left)??0,transform:"translate(10px, 10px)"},children:[b.jsx("div",{className:"px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:u}),b.jsxs("div",{className:"p-1",children:[r&&b.jsxs("button",{onClick:()=>a(n),className:"w-full text-left px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md flex items-center gap-2 text-sm text-slate-700 dark:text-slate-200 transition-colors",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),b.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"View Entries"]}),b.jsxs("button",{onClick:()=>i(n),className:"w-full text-left px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md flex items-center gap-2 text-sm text-slate-700 dark:text-slate-200 transition-colors",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-emerald-500",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New Entry"]})]})]});return np.createPortal(b.jsxs(b.Fragment,{children:[c,d]}),document.body)},Ey=e=>new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().split("T")[0],jte=({entries:e,onSelectDate:t,onCreateEntry:n,onBack:r})=>{const[i,a]=ie.useState(new Date),[o,s]=ie.useState(null),[l,u]=ie.useState(void 0),c=ie.useMemo(()=>{const y=new Set;return e.forEach(A=>{y.add(Ey(new Date(A.created_at)))}),y},[e]),d=y=>{a(A=>{const g=new Date(A);return g.setMonth(g.getMonth()+y),g})},h=()=>b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("button",{onClick:()=>d(-1),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:"<"}),b.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:i.toLocaleString("default",{month:"long",year:"numeric"})}),b.jsx("button",{onClick:()=>d(1),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:">"})]}),f=()=>{const y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return b.jsx("div",{className:"grid grid-cols-7 gap-1 text-center font-semibold text-slate-500 dark:text-slate-400 text-sm",children:y.map(A=>b.jsx("div",{children:A},A))})},v=()=>{const y=new Date(i.getFullYear(),i.getMonth(),1),A=new Date(i.getFullYear(),i.getMonth()+1,0),g=new Date(y);g.setDate(g.getDate()-y.getDay());const p=new Date(A);p.setDate(p.getDate()+(6-A.getDay()));const w=[];let x=[],C=g;const D=new Date;for(D.setHours(0,0,0,0);C<=p;){for(let N=0;N<7;N++){const I=new Date(C),R=Ey(I),T=c.has(R),k=I>D,_=I.getMonth()===i.getMonth();x.push(b.jsxs("div",{className:`p-1 h-20 flex flex-col items-center justify-center rounded-lg transition-colors relative
              ${_?"text-slate-700 dark:text-slate-300":"text-slate-300 dark:text-slate-600"}
              ${T?"bg-indigo-100 hover:bg-indigo-200 dark:bg-indigo-500/20 dark:hover:bg-indigo-500/30":""}
              ${k?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50"}
              ${T&&!k?"hover:!bg-indigo-200 dark:hover:!bg-indigo-500/40":""}
            `,onClick:O=>{if(k)return;const j=O.currentTarget.getBoundingClientRect();u({top:j.bottom,left:j.left}),s(I)},children:[b.jsx("span",{className:`text-sm ${new Date().toDateString()===I.toDateString()?"bg-indigo-500 text-white rounded-full h-6 w-6 flex items-center justify-center":""}`,children:I.getDate()}),T&&b.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 dark:bg-indigo-400 rounded-full mt-1"})]},C.toString())),C.setDate(C.getDate()+1)}w.push(b.jsx("div",{className:"grid grid-cols-7 gap-1",children:x},C.toString())),x=[]}return b.jsx("div",{className:"space-y-1",children:w})};return b.jsxs("div",{className:"animate-fade-in",children:[b.jsx(Ote,{isOpen:!!o,onClose:()=>s(null),date:o||new Date,hasEntries:o?c.has(Ey(o)):!1,onCreate:y=>{s(null),n(y)},onView:y=>{s(null),t(y)},position:l}),b.jsxs("button",{onClick:r,className:"mb-6 flex items-center text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors group",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 transform group-hover:-translate-x-1 transition-transform",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Timeline"]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-md border border-slate-200 dark:border-slate-700",children:[h(),f(),b.jsx("div",{className:"mt-2",children:v()})]})]})},Dte=()=>{const{entries:e}=Ld(),t=Ns(),n=i=>{const a=i.getTimezoneOffset(),s=new Date(i.getTime()-a*60*1e3).toISOString().split("T")[0];t(`/app?date=${s}`)},r=i=>{const a=i.getTimezoneOffset(),s=new Date(i.getTime()-a*60*1e3).toISOString().split("T")[0];t(`/app/new?date=${s}`)};return b.jsx(jte,{entries:e,onSelectDate:n,onCreateEntry:r,onBack:()=>t("/app")})},Lte=["","","","","","","",""],Rte=({entries:e,onSelectEntry:t,onBack:n})=>{const[r,i]=ie.useState(""),[a,o]=ie.useState(null),[s,l]=ie.useState([]),[u,c]=ie.useState(""),[d,h]=ie.useState(""),[f,v]=ie.useState(!1),[y,A]=ie.useState(!1),[g,p]=ie.useState(!1),w=ie.useRef(null),x=ie.useRef(null),C=ie.useRef(null);ie.useEffect(()=>{const k=_=>{w.current&&!w.current.contains(_.target)&&v(!1),x.current&&!x.current.contains(_.target)&&A(!1),C.current&&!C.current.contains(_.target)&&p(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const D=ie.useMemo(()=>{const k=new Set;return e.forEach(_=>{var O;(O=_.tags)==null||O.forEach(j=>k.add(j))}),Array.from(k).sort()},[e]),N=k=>new DOMParser().parseFromString(k,"text/html").body.textContent||"",I=ie.useMemo(()=>r.trim()!==""||a||s.length>0||u||d?e.filter(_=>{const O=r.toLowerCase(),j=r.trim()===""||(_.title||"").toLowerCase().includes(O)||N(_.content||"").toLowerCase().includes(O),z=!a||_.mood===a,Z=s.length===0||s.every(K=>{var W;return(W=_.tags)==null?void 0:W.includes(K)});let ee=!0;if(u||d){const K=new Date(_.created_at);if(K.setHours(0,0,0,0),u){const W=new Date(u+"T00:00:00");K<W&&(ee=!1)}if(d){const W=new Date(d+"T00:00:00");K>W&&(ee=!1)}}return j&&z&&Z&&ee}):[],[e,r,a,s,u,d]),R=k=>{l(_=>_.includes(k)?_.filter(O=>O!==k):[..._,k])},T=r.trim()!==""||a||s.length>0||u||d;return b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("button",{onClick:n,className:"flex items-center text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors group",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 transform group-hover:-translate-x-1 transition-transform",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Timeline"]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md border border-slate-200 dark:border-slate-700",children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-4",children:"Search Past Entries"}),b.jsxs("div",{className:"relative",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 absolute left-4 top-1/2 -translate-y-1/2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),b.jsx("input",{type:"search",placeholder:"Search by keywords, title, or date...",value:r,onChange:k=>i(k.target.value),className:"w-full pl-11 pr-4 py-3 border border-slate-300 dark:border-slate-600 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base dark:bg-slate-700 dark:text-slate-200 dark:placeholder-slate-400","aria-label":"Search diary entries"})]}),b.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[b.jsxs("div",{className:"relative",ref:w,children:[b.jsxs("button",{onClick:()=>v(k=>!k),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-slate-100 dark:bg-slate-700 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),b.jsx("span",{children:"Date Range"})]}),f&&b.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-slate-800 p-4 rounded-lg shadow-xl border dark:border-slate-700 z-10 w-64 space-y-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"From"}),b.jsx("input",{type:"date",value:u,onChange:k=>c(k.target.value),className:"w-full mt-1 border border-slate-300 rounded-md p-1.5 text-sm dark:bg-slate-700 dark:border-slate-600 dark:[color-scheme:dark]"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"To"}),b.jsx("input",{type:"date",value:d,onChange:k=>h(k.target.value),className:"w-full mt-1 border border-slate-300 rounded-md p-1.5 text-sm dark:bg-slate-700 dark:border-slate-600 dark:[color-scheme:dark]"})]})]})]}),b.jsxs("div",{className:"relative",ref:x,children:[b.jsxs("button",{onClick:()=>A(k=>!k),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-slate-100 dark:bg-slate-700 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600",children:[a?b.jsx("span",{className:"text-lg",children:a}):b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a.5.5 S0 01.708 0 5 5 0 01-6.488 0 .5.5 0 01.708-.707A4 4 0 0013 12.5a.5.5 0 01.535.464z",clipRule:"evenodd"})}),b.jsx("span",{children:"Mood"})]}),y&&b.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-slate-800 p-2 rounded-lg shadow-xl border dark:border-slate-700 z-10 grid grid-cols-4 gap-2 w-64",children:Lte.map(k=>b.jsx("button",{type:"button",onClick:()=>{o(k===a?null:k),A(!1)},className:`text-3xl p-2 rounded-md transition-all ${a===k?"bg-indigo-100 dark:bg-indigo-500/50 scale-110":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:k},k))})]}),b.jsxs("div",{className:"relative",ref:C,children:[b.jsxs("button",{onClick:()=>p(k=>!k),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-slate-100 dark:bg-slate-700 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{d:"M5.5 16a3.5 3.5 0 01-3.5-3.5V5.5A3.5 3.5 0 015.5 2h5.086a2 2 0 011.414.586l4.414 4.414a2 2 0 01.586 1.414V12.5A3.5 3.5 0 0113.5 16h-8z"})}),b.jsx("span",{children:"Tags"})]}),g&&b.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-slate-800 p-3 rounded-lg shadow-xl border dark:border-slate-700 z-10 w-64 max-h-60 overflow-y-auto",children:D.length>0?b.jsx("div",{className:"flex flex-col gap-2",children:D.map(k=>b.jsxs("label",{className:"flex items-center gap-2 p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:s.includes(k),onChange:()=>R(k),className:"h-4 w-4 rounded text-indigo-600 focus:ring-indigo-500 border-slate-300 dark:border-slate-600 dark:bg-slate-900 dark:checked:bg-indigo-500"}),b.jsx("span",{className:"text-sm",children:k})]},k))}):b.jsx("p",{className:"text-sm text-slate-500",children:"No tags found."})})]})]})]}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-4",children:"Search Results"}),r.length>0&&b.jsx("p",{className:"text-xs text-slate-500 mb-4 bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded border border-yellow-200 dark:border-yellow-800",children:"Note: Text search only searches entries that have been viewed (decrypted) in this session. Tags and Moods search all entries."}),T?I.length>0?b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(k=>b.jsxs("div",{onClick:()=>t(k.id),className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow-sm hover:shadow-lg transition-shadow duration-300 cursor-pointer border border-slate-200 dark:border-slate-700 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-start gap-3",children:[k.isDecrypted?b.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 line-clamp-1",children:k.title}):b.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-3/4 animate-pulse"}),k.mood&&b.jsx("span",{className:"text-2xl","aria-label":`Mood: ${k.mood}`,children:k.mood})]}),b.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1 mb-3",title:new Date(k.created_at).toLocaleString(),children:PB(k.created_at)}),b.jsx("div",{className:"flex-grow",children:k.isDecrypted?b.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 line-clamp-3",children:N(k.content)}):b.jsxs("div",{className:"space-y-2 animate-pulse",children:[b.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-full"}),b.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]})})]},k.id))}):b.jsxs("div",{className:"text-center py-16",children:[b.jsx("h3",{className:"text-xl font-semibold text-slate-600 dark:text-slate-300",children:"No Entries Found"}),b.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Try adjusting your search or filter criteria."})]}):b.jsx("div",{className:"text-center py-16",children:b.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Use the search bar or filters above to find your entries."})})]})]})},Fte=()=>{const{entries:e}=Ld(),t=Ns();return b.jsx(Rte,{entries:e,onSelectEntry:n=>t(`/app/entry/${n}`),onBack:()=>t("/app")})};var Hk=!1,fu,M2,U2,N0,I0,BB,P0,z2,H2,G2,TB,Q2,q2,OB,jB;function Hi(){if(!Hk){Hk=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Q2=/\b(iPhone|iP[ao]d)/.exec(e),q2=/\b(iP[ao]d)/.exec(e),G2=/Android/i.exec(e),OB=/FBAN\/\w+;/i.exec(e),jB=/Mobile/i.exec(e),TB=!!/Win64/.exec(e),t){fu=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,fu&&document&&document.documentMode&&(fu=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);BB=r?parseFloat(r[1])+4:fu,M2=t[2]?parseFloat(t[2]):NaN,U2=t[3]?parseFloat(t[3]):NaN,N0=t[4]?parseFloat(t[4]):NaN,N0?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),I0=t&&t[1]?parseFloat(t[1]):NaN):I0=NaN}else fu=M2=U2=I0=N0=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);P0=i?parseFloat(i[1].replace("_",".")):!0}else P0=!1;z2=!!n[2],H2=!!n[3]}else P0=z2=H2=!1}}var $2={ie:function(){return Hi()||fu},ieCompatibilityMode:function(){return Hi()||BB>fu},ie64:function(){return $2.ie()&&TB},firefox:function(){return Hi()||M2},opera:function(){return Hi()||U2},webkit:function(){return Hi()||N0},safari:function(){return $2.webkit()},chrome:function(){return Hi()||I0},windows:function(){return Hi()||z2},osx:function(){return Hi()||P0},linux:function(){return Hi()||H2},iphone:function(){return Hi()||Q2},mobile:function(){return Hi()||Q2||q2||G2||jB},nativeApp:function(){return Hi()||OB},android:function(){return Hi()||G2},ipad:function(){return Hi()||q2}},Mte=$2,Ute=!!(typeof window<"u"&&window.document&&window.document.createElement),zte={canUseDOM:Ute},Hte=zte,DB=Hte,LB;DB.canUseDOM&&(LB=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Gte(e,t){if(!DB.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&LB&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Qte=Gte,qte=Mte,$te=Qte,Gk=10,Qk=40,qk=800;function RB(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*Gk,i=n*Gk,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=Qk,i*=Qk):(r*=qk,i*=qk)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}RB.getEventType=function(){return qte.firefox()?"DOMMouseScroll":$te("wheel")?"wheel":"mousewheel"};var Vte=RB,Wte=Vte;const Kte=Pm(Wte);function Yte(e,t,n,r,i,a){a===void 0&&(a=0);var o=kd(e,t,a),s=o.width,l=o.height,u=Math.min(s,n),c=Math.min(l,r);return u>c*i?{width:c*i,height:c}:{width:u,height:u/i}}function Jte(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Ff(e,t,n,r,i){i===void 0&&(i=0);var a=kd(t.width,t.height,i),o=a.width,s=a.height;return{x:$k(e.x,o,n.width,r),y:$k(e.y,s,n.height,r)}}function $k(e,t,n,r){var i=t*r/2-n/2;return u1(e,-i,i)}function Vk(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function Wk(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function Xte(e,t,n,r,i,a,o){a===void 0&&(a=0),o===void 0&&(o=!0);var s=o?Zte:ene,l=kd(t.width,t.height,a),u=kd(t.naturalWidth,t.naturalHeight,a),c={x:s(100,((l.width-n.width/i)/2-e.x/i)/l.width*100),y:s(100,((l.height-n.height/i)/2-e.y/i)/l.height*100),width:s(100,n.width/l.width*100/i),height:s(100,n.height/l.height*100/i)},d=Math.round(s(u.width,c.width*u.width/100)),h=Math.round(s(u.height,c.height*u.height/100)),f=u.width>=u.height*r,v=f?{width:Math.round(h*r),height:h}:{width:d,height:Math.round(d/r)},y=Er(Er({},v),{x:Math.round(s(u.width-v.width,c.x*u.width/100)),y:Math.round(s(u.height-v.height,c.y*u.height/100))});return{croppedAreaPercentages:c,croppedAreaPixels:y}}function Zte(e,t){return Math.min(e,Math.max(0,t))}function ene(e,t){return t}function tne(e,t,n,r,i,a){var o=kd(t.width,t.height,n),s=u1(r.width/o.width*(100/e.width),i,a),l={x:s*o.width/2-r.width/2-o.width*s*(e.x/100),y:s*o.height/2-r.height/2-o.height*s*(e.y/100)};return{crop:l,zoom:s}}function nne(e,t,n){var r=Jte(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}function rne(e,t,n,r,i,a){n===void 0&&(n=0);var o=kd(t.naturalWidth,t.naturalHeight,n),s=u1(nne(e,t,r),i,a),l=r.height>r.width?r.height/e.height:r.width/e.width,u={x:((o.width-e.width)/2-e.x)*l,y:((o.height-e.height)/2-e.y)*l};return{crop:u,zoom:s}}function Kk(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function ine(e){return e*Math.PI/180}function kd(e,t,n){var r=ine(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function u1(e,t,n){return Math.min(Math.max(e,t),n)}function Yg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var ane=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,one=1,sne=3,lne=1,une=function(e){nb(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=ie.createRef(),n.imageRef=ie.createRef(),n.videoRef=ie.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=tne(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=i.crop,o=i.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var s=rne(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=s.crop,o=s.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,a,o,s,l,u=n.imageRef.current||n.videoRef.current;if(u&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var c=n.containerRect.width/n.containerRect.height,d=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,h=((a=n.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,f=u.offsetWidth<d||u.offsetHeight<h,v=d/h,y=void 0;if(f)switch(n.state.mediaObjectFit){default:case"contain":y=c>v?{width:n.containerRect.height*v,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/v};break;case"horizontal-cover":y={width:n.containerRect.width,height:n.containerRect.width/v};break;case"vertical-cover":y={width:n.containerRect.height*v,height:n.containerRect.height};break}else y={width:u.offsetWidth,height:u.offsetHeight};n.mediaSize=Er(Er({},y),{naturalWidth:d,naturalHeight:h}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var A=n.props.cropSize?n.props.cropSize:Yte(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((s=n.state.cropSize)===null||s===void 0?void 0:s.height)!==A.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==A.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(A),n.setState({cropSize:A},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(A),A}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(t.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(t.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(t.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var i=t.getMousePoint(r),a=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(a,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,a,o=r.x,s=r.y;n.dragStartPosition={x:o,y:s},n.dragStartCrop=Er({},n.props.crop),(a=(i=n.props).onInteractionStart)===null||a===void 0||a.call(i)},n.onDrag=function(r){var i=r.x,a=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||a===void 0)){var o=i-n.dragStartPosition.x,s=a-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+s},u=n.props.restrictPosition?Ff(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(u)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=t.getMousePoint(r),a=Kte(r).pixelY,o=n.props.zoom-a*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var s,l;return(l=(s=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(s)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var s,l;return(l=(s=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(s)})},250)}},n.getPointOnContainer=function(r,i){var a=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(a-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,a=r.y,o=n.props,s=o.crop,l=o.zoom;return{x:(i+s.x)/l,y:(a+s.y)/l}},n.setNewZoom=function(r,i,a){var o=a===void 0?{}:a,s=o.shouldUpdatePosition,l=s===void 0?!0:s;if(!(!n.state.cropSize||!n.props.onZoomChange)){var u=u1(r,n.props.minZoom,n.props.maxZoom);if(l){var c=n.getPointOnContainer(i,n.containerPosition),d=n.getPointOnMedia(c),h={x:d.x*u-c.x,y:d.y*u-c.y},f=n.props.restrictPosition?Ff(h,n.mediaSize,n.state.cropSize,u,n.props.rotation):h;n.props.onCropChange(f)}n.props.onZoomChange(u)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Ff(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return Xte(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,a),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,a)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,a)}},n.recomputeCropPosition=function(){var r,i;if(n.state.cropSize){var a=n.props.crop;if(n.isInitialized&&(!((r=n.previousCropSize)===null||r===void 0)&&r.width)&&(!((i=n.previousCropSize)===null||i===void 0)&&i.height)){var o=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(o){var s=n.state.cropSize.width/n.previousCropSize.width,l=n.state.cropSize.height/n.previousCropSize.height;a={x:n.props.crop.x*s,y:n.props.crop.y*l}}}var u=n.props.restrictPosition?Ff(a,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):a;n.previousCropSize=n.state.cropSize,n.props.onCropChange(u),n.emitCropData()}},n.onKeyDown=function(r){var i,a,o=n.props,s=o.crop,l=o.onCropChange,u=o.keyboardStep,c=o.zoom,d=o.rotation,h=u;if(n.state.cropSize){r.shiftKey&&(h*=.2);var f=Er({},s);switch(r.key){case"ArrowUp":f.y-=h,r.preventDefault();break;case"ArrowDown":f.y+=h,r.preventDefault();break;case"ArrowLeft":f.x-=h,r.preventDefault();break;case"ArrowRight":f.x+=h,r.preventDefault();break;default:return}n.props.restrictPosition&&(f=Ff(f,n.mediaSize,n.state.cropSize,c,d)),r.repeat||(a=(i=n.props).onInteractionStart)===null||a===void 0||a.call(i),l(f)}},n.onKeyUp=function(r){var i,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(a=(i=n.props).onInteractionEnd)===null||a===void 0||a.call(i)},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=ane,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var r,i,a,o,s,l,u,c,d;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((a=n.cropSize)===null||a===void 0?void 0:a.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((s=n.crop)===null||s===void 0?void 0:s.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((u=n.crop)===null||u===void 0?void 0:u.y)!==((c=this.props.crop)===null||c===void 0?void 0:c.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((d=this.videoRef.current)===null||d===void 0||d.load());var h=this.getObjectFit();h!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:h},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},t.prototype.getObjectFit=function(){var n,r,i,a;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,u=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,c=l/u;return c<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var r=t.getTouchPoint(n.touches[0]),i=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=Vk(r,i),this.lastPinchRotation=Wk(r,i),this.onDragStart(Kk(r,i))},t.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=t.getTouchPoint(n.touches[0]),a=t.getTouchPoint(n.touches[1]),o=Kk(i,a);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=Vk(i,a),l=r.props.zoom*(s/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=s;var u=Wk(i,a),c=r.props.rotation+(u-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(c),r.lastPinchRotation=u})}},t.prototype.render=function(){var n=this,r,i=this.props,a=i.image,o=i.video,s=i.mediaProps,l=i.cropperProps,u=i.transform,c=i.crop,d=c.x,h=c.y,f=i.rotation,v=i.zoom,y=i.cropShape,A=i.showGrid,g=i.roundCropAreaPixels,p=i.style,w=p.containerStyle,x=p.cropAreaStyle,C=p.mediaStyle,D=i.classes,N=D.containerClassName,I=D.cropAreaClassName,R=D.mediaClassName,T=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return ie.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(_){return n.containerRef=_},"data-testid":"container",style:w,className:Yg("reactEasyCrop_Container",N)},a?ie.createElement("img",Er({alt:"",className:Yg("reactEasyCrop_Image",T==="contain"&&"reactEasyCrop_Contain",T==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",T==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",R)},s,{src:a,ref:this.imageRef,style:Er(Er({},C),{transform:u||"translate(".concat(d,"px, ").concat(h,"px) rotate(").concat(f,"deg) scale(").concat(v,")")}),onLoad:this.onMediaLoad})):o&&ie.createElement("video",Er({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Yg("reactEasyCrop_Video",T==="contain"&&"reactEasyCrop_Contain",T==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",T==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",R)},s,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Er(Er({},C),{transform:u||"translate(".concat(d,"px, ").concat(h,"px) rotate(").concat(f,"deg) scale(").concat(v,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(k){return ie.createElement("source",Er({key:k.src},k))})),this.state.cropSize&&ie.createElement("div",Er({ref:this.cropperRef,style:Er(Er({},x),{width:g?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:g?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Yg("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",A&&"reactEasyCrop_CropAreaGrid",I)},l)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:sne,minZoom:one,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:lne},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(ie.Component);const cne=e=>new Promise((t,n)=>{const r=new Image;r.addEventListener("load",()=>t(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=e});async function dne(e,t,n="image/jpeg"){const r=await cne(e),i=document.createElement("canvas"),a=i.getContext("2d");if(!a)throw new Error("No 2d context");return i.width=t.width,i.height=t.height,a.drawImage(r,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise((o,s)=>{i.toBlob(l=>{if(!l){s(new Error("Canvas is empty"));return}o(l)},n)})}const fne=({session:e,profile:t,onUpdateProfile:n,onAvatarUpload:r,onExportData:i,onSignOut:a,theme:o,onToggleTheme:s})=>{const[l,u]=ie.useState(""),[c,d]=ie.useState(!1),[h,f]=ie.useState(!1),[v,y]=ie.useState(!1),[A,g]=ie.useState(!1),[p,w]=ie.useState(""),[x,C]=ie.useState(!1),[D,N]=ie.useState(""),[I,R]=ie.useState(null),[T,k]=ie.useState(!1),[_,O]=ie.useState(!1),[j,z]=ie.useState(!1),[Z,ee]=ie.useState(!1),[K,W]=ie.useState(null),[Q,U]=ie.useState(null),[B,L]=ie.useState({x:0,y:0}),[H,G]=ie.useState(1),[M,V]=ie.useState(null),te=ie.useRef(null),{deriveAndVerifyKey:J,key:de}=Fu(),{addToast:ye}=Zm();ie.useEffect(()=>{u((t==null?void 0:t.full_name)||"")},[t==null?void 0:t.full_name]),ie.useEffect(()=>{(async()=>{const Ee=await IB();O(Ee);const ae=localStorage.getItem(`diary_bio_${e.user.id}`);z(!!ae)})()},[e.user.id]),ie.useEffect(()=>{let ge=!0;return(async()=>{if(!(t!=null&&t.avatar_url)){ge&&W(null);return}if(t.avatar_url.startsWith("http"))ge&&W(t.avatar_url);else try{const{data:ae,error:ke}=await ln.storage.from("avatars").createSignedUrl(t.avatar_url,3600);if(ke)throw ke;ge&&(ae!=null&&ae.signedUrl)&&W(ae.signedUrl)}catch(ae){console.error("Error resolving avatar URL. Check RLS policies.",ae),ge&&W(null)}})(),()=>{ge=!1}},[t==null?void 0:t.avatar_url]);const Ce=async ge=>{ge.preventDefault(),l.trim()!==(t==null?void 0:t.full_name)&&(y(!0),await n({full_name:l.trim()}),y(!1)),d(!1)},Pe=ge=>{if(ge.target.files&&ge.target.files.length>0){const Ee=ge.target.files[0],ae=URL.createObjectURL(Ee);U(ae),G(1),L({x:0,y:0}),ge.target.value=""}},Le=(ge,Ee)=>{V(Ee)},Ae=async()=>{if(!(!Q||!M))try{f(!0);const ge=await dne(Q,M),Ee=new File([ge],"avatar.jpg",{type:"image/jpeg"});await r(Ee),U(null),ye("Profile picture updated successfully","success")}catch(ge){console.error(ge),ye(ge.message||"Failed to update profile picture","error")}finally{f(!1)}},oe=()=>{U(null),f(!1)},Je=async()=>{g(!0),w("Preparing...");try{await i(ge=>w(ge))}catch(ge){console.error("Export failed",ge)}finally{g(!1),w("")}},he=async ge=>{ge.preventDefault(),R(null),k(!0);try{const Ee=await J(D,e.user.id);if(!Ee){R("Incorrect password."),k(!1);return}if(!t){R("Profile data unavailable."),k(!1);return}const ae=await hb(Ee);SB({email:e.user.email||"Unknown",password:D,salt:t.salt,rawKey:ae}),N(""),C(!1)}catch(Ee){console.error("Error generating kit:",Ee),R("An error occurred. Please try again.")}finally{k(!1)}},ue=async()=>{if(!de){ye("Encryption key not available. Please re-login.","error");return}if(ee(!0),j)localStorage.removeItem(`diary_bio_${e.user.id}`),z(!1),ye("Biometric unlock disabled.","info");else try{const ge=await wte(de,e.user.id);localStorage.setItem(`diary_bio_${e.user.id}`,JSON.stringify(ge)),z(!0),ye("Biometric unlock enabled successfully!","success")}catch(ge){console.error("Bio enable failed",ge),ye(ge.message||"Failed to enable biometrics.","error")}ee(!1)};return b.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 animate-fade-in pb-24",children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-8",children:"Profile & Settings"}),b.jsx("div",{className:"bg-white/50 dark:bg-slate-800/50 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:b.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[b.jsxs("div",{className:"relative flex-shrink-0",children:[b.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden flex items-center justify-center",children:K?b.jsx("img",{src:K,alt:"User avatar",className:"w-full h-full object-cover"}):b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),b.jsx("input",{ref:te,type:"file",id:"avatar-upload",className:"hidden",onChange:Pe,accept:"image/*"}),b.jsx("label",{htmlFor:"avatar-upload",className:"absolute -bottom-1 -right-1 bg-white dark:bg-slate-600 rounded-full p-1.5 cursor-pointer shadow-md hover:bg-slate-100 dark:hover:bg-slate-500 transition-colors",children:h?b.jsxs("svg",{className:"animate-spin h-5 w-5 text-slate-600 dark:text-slate-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-600 dark:text-slate-200",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),b.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]})})]}),b.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[c?b.jsxs("form",{onSubmit:Ce,className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",value:l,onChange:ge=>u(ge.target.value),className:"w-full px-3 py-2 text-xl font-bold border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 disabled:opacity-75",autoFocus:!0,disabled:v}),b.jsx("button",{type:"submit",className:"px-3 py-2 text-sm font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 disabled:bg-indigo-400",disabled:v,children:v?"Saving...":"Save"})]}):b.jsxs("div",{className:"flex items-center gap-3 justify-center sm:justify-start",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:(t==null?void 0:t.full_name)||"Your Name"}),b.jsx("button",{onClick:()=>d(!0),className:"p-1.5 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 flex-shrink-0 text-slate-500",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),b.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]})})]}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:e.user.email})]})]})}),b.jsxs("div",{className:"mt-8 space-y-4",children:[b.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Dark Mode"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Toggle between light and dark themes."})]}),b.jsx("button",{onClick:s,className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${o==="dark"?"bg-indigo-500":"bg-slate-300"}`,children:b.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${o==="dark"?"translate-x-6":"translate-x-1"}`})})]}),_&&b.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Biometric Unlock"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Use FaceID or TouchID to unlock your diary."})]}),b.jsx("button",{onClick:ue,disabled:Z,className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${j?"bg-green-500":"bg-slate-300"}`,children:b.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${j?"translate-x-6":"translate-x-1"}`})})]}),b.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Export Data (ZIP)"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Download entries as monthly JSON files."})]}),b.jsx("button",{onClick:Je,disabled:A,className:"px-4 py-2 text-sm font-semibold bg-slate-100 text-slate-700 rounded-md hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 min-w-[100px] justify-center",children:A?b.jsxs(b.Fragment,{children:[b.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b.jsx("span",{children:p})]}):"Export"})]}),b.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Recovery Kit"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Download a backup of your encryption keys."})]}),b.jsxs("button",{onClick:()=>C(!0),className:"px-4 py-2 text-sm font-semibold bg-yellow-100 text-yellow-800 rounded-md hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-200 dark:hover:bg-yellow-900/50 flex items-center gap-2",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"Backup Keys"]})]})]}),b.jsx("div",{className:"mt-12",children:b.jsx("button",{onClick:a,className:"w-full sm:w-auto px-6 py-2 font-semibold text-red-600 bg-red-100 rounded-md hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900/80 transition-colors",children:"Sign Out"})}),Q&&b.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/90 p-4 animate-fade-in",children:[b.jsx("div",{className:"relative w-full max-w-lg h-[400px] bg-slate-800 rounded-lg overflow-hidden mb-4",children:b.jsx(une,{image:Q,crop:B,zoom:H,aspect:1,onCropChange:L,onCropComplete:Le,onZoomChange:G,cropShape:"round",showGrid:!1})}),b.jsxs("div",{className:"w-full max-w-xs px-4 mb-6",children:[b.jsx("label",{className:"block text-xs text-slate-400 mb-1 text-center",children:"Zoom"}),b.jsx("input",{type:"range",value:H,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:ge=>G(Number(ge.target.value)),className:"w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:oe,disabled:h,className:"px-6 py-2 text-sm font-semibold text-slate-300 bg-slate-700 hover:bg-slate-600 rounded-md",children:"Cancel"}),b.jsx("button",{onClick:Ae,disabled:h,className:"px-6 py-2 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 rounded-md flex items-center gap-2",children:h?"Saving...":"Save Avatar"})]})]}),x&&b.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-xl w-full max-w-md border border-slate-200 dark:border-slate-700 animate-fade-in-down",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"Verify Identity"}),b.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"Please enter your master password to authenticate and generate your Recovery Kit. This will contain your raw encryption keys."}),b.jsxs("form",{onSubmit:he,children:[b.jsx("input",{type:"password",placeholder:"Your Password",value:D,onChange:ge=>N(ge.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200 mb-2",autoFocus:!0,autoComplete:"current-password"}),I&&b.jsx("p",{className:"text-red-500 text-sm mb-4",children:I}),b.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[b.jsx("button",{type:"button",onClick:()=>{C(!1),N(""),R(null)},className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-md dark:text-slate-300 dark:hover:bg-slate-700",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:T||!D,className:"px-4 py-2 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 rounded-md disabled:bg-indigo-400",children:T?"Generating...":"Download Kit"})]})]})]})})]})},hne=()=>{const{session:e,profile:t,updateProfile:n,uploadAvatar:r,exportData:i,signOut:a,theme:o,onToggleTheme:s}=Ld();return b.jsx(fne,{session:e,profile:t,onUpdateProfile:n,onAvatarUpload:r,onExportData:i,onSignOut:a,theme:o,onToggleTheme:s})};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:FB,setPrototypeOf:Yk,isFrozen:pne,getPrototypeOf:gne,getOwnPropertyDescriptor:mne}=Object;let{freeze:Ti,seal:Ha,create:V2}=Object,{apply:W2,construct:K2}=typeof Reflect<"u"&&Reflect;Ti||(Ti=function(t){return t});Ha||(Ha=function(t){return t});W2||(W2=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return t.apply(n,i)});K2||(K2=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const Jg=Oi(Array.prototype.forEach),vne=Oi(Array.prototype.lastIndexOf),Jk=Oi(Array.prototype.pop),Mf=Oi(Array.prototype.push),yne=Oi(Array.prototype.splice),B0=Oi(String.prototype.toLowerCase),ky=Oi(String.prototype.toString),_y=Oi(String.prototype.match),Uf=Oi(String.prototype.replace),Ane=Oi(String.prototype.indexOf),wne=Oi(String.prototype.trim),ro=Oi(Object.prototype.hasOwnProperty),Ci=Oi(RegExp.prototype.test),zf=bne(TypeError);function Oi(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return W2(e,t,r)}}function bne(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return K2(e,n)}}function Vt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B0;Yk&&Yk(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const a=n(i);a!==i&&(pne(t)||(t[r]=a),i=a)}e[i]=!0}return e}function xne(e){for(let t=0;t<e.length;t++)ro(e,t)||(e[t]=null);return e}function os(e){const t=V2(null);for(const[n,r]of FB(e))ro(e,n)&&(Array.isArray(r)?t[n]=xne(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=os(r):t[n]=r);return t}function Hf(e,t){for(;e!==null;){const r=mne(e,t);if(r){if(r.get)return Oi(r.get);if(typeof r.value=="function")return Oi(r.value)}e=gne(e)}function n(){return null}return n}const Xk=Ti(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Cy=Ti(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Sy=Ti(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ene=Ti(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ny=Ti(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),kne=Ti(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Zk=Ti(["#text"]),e_=Ti(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Iy=Ti(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),t_=Ti(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xg=Ti(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_ne=Ha(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Cne=Ha(/<%[\w\W]*|[\w\W]*%>/gm),Sne=Ha(/\$\{[\w\W]*/gm),Nne=Ha(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ine=Ha(/^aria-[\-\w]+$/),MB=Ha(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pne=Ha(/^(?:\w+script|data):/i),Bne=Ha(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UB=Ha(/^html$/i),Tne=Ha(/^[a-z][.\w]*(-[.\w]+)+$/i);var n_=Object.freeze({__proto__:null,ARIA_ATTR:Ine,ATTR_WHITESPACE:Bne,CUSTOM_ELEMENT:Tne,DATA_ATTR:Nne,DOCTYPE_NAME:UB,ERB_EXPR:Cne,IS_ALLOWED_URI:MB,IS_SCRIPT_OR_DATA:Pne,MUSTACHE_EXPR:_ne,TMPLIT_EXPR:Sne});const Gf={element:1,text:3,progressingInstruction:7,comment:8,document:9},One=function(){return typeof window>"u"?null:window},jne=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const a="dompurify"+(r?"#"+r:"");try{return t.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},r_=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function zB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:One();const t=$e=>zB($e);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==Gf.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:u,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:f}=e,v=l.prototype,y=Hf(v,"cloneNode"),A=Hf(v,"remove"),g=Hf(v,"nextSibling"),p=Hf(v,"childNodes"),w=Hf(v,"parentNode");if(typeof o=="function"){const $e=n.createElement("template");$e.content&&$e.content.ownerDocument&&(n=$e.content.ownerDocument)}let x,C="";const{implementation:D,createNodeIterator:N,createDocumentFragment:I,getElementsByTagName:R}=n,{importNode:T}=r;let k=r_();t.isSupported=typeof FB=="function"&&typeof w=="function"&&D&&D.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:_,ERB_EXPR:O,TMPLIT_EXPR:j,DATA_ATTR:z,ARIA_ATTR:Z,IS_SCRIPT_OR_DATA:ee,ATTR_WHITESPACE:K,CUSTOM_ELEMENT:W}=n_;let{IS_ALLOWED_URI:Q}=n_,U=null;const B=Vt({},[...Xk,...Cy,...Sy,...Ny,...Zk]);let L=null;const H=Vt({},[...e_,...Iy,...t_,...Xg]);let G=Object.seal(V2(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),M=null,V=null;const te=Object.seal(V2(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let J=!0,de=!0,ye=!1,Ce=!0,Pe=!1,Le=!0,Ae=!1,oe=!1,Je=!1,he=!1,ue=!1,ge=!1,Ee=!0,ae=!1;const ke="user-content-";let Te=!0,Be=!1,Ke={},nt=null;const Ze=Vt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let rt=null;const Xe=Vt({},["audio","video","img","source","image","track"]);let Ue=null;const yt=Vt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",Ht="http://www.w3.org/2000/svg",Et="http://www.w3.org/1999/xhtml";let Ot=Et,on=!1,Ct=null;const Lr=Vt({},[dt,Ht,Et],ky);let Zt=Vt({},["mi","mo","mn","ms","mtext"]),er=Vt({},["annotation-xml"]);const Rr=Vt({},["title","style","font","a","script"]);let hn=null;const Bt=["application/xhtml+xml","text/html"],en="text/html";let mn=null,vn=null;const Kr=n.createElement("form"),wi=function(ce){return ce instanceof RegExp||ce instanceof Function},At=function(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(vn&&vn===ce)){if((!ce||typeof ce!="object")&&(ce={}),ce=os(ce),hn=Bt.indexOf(ce.PARSER_MEDIA_TYPE)===-1?en:ce.PARSER_MEDIA_TYPE,mn=hn==="application/xhtml+xml"?ky:B0,U=ro(ce,"ALLOWED_TAGS")?Vt({},ce.ALLOWED_TAGS,mn):B,L=ro(ce,"ALLOWED_ATTR")?Vt({},ce.ALLOWED_ATTR,mn):H,Ct=ro(ce,"ALLOWED_NAMESPACES")?Vt({},ce.ALLOWED_NAMESPACES,ky):Lr,Ue=ro(ce,"ADD_URI_SAFE_ATTR")?Vt(os(yt),ce.ADD_URI_SAFE_ATTR,mn):yt,rt=ro(ce,"ADD_DATA_URI_TAGS")?Vt(os(Xe),ce.ADD_DATA_URI_TAGS,mn):Xe,nt=ro(ce,"FORBID_CONTENTS")?Vt({},ce.FORBID_CONTENTS,mn):Ze,M=ro(ce,"FORBID_TAGS")?Vt({},ce.FORBID_TAGS,mn):os({}),V=ro(ce,"FORBID_ATTR")?Vt({},ce.FORBID_ATTR,mn):os({}),Ke=ro(ce,"USE_PROFILES")?ce.USE_PROFILES:!1,J=ce.ALLOW_ARIA_ATTR!==!1,de=ce.ALLOW_DATA_ATTR!==!1,ye=ce.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=ce.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Pe=ce.SAFE_FOR_TEMPLATES||!1,Le=ce.SAFE_FOR_XML!==!1,Ae=ce.WHOLE_DOCUMENT||!1,he=ce.RETURN_DOM||!1,ue=ce.RETURN_DOM_FRAGMENT||!1,ge=ce.RETURN_TRUSTED_TYPE||!1,Je=ce.FORCE_BODY||!1,Ee=ce.SANITIZE_DOM!==!1,ae=ce.SANITIZE_NAMED_PROPS||!1,Te=ce.KEEP_CONTENT!==!1,Be=ce.IN_PLACE||!1,Q=ce.ALLOWED_URI_REGEXP||MB,Ot=ce.NAMESPACE||Et,Zt=ce.MATHML_TEXT_INTEGRATION_POINTS||Zt,er=ce.HTML_INTEGRATION_POINTS||er,G=ce.CUSTOM_ELEMENT_HANDLING||{},ce.CUSTOM_ELEMENT_HANDLING&&wi(ce.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=ce.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ce.CUSTOM_ELEMENT_HANDLING&&wi(ce.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=ce.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ce.CUSTOM_ELEMENT_HANDLING&&typeof ce.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(G.allowCustomizedBuiltInElements=ce.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pe&&(de=!1),ue&&(he=!0),Ke&&(U=Vt({},Zk),L=[],Ke.html===!0&&(Vt(U,Xk),Vt(L,e_)),Ke.svg===!0&&(Vt(U,Cy),Vt(L,Iy),Vt(L,Xg)),Ke.svgFilters===!0&&(Vt(U,Sy),Vt(L,Iy),Vt(L,Xg)),Ke.mathMl===!0&&(Vt(U,Ny),Vt(L,t_),Vt(L,Xg))),ce.ADD_TAGS&&(typeof ce.ADD_TAGS=="function"?te.tagCheck=ce.ADD_TAGS:(U===B&&(U=os(U)),Vt(U,ce.ADD_TAGS,mn))),ce.ADD_ATTR&&(typeof ce.ADD_ATTR=="function"?te.attributeCheck=ce.ADD_ATTR:(L===H&&(L=os(L)),Vt(L,ce.ADD_ATTR,mn))),ce.ADD_URI_SAFE_ATTR&&Vt(Ue,ce.ADD_URI_SAFE_ATTR,mn),ce.FORBID_CONTENTS&&(nt===Ze&&(nt=os(nt)),Vt(nt,ce.FORBID_CONTENTS,mn)),Te&&(U["#text"]=!0),Ae&&Vt(U,["html","head","body"]),U.table&&(Vt(U,["tbody"]),delete M.tbody),ce.TRUSTED_TYPES_POLICY){if(typeof ce.TRUSTED_TYPES_POLICY.createHTML!="function")throw zf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ce.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw zf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=ce.TRUSTED_TYPES_POLICY,C=x.createHTML("")}else x===void 0&&(x=jne(f,i)),x!==null&&typeof C=="string"&&(C=x.createHTML(""));Ti&&Ti(ce),vn=ce}},fe=Vt({},[...Cy,...Sy,...Ene]),be=Vt({},[...Ny,...kne]),Ie=function(ce){let Qe=w(ce);(!Qe||!Qe.tagName)&&(Qe={namespaceURI:Ot,tagName:"template"});const st=B0(ce.tagName),qt=B0(Qe.tagName);return Ct[ce.namespaceURI]?ce.namespaceURI===Ht?Qe.namespaceURI===Et?st==="svg":Qe.namespaceURI===dt?st==="svg"&&(qt==="annotation-xml"||Zt[qt]):!!fe[st]:ce.namespaceURI===dt?Qe.namespaceURI===Et?st==="math":Qe.namespaceURI===Ht?st==="math"&&er[qt]:!!be[st]:ce.namespaceURI===Et?Qe.namespaceURI===Ht&&!er[qt]||Qe.namespaceURI===dt&&!Zt[qt]?!1:!be[st]&&(Rr[st]||!fe[st]):!!(hn==="application/xhtml+xml"&&Ct[ce.namespaceURI]):!1},je=function(ce){Mf(t.removed,{element:ce});try{w(ce).removeChild(ce)}catch{A(ce)}},Ge=function(ce,Qe){try{Mf(t.removed,{attribute:Qe.getAttributeNode(ce),from:Qe})}catch{Mf(t.removed,{attribute:null,from:Qe})}if(Qe.removeAttribute(ce),ce==="is")if(he||ue)try{je(Qe)}catch{}else try{Qe.setAttribute(ce,"")}catch{}},ut=function(ce){let Qe=null,st=null;if(Je)ce="<remove></remove>"+ce;else{const _n=_y(ce,/^[\r\n\t ]+/);st=_n&&_n[0]}hn==="application/xhtml+xml"&&Ot===Et&&(ce='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ce+"</body></html>");const qt=x?x.createHTML(ce):ce;if(Ot===Et)try{Qe=new h().parseFromString(qt,hn)}catch{}if(!Qe||!Qe.documentElement){Qe=D.createDocument(Ot,"template",null);try{Qe.documentElement.innerHTML=on?C:qt}catch{}}const cn=Qe.body||Qe.documentElement;return ce&&st&&cn.insertBefore(n.createTextNode(st),cn.childNodes[0]||null),Ot===Et?R.call(Qe,Ae?"html":"body")[0]:Ae?Qe.documentElement:cn},wt=function(ce){return N.call(ce.ownerDocument||ce,ce,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},it=function(ce){return ce instanceof d&&(typeof ce.nodeName!="string"||typeof ce.textContent!="string"||typeof ce.removeChild!="function"||!(ce.attributes instanceof c)||typeof ce.removeAttribute!="function"||typeof ce.setAttribute!="function"||typeof ce.namespaceURI!="string"||typeof ce.insertBefore!="function"||typeof ce.hasChildNodes!="function")},ot=function(ce){return typeof s=="function"&&ce instanceof s};function Ye($e,ce,Qe){Jg($e,st=>{st.call(t,ce,Qe,vn)})}const lt=function(ce){let Qe=null;if(Ye(k.beforeSanitizeElements,ce,null),it(ce))return je(ce),!0;const st=mn(ce.nodeName);if(Ye(k.uponSanitizeElement,ce,{tagName:st,allowedTags:U}),Le&&ce.hasChildNodes()&&!ot(ce.firstElementChild)&&Ci(/<[/\w!]/g,ce.innerHTML)&&Ci(/<[/\w!]/g,ce.textContent)||ce.nodeType===Gf.progressingInstruction||Le&&ce.nodeType===Gf.comment&&Ci(/<[/\w]/g,ce.data))return je(ce),!0;if(!(te.tagCheck instanceof Function&&te.tagCheck(st))&&(!U[st]||M[st])){if(!M[st]&&St(st)&&(G.tagNameCheck instanceof RegExp&&Ci(G.tagNameCheck,st)||G.tagNameCheck instanceof Function&&G.tagNameCheck(st)))return!1;if(Te&&!nt[st]){const qt=w(ce)||ce.parentNode,cn=p(ce)||ce.childNodes;if(cn&&qt){const _n=cn.length;for(let Bn=_n-1;Bn>=0;--Bn){const sr=y(cn[Bn],!0);sr.__removalCount=(ce.__removalCount||0)+1,qt.insertBefore(sr,g(ce))}}}return je(ce),!0}return ce instanceof l&&!Ie(ce)||(st==="noscript"||st==="noembed"||st==="noframes")&&Ci(/<\/no(script|embed|frames)/i,ce.innerHTML)?(je(ce),!0):(Pe&&ce.nodeType===Gf.text&&(Qe=ce.textContent,Jg([_,O,j],qt=>{Qe=Uf(Qe,qt," ")}),ce.textContent!==Qe&&(Mf(t.removed,{element:ce.cloneNode()}),ce.textContent=Qe)),Ye(k.afterSanitizeElements,ce,null),!1)},bt=function(ce,Qe,st){if(Ee&&(Qe==="id"||Qe==="name")&&(st in n||st in Kr))return!1;if(!(de&&!V[Qe]&&Ci(z,Qe))){if(!(J&&Ci(Z,Qe))){if(!(te.attributeCheck instanceof Function&&te.attributeCheck(Qe,ce))){if(!L[Qe]||V[Qe]){if(!(St(ce)&&(G.tagNameCheck instanceof RegExp&&Ci(G.tagNameCheck,ce)||G.tagNameCheck instanceof Function&&G.tagNameCheck(ce))&&(G.attributeNameCheck instanceof RegExp&&Ci(G.attributeNameCheck,Qe)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(Qe,ce))||Qe==="is"&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&Ci(G.tagNameCheck,st)||G.tagNameCheck instanceof Function&&G.tagNameCheck(st))))return!1}else if(!Ue[Qe]){if(!Ci(Q,Uf(st,K,""))){if(!((Qe==="src"||Qe==="xlink:href"||Qe==="href")&&ce!=="script"&&Ane(st,"data:")===0&&rt[ce])){if(!(ye&&!Ci(ee,Uf(st,K,"")))){if(st)return!1}}}}}}}return!0},St=function(ce){return ce!=="annotation-xml"&&_y(ce,W)},un=function(ce){Ye(k.beforeSanitizeAttributes,ce,null);const{attributes:Qe}=ce;if(!Qe||it(ce))return;const st={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:L,forceKeepAttr:void 0};let qt=Qe.length;for(;qt--;){const cn=Qe[qt],{name:_n,namespaceURI:Bn,value:sr}=cn,bi=mn(_n),Li=sr;let kt=_n==="value"?Li:wne(Li);if(st.attrName=bi,st.attrValue=kt,st.keepAttr=!0,st.forceKeepAttr=void 0,Ye(k.uponSanitizeAttribute,ce,st),kt=st.attrValue,ae&&(bi==="id"||bi==="name")&&(Ge(_n,ce),kt=ke+kt),Le&&Ci(/((--!?|])>)|<\/(style|title|textarea)/i,kt)){Ge(_n,ce);continue}if(bi==="attributename"&&_y(kt,"href")){Ge(_n,ce);continue}if(st.forceKeepAttr)continue;if(!st.keepAttr){Ge(_n,ce);continue}if(!Ce&&Ci(/\/>/i,kt)){Ge(_n,ce);continue}Pe&&Jg([_,O,j],Yi=>{kt=Uf(kt,Yi," ")});const pn=mn(ce.nodeName);if(!bt(pn,bi,kt)){Ge(_n,ce);continue}if(x&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Bn)switch(f.getAttributeType(pn,bi)){case"TrustedHTML":{kt=x.createHTML(kt);break}case"TrustedScriptURL":{kt=x.createScriptURL(kt);break}}if(kt!==Li)try{Bn?ce.setAttributeNS(Bn,_n,kt):ce.setAttribute(_n,kt),it(ce)?je(ce):Jk(t.removed)}catch{Ge(_n,ce)}}Ye(k.afterSanitizeAttributes,ce,null)},Yt=function $e(ce){let Qe=null;const st=wt(ce);for(Ye(k.beforeSanitizeShadowDOM,ce,null);Qe=st.nextNode();)Ye(k.uponSanitizeShadowNode,Qe,null),lt(Qe),un(Qe),Qe.content instanceof a&&$e(Qe.content);Ye(k.afterSanitizeShadowDOM,ce,null)};return t.sanitize=function($e){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qe=null,st=null,qt=null,cn=null;if(on=!$e,on&&($e="<!-->"),typeof $e!="string"&&!ot($e))if(typeof $e.toString=="function"){if($e=$e.toString(),typeof $e!="string")throw zf("dirty is not a string, aborting")}else throw zf("toString is not a function");if(!t.isSupported)return $e;if(oe||At(ce),t.removed=[],typeof $e=="string"&&(Be=!1),Be){if($e.nodeName){const sr=mn($e.nodeName);if(!U[sr]||M[sr])throw zf("root node is forbidden and cannot be sanitized in-place")}}else if($e instanceof s)Qe=ut("<!---->"),st=Qe.ownerDocument.importNode($e,!0),st.nodeType===Gf.element&&st.nodeName==="BODY"||st.nodeName==="HTML"?Qe=st:Qe.appendChild(st);else{if(!he&&!Pe&&!Ae&&$e.indexOf("<")===-1)return x&&ge?x.createHTML($e):$e;if(Qe=ut($e),!Qe)return he?null:ge?C:""}Qe&&Je&&je(Qe.firstChild);const _n=wt(Be?$e:Qe);for(;qt=_n.nextNode();)lt(qt),un(qt),qt.content instanceof a&&Yt(qt.content);if(Be)return $e;if(he){if(ue)for(cn=I.call(Qe.ownerDocument);Qe.firstChild;)cn.appendChild(Qe.firstChild);else cn=Qe;return(L.shadowroot||L.shadowrootmode)&&(cn=T.call(r,cn,!0)),cn}let Bn=Ae?Qe.outerHTML:Qe.innerHTML;return Ae&&U["!doctype"]&&Qe.ownerDocument&&Qe.ownerDocument.doctype&&Qe.ownerDocument.doctype.name&&Ci(UB,Qe.ownerDocument.doctype.name)&&(Bn="<!DOCTYPE "+Qe.ownerDocument.doctype.name+`>
`+Bn),Pe&&Jg([_,O,j],sr=>{Bn=Uf(Bn,sr," ")}),x&&ge?x.createHTML(Bn):Bn},t.setConfig=function(){let $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};At($e),oe=!0},t.clearConfig=function(){vn=null,oe=!1},t.isValidAttribute=function($e,ce,Qe){vn||At({});const st=mn($e),qt=mn(ce);return bt(st,qt,Qe)},t.addHook=function($e,ce){typeof ce=="function"&&Mf(k[$e],ce)},t.removeHook=function($e,ce){if(ce!==void 0){const Qe=vne(k[$e],ce);return Qe===-1?void 0:yne(k[$e],Qe,1)[0]}return Jk(k[$e])},t.removeHooks=function($e){k[$e]=[]},t.removeAllHooks=function(){k=r_()},t}var Py=zB();const Dne=({path:e,iv:t,mimeType:n="audio/webm"})=>{const{key:r,decryptBinary:i}=Fu(),[a,o]=ie.useState(null),[s,l]=ie.useState("idle"),u=ie.useRef(null),c=async()=>{if(r){l("loading");try{const{data:d,error:h}=await ln.storage.from("diary-audio").download(e);if(h)throw h;l("decrypting");const f=await d.arrayBuffer(),v=await i(r,f,t),y=new Blob([v],{type:n}),A=URL.createObjectURL(y);o(A),l("ready")}catch(d){console.error("Error loading secure audio:",d),l("error")}}};return ie.useEffect(()=>()=>{a&&URL.revokeObjectURL(a)},[a]),s==="idle"?b.jsxs("button",{onClick:c,className:"flex items-center gap-3 bg-indigo-50 dark:bg-slate-700 px-4 py-3 rounded-lg border border-indigo-100 dark:border-slate-600 hover:bg-indigo-100 dark:hover:bg-slate-600 transition-colors w-full sm:w-auto",children:[b.jsx("div",{className:"p-2 bg-indigo-500 rounded-full text-white",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})}),b.jsxs("div",{className:"text-left",children:[b.jsx("span",{className:"block text-sm font-semibold text-indigo-900 dark:text-indigo-100",children:"Load Audio Memory"}),b.jsx("span",{className:"block text-xs text-indigo-600 dark:text-slate-400",children:"Encrypted"})]})]}):s==="loading"||s==="decrypting"?b.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 dark:bg-slate-800 px-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 w-full sm:w-auto animate-pulse",children:[b.jsxs("svg",{className:"animate-spin h-5 w-5 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:s==="loading"?"Downloading...":"Decrypting..."})]}):s==="error"?b.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),b.jsx("span",{children:"Failed to load audio."})]}):b.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-3 rounded-lg border border-slate-200 dark:border-slate-700 w-full",children:b.jsx("audio",{ref:u,controls:!0,className:"w-full h-8 focus:outline-none",src:a})})},Lne=({src:e,onClose:t})=>(ie.useEffect(()=>{const n=r=>{r.key==="Escape"&&t()};return e&&(window.addEventListener("keydown",n),document.body.style.overflow="hidden"),()=>{window.removeEventListener("keydown",n),document.body.style.overflow=""}},[e,t]),e?b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 animate-fade-in backdrop-blur-sm",onClick:t,children:[b.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white transition-colors","aria-label":"Close",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),b.jsx("div",{className:"relative max-w-5xl max-h-[90vh] w-full p-4 flex items-center justify-center",onClick:n=>n.stopPropagation(),children:b.jsx("img",{src:e,alt:"Expanded view",className:"max-w-full max-h-[85vh] object-contain rounded-md shadow-2xl"})})]}):null),Rne=({entry:e,onEdit:t,onDelete:n,onBack:r})=>{const i=Nte(e.created_at),a=Ite(e.created_at),o=ie.useRef(null),{key:s,decryptBinary:l}=Fu(),[u,c]=ie.useState(null);ie.useEffect(()=>{const y=async()=>{if(!o.current||!s)return;const A=o.current.querySelectorAll("img.secure-diary-image");for(let g=0;g<A.length;g++){const p=A[g],w=p.getAttribute("data-secure-metadata")||p.getAttribute("alt");if(w&&!p.src.startsWith("blob:"))try{const x=JSON.parse(w);if(x.path&&x.iv){p.style.opacity="0.5",p.style.transition="opacity 0.3s",p.style.cursor="zoom-in";const{data:C,error:D}=await ln.storage.from("diary-images").createSignedUrl(x.path,60);if(D)throw console.error("RLS Error: Could not sign URL. Check your Supabase policies.",D),D;const N=await fetch(C.signedUrl);if(!N.ok)throw new Error(`Failed to fetch image blob: ${N.status}`);const I=await N.arrayBuffer(),R=await l(s,I,x.iv),T=new Blob([R],{type:"image/webp"}),k=URL.createObjectURL(T);p.src=k,p.style.opacity="1"}}catch(x){console.error("Failed to decrypt image:",x),p.style.border="2px solid red",p.title="Decryption failed"}}};return e.isDecrypted&&y(),()=>{o.current&&o.current.querySelectorAll("img.secure-diary-image").forEach(g=>{const p=g.src;p.startsWith("blob:")&&URL.revokeObjectURL(p)})}},[e.isDecrypted,e.content,s,l]);const d=y=>{const A=y.target;if(A.tagName==="IMG"&&A.classList.contains("secure-diary-image")){const g=A.src;g&&g.startsWith("blob:")&&c(g)}};if(!e.isDecrypted)return b.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-lg shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in flex items-center justify-center min-h-[300px]",children:b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("svg",{className:"animate-spin h-10 w-10 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Decrypting entry..."})]})});const h=["width","float","margin","margin-left","margin-right","margin-top","margin-bottom","text-align","opacity","transition"];Py.addHook("afterSanitizeAttributes",y=>{if(y instanceof Element&&y.hasAttribute("style")){const g=(y.getAttribute("style")||"").split(";").filter(p=>{if(!p.includes(":"))return!1;const w=p.split(":")[0].trim();return w&&h.includes(w)}).join(";");g?y.setAttribute("style",g):y.removeAttribute("style")}});const f=Py.sanitize(e.content,{ADD_TAGS:["img","figure","figcaption"],ADD_ATTR:["style","class","alt","data-secure-metadata","contenteditable"]});Py.removeHook("afterSanitizeAttributes");const v=e.audio?Array.isArray(e.audio)?e.audio:[e.audio]:[];return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-lg shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in",children:[b.jsxs("button",{onClick:r,className:"mb-6 flex items-center text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors group",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 transform group-hover:-translate-x-1 transition-transform",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Timeline"]}),b.jsxs("div",{className:"border-b border-slate-200 dark:border-slate-700 pb-4 mb-4",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:e.title}),b.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[i," (",a,")"]})]}),b.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.mood&&b.jsx("span",{className:"text-3xl","aria-label":`Mood: ${e.mood}`,children:e.mood}),e.tags&&e.tags.length>0&&b.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(y=>b.jsx("span",{className:"text-sm font-medium bg-indigo-100 text-indigo-800 px-2.5 py-1 rounded-full dark:bg-indigo-900/50 dark:text-indigo-300",children:y},y))})]})]}),v.length>0&&b.jsx("div",{className:"my-6 space-y-3",children:v.map((y,A)=>b.jsx(Dne,{path:y.path,iv:y.iv,mimeType:y.type},y.id||A))}),b.jsx("div",{ref:o,onClick:d,className:"prose prose-slate dark:prose-invert max-w-none my-6 diary-content",dangerouslySetInnerHTML:{__html:f}}),b.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-6 flex justify-end gap-3",children:[b.jsxs("button",{onClick:t,className:"flex items-center gap-2 bg-slate-100 text-slate-700 font-semibold px-4 py-2 rounded-lg hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 transition-colors",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[b.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),b.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),"Edit"]}),b.jsxs("button",{onClick:n,className:"flex items-center gap-2 bg-red-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Delete"]})]})]}),b.jsx(Lne,{src:u,onClose:()=>c(null)})]})},HB=({isOpen:e,title:t,message:n,confirmLabel:r="Confirm",cancelLabel:i="Cancel",onConfirm:a,onCancel:o,onClose:s,type:l="warning",isProcessing:u=!1})=>{if(!e)return null;const c=o||s||(()=>{}),h={danger:{iconBg:"bg-red-100 dark:bg-red-900/30",iconColor:"text-red-600 dark:text-red-400",buttonBg:"bg-red-600 hover:bg-red-700 focus:ring-red-500",icon:b.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})},warning:{iconBg:"bg-yellow-100 dark:bg-yellow-900/30",iconColor:"text-yellow-600 dark:text-yellow-400",buttonBg:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",icon:b.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})},info:{iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400",buttonBg:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",icon:b.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}}[l];return b.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:b.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[b.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:u?void 0:c}),b.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),b.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-slate-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[b.jsx("div",{className:"bg-white dark:bg-slate-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:b.jsxs("div",{className:"sm:flex sm:items-start",children:[b.jsx("div",{className:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ${h.iconBg} sm:mx-0 sm:h-10 sm:w-10`,children:b.jsx("div",{className:h.iconColor,children:h.icon})}),b.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[b.jsx("h3",{className:"text-lg leading-6 font-medium text-slate-900 dark:text-slate-100",id:"modal-title",children:t}),b.jsx("div",{className:"mt-2",children:b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n})})]})]})}),b.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[b.jsxs("button",{type:"button",disabled:u,className:`w-full inline-flex justify-center items-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white ${h.buttonBg} focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 sm:ml-3 sm:w-auto sm:text-sm`,onClick:a,children:[u&&b.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),r]}),b.jsx("button",{type:"button",disabled:u,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-slate-600 shadow-sm px-4 py-2 bg-white dark:bg-slate-800 text-base font-medium text-slate-700 dark:text-slate-200 hover:bg-gray-50 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:c,children:i})]})]})]})})},Fne=()=>{const{id:e}=iN(),{entries:t,loadEntryContent:n,deleteEntry:r,loading:i}=Ld(),a=Ns(),[o,s]=ie.useState(null),[l,u]=ie.useState(!1),[c,d]=ie.useState(!1);ie.useEffect(()=>{if(e&&t.length>0){const f=t.find(v=>v.id===e);f&&(s(f),!f.isDecrypted&&!f.isLoading&&n(e))}},[e,t,n]);const h=async()=>{if(o){d(!0);try{await r(o.id)}catch{d(!1)}}};return i?b.jsx("p",{className:"text-center p-8 text-slate-500",children:"Loading entry..."}):o?b.jsxs(b.Fragment,{children:[b.jsx(Rne,{entry:o,onEdit:()=>a(`/app/edit/${o.id}`),onDelete:()=>u(!0),onBack:()=>a("/app")}),b.jsx(HB,{isOpen:l,isProcessing:c,onClose:()=>u(!1),onConfirm:h,title:"Delete Entry?",message:"Are you sure you want to permanently delete this entry? This action cannot be undone."})]}):b.jsx("p",{className:"text-center p-8 text-slate-500",children:"Entry not found."})};function Mne(){this.__data__=[],this.size=0}var Une=Mne;function zne(e,t){return e===t||e!==e&&t!==t}var GB=zne,Hne=GB;function Gne(e,t){for(var n=e.length;n--;)if(Hne(e[n][0],t))return n;return-1}var c1=Gne,Qne=c1,qne=Array.prototype,$ne=qne.splice;function Vne(e){var t=this.__data__,n=Qne(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():$ne.call(t,n,1),--this.size,!0}var Wne=Vne,Kne=c1;function Yne(e){var t=this.__data__,n=Kne(t,e);return n<0?void 0:t[n][1]}var Jne=Yne,Xne=c1;function Zne(e){return Xne(this.__data__,e)>-1}var ere=Zne,tre=c1;function nre(e,t){var n=this.__data__,r=tre(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var rre=nre,ire=Une,are=Wne,ore=Jne,sre=ere,lre=rre;function Rd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rd.prototype.clear=ire;Rd.prototype.delete=are;Rd.prototype.get=ore;Rd.prototype.has=sre;Rd.prototype.set=lre;var d1=Rd,ure=d1;function cre(){this.__data__=new ure,this.size=0}var dre=cre;function fre(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var hre=fre;function pre(e){return this.__data__.get(e)}var gre=pre;function mre(e){return this.__data__.has(e)}var vre=mre,yre=typeof ha=="object"&&ha&&ha.Object===Object&&ha,QB=yre,Are=QB,wre=typeof self=="object"&&self&&self.Object===Object&&self,bre=Are||wre||Function("return this")(),Is=bre,xre=Is,Ere=xre.Symbol,Vb=Ere,i_=Vb,qB=Object.prototype,kre=qB.hasOwnProperty,_re=qB.toString,Qf=i_?i_.toStringTag:void 0;function Cre(e){var t=kre.call(e,Qf),n=e[Qf];try{e[Qf]=void 0;var r=!0}catch{}var i=_re.call(e);return r&&(t?e[Qf]=n:delete e[Qf]),i}var Sre=Cre,Nre=Object.prototype,Ire=Nre.toString;function Pre(e){return Ire.call(e)}var Bre=Pre,a_=Vb,Tre=Sre,Ore=Bre,jre="[object Null]",Dre="[object Undefined]",o_=a_?a_.toStringTag:void 0;function Lre(e){return e==null?e===void 0?Dre:jre:o_&&o_ in Object(e)?Tre(e):Ore(e)}var f1=Lre;function Rre(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $B=Rre,Fre=f1,Mre=$B,Ure="[object AsyncFunction]",zre="[object Function]",Hre="[object GeneratorFunction]",Gre="[object Proxy]";function Qre(e){if(!Mre(e))return!1;var t=Fre(e);return t==zre||t==Hre||t==Ure||t==Gre}var VB=Qre,qre=Is,$re=qre["__core-js_shared__"],Vre=$re,By=Vre,s_=function(){var e=/[^.]+$/.exec(By&&By.keys&&By.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Wre(e){return!!s_&&s_ in e}var Kre=Wre,Yre=Function.prototype,Jre=Yre.toString;function Xre(e){if(e!=null){try{return Jre.call(e)}catch{}try{return e+""}catch{}}return""}var WB=Xre,Zre=VB,eie=Kre,tie=$B,nie=WB,rie=/[\\^$.*+?()[\]{}|]/g,iie=/^\[object .+?Constructor\]$/,aie=Function.prototype,oie=Object.prototype,sie=aie.toString,lie=oie.hasOwnProperty,uie=RegExp("^"+sie.call(lie).replace(rie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cie(e){if(!tie(e)||eie(e))return!1;var t=Zre(e)?uie:iie;return t.test(nie(e))}var die=cie;function fie(e,t){return e==null?void 0:e[t]}var hie=fie,pie=die,gie=hie;function mie(e,t){var n=gie(e,t);return pie(n)?n:void 0}var Fd=mie,vie=Fd,yie=Is,Aie=vie(yie,"Map"),Wb=Aie,wie=Fd,bie=wie(Object,"create"),h1=bie,l_=h1;function xie(){this.__data__=l_?l_(null):{},this.size=0}var Eie=xie;function kie(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _ie=kie,Cie=h1,Sie="__lodash_hash_undefined__",Nie=Object.prototype,Iie=Nie.hasOwnProperty;function Pie(e){var t=this.__data__;if(Cie){var n=t[e];return n===Sie?void 0:n}return Iie.call(t,e)?t[e]:void 0}var Bie=Pie,Tie=h1,Oie=Object.prototype,jie=Oie.hasOwnProperty;function Die(e){var t=this.__data__;return Tie?t[e]!==void 0:jie.call(t,e)}var Lie=Die,Rie=h1,Fie="__lodash_hash_undefined__";function Mie(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rie&&t===void 0?Fie:t,this}var Uie=Mie,zie=Eie,Hie=_ie,Gie=Bie,Qie=Lie,qie=Uie;function Md(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Md.prototype.clear=zie;Md.prototype.delete=Hie;Md.prototype.get=Gie;Md.prototype.has=Qie;Md.prototype.set=qie;var $ie=Md,u_=$ie,Vie=d1,Wie=Wb;function Kie(){this.size=0,this.__data__={hash:new u_,map:new(Wie||Vie),string:new u_}}var Yie=Kie;function Jie(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Xie=Jie,Zie=Xie;function eae(e,t){var n=e.__data__;return Zie(t)?n[typeof t=="string"?"string":"hash"]:n.map}var p1=eae,tae=p1;function nae(e){var t=tae(this,e).delete(e);return this.size-=t?1:0,t}var rae=nae,iae=p1;function aae(e){return iae(this,e).get(e)}var oae=aae,sae=p1;function lae(e){return sae(this,e).has(e)}var uae=lae,cae=p1;function dae(e,t){var n=cae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var fae=dae,hae=Yie,pae=rae,gae=oae,mae=uae,vae=fae;function Ud(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ud.prototype.clear=hae;Ud.prototype.delete=pae;Ud.prototype.get=gae;Ud.prototype.has=mae;Ud.prototype.set=vae;var KB=Ud,yae=d1,Aae=Wb,wae=KB,bae=200;function xae(e,t){var n=this.__data__;if(n instanceof yae){var r=n.__data__;if(!Aae||r.length<bae-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new wae(r)}return n.set(e,t),this.size=n.size,this}var Eae=xae,kae=d1,_ae=dre,Cae=hre,Sae=gre,Nae=vre,Iae=Eae;function zd(e){var t=this.__data__=new kae(e);this.size=t.size}zd.prototype.clear=_ae;zd.prototype.delete=Cae;zd.prototype.get=Sae;zd.prototype.has=Nae;zd.prototype.set=Iae;var Pae=zd,Bae="__lodash_hash_undefined__";function Tae(e){return this.__data__.set(e,Bae),this}var Oae=Tae;function jae(e){return this.__data__.has(e)}var Dae=jae,Lae=KB,Rae=Oae,Fae=Dae;function Cm(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Lae;++t<n;)this.add(e[t])}Cm.prototype.add=Cm.prototype.push=Rae;Cm.prototype.has=Fae;var Mae=Cm;function Uae(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var zae=Uae;function Hae(e,t){return e.has(t)}var Gae=Hae,Qae=Mae,qae=zae,$ae=Gae,Vae=1,Wae=2;function Kae(e,t,n,r,i,a){var o=n&Vae,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=n&Wae?new Qae:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var v=e[d],y=t[d];if(r)var A=o?r(y,v,d,t,e,a):r(v,y,d,e,t,a);if(A!==void 0){if(A)continue;h=!1;break}if(f){if(!qae(t,function(g,p){if(!$ae(f,p)&&(v===g||i(v,g,n,r,a)))return f.push(p)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var YB=Kae,Yae=Is,Jae=Yae.Uint8Array,Xae=Jae;function Zae(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var eoe=Zae;function toe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var noe=toe,c_=Vb,d_=Xae,roe=GB,ioe=YB,aoe=eoe,ooe=noe,soe=1,loe=2,uoe="[object Boolean]",coe="[object Date]",doe="[object Error]",foe="[object Map]",hoe="[object Number]",poe="[object RegExp]",goe="[object Set]",moe="[object String]",voe="[object Symbol]",yoe="[object ArrayBuffer]",Aoe="[object DataView]",f_=c_?c_.prototype:void 0,Ty=f_?f_.valueOf:void 0;function woe(e,t,n,r,i,a,o){switch(n){case Aoe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yoe:return!(e.byteLength!=t.byteLength||!a(new d_(e),new d_(t)));case uoe:case coe:case hoe:return roe(+e,+t);case doe:return e.name==t.name&&e.message==t.message;case poe:case moe:return e==t+"";case foe:var s=aoe;case goe:var l=r&soe;if(s||(s=ooe),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=loe,o.set(e,t);var c=ioe(s(e),s(t),r,i,a,o);return o.delete(e),c;case voe:if(Ty)return Ty.call(e)==Ty.call(t)}return!1}var boe=woe;function xoe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Eoe=xoe,koe=Array.isArray,Kb=koe,_oe=Eoe,Coe=Kb;function Soe(e,t,n){var r=t(e);return Coe(e)?r:_oe(r,n(e))}var Noe=Soe;function Ioe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Poe=Ioe;function Boe(){return[]}var Toe=Boe,Ooe=Poe,joe=Toe,Doe=Object.prototype,Loe=Doe.propertyIsEnumerable,h_=Object.getOwnPropertySymbols,Roe=h_?function(e){return e==null?[]:(e=Object(e),Ooe(h_(e),function(t){return Loe.call(e,t)}))}:joe,Foe=Roe;function Moe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Uoe=Moe;function zoe(e){return e!=null&&typeof e=="object"}var g1=zoe,Hoe=f1,Goe=g1,Qoe="[object Arguments]";function qoe(e){return Goe(e)&&Hoe(e)==Qoe}var $oe=qoe,p_=$oe,Voe=g1,JB=Object.prototype,Woe=JB.hasOwnProperty,Koe=JB.propertyIsEnumerable,Yoe=p_(function(){return arguments}())?p_:function(e){return Voe(e)&&Woe.call(e,"callee")&&!Koe.call(e,"callee")},Joe=Yoe,Sm={exports:{}};function Xoe(){return!1}var Zoe=Xoe;Sm.exports;(function(e,t){var n=Is,r=Zoe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(Sm,Sm.exports);var XB=Sm.exports,ese=9007199254740991,tse=/^(?:0|[1-9]\d*)$/;function nse(e,t){var n=typeof e;return t=t??ese,!!t&&(n=="number"||n!="symbol"&&tse.test(e))&&e>-1&&e%1==0&&e<t}var rse=nse,ise=9007199254740991;function ase(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ise}var ZB=ase,ose=f1,sse=ZB,lse=g1,use="[object Arguments]",cse="[object Array]",dse="[object Boolean]",fse="[object Date]",hse="[object Error]",pse="[object Function]",gse="[object Map]",mse="[object Number]",vse="[object Object]",yse="[object RegExp]",Ase="[object Set]",wse="[object String]",bse="[object WeakMap]",xse="[object ArrayBuffer]",Ese="[object DataView]",kse="[object Float32Array]",_se="[object Float64Array]",Cse="[object Int8Array]",Sse="[object Int16Array]",Nse="[object Int32Array]",Ise="[object Uint8Array]",Pse="[object Uint8ClampedArray]",Bse="[object Uint16Array]",Tse="[object Uint32Array]",Gn={};Gn[kse]=Gn[_se]=Gn[Cse]=Gn[Sse]=Gn[Nse]=Gn[Ise]=Gn[Pse]=Gn[Bse]=Gn[Tse]=!0;Gn[use]=Gn[cse]=Gn[xse]=Gn[dse]=Gn[Ese]=Gn[fse]=Gn[hse]=Gn[pse]=Gn[gse]=Gn[mse]=Gn[vse]=Gn[yse]=Gn[Ase]=Gn[wse]=Gn[bse]=!1;function Ose(e){return lse(e)&&sse(e.length)&&!!Gn[ose(e)]}var jse=Ose;function Dse(e){return function(t){return e(t)}}var Lse=Dse,Nm={exports:{}};Nm.exports;(function(e,t){var n=QB,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Nm,Nm.exports);var Rse=Nm.exports,Fse=jse,Mse=Lse,g_=Rse,m_=g_&&g_.isTypedArray,Use=m_?Mse(m_):Fse,eT=Use,zse=Uoe,Hse=Joe,Gse=Kb,Qse=XB,qse=rse,$se=eT,Vse=Object.prototype,Wse=Vse.hasOwnProperty;function Kse(e,t){var n=Gse(e),r=!n&&Hse(e),i=!n&&!r&&Qse(e),a=!n&&!r&&!i&&$se(e),o=n||r||i||a,s=o?zse(e.length,String):[],l=s.length;for(var u in e)(t||Wse.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qse(u,l)))&&s.push(u);return s}var Yse=Kse,Jse=Object.prototype;function Xse(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Jse;return e===n}var Zse=Xse;function ele(e,t){return function(n){return e(t(n))}}var tle=ele,nle=tle,rle=nle(Object.keys,Object),ile=rle,ale=Zse,ole=ile,sle=Object.prototype,lle=sle.hasOwnProperty;function ule(e){if(!ale(e))return ole(e);var t=[];for(var n in Object(e))lle.call(e,n)&&n!="constructor"&&t.push(n);return t}var cle=ule,dle=VB,fle=ZB;function hle(e){return e!=null&&fle(e.length)&&!dle(e)}var ple=hle,gle=Yse,mle=cle,vle=ple;function yle(e){return vle(e)?gle(e):mle(e)}var Ale=yle,wle=Noe,ble=Foe,xle=Ale;function Ele(e){return wle(e,xle,ble)}var kle=Ele,v_=kle,_le=1,Cle=Object.prototype,Sle=Cle.hasOwnProperty;function Nle(e,t,n,r,i,a){var o=n&_le,s=v_(e),l=s.length,u=v_(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=s[d];if(!(o?h in t:Sle.call(t,h)))return!1}var f=a.get(e),v=a.get(t);if(f&&v)return f==t&&v==e;var y=!0;a.set(e,t),a.set(t,e);for(var A=o;++d<l;){h=s[d];var g=e[h],p=t[h];if(r)var w=o?r(p,g,h,t,e,a):r(g,p,h,e,t,a);if(!(w===void 0?g===p||i(g,p,n,r,a):w)){y=!1;break}A||(A=h=="constructor")}if(y&&!A){var x=e.constructor,C=t.constructor;x!=C&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof C=="function"&&C instanceof C)&&(y=!1)}return a.delete(e),a.delete(t),y}var Ile=Nle,Ple=Fd,Ble=Is,Tle=Ple(Ble,"DataView"),Ole=Tle,jle=Fd,Dle=Is,Lle=jle(Dle,"Promise"),Rle=Lle,Fle=Fd,Mle=Is,Ule=Fle(Mle,"Set"),zle=Ule,Hle=Fd,Gle=Is,Qle=Hle(Gle,"WeakMap"),qle=Qle,Y2=Ole,J2=Wb,X2=Rle,Z2=zle,ew=qle,tT=f1,Hd=WB,y_="[object Map]",$le="[object Object]",A_="[object Promise]",w_="[object Set]",b_="[object WeakMap]",x_="[object DataView]",Vle=Hd(Y2),Wle=Hd(J2),Kle=Hd(X2),Yle=Hd(Z2),Jle=Hd(ew),iu=tT;(Y2&&iu(new Y2(new ArrayBuffer(1)))!=x_||J2&&iu(new J2)!=y_||X2&&iu(X2.resolve())!=A_||Z2&&iu(new Z2)!=w_||ew&&iu(new ew)!=b_)&&(iu=function(e){var t=tT(e),n=t==$le?e.constructor:void 0,r=n?Hd(n):"";if(r)switch(r){case Vle:return x_;case Wle:return y_;case Kle:return A_;case Yle:return w_;case Jle:return b_}return t});var Xle=iu,Oy=Pae,Zle=YB,eue=boe,tue=Ile,E_=Xle,k_=Kb,__=XB,nue=eT,rue=1,C_="[object Arguments]",S_="[object Array]",Zg="[object Object]",iue=Object.prototype,N_=iue.hasOwnProperty;function aue(e,t,n,r,i,a){var o=k_(e),s=k_(t),l=o?S_:E_(e),u=s?S_:E_(t);l=l==C_?Zg:l,u=u==C_?Zg:u;var c=l==Zg,d=u==Zg,h=l==u;if(h&&__(e)){if(!__(t))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new Oy),o||nue(e)?Zle(e,t,n,r,i,a):eue(e,t,l,n,r,i,a);if(!(n&rue)){var f=c&&N_.call(e,"__wrapped__"),v=d&&N_.call(t,"__wrapped__");if(f||v){var y=f?e.value():e,A=v?t.value():t;return a||(a=new Oy),i(y,A,n,r,a)}}return h?(a||(a=new Oy),tue(e,t,n,r,i,a)):!1}var oue=aue,sue=oue,I_=g1;function nT(e,t,n,r,i){return e===t?!0:e==null||t==null||!I_(e)&&!I_(t)?e!==e&&t!==t:sue(e,t,n,r,nT,i)}var lue=nT,uue=lue;function cue(e,t){return uue(e,t)}var due=cue,rT={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,i){e.exports=i()})(typeof self<"u"?self:ha,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),o=i(18),s=i(19),l=i(45),u=i(46),c=i(47),d=i(48),h=i(49),f=i(12),v=i(32),y=i(33),A=i(31),g=i(1),p={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:a.default,Format:o.default,Leaf:s.default,Embed:d.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:h.default,Attributor:{Attribute:f.default,Class:v.default,Style:y.default,Store:A.default}};r.default=p},function(n,r,i){var a=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var w in p)p.hasOwnProperty(w)&&(g[w]=p[w])};return function(g,p){A(g,p);function w(){this.constructor=g}g.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(A){a(g,A);function g(p){var w=this;return p="[Parchment] "+p,w=A.call(this,p)||this,w.message=p,w.name=w.constructor.name,w}return g}(Error);r.ParchmentError=o;var s={},l={},u={},c={};r.DATA_KEY="__blot";var d;(function(A){A[A.TYPE=3]="TYPE",A[A.LEVEL=12]="LEVEL",A[A.ATTRIBUTE=13]="ATTRIBUTE",A[A.BLOT=14]="BLOT",A[A.INLINE=7]="INLINE",A[A.BLOCK=11]="BLOCK",A[A.BLOCK_BLOT=10]="BLOCK_BLOT",A[A.INLINE_BLOT=6]="INLINE_BLOT",A[A.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",A[A.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",A[A.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function h(A,g){var p=v(A);if(p==null)throw new o("Unable to create "+A+" blot");var w=p,x=A instanceof Node||A.nodeType===Node.TEXT_NODE?A:w.create(g);return new w(x,g)}r.create=h;function f(A,g){return g===void 0&&(g=!1),A==null?null:A[r.DATA_KEY]!=null?A[r.DATA_KEY].blot:g?f(A.parentNode,g):null}r.find=f;function v(A,g){g===void 0&&(g=d.ANY);var p;if(typeof A=="string")p=c[A]||s[A];else if(A instanceof Text||A.nodeType===Node.TEXT_NODE)p=c.text;else if(typeof A=="number")A&d.LEVEL&d.BLOCK?p=c.block:A&d.LEVEL&d.INLINE&&(p=c.inline);else if(A instanceof HTMLElement){var w=(A.getAttribute("class")||"").split(/\s+/);for(var x in w)if(p=l[w[x]],p)break;p=p||u[A.tagName]}return p==null?null:g&d.LEVEL&p.scope&&g&d.TYPE&p.scope?p:null}r.query=v;function y(){for(var A=[],g=0;g<arguments.length;g++)A[g]=arguments[g];if(A.length>1)return A.map(function(x){return y(x)});var p=A[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new o("Invalid definition");if(p.blotName==="abstract")throw new o("Cannot register abstract class");if(c[p.blotName||p.attrName]=p,typeof p.keyName=="string")s[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(x){return x.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var w=Array.isArray(p.tagName)?p.tagName:[p.tagName];w.forEach(function(x){(u[x]==null||p.className==null)&&(u[x]=p)})}return p}r.register=y},function(n,r,i){var a=i(51),o=i(11),s=i(3),l=i(20),u="\0",c=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};c.prototype.insert=function(d,h){var f={};return d.length===0?this:(f.insert=d,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(f.attributes=h),this.push(f))},c.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},c.prototype.retain=function(d,h){if(d<=0)return this;var f={retain:d};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(f.attributes=h),this.push(f)},c.prototype.push=function(d){var h=this.ops.length,f=this.ops[h-1];if(d=s(!0,{},d),typeof f=="object"){if(typeof d.delete=="number"&&typeof f.delete=="number")return this.ops[h-1]={delete:f.delete+d.delete},this;if(typeof f.delete=="number"&&d.insert!=null&&(h-=1,f=this.ops[h-1],typeof f!="object"))return this.ops.unshift(d),this;if(o(d.attributes,f.attributes)){if(typeof d.insert=="string"&&typeof f.insert=="string")return this.ops[h-1]={insert:f.insert+d.insert},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof f.retain=="number")return this.ops[h-1]={retain:f.retain+d.retain},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this}}return h===this.ops.length?this.ops.push(d):this.ops.splice(h,0,d),this},c.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},c.prototype.filter=function(d){return this.ops.filter(d)},c.prototype.forEach=function(d){this.ops.forEach(d)},c.prototype.map=function(d){return this.ops.map(d)},c.prototype.partition=function(d){var h=[],f=[];return this.forEach(function(v){var y=d(v)?h:f;y.push(v)}),[h,f]},c.prototype.reduce=function(d,h){return this.ops.reduce(d,h)},c.prototype.changeLength=function(){return this.reduce(function(d,h){return h.insert?d+l.length(h):h.delete?d-h.delete:d},0)},c.prototype.length=function(){return this.reduce(function(d,h){return d+l.length(h)},0)},c.prototype.slice=function(d,h){d=d||0,typeof h!="number"&&(h=1/0);for(var f=[],v=l.iterator(this.ops),y=0;y<h&&v.hasNext();){var A;y<d?A=v.next(d-y):(A=v.next(h-y),f.push(A)),y+=l.length(A)}return new c(f)},c.prototype.compose=function(d){var h=l.iterator(this.ops),f=l.iterator(d.ops),v=[],y=f.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var A=y.retain;h.peekType()==="insert"&&h.peekLength()<=A;)A-=h.peekLength(),v.push(h.next());y.retain-A>0&&f.next(y.retain-A)}for(var g=new c(v);h.hasNext()||f.hasNext();)if(f.peekType()==="insert")g.push(f.next());else if(h.peekType()==="delete")g.push(h.next());else{var p=Math.min(h.peekLength(),f.peekLength()),w=h.next(p),x=f.next(p);if(typeof x.retain=="number"){var C={};typeof w.retain=="number"?C.retain=p:C.insert=w.insert;var D=l.attributes.compose(w.attributes,x.attributes,typeof w.retain=="number");if(D&&(C.attributes=D),g.push(C),!f.hasNext()&&o(g.ops[g.ops.length-1],C)){var N=new c(h.rest());return g.concat(N).chop()}}else typeof x.delete=="number"&&typeof w.retain=="number"&&g.push(x)}return g.chop()},c.prototype.concat=function(d){var h=new c(this.ops.slice());return d.ops.length>0&&(h.push(d.ops[0]),h.ops=h.ops.concat(d.ops.slice(1))),h},c.prototype.diff=function(d,h){if(this.ops===d.ops)return new c;var f=[this,d].map(function(p){return p.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var x=p===d?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),v=new c,y=a(f[0],f[1],h),A=l.iterator(this.ops),g=l.iterator(d.ops);return y.forEach(function(p){for(var w=p[1].length;w>0;){var x=0;switch(p[0]){case a.INSERT:x=Math.min(g.peekLength(),w),v.push(g.next(x));break;case a.DELETE:x=Math.min(w,A.peekLength()),A.next(x),v.delete(x);break;case a.EQUAL:x=Math.min(A.peekLength(),g.peekLength(),w);var C=A.next(x),D=g.next(x);o(C.insert,D.insert)?v.retain(x,l.attributes.diff(C.attributes,D.attributes)):v.push(D).delete(x);break}w-=x}}),v.chop()},c.prototype.eachLine=function(d,h){h=h||`
`;for(var f=l.iterator(this.ops),v=new c,y=0;f.hasNext();){if(f.peekType()!=="insert")return;var A=f.peek(),g=l.length(A)-f.peekLength(),p=typeof A.insert=="string"?A.insert.indexOf(h,g)-g:-1;if(p<0)v.push(f.next());else if(p>0)v.push(f.next(p));else{if(d(v,f.next(1).attributes||{},y)===!1)return;y+=1,v=new c}}v.length()>0&&d(v,{},y)},c.prototype.transform=function(d,h){if(h=!!h,typeof d=="number")return this.transformPosition(d,h);for(var f=l.iterator(this.ops),v=l.iterator(d.ops),y=new c;f.hasNext()||v.hasNext();)if(f.peekType()==="insert"&&(h||v.peekType()!=="insert"))y.retain(l.length(f.next()));else if(v.peekType()==="insert")y.push(v.next());else{var A=Math.min(f.peekLength(),v.peekLength()),g=f.next(A),p=v.next(A);if(g.delete)continue;p.delete?y.push(p):y.retain(A,l.attributes.transform(g.attributes,p.attributes,h))}return y.chop()},c.prototype.transformPosition=function(d,h){h=!!h;for(var f=l.iterator(this.ops),v=0;f.hasNext()&&v<=d;){var y=f.peekLength(),A=f.peekType();if(f.next(),A==="delete"){d-=Math.min(y,d-v);continue}else A==="insert"&&(v<d||!h)&&(d+=y);v+=y}return d},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(f){return typeof Array.isArray=="function"?Array.isArray(f):a.call(f)==="[object Array]"},u=function(f){if(!f||a.call(f)!=="[object Object]")return!1;var v=i.call(f,"constructor"),y=f.constructor&&f.constructor.prototype&&i.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!v&&!y)return!1;var A;for(A in f);return typeof A>"u"||i.call(f,A)},c=function(f,v){o&&v.name==="__proto__"?o(f,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):f[v.name]=v.newValue},d=function(f,v){if(v==="__proto__")if(i.call(f,v)){if(s)return s(f,v).value}else return;return f[v]};n.exports=function h(){var f,v,y,A,g,p,w=arguments[0],x=1,C=arguments.length,D=!1;for(typeof w=="boolean"&&(D=w,w=arguments[1]||{},x=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});x<C;++x)if(f=arguments[x],f!=null)for(v in f)y=d(w,v),A=d(f,v),w!==A&&(D&&A&&(u(A)||(g=l(A)))?(g?(g=!1,p=y&&l(y)?y:[]):p=y&&u(y)?y:{},c(w,{name:v,newValue:h(D,p,A)})):typeof A<"u"&&c(w,{name:v,newValue:A}));return w}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function k(_,O){for(var j=0;j<O.length;j++){var z=O[j];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(_,z.key,z)}}return function(_,O,j){return O&&k(_.prototype,O),j&&k(_,j),_}}(),o=function k(_,O,j){_===null&&(_=Function.prototype);var z=Object.getOwnPropertyDescriptor(_,O);if(z===void 0){var Z=Object.getPrototypeOf(_);return Z===null?void 0:k(Z,O,j)}else{if("value"in z)return z.value;var ee=z.get;return ee===void 0?void 0:ee.call(j)}},s=i(3),l=w(s),u=i(2),c=w(u),d=i(0),h=w(d),f=i(16),v=w(f),y=i(6),A=w(y),g=i(7),p=w(g);function w(k){return k&&k.__esModule?k:{default:k}}function x(k,_){if(!(k instanceof _))throw new TypeError("Cannot call a class as a function")}function C(k,_){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:k}function D(k,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);k.prototype=Object.create(_&&_.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(k,_):k.__proto__=_)}var N=1,I=function(k){D(_,k);function _(){return x(this,_),C(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"attach",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(j,z){var Z=h.default.query(j,h.default.Scope.BLOCK_ATTRIBUTE);Z!=null&&this.attributes.attribute(Z,z)}},{key:"formatAt",value:function(j,z,Z,ee){this.format(Z,ee)}},{key:"insertAt",value:function(j,z,Z){if(typeof z=="string"&&z.endsWith(`
`)){var ee=h.default.create(R.blotName);this.parent.insertBefore(ee,j===0?this:this.next),ee.insertAt(0,z.slice(0,-1))}else o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,j,z,Z)}}]),_}(h.default.Embed);I.scope=h.default.Scope.BLOCK_BLOT;var R=function(k){D(_,k);function _(O){x(this,_);var j=C(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O));return j.cache={},j}return a(_,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(j,z){return z.length()===0?j:j.insert(z.value(),T(z))},new c.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(j,z){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,j,z),this.cache={}}},{key:"formatAt",value:function(j,z,Z,ee){z<=0||(h.default.query(Z,h.default.Scope.BLOCK)?j+z===this.length()&&this.format(Z,ee):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,j,Math.min(z,this.length()-j-1),Z,ee),this.cache={})}},{key:"insertAt",value:function(j,z,Z){if(Z!=null)return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,j,z,Z);if(z.length!==0){var ee=z.split(`
`),K=ee.shift();K.length>0&&(j<this.length()-1||this.children.tail==null?o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,Math.min(j,this.length()-1),K):this.children.tail.insertAt(this.children.tail.length(),K),this.cache={});var W=this;ee.reduce(function(Q,U){return W=W.split(Q,!0),W.insertAt(0,U),U.length},j+K.length)}}},{key:"insertBefore",value:function(j,z){var Z=this.children.head;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,j,z),Z instanceof v.default&&Z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"length",this).call(this)+N),this.cache.length}},{key:"moveChildren",value:function(j,z){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"moveChildren",this).call(this,j,z),this.cache={}}},{key:"optimize",value:function(j){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,j),this.cache={}}},{key:"path",value:function(j){return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,j,!0)}},{key:"removeChild",value:function(j){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"removeChild",this).call(this,j),this.cache={}}},{key:"split",value:function(j){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(z&&(j===0||j>=this.length()-N)){var Z=this.clone();return j===0?(this.parent.insertBefore(Z,this),this):(this.parent.insertBefore(Z,this.next),Z)}else{var ee=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"split",this).call(this,j,z);return this.cache={},ee}}}]),_}(h.default.Block);R.blotName="block",R.tagName="P",R.defaultChild="break",R.allowedChildren=[A.default,h.default.Embed,p.default];function T(k){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(_=(0,l.default)(_,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?_:T(k.parent,_)}r.bubbleFormats=T,r.BlockEmbed=I,r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},o=function(){function W(Q,U){var B=[],L=!0,H=!1,G=void 0;try{for(var M=Q[Symbol.iterator](),V;!(L=(V=M.next()).done)&&(B.push(V.value),!(U&&B.length===U));L=!0);}catch(te){H=!0,G=te}finally{try{!L&&M.return&&M.return()}finally{if(H)throw G}}return B}return function(Q,U){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return W(Q,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function W(Q,U){for(var B=0;B<U.length;B++){var L=U[B];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(Q,L.key,L)}}return function(Q,U,B){return U&&W(Q.prototype,U),B&&W(Q,B),Q}}();i(50);var l=i(2),u=T(l),c=i(14),d=T(c),h=i(8),f=T(h),v=i(9),y=T(v),A=i(0),g=T(A),p=i(15),w=T(p),x=i(3),C=T(x),D=i(10),N=T(D),I=i(34),R=T(I);function T(W){return W&&W.__esModule?W:{default:W}}function k(W,Q,U){return Q in W?Object.defineProperty(W,Q,{value:U,enumerable:!0,configurable:!0,writable:!0}):W[Q]=U,W}function _(W,Q){if(!(W instanceof Q))throw new TypeError("Cannot call a class as a function")}var O=(0,N.default)("quill"),j=function(){s(W,null,[{key:"debug",value:function(U){U===!0&&(U="log"),N.default.level(U)}},{key:"find",value:function(U){return U.__quill||g.default.find(U)}},{key:"import",value:function(U){return this.imports[U]==null&&O.error("Cannot import "+U+". Are you sure it was registered?"),this.imports[U]}},{key:"register",value:function(U,B){var L=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof U!="string"){var G=U.attrName||U.blotName;typeof G=="string"?this.register("formats/"+G,U,B):Object.keys(U).forEach(function(M){L.register(M,U[M],B)})}else this.imports[U]!=null&&!H&&O.warn("Overwriting "+U+" with",B),this.imports[U]=B,(U.startsWith("blots/")||U.startsWith("formats/"))&&B.blotName!=="abstract"?g.default.register(B):U.startsWith("modules")&&typeof B.register=="function"&&B.register()}}]);function W(Q){var U=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_(this,W),this.options=z(Q,B),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",Q);this.options.debug&&W.debug(this.options.debug);var L=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(G){G===f.default.events.TEXT_CHANGE&&U.root.classList.toggle("ql-blank",U.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(G,M){var V=U.selection.lastRange,te=V&&V.length===0?V.index:void 0;Z.call(U,function(){return U.editor.update(null,M,te)},G)});var H=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+L+"<p><br></p></div>");this.setContents(H),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(W,[{key:"addContainer",value:function(U){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof U=="string"){var L=U;U=document.createElement("div"),U.classList.add(L)}return this.container.insertBefore(U,B),U}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(U,B,L){var H=this,G=ee(U,B,L),M=o(G,4);return U=M[0],B=M[1],L=M[3],Z.call(this,function(){return H.editor.deleteText(U,B)},L,U,-1*B)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(U),this.container.classList.toggle("ql-disabled",!U)}},{key:"focus",value:function(){var U=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=U,this.scrollIntoView()}},{key:"format",value:function(U,B){var L=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;return Z.call(this,function(){var G=L.getSelection(!0),M=new u.default;if(G==null)return M;if(g.default.query(U,g.default.Scope.BLOCK))M=L.editor.formatLine(G.index,G.length,k({},U,B));else{if(G.length===0)return L.selection.format(U,B),M;M=L.editor.formatText(G.index,G.length,k({},U,B))}return L.setSelection(G,f.default.sources.SILENT),M},H)}},{key:"formatLine",value:function(U,B,L,H,G){var M=this,V=void 0,te=ee(U,B,L,H,G),J=o(te,4);return U=J[0],B=J[1],V=J[2],G=J[3],Z.call(this,function(){return M.editor.formatLine(U,B,V)},G,U,0)}},{key:"formatText",value:function(U,B,L,H,G){var M=this,V=void 0,te=ee(U,B,L,H,G),J=o(te,4);return U=J[0],B=J[1],V=J[2],G=J[3],Z.call(this,function(){return M.editor.formatText(U,B,V)},G,U,0)}},{key:"getBounds",value:function(U){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=void 0;typeof U=="number"?L=this.selection.getBounds(U,B):L=this.selection.getBounds(U.index,U.length);var H=this.container.getBoundingClientRect();return{bottom:L.bottom-H.top,height:L.height,left:L.left-H.left,right:L.right-H.left,top:L.top-H.top,width:L.width}}},{key:"getContents",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,L=ee(U,B),H=o(L,2);return U=H[0],B=H[1],this.editor.getContents(U,B)}},{key:"getFormat",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof U=="number"?this.editor.getFormat(U,B):this.editor.getFormat(U.index,U.length)}},{key:"getIndex",value:function(U){return U.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(U){return this.scroll.leaf(U)}},{key:"getLine",value:function(U){return this.scroll.line(U)}},{key:"getLines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof U!="number"?this.scroll.lines(U.index,U.length):this.scroll.lines(U,B)}},{key:"getModule",value:function(U){return this.theme.modules[U]}},{key:"getSelection",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return U&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,L=ee(U,B),H=o(L,2);return U=H[0],B=H[1],this.editor.getText(U,B)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(U,B,L){var H=this,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W.sources.API;return Z.call(this,function(){return H.editor.insertEmbed(U,B,L)},G,U)}},{key:"insertText",value:function(U,B,L,H,G){var M=this,V=void 0,te=ee(U,0,L,H,G),J=o(te,4);return U=J[0],V=J[2],G=J[3],Z.call(this,function(){return M.editor.insertText(U,B,V)},G,U,B.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(U,B,L){this.clipboard.dangerouslyPasteHTML(U,B,L)}},{key:"removeFormat",value:function(U,B,L){var H=this,G=ee(U,B,L),M=o(G,4);return U=M[0],B=M[1],L=M[3],Z.call(this,function(){return H.editor.removeFormat(U,B)},L,U)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(U){var B=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return Z.call(this,function(){U=new u.default(U);var H=B.getLength(),G=B.editor.deleteText(0,H),M=B.editor.applyDelta(U),V=M.ops[M.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(B.editor.deleteText(B.getLength()-1,1),M.delete(1));var te=G.compose(M);return te},L)}},{key:"setSelection",value:function(U,B,L){if(U==null)this.selection.setRange(null,B||W.sources.API);else{var H=ee(U,B,L),G=o(H,4);U=G[0],B=G[1],L=G[3],this.selection.setRange(new p.Range(U,B),L),L!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(U){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API,L=new u.default().insert(U);return this.setContents(L,B)}},{key:"update",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,B=this.scroll.update(U);return this.selection.update(U),B}},{key:"updateContents",value:function(U){var B=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return Z.call(this,function(){return U=new u.default(U),B.editor.applyDelta(U,L)},L,!0)}}]),W}();j.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},j.events=f.default.events,j.sources=f.default.sources,j.version="1.3.7",j.imports={delta:u.default,parchment:g.default,"core/module":y.default,"core/theme":R.default};function z(W,Q){if(Q=(0,C.default)(!0,{container:W,modules:{clipboard:!0,keyboard:!0,history:!0}},Q),!Q.theme||Q.theme===j.DEFAULTS.theme)Q.theme=R.default;else if(Q.theme=j.import("themes/"+Q.theme),Q.theme==null)throw new Error("Invalid theme "+Q.theme+". Did you register it?");var U=(0,C.default)(!0,{},Q.theme.DEFAULTS);[U,Q].forEach(function(H){H.modules=H.modules||{},Object.keys(H.modules).forEach(function(G){H.modules[G]===!0&&(H.modules[G]={})})});var B=Object.keys(U.modules).concat(Object.keys(Q.modules)),L=B.reduce(function(H,G){var M=j.import("modules/"+G);return M==null?O.error("Cannot load "+G+" module. Are you sure you registered it?"):H[G]=M.DEFAULTS||{},H},{});return Q.modules!=null&&Q.modules.toolbar&&Q.modules.toolbar.constructor!==Object&&(Q.modules.toolbar={container:Q.modules.toolbar}),Q=(0,C.default)(!0,{},j.DEFAULTS,{modules:L},U,Q),["bounds","container","scrollingContainer"].forEach(function(H){typeof Q[H]=="string"&&(Q[H]=document.querySelector(Q[H]))}),Q.modules=Object.keys(Q.modules).reduce(function(H,G){return Q.modules[G]&&(H[G]=Q.modules[G]),H},{}),Q}function Z(W,Q,U,B){if(this.options.strict&&!this.isEnabled()&&Q===f.default.sources.USER)return new u.default;var L=U==null?null:this.getSelection(),H=this.editor.delta,G=W();if(L!=null&&(U===!0&&(U=L.index),B==null?L=K(L,G,Q):B!==0&&(L=K(L,U,B,Q)),this.setSelection(L,f.default.sources.SILENT)),G.length()>0){var M,V=[f.default.events.TEXT_CHANGE,G,H,Q];if((M=this.emitter).emit.apply(M,[f.default.events.EDITOR_CHANGE].concat(V)),Q!==f.default.sources.SILENT){var te;(te=this.emitter).emit.apply(te,V)}}return G}function ee(W,Q,U,B,L){var H={};return typeof W.index=="number"&&typeof W.length=="number"?typeof Q!="number"?(L=B,B=U,U=Q,Q=W.length,W=W.index):(Q=W.length,W=W.index):typeof Q!="number"&&(L=B,B=U,U=Q,Q=0),(typeof U>"u"?"undefined":a(U))==="object"?(H=U,L=B):typeof U=="string"&&(B!=null?H[U]=B:L=U),L=L||f.default.sources.API,[W,Q,H,L]}function K(W,Q,U,B){if(W==null)return null;var L=void 0,H=void 0;if(Q instanceof u.default){var G=[W.index,W.index+W.length].map(function(J){return Q.transformPosition(J,B!==f.default.sources.USER)}),M=o(G,2);L=M[0],H=M[1]}else{var V=[W.index,W.index+W.length].map(function(J){return J<Q||J===Q&&B===f.default.sources.USER?J:U>=0?J+U:Math.max(Q,J+U)}),te=o(V,2);L=te[0],H=te[1]}return new p.Range(L,H-L)}r.expandConfig=z,r.overload=ee,r.default=j},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function A(g,p){for(var w=0;w<p.length;w++){var x=p[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,w){return p&&A(g.prototype,p),w&&A(g,w),g}}(),o=function A(g,p,w){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:A(C,p,w)}else{if("value"in x)return x.value;var D=x.get;return D===void 0?void 0:D.call(w)}},s=i(7),l=d(s),u=i(0),c=d(u);function d(A){return A&&A.__esModule?A:{default:A}}function h(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function v(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var y=function(A){v(g,A);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"formatAt",value:function(w,x,C,D){if(g.compare(this.statics.blotName,C)<0&&c.default.query(C,c.default.Scope.BLOT)){var N=this.isolate(w,x);D&&N.wrap(C,D)}else o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,w,x,C,D)}},{key:"optimize",value:function(w){if(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,w),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(w,x){var C=g.order.indexOf(w),D=g.order.indexOf(x);return C>=0||D>=0?C-D:w===x?0:w<x?-1:1}}]),g}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=s(a);function s(h){return h&&h.__esModule?h:{default:h}}function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function c(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var d=function(h){c(f,h);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default.Text);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function p(w,x){for(var C=0;C<x.length;C++){var D=x[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,x,C){return x&&p(w.prototype,x),C&&p(w,C),w}}(),o=function p(w,x,C){w===null&&(w=Function.prototype);var D=Object.getOwnPropertyDescriptor(w,x);if(D===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:p(N,x,C)}else{if("value"in D)return D.value;var I=D.get;return I===void 0?void 0:I.call(C)}},s=i(54),l=d(s),u=i(10),c=d(u);function d(p){return p&&p.__esModule?p:{default:p}}function h(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function f(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:p}function v(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}var y=(0,c.default)("quill:events"),A=["selectionchange","mousedown","mouseup","click"];A.forEach(function(p){document.addEventListener(p,function(){for(var w=arguments.length,x=Array(w),C=0;C<w;C++)x[C]=arguments[C];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(D){if(D.__quill&&D.__quill.emitter){var N;(N=D.__quill.emitter).handleDOM.apply(N,x)}})})});var g=function(p){v(w,p);function w(){h(this,w);var x=f(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return x.listeners={},x.on("error",y.error),x}return a(w,[{key:"emit",value:function(){y.log.apply(y,arguments),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(C){for(var D=arguments.length,N=Array(D>1?D-1:0),I=1;I<D;I++)N[I-1]=arguments[I];(this.listeners[C.type]||[]).forEach(function(R){var T=R.node,k=R.handler;(C.target===T||T.contains(C.target))&&k.apply(void 0,[C].concat(N))})}},{key:"listenDOM",value:function(C,D,N){this.listeners[C]||(this.listeners[C]=[]),this.listeners[C].push({node:D,handler:N})}}]),w}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function s(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,s),this.quill=l,this.options=u};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function s(u){if(a.indexOf(u)<=a.indexOf(o)){for(var c,d=arguments.length,h=Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];(c=console)[u].apply(c,h)}}function l(u){return a.reduce(function(c,d){return c[d]=s.bind(console,d,u),c},{})}s.level=l.level=function(u){o=u},r.default=l},function(n,r,i){var a=Array.prototype.slice,o=i(52),s=i(53),l=n.exports=function(h,f,v){return v||(v={}),h===f?!0:h instanceof Date&&f instanceof Date?h.getTime()===f.getTime():!h||!f||typeof h!="object"&&typeof f!="object"?v.strict?h===f:h==f:d(h,f,v)};function u(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function d(h,f,v){var y,A;if(u(h)||u(f)||h.prototype!==f.prototype)return!1;if(s(h))return s(f)?(h=a.call(h),f=a.call(f),l(h,f,v)):!1;if(c(h)){if(!c(f)||h.length!==f.length)return!1;for(y=0;y<h.length;y++)if(h[y]!==f[y])return!1;return!0}try{var g=o(h),p=o(f)}catch{return!1}if(g.length!=p.length)return!1;for(g.sort(),p.sort(),y=g.length-1;y>=0;y--)if(g[y]!=p[y])return!1;for(y=g.length-1;y>=0;y--)if(A=g[y],!l(h[A],f[A],v))return!1;return typeof h==typeof f}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=function(){function s(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var d=a.Scope.TYPE&a.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&a.Scope.LEVEL|d:this.scope=a.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return s.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},s.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},s.prototype.canAdd=function(l,u){var c=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},s.prototype.remove=function(l){l.removeAttribute(this.keyName)},s.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},s}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function I(R,T){var k=[],_=!0,O=!1,j=void 0;try{for(var z=R[Symbol.iterator](),Z;!(_=(Z=z.next()).done)&&(k.push(Z.value),!(T&&k.length===T));_=!0);}catch(ee){O=!0,j=ee}finally{try{!_&&z.return&&z.return()}finally{if(O)throw j}}return k}return function(R,T){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return I(R,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(R,T){for(var k=0;k<T.length;k++){var _=T[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(R,_.key,_)}}return function(R,T,k){return T&&I(R.prototype,T),k&&I(R,k),R}}(),s=function I(R,T,k){R===null&&(R=Function.prototype);var _=Object.getOwnPropertyDescriptor(R,T);if(_===void 0){var O=Object.getPrototypeOf(R);return O===null?void 0:I(O,T,k)}else{if("value"in _)return _.value;var j=_.get;return j===void 0?void 0:j.call(k)}},l=i(2),u=p(l),c=i(0),d=p(c),h=i(4),f=p(h),v=i(6),y=p(v),A=i(7),g=p(A);function p(I){return I&&I.__esModule?I:{default:I}}function w(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")}function x(I,R){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:I}function C(I,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}var D=function(I){C(R,I);function R(){return w(this,R),x(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return R}(y.default);D.blotName="code",D.tagName="CODE";var N=function(I){C(R,I);function R(){return w(this,R),x(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"delta",value:function(){var k=this,_=this.domNode.textContent;return _.endsWith(`
`)&&(_=_.slice(0,-1)),_.split(`
`).reduce(function(O,j){return O.insert(j).insert(`
`,k.formats())},new u.default)}},{key:"format",value:function(k,_){if(!(k===this.statics.blotName&&_)){var O=this.descendant(g.default,this.length()-1),j=a(O,1),z=j[0];z!=null&&z.deleteAt(z.length()-1,1),s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,k,_)}}},{key:"formatAt",value:function(k,_,O,j){if(_!==0&&!(d.default.query(O,d.default.Scope.BLOCK)==null||O===this.statics.blotName&&j===this.statics.formats(this.domNode))){var z=this.newlineIndex(k);if(!(z<0||z>=k+_)){var Z=this.newlineIndex(k,!0)+1,ee=z-Z+1,K=this.isolate(Z,ee),W=K.next;K.format(O,j),W instanceof R&&W.formatAt(0,k-Z+_-ee,O,j)}}}},{key:"insertAt",value:function(k,_,O){if(O==null){var j=this.descendant(g.default,k),z=a(j,2),Z=z[0],ee=z[1];Z.insertAt(ee,_)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(_)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var O=this.domNode.textContent.slice(k).indexOf(`
`);return O>-1?k+O:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,k);var _=this.next;_!=null&&_.prev===this&&_.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===_.statics.formats(_.domNode)&&(_.optimize(k),_.moveChildren(this),_.remove())}},{key:"replace",value:function(k){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(_){var O=d.default.find(_);O==null?_.parentNode.removeChild(_):O instanceof d.default.Embed?O.remove():O.unwrap()})}}],[{key:"create",value:function(k){var _=s(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,k);return _.setAttribute("spellcheck",!1),_}},{key:"formats",value:function(){return!0}}]),R}(f.default);N.blotName="code-block",N.tagName="PRE",N.TAB="  ",r.Code=D,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},o=function(){function W(Q,U){var B=[],L=!0,H=!1,G=void 0;try{for(var M=Q[Symbol.iterator](),V;!(L=(V=M.next()).done)&&(B.push(V.value),!(U&&B.length===U));L=!0);}catch(te){H=!0,G=te}finally{try{!L&&M.return&&M.return()}finally{if(H)throw G}}return B}return function(Q,U){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return W(Q,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function W(Q,U){for(var B=0;B<U.length;B++){var L=U[B];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(Q,L.key,L)}}return function(Q,U,B){return U&&W(Q.prototype,U),B&&W(Q,B),Q}}(),l=i(2),u=_(l),c=i(20),d=_(c),h=i(0),f=_(h),v=i(13),y=_(v),A=i(24),g=_(A),p=i(4),w=_(p),x=i(16),C=_(x),D=i(21),N=_(D),I=i(11),R=_(I),T=i(3),k=_(T);function _(W){return W&&W.__esModule?W:{default:W}}function O(W,Q,U){return Q in W?Object.defineProperty(W,Q,{value:U,enumerable:!0,configurable:!0,writable:!0}):W[Q]=U,W}function j(W,Q){if(!(W instanceof Q))throw new TypeError("Cannot call a class as a function")}var z=/^[ -~]*$/,Z=function(){function W(Q){j(this,W),this.scroll=Q,this.delta=this.getDelta()}return s(W,[{key:"applyDelta",value:function(U){var B=this,L=!1;this.scroll.update();var H=this.scroll.length();return this.scroll.batchStart(),U=K(U),U.reduce(function(G,M){var V=M.retain||M.delete||M.insert.length||1,te=M.attributes||{};if(M.insert!=null){if(typeof M.insert=="string"){var J=M.insert;J.endsWith(`
`)&&L&&(L=!1,J=J.slice(0,-1)),G>=H&&!J.endsWith(`
`)&&(L=!0),B.scroll.insertAt(G,J);var de=B.scroll.line(G),ye=o(de,2),Ce=ye[0],Pe=ye[1],Le=(0,k.default)({},(0,p.bubbleFormats)(Ce));if(Ce instanceof w.default){var Ae=Ce.descendant(f.default.Leaf,Pe),oe=o(Ae,1),Je=oe[0];Le=(0,k.default)(Le,(0,p.bubbleFormats)(Je))}te=d.default.attributes.diff(Le,te)||{}}else if(a(M.insert)==="object"){var he=Object.keys(M.insert)[0];if(he==null)return G;B.scroll.insertAt(G,he,M.insert[he])}H+=V}return Object.keys(te).forEach(function(ue){B.scroll.formatAt(G,V,ue,te[ue])}),G+V},0),U.reduce(function(G,M){return typeof M.delete=="number"?(B.scroll.deleteAt(G,M.delete),G):G+(M.retain||M.insert.length||1)},0),this.scroll.batchEnd(),this.update(U)}},{key:"deleteText",value:function(U,B){return this.scroll.deleteAt(U,B),this.update(new u.default().retain(U).delete(B))}},{key:"formatLine",value:function(U,B){var L=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(H).forEach(function(G){if(!(L.scroll.whitelist!=null&&!L.scroll.whitelist[G])){var M=L.scroll.lines(U,Math.max(B,1)),V=B;M.forEach(function(te){var J=te.length();if(!(te instanceof y.default))te.format(G,H[G]);else{var de=U-te.offset(L.scroll),ye=te.newlineIndex(de+V)-de+1;te.formatAt(de,ye,G,H[G])}V-=J})}}),this.scroll.optimize(),this.update(new u.default().retain(U).retain(B,(0,N.default)(H)))}},{key:"formatText",value:function(U,B){var L=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(H).forEach(function(G){L.scroll.formatAt(U,B,G,H[G])}),this.update(new u.default().retain(U).retain(B,(0,N.default)(H)))}},{key:"getContents",value:function(U,B){return this.delta.slice(U,U+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(U,B){return U.concat(B.delta())},new u.default)}},{key:"getFormat",value:function(U){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=[],H=[];B===0?this.scroll.path(U).forEach(function(M){var V=o(M,1),te=V[0];te instanceof w.default?L.push(te):te instanceof f.default.Leaf&&H.push(te)}):(L=this.scroll.lines(U,B),H=this.scroll.descendants(f.default.Leaf,U,B));var G=[L,H].map(function(M){if(M.length===0)return{};for(var V=(0,p.bubbleFormats)(M.shift());Object.keys(V).length>0;){var te=M.shift();if(te==null)return V;V=ee((0,p.bubbleFormats)(te),V)}return V});return k.default.apply(k.default,G)}},{key:"getText",value:function(U,B){return this.getContents(U,B).filter(function(L){return typeof L.insert=="string"}).map(function(L){return L.insert}).join("")}},{key:"insertEmbed",value:function(U,B,L){return this.scroll.insertAt(U,B,L),this.update(new u.default().retain(U).insert(O({},B,L)))}},{key:"insertText",value:function(U,B){var L=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(U,B),Object.keys(H).forEach(function(G){L.scroll.formatAt(U,B.length,G,H[G])}),this.update(new u.default().retain(U).insert(B,(0,N.default)(H)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var U=this.scroll.children.head;return U.statics.blotName!==w.default.blotName||U.children.length>1?!1:U.children.head instanceof C.default}},{key:"removeFormat",value:function(U,B){var L=this.getText(U,B),H=this.scroll.line(U+B),G=o(H,2),M=G[0],V=G[1],te=0,J=new u.default;M!=null&&(M instanceof y.default?te=M.newlineIndex(V)-V+1:te=M.length()-V,J=M.delta().slice(V,V+te-1).insert(`
`));var de=this.getContents(U,B+te),ye=de.diff(new u.default().insert(L).concat(J)),Ce=new u.default().retain(U).concat(ye);return this.applyDelta(Ce)}},{key:"update",value:function(U){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,H=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(z)&&f.default.find(B[0].target)){var G=f.default.find(B[0].target),M=(0,p.bubbleFormats)(G),V=G.offset(this.scroll),te=B[0].oldValue.replace(g.default.CONTENTS,""),J=new u.default().insert(te),de=new u.default().insert(G.value()),ye=new u.default().retain(V).concat(J.diff(de,L));U=ye.reduce(function(Ce,Pe){return Pe.insert?Ce.insert(Pe.insert,M):Ce.push(Pe)},new u.default),this.delta=H.compose(U)}else this.delta=this.getDelta(),(!U||!(0,R.default)(H.compose(U),this.delta))&&(U=H.diff(this.delta,L));return U}}]),W}();function ee(W,Q){return Object.keys(Q).reduce(function(U,B){return W[B]==null||(Q[B]===W[B]?U[B]=Q[B]:Array.isArray(Q[B])?Q[B].indexOf(W[B])<0&&(U[B]=Q[B].concat([W[B]])):U[B]=[Q[B],W[B]]),U},{})}function K(W){return W.reduce(function(Q,U){if(U.insert===1){var B=(0,N.default)(U.attributes);return delete B.image,Q.insert({image:U.attributes.image},B)}if(U.attributes!=null&&(U.attributes.list===!0||U.attributes.bullet===!0)&&(U=(0,N.default)(U),U.attributes.list?U.attributes.list="ordered":(U.attributes.list="bullet",delete U.attributes.bullet)),typeof U.insert=="string"){var L=U.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Q.insert(L,U.attributes)}return Q.push(U)},new u.default)}r.default=Z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function I(R,T){var k=[],_=!0,O=!1,j=void 0;try{for(var z=R[Symbol.iterator](),Z;!(_=(Z=z.next()).done)&&(k.push(Z.value),!(T&&k.length===T));_=!0);}catch(ee){O=!0,j=ee}finally{try{!_&&z.return&&z.return()}finally{if(O)throw j}}return k}return function(R,T){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return I(R,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(R,T){for(var k=0;k<T.length;k++){var _=T[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(R,_.key,_)}}return function(R,T,k){return T&&I(R.prototype,T),k&&I(R,k),R}}(),s=i(0),l=g(s),u=i(21),c=g(u),d=i(11),h=g(d),f=i(8),v=g(f),y=i(10),A=g(y);function g(I){return I&&I.__esModule?I:{default:I}}function p(I){if(Array.isArray(I)){for(var R=0,T=Array(I.length);R<I.length;R++)T[R]=I[R];return T}else return Array.from(I)}function w(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")}var x=(0,A.default)("quill:selection"),C=function I(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,I),this.index=R,this.length=T},D=function(){function I(R,T){var k=this;w(this,I),this.emitter=T,this.scroll=R,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new C(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(_,O){_===v.default.events.TEXT_CHANGE&&O.length()>0&&k.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var _=k.getNativeRange();_!=null&&_.start.node!==k.cursor.textNode&&k.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(_.start.node,_.start.offset,_.end.node,_.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(_,O){if(O.range){var j=O.range,z=j.startNode,Z=j.startOffset,ee=j.endNode,K=j.endOffset;k.setNativeRange(z,Z,ee,K)}}),this.update(v.default.sources.SILENT)}return o(I,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var k=T.cursor.restore();if(!k)return;setTimeout(function(){T.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var _=this.getNativeRange();if(!(_==null||!_.native.collapsed||l.default.query(T,l.default.Scope.BLOCK))){if(_.start.node!==this.cursor.textNode){var O=l.default.find(_.start.node,!1);if(O==null)return;if(O instanceof l.default.Leaf){var j=O.split(_.start.offset);O.parent.insertBefore(this.cursor,j)}else O.insertBefore(this.cursor,_.start.node);this.cursor.attach()}this.cursor.format(T,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=this.scroll.length();T=Math.min(T,_-1),k=Math.min(T+k,_-1)-T;var O=void 0,j=this.scroll.leaf(T),z=a(j,2),Z=z[0],ee=z[1];if(Z==null)return null;var K=Z.position(ee,!0),W=a(K,2);O=W[0],ee=W[1];var Q=document.createRange();if(k>0){Q.setStart(O,ee);var U=this.scroll.leaf(T+k),B=a(U,2);if(Z=B[0],ee=B[1],Z==null)return null;var L=Z.position(ee,!0),H=a(L,2);return O=H[0],ee=H[1],Q.setEnd(O,ee),Q.getBoundingClientRect()}else{var G="left",M=void 0;return O instanceof Text?(ee<O.data.length?(Q.setStart(O,ee),Q.setEnd(O,ee+1)):(Q.setStart(O,ee-1),Q.setEnd(O,ee),G="right"),M=Q.getBoundingClientRect()):(M=Z.domNode.getBoundingClientRect(),ee>0&&(G="right")),{bottom:M.top+M.height,height:M.height,left:M[G],right:M[G],top:M.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var k=T.getRangeAt(0);if(k==null)return null;var _=this.normalizeNative(k);return x.info("getNativeRange",_),_}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var k=this.normalizedToRange(T);return[k,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var k=this,_=[[T.start.node,T.start.offset]];T.native.collapsed||_.push([T.end.node,T.end.offset]);var O=_.map(function(Z){var ee=a(Z,2),K=ee[0],W=ee[1],Q=l.default.find(K,!0),U=Q.offset(k.scroll);return W===0?U:Q instanceof l.default.Container?U+Q.length():U+Q.index(K,W)}),j=Math.min(Math.max.apply(Math,p(O)),this.scroll.length()-1),z=Math.min.apply(Math,[j].concat(p(O)));return new C(z,j-z)}},{key:"normalizeNative",value:function(T){if(!N(this.root,T.startContainer)||!T.collapsed&&!N(this.root,T.endContainer))return null;var k={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[k.start,k.end].forEach(function(_){for(var O=_.node,j=_.offset;!(O instanceof Text)&&O.childNodes.length>0;)if(O.childNodes.length>j)O=O.childNodes[j],j=0;else if(O.childNodes.length===j)O=O.lastChild,j=O instanceof Text?O.data.length:O.childNodes.length+1;else break;_.node=O,_.offset=j}),k}},{key:"rangeToNative",value:function(T){var k=this,_=T.collapsed?[T.index]:[T.index,T.index+T.length],O=[],j=this.scroll.length();return _.forEach(function(z,Z){z=Math.min(j-1,z);var ee=void 0,K=k.scroll.leaf(z),W=a(K,2),Q=W[0],U=W[1],B=Q.position(U,Z!==0),L=a(B,2);ee=L[0],U=L[1],O.push(ee,U)}),O.length<2&&(O=O.concat(O)),O}},{key:"scrollIntoView",value:function(T){var k=this.lastRange;if(k!=null){var _=this.getBounds(k.index,k.length);if(_!=null){var O=this.scroll.length()-1,j=this.scroll.line(Math.min(k.index,O)),z=a(j,1),Z=z[0],ee=Z;if(k.length>0){var K=this.scroll.line(Math.min(k.index+k.length,O)),W=a(K,1);ee=W[0]}if(!(Z==null||ee==null)){var Q=T.getBoundingClientRect();_.top<Q.top?T.scrollTop-=Q.top-_.top:_.bottom>Q.bottom&&(T.scrollTop+=_.bottom-Q.bottom)}}}}},{key:"setNativeRange",value:function(T,k){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",T,k,_,O),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||_.parentNode==null))){var z=document.getSelection();if(z!=null)if(T!=null){this.hasFocus()||this.root.focus();var Z=(this.getNativeRange()||{}).native;if(Z==null||j||T!==Z.startContainer||k!==Z.startOffset||_!==Z.endContainer||O!==Z.endOffset){T.tagName=="BR"&&(k=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),_.tagName=="BR"&&(O=[].indexOf.call(_.parentNode.childNodes,_),_=_.parentNode);var ee=document.createRange();ee.setStart(T,k),ee.setEnd(_,O),z.removeAllRanges(),z.addRange(ee)}}else z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof k=="string"&&(_=k,k=!1),x.info("setRange",T),T!=null){var O=this.rangeToNative(T);this.setNativeRange.apply(this,p(O).concat([k]))}else this.setNativeRange(null);this.update(_)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,k=this.lastRange,_=this.getRange(),O=a(_,2),j=O[0],z=O[1];if(this.lastRange=j,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(k,this.lastRange)){var Z;!this.composing&&z!=null&&z.native.collapsed&&z.start.node!==this.cursor.textNode&&this.cursor.restore();var ee=[v.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(k),T];if((Z=this.emitter).emit.apply(Z,[v.default.events.EDITOR_CHANGE].concat(ee)),T!==v.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,ee)}}}}]),I}();function N(I,R){try{R.parentNode}catch{return!1}return R instanceof Text&&(R=R.parentNode),I.contains(R)}r.Range=C,r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function v(y,A){for(var g=0;g<A.length;g++){var p=A[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,A,g){return A&&v(y.prototype,A),g&&v(y,g),y}}(),o=function v(y,A,g){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,A);if(p===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,A,g)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(g)}},s=i(0),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"insertInto",value:function(g,p){g.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,g,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);f.blotName="break",f.tagName="BR",r.default=f},function(n,r,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var v in f)f.hasOwnProperty(v)&&(h[v]=f[v])};return function(h,f){d(h,f);function v(){this.constructor=h}h.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),s=i(30),l=i(1),u=function(d){a(h,d);function h(f){var v=d.call(this,f)||this;return v.build(),v}return h.prototype.appendChild=function(f){this.insertBefore(f)},h.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},h.prototype.build=function(){var f=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var y=c(v);f.insertBefore(y,f.children.head||void 0)}catch(A){if(A instanceof l.ParchmentError)return;throw A}})},h.prototype.deleteAt=function(f,v){if(f===0&&v===this.length())return this.remove();this.children.forEachAt(f,v,function(y,A,g){y.deleteAt(A,g)})},h.prototype.descendant=function(f,v){var y=this.children.find(v),A=y[0],g=y[1];return f.blotName==null&&f(A)||f.blotName!=null&&A instanceof f?[A,g]:A instanceof h?A.descendant(f,g):[null,-1]},h.prototype.descendants=function(f,v,y){v===void 0&&(v=0),y===void 0&&(y=Number.MAX_VALUE);var A=[],g=y;return this.children.forEachAt(v,y,function(p,w,x){(f.blotName==null&&f(p)||f.blotName!=null&&p instanceof f)&&A.push(p),p instanceof h&&(A=A.concat(p.descendants(f,w,g))),g-=x}),A},h.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),d.prototype.detach.call(this)},h.prototype.formatAt=function(f,v,y,A){this.children.forEachAt(f,v,function(g,p,w){g.formatAt(p,w,y,A)})},h.prototype.insertAt=function(f,v,y){var A=this.children.find(f),g=A[0],p=A[1];if(g)g.insertAt(p,v,y);else{var w=y==null?l.create("text",v):l.create(v,y);this.appendChild(w)}},h.prototype.insertBefore=function(f,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return f instanceof y}))throw new l.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(f,v){return f+v.length()},0)},h.prototype.moveChildren=function(f,v){this.children.forEach(function(y){f.insertBefore(y,v)})},h.prototype.optimize=function(f){if(d.prototype.optimize.call(this,f),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(f)}else this.remove()},h.prototype.path=function(f,v){v===void 0&&(v=!1);var y=this.children.find(f,v),A=y[0],g=y[1],p=[[this,f]];return A instanceof h?p.concat(A.path(g,v)):(A!=null&&p.push([A,g]),p)},h.prototype.removeChild=function(f){this.children.remove(f)},h.prototype.replace=function(f){f instanceof h&&f.moveChildren(this),d.prototype.replace.call(this,f)},h.prototype.split=function(f,v){if(v===void 0&&(v=!1),!v){if(f===0)return this;if(f===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(f,this.length(),function(A,g,p){A=A.split(g,v),y.appendChild(A)}),y},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(f,v){var y=this,A=[],g=[];f.forEach(function(p){p.target===y.domNode&&p.type==="childList"&&(A.push.apply(A,p.addedNodes),g.push.apply(g,p.removedNodes))}),g.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(p);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===y.domNode)&&w.detach()}}),A.filter(function(p){return p.parentNode==y.domNode}).sort(function(p,w){return p===w?0:p.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var w=null;p.nextSibling!=null&&(w=l.find(p.nextSibling));var x=c(p);(x.next!=w||x.next==null)&&(x.parent!=null&&x.parent.removeChild(y),y.insertBefore(x,w||void 0))})},h}(s.default);function c(d){var h=l.find(d);if(h==null)try{h=l.create(d)}catch{h=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(v){h.domNode.appendChild(v)}),d.parentNode&&d.parentNode.replaceChild(h.domNode,d),h.attach()}return h}r.default=u},function(n,r,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var v in f)f.hasOwnProperty(v)&&(h[v]=f[v])};return function(h,f){d(h,f);function v(){this.constructor=h}h.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(31),l=i(17),u=i(1),c=function(d){a(h,d);function h(f){var v=d.call(this,f)||this;return v.attributes=new s.default(v.domNode),v}return h.formats=function(f){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return f.tagName.toLowerCase()},h.prototype.format=function(f,v){var y=u.query(f);y instanceof o.default?this.attributes.attribute(y,v):v&&y!=null&&(f!==this.statics.blotName||this.formats()[f]!==v)&&this.replaceWith(f,v)},h.prototype.formats=function(){var f=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(f[this.statics.blotName]=v),f},h.prototype.replaceWith=function(f,v){var y=d.prototype.replaceWith.call(this,f,v);return this.attributes.copy(y),y},h.prototype.update=function(f,v){var y=this;d.prototype.update.call(this,f,v),f.some(function(A){return A.target===y.domNode&&A.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(f,v){var y=d.prototype.wrap.call(this,f,v);return y instanceof h&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},h}(l.default);r.default=c},function(n,r,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(d){return!0},c.prototype.index=function(d,h){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},c.prototype.position=function(d,h){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(f+=1),[this.parent.domNode,f]},c.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},c.scope=s.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var a=i(11),o=i(3),s={attributes:{compose:function(u,c,d){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var h=o(!0,{},c);d||(h=Object.keys(h).reduce(function(v,y){return h[y]!=null&&(v[y]=h[y]),v},{}));for(var f in u)u[f]!==void 0&&c[f]===void 0&&(h[f]=u[f]);return Object.keys(h).length>0?h:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=Object.keys(u).concat(Object.keys(c)).reduce(function(h,f){return a(u[f],c[f])||(h[f]=c[f]===void 0?null:c[f]),h},{});return Object.keys(d).length>0?d:void 0},transform:function(u,c,d){if(typeof u!="object")return c;if(typeof c=="object"){if(!d)return c;var h=Object.keys(c).reduce(function(f,v){return u[v]===void 0&&(f[v]=c[v]),f},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var d=this.offset,h=s.length(c);if(u>=h-d?(u=h-d,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var f={};return c.attributes&&(f.attributes=c.attributes),typeof c.retain=="number"?f.retain=u:typeof c.insert=="string"?f.insert=c.insert.substr(d,u):f.insert=c.insert,f}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,d=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=c,[d].concat(h)}else return[]},n.exports=s},function(n,r){var i=function(){function a(y,A){return A!=null&&y instanceof A}var o;try{o=Map}catch{o=function(){}}var s;try{s=Set}catch{s=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(y,A,g,p,w){typeof A=="object"&&(g=A.depth,p=A.prototype,w=A.includeNonEnumerable,A=A.circular);var x=[],C=[],D=typeof Buffer<"u";typeof A>"u"&&(A=!0),typeof g>"u"&&(g=1/0);function N(I,R){if(I===null)return null;if(R===0)return I;var T,k;if(typeof I!="object")return I;if(a(I,o))T=new o;else if(a(I,s))T=new s;else if(a(I,l))T=new l(function(Q,U){I.then(function(B){Q(N(B,R-1))},function(B){U(N(B,R-1))})});else if(u.__isArray(I))T=[];else if(u.__isRegExp(I))T=new RegExp(I.source,v(I)),I.lastIndex&&(T.lastIndex=I.lastIndex);else if(u.__isDate(I))T=new Date(I.getTime());else{if(D&&Buffer.isBuffer(I))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(I.length):T=new Buffer(I.length),I.copy(T),T;a(I,Error)?T=Object.create(I):typeof p>"u"?(k=Object.getPrototypeOf(I),T=Object.create(k)):(T=Object.create(p),k=p)}if(A){var _=x.indexOf(I);if(_!=-1)return C[_];x.push(I),C.push(T)}a(I,o)&&I.forEach(function(Q,U){var B=N(U,R-1),L=N(Q,R-1);T.set(B,L)}),a(I,s)&&I.forEach(function(Q){var U=N(Q,R-1);T.add(U)});for(var O in I){var j;k&&(j=Object.getOwnPropertyDescriptor(k,O)),!(j&&j.set==null)&&(T[O]=N(I[O],R-1))}if(Object.getOwnPropertySymbols)for(var z=Object.getOwnPropertySymbols(I),O=0;O<z.length;O++){var Z=z[O],ee=Object.getOwnPropertyDescriptor(I,Z);ee&&!ee.enumerable&&!w||(T[Z]=N(I[Z],R-1),ee.enumerable||Object.defineProperty(T,Z,{enumerable:!1}))}if(w)for(var K=Object.getOwnPropertyNames(I),O=0;O<K.length;O++){var W=K[O],ee=Object.getOwnPropertyDescriptor(I,W);ee&&ee.enumerable||(T[W]=N(I[W],R-1),Object.defineProperty(T,W,{enumerable:!1}))}return T}return N(y,g)}u.clonePrototype=function(A){if(A===null)return null;var g=function(){};return g.prototype=A,new g};function c(y){return Object.prototype.toString.call(y)}u.__objToStr=c;function d(y){return typeof y=="object"&&c(y)==="[object Date]"}u.__isDate=d;function h(y){return typeof y=="object"&&c(y)==="[object Array]"}u.__isArray=h;function f(y){return typeof y=="object"&&c(y)==="[object RegExp]"}u.__isRegExp=f;function v(y){var A="";return y.global&&(A+="g"),y.ignoreCase&&(A+="i"),y.multiline&&(A+="m"),A}return u.__getRegExpFlags=v,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function T(k,_){var O=[],j=!0,z=!1,Z=void 0;try{for(var ee=k[Symbol.iterator](),K;!(j=(K=ee.next()).done)&&(O.push(K.value),!(_&&O.length===_));j=!0);}catch(W){z=!0,Z=W}finally{try{!j&&ee.return&&ee.return()}finally{if(z)throw Z}}return O}return function(k,_){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return T(k,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(k,_){for(var O=0;O<_.length;O++){var j=_[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}}return function(k,_,O){return _&&T(k.prototype,_),O&&T(k,O),k}}(),s=function T(k,_,O){k===null&&(k=Function.prototype);var j=Object.getOwnPropertyDescriptor(k,_);if(j===void 0){var z=Object.getPrototypeOf(k);return z===null?void 0:T(z,_,O)}else{if("value"in j)return j.value;var Z=j.get;return Z===void 0?void 0:Z.call(O)}},l=i(0),u=x(l),c=i(8),d=x(c),h=i(4),f=x(h),v=i(16),y=x(v),A=i(13),g=x(A),p=i(25),w=x(p);function x(T){return T&&T.__esModule?T:{default:T}}function C(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function D(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function N(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}function I(T){return T instanceof f.default||T instanceof h.BlockEmbed}var R=function(T){N(k,T);function k(_,O){C(this,k);var j=D(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,_));return j.emitter=O.emitter,Array.isArray(O.whitelist)&&(j.whitelist=O.whitelist.reduce(function(z,Z){return z[Z]=!0,z},{})),j.domNode.addEventListener("DOMNodeInserted",function(){}),j.optimize(),j.enable(),j}return o(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,j){var z=this.line(O),Z=a(z,2),ee=Z[0],K=Z[1],W=this.line(O+j),Q=a(W,1),U=Q[0];if(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,O,j),U!=null&&ee!==U&&K>0){if(ee instanceof h.BlockEmbed||U instanceof h.BlockEmbed){this.optimize();return}if(ee instanceof g.default){var B=ee.newlineIndex(ee.length(),!0);if(B>-1&&(ee=ee.split(B+1),ee===U)){this.optimize();return}}else if(U instanceof g.default){var L=U.newlineIndex(0);L>-1&&U.split(L+1)}var H=U.children.head instanceof y.default?null:U.children.head;ee.moveChildren(U,H),ee.remove()}this.optimize()}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,j,z,Z){this.whitelist!=null&&!this.whitelist[z]||(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,O,j,z,Z),this.optimize())}},{key:"insertAt",value:function(O,j,z){if(!(z!=null&&this.whitelist!=null&&!this.whitelist[j])){if(O>=this.length())if(z==null||u.default.query(j,u.default.Scope.BLOCK)==null){var Z=u.default.create(this.statics.defaultChild);this.appendChild(Z),z==null&&j.endsWith(`
`)&&(j=j.slice(0,-1)),Z.insertAt(0,j,z)}else{var ee=u.default.create(j,z);this.appendChild(ee)}else s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,O,j,z);this.optimize()}}},{key:"insertBefore",value:function(O,j){if(O.statics.scope===u.default.Scope.INLINE_BLOT){var z=u.default.create(this.statics.defaultChild);z.appendChild(O),O=z}s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,O,j)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(I,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,z=function Z(ee,K,W){var Q=[],U=W;return ee.children.forEachAt(K,W,function(B,L,H){I(B)?Q.push(B):B instanceof u.default.Container&&(Q=Q.concat(Z(B,L,U))),U-=H}),Q};return z(this,O,j)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,O,j),O.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,O,j))}},{key:"path",value:function(O){return s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var j=d.default.sources.USER;typeof O=="string"&&(j=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,j,O),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,j,O)}}}]),k}(u.default.Scroll);R.blotName="scroll",R.className="ql-editor",R.tagName="DIV",R.defaultChild="block",R.allowedChildren=[f.default,h.BlockEmbed,w.default],r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M(V,te){var J=[],de=!0,ye=!1,Ce=void 0;try{for(var Pe=V[Symbol.iterator](),Le;!(de=(Le=Pe.next()).done)&&(J.push(Le.value),!(te&&J.length===te));de=!0);}catch(Ae){ye=!0,Ce=Ae}finally{try{!de&&Pe.return&&Pe.return()}finally{if(ye)throw Ce}}return J}return function(V,te){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return M(V,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function M(V,te){for(var J=0;J<te.length;J++){var de=te[J];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(V,de.key,de)}}return function(V,te,J){return te&&M(V.prototype,te),J&&M(V,J),V}}(),l=i(21),u=T(l),c=i(11),d=T(c),h=i(3),f=T(h),v=i(2),y=T(v),A=i(20),g=T(A),p=i(0),w=T(p),x=i(5),C=T(x),D=i(10),N=T(D),I=i(9),R=T(I);function T(M){return M&&M.__esModule?M:{default:M}}function k(M,V,te){return V in M?Object.defineProperty(M,V,{value:te,enumerable:!0,configurable:!0,writable:!0}):M[V]=te,M}function _(M,V){if(!(M instanceof V))throw new TypeError("Cannot call a class as a function")}function O(M,V){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:M}function j(M,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);M.prototype=Object.create(V&&V.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(M,V):M.__proto__=V)}var z=(0,N.default)("quill:keyboard"),Z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ee=function(M){j(V,M),s(V,null,[{key:"match",value:function(J,de){return de=G(de),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ye){return!!de[ye]!==J[ye]&&de[ye]!==null})?!1:de.key===(J.which||J.keyCode)}}]);function V(te,J){_(this,V);var de=O(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,te,J));return de.bindings={},Object.keys(de.options.bindings).forEach(function(ye){ye==="list autofill"&&te.scroll.whitelist!=null&&!te.scroll.whitelist.list||de.options.bindings[ye]&&de.addBinding(de.options.bindings[ye])}),de.addBinding({key:V.keys.ENTER,shiftKey:null},B),de.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(de.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},W),de.addBinding({key:V.keys.DELETE},{collapsed:!0},Q)):(de.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},W),de.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Q)),de.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},U),de.addBinding({key:V.keys.DELETE},{collapsed:!1},U),de.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},W),de.listen(),de}return s(V,[{key:"addBinding",value:function(J){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ce=G(J);if(Ce==null||Ce.key==null)return z.warn("Attempted to add invalid keyboard binding",Ce);typeof de=="function"&&(de={handler:de}),typeof ye=="function"&&(ye={handler:ye}),Ce=(0,f.default)(Ce,de,ye),this.bindings[Ce.key]=this.bindings[Ce.key]||[],this.bindings[Ce.key].push(Ce)}},{key:"listen",value:function(){var J=this;this.quill.root.addEventListener("keydown",function(de){if(!de.defaultPrevented){var ye=de.which||de.keyCode,Ce=(J.bindings[ye]||[]).filter(function(Xe){return V.match(de,Xe)});if(Ce.length!==0){var Pe=J.quill.getSelection();if(!(Pe==null||!J.quill.hasFocus())){var Le=J.quill.getLine(Pe.index),Ae=o(Le,2),oe=Ae[0],Je=Ae[1],he=J.quill.getLeaf(Pe.index),ue=o(he,2),ge=ue[0],Ee=ue[1],ae=Pe.length===0?[ge,Ee]:J.quill.getLeaf(Pe.index+Pe.length),ke=o(ae,2),Te=ke[0],Be=ke[1],Ke=ge instanceof w.default.Text?ge.value().slice(0,Ee):"",nt=Te instanceof w.default.Text?Te.value().slice(Be):"",Ze={collapsed:Pe.length===0,empty:Pe.length===0&&oe.length()<=1,format:J.quill.getFormat(Pe),offset:Je,prefix:Ke,suffix:nt},rt=Ce.some(function(Xe){if(Xe.collapsed!=null&&Xe.collapsed!==Ze.collapsed||Xe.empty!=null&&Xe.empty!==Ze.empty||Xe.offset!=null&&Xe.offset!==Ze.offset)return!1;if(Array.isArray(Xe.format)){if(Xe.format.every(function(Ue){return Ze.format[Ue]==null}))return!1}else if(a(Xe.format)==="object"&&!Object.keys(Xe.format).every(function(Ue){return Xe.format[Ue]===!0?Ze.format[Ue]!=null:Xe.format[Ue]===!1?Ze.format[Ue]==null:(0,d.default)(Xe.format[Ue],Ze.format[Ue])}))return!1;return Xe.prefix!=null&&!Xe.prefix.test(Ze.prefix)||Xe.suffix!=null&&!Xe.suffix.test(Ze.suffix)?!1:Xe.handler.call(J,Pe,Ze)!==!0});rt&&de.preventDefault()}}}})}}]),V}(R.default);ee.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ee.DEFAULTS={bindings:{bold:H("bold"),italic:H("italic"),underline:H("underline"),indent:{key:ee.keys.TAB,format:["blockquote","indent","list"],handler:function(V,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","+1",C.default.sources.USER)}},outdent:{key:ee.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","-1",C.default.sources.USER)}},"outdent backspace":{key:ee.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,te){te.format.indent!=null?this.quill.format("indent","-1",C.default.sources.USER):te.format.list!=null&&this.quill.format("list",!1,C.default.sources.USER)}},"indent code-block":L(!0),"outdent code-block":L(!1),"remove tab":{key:ee.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,C.default.sources.USER)}},tab:{key:ee.keys.TAB,handler:function(V){this.quill.history.cutoff();var te=new y.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents(te,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,C.default.sources.SILENT)}},"list empty enter":{key:ee.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,te){this.quill.format("list",!1,C.default.sources.USER),te.format.indent&&this.quill.format("indent",!1,C.default.sources.USER)}},"checklist enter":{key:ee.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var te=this.quill.getLine(V.index),J=o(te,2),de=J[0],ye=J[1],Ce=(0,f.default)({},de.formats(),{list:"checked"}),Pe=new y.default().retain(V.index).insert(`
`,Ce).retain(de.length()-ye-1).retain(1,{list:"unchecked"});this.quill.updateContents(Pe,C.default.sources.USER),this.quill.setSelection(V.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ee.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,te){var J=this.quill.getLine(V.index),de=o(J,2),ye=de[0],Ce=de[1],Pe=new y.default().retain(V.index).insert(`
`,te.format).retain(ye.length()-Ce-1).retain(1,{header:null});this.quill.updateContents(Pe,C.default.sources.USER),this.quill.setSelection(V.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,te){var J=te.prefix.length,de=this.quill.getLine(V.index),ye=o(de,2),Ce=ye[0],Pe=ye[1];if(Pe>J)return!0;var Le=void 0;switch(te.prefix.trim()){case"[]":case"[ ]":Le="unchecked";break;case"[x]":Le="checked";break;case"-":case"*":Le="bullet";break;default:Le="ordered"}this.quill.insertText(V.index," ",C.default.sources.USER),this.quill.history.cutoff();var Ae=new y.default().retain(V.index-Pe).delete(J+1).retain(Ce.length()-2-Pe).retain(1,{list:Le});this.quill.updateContents(Ae,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-J,C.default.sources.SILENT)}},"code exit":{key:ee.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var te=this.quill.getLine(V.index),J=o(te,2),de=J[0],ye=J[1],Ce=new y.default().retain(V.index+de.length()-ye-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Ce,C.default.sources.USER)}},"embed left":K(ee.keys.LEFT,!1),"embed left shift":K(ee.keys.LEFT,!0),"embed right":K(ee.keys.RIGHT,!1),"embed right shift":K(ee.keys.RIGHT,!0)}};function K(M,V){var te,J=M===ee.keys.LEFT?"prefix":"suffix";return te={key:M,shiftKey:V,altKey:null},k(te,J,/^$/),k(te,"handler",function(ye){var Ce=ye.index;M===ee.keys.RIGHT&&(Ce+=ye.length+1);var Pe=this.quill.getLeaf(Ce),Le=o(Pe,1),Ae=Le[0];return Ae instanceof w.default.Embed?(M===ee.keys.LEFT?V?this.quill.setSelection(ye.index-1,ye.length+1,C.default.sources.USER):this.quill.setSelection(ye.index-1,C.default.sources.USER):V?this.quill.setSelection(ye.index,ye.length+1,C.default.sources.USER):this.quill.setSelection(ye.index+ye.length+1,C.default.sources.USER),!1):!0}),te}function W(M,V){if(!(M.index===0||this.quill.getLength()<=1)){var te=this.quill.getLine(M.index),J=o(te,1),de=J[0],ye={};if(V.offset===0){var Ce=this.quill.getLine(M.index-1),Pe=o(Ce,1),Le=Pe[0];if(Le!=null&&Le.length()>1){var Ae=de.formats(),oe=this.quill.getFormat(M.index-1,1);ye=g.default.attributes.diff(Ae,oe)||{}}}var Je=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(M.index-Je,Je,C.default.sources.USER),Object.keys(ye).length>0&&this.quill.formatLine(M.index-Je,Je,ye,C.default.sources.USER),this.quill.focus()}}function Q(M,V){var te=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(M.index>=this.quill.getLength()-te)){var J={},de=0,ye=this.quill.getLine(M.index),Ce=o(ye,1),Pe=Ce[0];if(V.offset>=Pe.length()-1){var Le=this.quill.getLine(M.index+1),Ae=o(Le,1),oe=Ae[0];if(oe){var Je=Pe.formats(),he=this.quill.getFormat(M.index,1);J=g.default.attributes.diff(Je,he)||{},de=oe.length()}}this.quill.deleteText(M.index,te,C.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(M.index+de-1,te,J,C.default.sources.USER)}}function U(M){var V=this.quill.getLines(M),te={};if(V.length>1){var J=V[0].formats(),de=V[V.length-1].formats();te=g.default.attributes.diff(de,J)||{}}this.quill.deleteText(M,C.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(M.index,1,te,C.default.sources.USER),this.quill.setSelection(M.index,C.default.sources.SILENT),this.quill.focus()}function B(M,V){var te=this;M.length>0&&this.quill.scroll.deleteAt(M.index,M.length);var J=Object.keys(V.format).reduce(function(de,ye){return w.default.query(ye,w.default.Scope.BLOCK)&&!Array.isArray(V.format[ye])&&(de[ye]=V.format[ye]),de},{});this.quill.insertText(M.index,`
`,J,C.default.sources.USER),this.quill.setSelection(M.index+1,C.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(de){J[de]==null&&(Array.isArray(V.format[de])||de!=="link"&&te.quill.format(de,V.format[de],C.default.sources.USER))})}function L(M){return{key:ee.keys.TAB,shiftKey:!M,format:{"code-block":!0},handler:function(te){var J=w.default.query("code-block"),de=te.index,ye=te.length,Ce=this.quill.scroll.descendant(J,de),Pe=o(Ce,2),Le=Pe[0],Ae=Pe[1];if(Le!=null){var oe=this.quill.getIndex(Le),Je=Le.newlineIndex(Ae,!0)+1,he=Le.newlineIndex(oe+Ae+ye),ue=Le.domNode.textContent.slice(Je,he).split(`
`);Ae=0,ue.forEach(function(ge,Ee){M?(Le.insertAt(Je+Ae,J.TAB),Ae+=J.TAB.length,Ee===0?de+=J.TAB.length:ye+=J.TAB.length):ge.startsWith(J.TAB)&&(Le.deleteAt(Je+Ae,J.TAB.length),Ae-=J.TAB.length,Ee===0?de-=J.TAB.length:ye-=J.TAB.length),Ae+=ge.length+1}),this.quill.update(C.default.sources.USER),this.quill.setSelection(de,ye,C.default.sources.SILENT)}}}}function H(M){return{key:M[0].toUpperCase(),shortKey:!0,handler:function(te,J){this.quill.format(M,!J.format[M],C.default.sources.USER)}}}function G(M){if(typeof M=="string"||typeof M=="number")return G({key:M});if((typeof M>"u"?"undefined":a(M))==="object"&&(M=(0,u.default)(M,!1)),typeof M.key=="string")if(ee.keys[M.key.toUpperCase()]!=null)M.key=ee.keys[M.key.toUpperCase()];else if(M.key.length===1)M.key=M.key.toUpperCase().charCodeAt(0);else return null;return M.shortKey&&(M[Z]=M.shortKey,delete M.shortKey),M}r.default=ee,r.SHORTKEY=Z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function g(p,w){var x=[],C=!0,D=!1,N=void 0;try{for(var I=p[Symbol.iterator](),R;!(C=(R=I.next()).done)&&(x.push(R.value),!(w&&x.length===w));C=!0);}catch(T){D=!0,N=T}finally{try{!C&&I.return&&I.return()}finally{if(D)throw N}}return x}return function(p,w){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return g(p,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function g(p,w,x){p===null&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,w);if(C===void 0){var D=Object.getPrototypeOf(p);return D===null?void 0:g(D,w,x)}else{if("value"in C)return C.value;var N=C.get;return N===void 0?void 0:N.call(x)}},s=function(){function g(p,w){for(var x=0;x<w.length;x++){var C=w[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,w,x){return w&&g(p.prototype,w),x&&g(p,x),p}}(),l=i(0),u=h(l),c=i(7),d=h(c);function h(g){return g&&g.__esModule?g:{default:g}}function f(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function v(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function y(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var A=function(g){y(p,g),s(p,null,[{key:"value",value:function(){}}]);function p(w,x){f(this,p);var C=v(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,w));return C.selection=x,C.textNode=document.createTextNode(p.CONTENTS),C.domNode.appendChild(C.textNode),C._length=0,C}return s(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,C){if(this._length!==0)return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,x,C);for(var D=this,N=0;D!=null&&D.statics.scope!==u.default.Scope.BLOCK_BLOT;)N+=D.offset(D.parent),D=D.parent;D!=null&&(this._length=p.CONTENTS.length,D.optimize(),D.formatAt(N,p.CONTENTS.length,x,C),this._length=0)}},{key:"index",value:function(x,C){return x===this.textNode?0:o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,x,C)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,C=this.selection.getNativeRange(),D=void 0,N=void 0,I=void 0;if(C!=null&&C.start.node===x&&C.end.node===x){var R=[x,C.start.offset,C.end.offset];D=R[0],N=R[1],I=R[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var T=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof d.default?(D=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=p.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),N!=null){var k=[N,I].map(function(O){return Math.max(0,Math.min(D.data.length,O-1))}),_=a(k,2);return N=_[0],I=_[1],{startNode:D,startOffset:N,endNode:D,endOffset:I}}}}},{key:"update",value:function(x,C){var D=this;if(x.some(function(I){return I.type==="characterData"&&I.target===D.textNode})){var N=this.restore();N&&(C.range=N)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);A.blotName="cursor",A.className="ql-cursor",A.tagName="span",A.CONTENTS="\uFEFF",r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=u(a),s=i(4),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);f.allowedChildren=[l.default,s.BlockEmbed,f],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function A(g,p){for(var w=0;w<p.length;w++){var x=p[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,w){return p&&A(g.prototype,p),w&&A(g,w),g}}(),o=function A(g,p,w){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:A(C,p,w)}else{if("value"in x)return x.value;var D=x.get;return D===void 0?void 0:D.call(w)}},s=i(0),l=u(s);function u(A){return A&&A.__esModule?A:{default:A}}function c(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function d(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var f=function(A){h(g,A);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"value",value:function(w){var x=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,w);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(C){return("00"+parseInt(C).toString(16)).slice(-2)}).join("")):x}}]),g}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new f("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=f,r.ColorClass=v,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function y(A,g){for(var p=0;p<g.length;p++){var w=g[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(A,w.key,w)}}return function(A,g,p){return g&&y(A.prototype,g),p&&y(A,p),A}}(),o=function y(A,g,p){A===null&&(A=Function.prototype);var w=Object.getOwnPropertyDescriptor(A,g);if(w===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:y(x,g,p)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(p)}},s=i(6),l=u(s);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")}function d(y,A){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:y}function h(y,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);y.prototype=Object.create(A&&A.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(y,A):y.__proto__=A)}var f=function(y){h(A,y);function A(){return c(this,A),d(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"format",value:function(p,w){if(p!==this.statics.blotName||!w)return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,p,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(p){var w=o(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,p);return p=this.sanitize(p),w.setAttribute("href",p),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return v(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),A}(l.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(y,A){var g=document.createElement("a");g.href=y;var p=g.href.slice(0,g.href.indexOf(":"));return A.indexOf(p)>-1}r.default=f,r.sanitize=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},o=function(){function A(g,p){for(var w=0;w<p.length;w++){var x=p[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,w){return p&&A(g.prototype,p),w&&A(g,w),g}}(),s=i(23),l=d(s),u=i(107),c=d(u);function d(A){return A&&A.__esModule?A:{default:A}}function h(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}var f=0;function v(A,g){A.setAttribute(g,A.getAttribute(g)!=="true")}var y=function(){function A(g){var p=this;h(this,A),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(A,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var w=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),p.hasAttribute("value")&&x.setAttribute("data-value",p.getAttribute("value")),p.textContent&&x.setAttribute("data-label",p.textContent),x.addEventListener("click",function(){w.selectItem(x,!0)}),x.addEventListener("keydown",function(C){switch(C.keyCode){case l.default.keys.ENTER:w.selectItem(x,!0),C.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),C.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=c.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(x){var C=p.buildItem(x);w.appendChild(C),x.selected===!0&&p.selectItem(C)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(w){p.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(p!==x&&(x!=null&&x.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var C=document.createEvent("Event");C.initEvent("change",!0,!0),this.select.dispatchEvent(C)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var x=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),A}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=z(a),s=i(5),l=z(s),u=i(4),c=z(u),d=i(16),h=z(d),f=i(25),v=z(f),y=i(24),A=z(y),g=i(35),p=z(g),w=i(6),x=z(w),C=i(22),D=z(C),N=i(7),I=z(N),R=i(55),T=z(R),k=i(42),_=z(k),O=i(23),j=z(O);function z(Z){return Z&&Z.__esModule?Z:{default:Z}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":A.default,"blots/embed":p.default,"blots/inline":x.default,"blots/scroll":D.default,"blots/text":I.default,"modules/clipboard":T.default,"modules/history":_.default,"modules/keyboard":j.default}),o.default.register(c.default,h.default,A.default,x.default,D.default,I.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=function(){function s(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},s.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},s.prototype.formatAt=function(l,u,c,d){var h=this.isolate(l,u);if(a.query(c,a.Scope.BLOT)!=null&&d)h.wrap(c,d);else if(a.query(c,a.Scope.ATTRIBUTE)!=null){var f=a.create(this.statics.scope);h.wrap(f),f.format(c,d)}},s.prototype.insertAt=function(l,u,c){var d=c==null?a.create("text",u):a.create(u,c),h=this.split(l);this.parent.insertBefore(d,h)},s.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},s.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},s.prototype.length=function(){return 1},s.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},s.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},s.prototype.replaceWith=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return c.replace(this),c},s.prototype.split=function(l,u){return l===0?this:this.next},s.prototype.update=function(l,u){},s.prototype.wrap=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},s.blotName="abstract",s}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),o=i(32),s=i(33),l=i(1),u=function(){function c(d){this.attributes={},this.domNode=d,this.build()}return c.prototype.attribute=function(d,h){h?d.add(this.domNode,h)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},c.prototype.build=function(){var d=this;this.attributes={};var h=a.default.keys(this.domNode),f=o.default.keys(this.domNode),v=s.default.keys(this.domNode);h.concat(f).concat(v).forEach(function(y){var A=l.query(y,l.Scope.ATTRIBUTE);A instanceof a.default&&(d.attributes[A.attrName]=A)})},c.prototype.copy=function(d){var h=this;Object.keys(this.attributes).forEach(function(f){var v=h.attributes[f].value(h.domNode);d.format(f,v)})},c.prototype.move=function(d){var h=this;this.copy(d),Object.keys(this.attributes).forEach(function(f){h.attributes[f].remove(h.domNode)}),this.attributes={}},c.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(h,f){return h[f]=d.attributes[f].value(d.domNode),h},{})},c}();r.default=u},function(n,r,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function s(u,c){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(h){return h.indexOf(c+"-")===0})}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(this.remove(d),d.classList.add(this.keyName+"-"+h),!0):!1},c.prototype.remove=function(d){var h=s(d,this.keyName);h.forEach(function(f){d.classList.remove(f)}),d.classList.length===0&&d.removeAttribute("class")},c.prototype.value=function(d){var h=s(d,this.keyName)[0]||"",f=h.slice(this.keyName.length+1);return this.canAdd(d,f)?f:""},c}(o.default);r.default=l},function(n,r,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function s(u){var c=u.split("-"),d=c.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return c[0]+d}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(h){var f=h.split(":");return f[0].trim()})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(d.style[s(this.keyName)]=h,!0):!1},c.prototype.remove=function(d){d.style[s(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},c.prototype.value=function(d){var h=d.style[s(this.keyName)];return this.canAdd(d,h)?h:""},c}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function l(u,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){o(this,l),this.quill=u,this.options=c,this.modules={}}return a(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(d){c.modules[d]==null&&c.addModule(d)})}},{key:"addModule",value:function(c){var d=this.quill.constructor.import("modules/"+c);return this.modules[c]=new d(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();s.DEFAULTS={modules:{}},s.themes={default:s},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function g(p,w){for(var x=0;x<w.length;x++){var C=w[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,w,x){return w&&g(p.prototype,w),x&&g(p,x),p}}(),o=function g(p,w,x){p===null&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,w);if(C===void 0){var D=Object.getPrototypeOf(p);return D===null?void 0:g(D,w,x)}else{if("value"in C)return C.value;var N=C.get;return N===void 0?void 0:N.call(x)}},s=i(0),l=d(s),u=i(7),c=d(u);function d(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function f(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function v(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var y="\uFEFF",A=function(g){v(p,g);function p(w){h(this,p);var x=f(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,w));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(C){x.contentNode.appendChild(C)}),x.leftGuard=document.createTextNode(y),x.rightGuard=document.createTextNode(y),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return a(p,[{key:"index",value:function(x,C){return x===this.leftGuard?0:x===this.rightGuard?1:o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,x,C)}},{key:"restore",value:function(x){var C=void 0,D=void 0,N=x.data.split(y).join("");if(x===this.leftGuard)if(this.prev instanceof c.default){var I=this.prev.length();this.prev.insertAt(I,N),C={startNode:this.prev.domNode,startOffset:I+N.length}}else D=document.createTextNode(N),this.parent.insertBefore(l.default.create(D),this),C={startNode:D,startOffset:N.length};else x===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,N),C={startNode:this.next.domNode,startOffset:N.length}):(D=document.createTextNode(N),this.parent.insertBefore(l.default.create(D),this.next),C={startNode:D,startOffset:N.length}));return x.data=y,C}},{key:"update",value:function(x,C){var D=this;x.forEach(function(N){if(N.type==="characterData"&&(N.target===D.leftGuard||N.target===D.rightGuard)){var I=D.restore(N.target);I&&(C.range=I)}})}}]),p}(l.default.Embed);r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=i(0),o=s(a);function s(h){return h&&h.__esModule?h:{default:h}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),d=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=i(0),o=l(a),s=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new s.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=i(0),o=s(a);function s(h){return h&&h.__esModule?h:{default:h}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),d=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function g(p,w){for(var x=0;x<w.length;x++){var C=w[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,w,x){return w&&g(p.prototype,w),x&&g(p,x),p}}(),o=function g(p,w,x){p===null&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,w);if(C===void 0){var D=Object.getPrototypeOf(p);return D===null?void 0:g(D,w,x)}else{if("value"in C)return C.value;var N=C.get;return N===void 0?void 0:N.call(x)}},s=i(0),l=u(s);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function d(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function h(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var f={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",f),y=function(g){h(p,g);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"value",value:function(x){return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),A=new y("font","font-family",f);r.FontStyle=A,r.FontClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=i(0),o=s(a);function s(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function w(x,C){for(var D=0;D<C.length;D++){var N=C[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,C,D){return C&&w(x.prototype,C),D&&w(x,D),x}}(),o=i(0),s=h(o),l=i(5),u=h(l),c=i(9),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function f(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function v(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function y(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var A=function(w){y(x,w);function x(C,D){f(this,x);var N=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,C,D));return N.lastRecorded=0,N.ignoreChange=!1,N.clear(),N.quill.on(u.default.events.EDITOR_CHANGE,function(I,R,T,k){I!==u.default.events.TEXT_CHANGE||N.ignoreChange||(!N.options.userOnly||k===u.default.sources.USER?N.record(R,T):N.transform(R))}),N.quill.keyboard.addBinding({key:"Z",shortKey:!0},N.undo.bind(N)),N.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},N.redo.bind(N)),/Win/i.test(navigator.platform)&&N.quill.keyboard.addBinding({key:"Y",shortKey:!0},N.redo.bind(N)),N}return a(x,[{key:"change",value:function(D,N){if(this.stack[D].length!==0){var I=this.stack[D].pop();this.stack[N].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[D],u.default.sources.USER),this.ignoreChange=!1;var R=p(I[D]);this.quill.setSelection(R)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(D,N){if(D.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(N),R=Date.now();if(this.lastRecorded+this.options.delay>R&&this.stack.undo.length>0){var T=this.stack.undo.pop();I=I.compose(T.undo),D=T.redo.compose(D)}else this.lastRecorded=R;this.stack.undo.push({redo:D,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(D){this.stack.undo.forEach(function(N){N.undo=D.transform(N.undo,!0),N.redo=D.transform(N.redo,!0)}),this.stack.redo.forEach(function(N){N.undo=D.transform(N.undo,!0),N.redo=D.transform(N.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(d.default);A.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(w){var x=w.ops[w.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(C){return s.default.query(C,s.default.Scope.BLOCK)!=null}):!1}function p(w){var x=w.reduce(function(D,N){return D+=N.delete||0,D},0),C=w.length()-x;return g(w)&&(C-=1),C}r.default=A,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function B(L,H){for(var G=0;G<H.length;G++){var M=H[G];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(L,M.key,M)}}return function(L,H,G){return H&&B(L.prototype,H),G&&B(L,G),L}}(),o=function B(L,H,G){L===null&&(L=Function.prototype);var M=Object.getOwnPropertyDescriptor(L,H);if(M===void 0){var V=Object.getPrototypeOf(L);return V===null?void 0:B(V,H,G)}else{if("value"in M)return M.value;var te=M.get;return te===void 0?void 0:te.call(G)}},s=i(3),l=R(s),u=i(2),c=R(u),d=i(8),h=R(d),f=i(23),v=R(f),y=i(34),A=R(y),g=i(59),p=R(g),w=i(60),x=R(w),C=i(28),D=R(C),N=i(61),I=R(N);function R(B){return B&&B.__esModule?B:{default:B}}function T(B,L){if(!(B instanceof L))throw new TypeError("Cannot call a class as a function")}function k(B,L){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:B}function _(B,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);B.prototype=Object.create(L&&L.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(B,L):B.__proto__=L)}var O=[!1,"center","right","justify"],j=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],z=[!1,"serif","monospace"],Z=["1","2","3",!1],ee=["small",!1,"large","huge"],K=function(B){_(L,B);function L(H,G){T(this,L);var M=k(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,H,G)),V=function te(J){if(!document.body.contains(H.root))return document.body.removeEventListener("click",te);M.tooltip!=null&&!M.tooltip.root.contains(J.target)&&document.activeElement!==M.tooltip.textbox&&!M.quill.hasFocus()&&M.tooltip.hide(),M.pickers!=null&&M.pickers.forEach(function(de){de.container.contains(J.target)||de.close()})};return H.emitter.listenDOM("click",document.body,V),M}return a(L,[{key:"addModule",value:function(G){var M=o(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"addModule",this).call(this,G);return G==="toolbar"&&this.extendToolbar(M),M}},{key:"buildButtons",value:function(G,M){G.forEach(function(V){var te=V.getAttribute("class")||"";te.split(/\s+/).forEach(function(J){if(J.startsWith("ql-")&&(J=J.slice(3),M[J]!=null))if(J==="direction")V.innerHTML=M[J][""]+M[J].rtl;else if(typeof M[J]=="string")V.innerHTML=M[J];else{var de=V.value||"";de!=null&&M[J][de]&&(V.innerHTML=M[J][de])}})})}},{key:"buildPickers",value:function(G,M){var V=this;this.pickers=G.map(function(J){if(J.classList.contains("ql-align"))return J.querySelector("option")==null&&U(J,O),new x.default(J,M.align);if(J.classList.contains("ql-background")||J.classList.contains("ql-color")){var de=J.classList.contains("ql-background")?"background":"color";return J.querySelector("option")==null&&U(J,j,de==="background"?"#ffffff":"#000000"),new p.default(J,M[de])}else return J.querySelector("option")==null&&(J.classList.contains("ql-font")?U(J,z):J.classList.contains("ql-header")?U(J,Z):J.classList.contains("ql-size")&&U(J,ee)),new D.default(J)});var te=function(){V.pickers.forEach(function(de){de.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,te)}}]),L}(A.default);K.DEFAULTS=(0,l.default)(!0,{},A.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var L=this,H=this.container.querySelector("input.ql-image[type=file]");H==null&&(H=document.createElement("input"),H.setAttribute("type","file"),H.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),H.classList.add("ql-image"),H.addEventListener("change",function(){if(H.files!=null&&H.files[0]!=null){var G=new FileReader;G.onload=function(M){var V=L.quill.getSelection(!0);L.quill.updateContents(new c.default().retain(V.index).delete(V.length).insert({image:M.target.result}),h.default.sources.USER),L.quill.setSelection(V.index+1,h.default.sources.SILENT),H.value=""},G.readAsDataURL(H.files[0])}}),this.container.appendChild(H)),H.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var W=function(B){_(L,B);function L(H,G){T(this,L);var M=k(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,H,G));return M.textbox=M.root.querySelector('input[type="text"]'),M.listen(),M}return a(L,[{key:"listen",value:function(){var G=this;this.textbox.addEventListener("keydown",function(M){v.default.match(M,"enter")?(G.save(),M.preventDefault()):v.default.match(M,"escape")&&(G.cancel(),M.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),M!=null?this.textbox.value=M:G!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+G)||""),this.root.setAttribute("data-mode",G)}},{key:"restoreFocus",value:function(){var G=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=G}},{key:"save",value:function(){var G=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var M=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",G,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",G,h.default.sources.USER)),this.quill.root.scrollTop=M;break}case"video":G=Q(G);case"formula":{if(!G)break;var V=this.quill.getSelection(!0);if(V!=null){var te=V.index+V.length;this.quill.insertEmbed(te,this.root.getAttribute("data-mode"),G,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(te+1," ",h.default.sources.USER),this.quill.setSelection(te+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),L}(I.default);function Q(B){var L=B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return L?(L[1]||"https")+"://www.youtube.com/embed/"+L[2]+"?showinfo=0":(L=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(L[1]||"https")+"://player.vimeo.com/video/"+L[2]+"/":B}function U(B,L){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;L.forEach(function(G){var M=document.createElement("option");G===H?M.setAttribute("selected","selected"):M.setAttribute("value",G),B.appendChild(M)})}r.BaseTooltip=W,r.default=K},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},o.prototype.contains=function(s){for(var l,u=this.iterator();l=u();)if(l===s)return!0;return!1},o.prototype.insertBefore=function(s,l){s&&(s.next=l,l!=null?(s.prev=l.prev,l.prev!=null&&(l.prev.next=s),l.prev=s,l===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},o.prototype.offset=function(s){for(var l=0,u=this.head;u!=null;){if(u===s)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},o.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var l=s;return s!=null&&(s=s.next),l}},o.prototype.find=function(s,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var d=u.length();if(s<d||l&&s===d&&(u.next==null||u.next.length()!==0))return[u,s];s-=d}return[null,0]},o.prototype.forEach=function(s){for(var l,u=this.iterator();l=u();)s(l)},o.prototype.forEachAt=function(s,l,u){if(!(l<=0))for(var c=this.find(s),d=c[0],h=c[1],f,v=s-h,y=this.iterator(d);(f=y())&&v<s+l;){var A=f.length();s>v?u(f,s-v,Math.min(l,v+A-s)):u(f,0,Math.min(A,s+l-v)),v+=A}},o.prototype.map=function(s){return this.reduce(function(l,u){return l.push(s(u)),l},[])},o.prototype.reduce=function(s,l){for(var u,c=this.iterator();u=c();)l=s(l,u);return l},o}();r.default=a},function(n,r,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var v in f)f.hasOwnProperty(v)&&(h[v]=f[v])};return function(h,f){d(h,f);function v(){this.constructor=h}h.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(d){a(h,d);function h(f){var v=d.call(this,f)||this;return v.scroll=v,v.observer=new MutationObserver(function(y){v.update(y)}),v.observer.observe(v.domNode,l),v.attach(),v}return h.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(f,v){this.update(),f===0&&v===this.length()?this.children.forEach(function(y){y.remove()}):d.prototype.deleteAt.call(this,f,v)},h.prototype.formatAt=function(f,v,y,A){this.update(),d.prototype.formatAt.call(this,f,v,y,A)},h.prototype.insertAt=function(f,v,y){this.update(),d.prototype.insertAt.call(this,f,v,y)},h.prototype.optimize=function(f,v){var y=this;f===void 0&&(f=[]),v===void 0&&(v={}),d.prototype.optimize.call(this,v);for(var A=[].slice.call(this.observer.takeRecords());A.length>0;)f.push(A.pop());for(var g=function(C,D){D===void 0&&(D=!0),!(C==null||C===y)&&C.domNode.parentNode!=null&&(C.domNode[s.DATA_KEY].mutations==null&&(C.domNode[s.DATA_KEY].mutations=[]),D&&g(C.parent))},p=function(C){C.domNode[s.DATA_KEY]==null||C.domNode[s.DATA_KEY].mutations==null||(C instanceof o.default&&C.children.forEach(p),C.optimize(v))},w=f,x=0;w.length>0;x+=1){if(x>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(C){var D=s.find(C.target,!0);D!=null&&(D.domNode===C.target&&(C.type==="childList"?(g(s.find(C.previousSibling,!1)),[].forEach.call(C.addedNodes,function(N){var I=s.find(N,!1);g(I,!1),I instanceof o.default&&I.children.forEach(function(R){g(R,!1)})})):C.type==="attributes"&&g(D.prev)),g(D))}),this.children.forEach(p),w=[].slice.call(this.observer.takeRecords()),A=w.slice();A.length>0;)f.push(A.pop())}},h.prototype.update=function(f,v){var y=this;v===void 0&&(v={}),f=f||this.observer.takeRecords(),f.map(function(A){var g=s.find(A.target,!0);return g==null?null:g.domNode[s.DATA_KEY].mutations==null?(g.domNode[s.DATA_KEY].mutations=[A],g):(g.domNode[s.DATA_KEY].mutations.push(A),null)}).forEach(function(A){A==null||A===y||A.domNode[s.DATA_KEY]==null||A.update(A.domNode[s.DATA_KEY].mutations||[],v)}),this.domNode[s.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,v),this.optimize(f,v)},h.blotName="scroll",h.defaultChild="block",h.scope=s.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);r.default=c},function(n,r,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),s=i(1);function l(c,d){if(Object.keys(c).length!==Object.keys(d).length)return!1;for(var h in c)if(c[h]!==d[h])return!1;return!0}var u=function(c){a(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(h){if(h.tagName!==d.tagName)return c.formats.call(this,h)},d.prototype.format=function(h,f){var v=this;h===this.statics.blotName&&!f?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(d.blotName,!0)),v.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,h,f)},d.prototype.formatAt=function(h,f,v,y){if(this.formats()[v]!=null||s.query(v,s.Scope.ATTRIBUTE)){var A=this.isolate(h,f);A.format(v,y)}else c.prototype.formatAt.call(this,h,f,v,y)},d.prototype.optimize=function(h){c.prototype.optimize.call(this,h);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var v=this.next;v instanceof d&&v.prev===this&&l(f,v.formats())&&(v.moveChildren(this),v.remove())},d.blotName="inline",d.scope=s.Scope.INLINE_BLOT,d.tagName="SPAN",d}(o.default);r.default=u},function(n,r,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(d){var h=s.query(c.blotName).tagName;if(d.tagName!==h)return u.formats.call(this,d)},c.prototype.format=function(d,h){s.query(d,s.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!h?this.replaceWith(c.blotName):u.prototype.format.call(this,d,h))},c.prototype.formatAt=function(d,h,f,v){s.query(f,s.Scope.BLOCK)!=null?this.format(f,v):u.prototype.formatAt.call(this,d,h,f,v)},c.prototype.insertAt=function(d,h,f){if(f==null||s.query(h,s.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,h,f);else{var v=this.split(d),y=s.create(h,f);v.parent.insertBefore(y,v)}},c.prototype.update=function(d,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,h)},c.blotName="block",c.scope=s.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);r.default=l},function(n,r,i){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),s=function(l){a(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,d){l.prototype.formatAt.call(this,0,this.length(),c,d)},u.prototype.formatAt=function(c,d,h,f){c===0&&d===this.length()?this.format(h,f):l.prototype.formatAt.call(this,c,d,h,f)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);r.default=s},function(n,r,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),s=i(1),l=function(u){a(c,u);function c(d){var h=u.call(this,d)||this;return h.text=h.statics.value(h.domNode),h}return c.create=function(d){return document.createTextNode(d)},c.value=function(d){var h=d.data;return h.normalize&&(h=h.normalize()),h},c.prototype.deleteAt=function(d,h){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+h)},c.prototype.index=function(d,h){return this.domNode===d?h:-1},c.prototype.insertAt=function(d,h,f){f==null?(this.text=this.text.slice(0,d)+h+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,h,f)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(d,h){return[this.domNode,d]},c.prototype.split=function(d,h){if(h===void 0&&(h=!1),!h){if(d===0)return this;if(d===this.length())return this.next}var f=s.create(this.domNode.splitText(d));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},c.prototype.update=function(d,h){var f=this;d.some(function(v){return v.type==="characterData"&&v.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=s.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,l){return arguments.length>1&&!this.contains(s)==!l?l:o.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,l){return l=l||0,this.substr(l,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=s.length;var c=u.indexOf(s,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,d=arguments[1],h,f=0;f<c;f++)if(h=u[f],l.call(d,h,f,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,a=1,o=0;function s(x,C,D){if(x==C)return x?[[o,x]]:[];(D<0||x.length<D)&&(D=null);var N=d(x,C),I=x.substring(0,N);x=x.substring(N),C=C.substring(N),N=h(x,C);var R=x.substring(x.length-N);x=x.substring(0,x.length-N),C=C.substring(0,C.length-N);var T=l(x,C);return I&&T.unshift([o,I]),R&&T.push([o,R]),v(T),D!=null&&(T=g(T,D)),T=p(T),T}function l(x,C){var D;if(!x)return[[a,C]];if(!C)return[[i,x]];var N=x.length>C.length?x:C,I=x.length>C.length?C:x,R=N.indexOf(I);if(R!=-1)return D=[[a,N.substring(0,R)],[o,I],[a,N.substring(R+I.length)]],x.length>C.length&&(D[0][0]=D[2][0]=i),D;if(I.length==1)return[[i,x],[a,C]];var T=f(x,C);if(T){var k=T[0],_=T[1],O=T[2],j=T[3],z=T[4],Z=s(k,O),ee=s(_,j);return Z.concat([[o,z]],ee)}return u(x,C)}function u(x,C){for(var D=x.length,N=C.length,I=Math.ceil((D+N)/2),R=I,T=2*I,k=new Array(T),_=new Array(T),O=0;O<T;O++)k[O]=-1,_[O]=-1;k[R+1]=0,_[R+1]=0;for(var j=D-N,z=j%2!=0,Z=0,ee=0,K=0,W=0,Q=0;Q<I;Q++){for(var U=-Q+Z;U<=Q-ee;U+=2){var B=R+U,L;U==-Q||U!=Q&&k[B-1]<k[B+1]?L=k[B+1]:L=k[B-1]+1;for(var H=L-U;L<D&&H<N&&x.charAt(L)==C.charAt(H);)L++,H++;if(k[B]=L,L>D)ee+=2;else if(H>N)Z+=2;else if(z){var G=R+j-U;if(G>=0&&G<T&&_[G]!=-1){var M=D-_[G];if(L>=M)return c(x,C,L,H)}}}for(var V=-Q+K;V<=Q-W;V+=2){var G=R+V,M;V==-Q||V!=Q&&_[G-1]<_[G+1]?M=_[G+1]:M=_[G-1]+1;for(var te=M-V;M<D&&te<N&&x.charAt(D-M-1)==C.charAt(N-te-1);)M++,te++;if(_[G]=M,M>D)W+=2;else if(te>N)K+=2;else if(!z){var B=R+j-V;if(B>=0&&B<T&&k[B]!=-1){var L=k[B],H=R+L-B;if(M=D-M,L>=M)return c(x,C,L,H)}}}}return[[i,x],[a,C]]}function c(x,C,D,N){var I=x.substring(0,D),R=C.substring(0,N),T=x.substring(D),k=C.substring(N),_=s(I,R),O=s(T,k);return _.concat(O)}function d(x,C){if(!x||!C||x.charAt(0)!=C.charAt(0))return 0;for(var D=0,N=Math.min(x.length,C.length),I=N,R=0;D<I;)x.substring(R,I)==C.substring(R,I)?(D=I,R=D):N=I,I=Math.floor((N-D)/2+D);return I}function h(x,C){if(!x||!C||x.charAt(x.length-1)!=C.charAt(C.length-1))return 0;for(var D=0,N=Math.min(x.length,C.length),I=N,R=0;D<I;)x.substring(x.length-I,x.length-R)==C.substring(C.length-I,C.length-R)?(D=I,R=D):N=I,I=Math.floor((N-D)/2+D);return I}function f(x,C){var D=x.length>C.length?x:C,N=x.length>C.length?C:x;if(D.length<4||N.length*2<D.length)return null;function I(ee,K,W){for(var Q=ee.substring(W,W+Math.floor(ee.length/4)),U=-1,B="",L,H,G,M;(U=K.indexOf(Q,U+1))!=-1;){var V=d(ee.substring(W),K.substring(U)),te=h(ee.substring(0,W),K.substring(0,U));B.length<te+V&&(B=K.substring(U-te,U)+K.substring(U,U+V),L=ee.substring(0,W-te),H=ee.substring(W+V),G=K.substring(0,U-te),M=K.substring(U+V))}return B.length*2>=ee.length?[L,H,G,M,B]:null}var R=I(D,N,Math.ceil(D.length/4)),T=I(D,N,Math.ceil(D.length/2)),k;if(!R&&!T)return null;T?R?k=R[4].length>T[4].length?R:T:k=T:k=R;var _,O,j,z;x.length>C.length?(_=k[0],O=k[1],j=k[2],z=k[3]):(j=k[0],z=k[1],_=k[2],O=k[3]);var Z=k[4];return[_,O,j,z,Z]}function v(x){x.push([o,""]);for(var C=0,D=0,N=0,I="",R="",T;C<x.length;)switch(x[C][0]){case a:N++,R+=x[C][1],C++;break;case i:D++,I+=x[C][1],C++;break;case o:D+N>1?(D!==0&&N!==0&&(T=d(R,I),T!==0&&(C-D-N>0&&x[C-D-N-1][0]==o?x[C-D-N-1][1]+=R.substring(0,T):(x.splice(0,0,[o,R.substring(0,T)]),C++),R=R.substring(T),I=I.substring(T)),T=h(R,I),T!==0&&(x[C][1]=R.substring(R.length-T)+x[C][1],R=R.substring(0,R.length-T),I=I.substring(0,I.length-T))),D===0?x.splice(C-N,D+N,[a,R]):N===0?x.splice(C-D,D+N,[i,I]):x.splice(C-D-N,D+N,[i,I],[a,R]),C=C-D-N+(D?1:0)+(N?1:0)+1):C!==0&&x[C-1][0]==o?(x[C-1][1]+=x[C][1],x.splice(C,1)):C++,N=0,D=0,I="",R="";break}x[x.length-1][1]===""&&x.pop();var k=!1;for(C=1;C<x.length-1;)x[C-1][0]==o&&x[C+1][0]==o&&(x[C][1].substring(x[C][1].length-x[C-1][1].length)==x[C-1][1]?(x[C][1]=x[C-1][1]+x[C][1].substring(0,x[C][1].length-x[C-1][1].length),x[C+1][1]=x[C-1][1]+x[C+1][1],x.splice(C-1,1),k=!0):x[C][1].substring(0,x[C+1][1].length)==x[C+1][1]&&(x[C-1][1]+=x[C+1][1],x[C][1]=x[C][1].substring(x[C+1][1].length)+x[C+1][1],x.splice(C+1,1),k=!0)),C++;k&&v(x)}var y=s;y.INSERT=a,y.DELETE=i,y.EQUAL=o,n.exports=y;function A(x,C){if(C===0)return[o,x];for(var D=0,N=0;N<x.length;N++){var I=x[N];if(I[0]===i||I[0]===o){var R=D+I[1].length;if(C===R)return[N+1,x];if(C<R){x=x.slice();var T=C-D,k=[I[0],I[1].slice(0,T)],_=[I[0],I[1].slice(T)];return x.splice(N,1,k,_),[N+1,x]}else D=R}}throw new Error("cursor_pos is out of bounds!")}function g(x,C){var D=A(x,C),N=D[1],I=D[0],R=N[I],T=N[I+1];if(R==null)return x;if(R[0]!==o)return x;if(T!=null&&R[1]+T[1]===T[1]+R[1])return N.splice(I,2,T,R),w(N,I,2);if(T!=null&&T[1].indexOf(R[1])===0){N.splice(I,2,[T[0],R[1]],[0,R[1]]);var k=T[1].slice(R[1].length);return k.length>0&&N.splice(I+2,0,[T[0],k]),w(N,I,3)}else return x}function p(x){for(var C=!1,D=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},N=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},I=2;I<x.length;I+=1)x[I-2][0]===o&&N(x[I-2][1])&&x[I-1][0]===i&&D(x[I-1][1])&&x[I][0]===a&&D(x[I][1])&&(C=!0,x[I-1][1]=x[I-2][1].slice(-1)+x[I-1][1],x[I][1]=x[I-2][1].slice(-1)+x[I][1],x[I-2][1]=x[I-2][1].slice(0,-1));if(!C)return x;for(var R=[],I=0;I<x.length;I+=1)x[I][1].length>0&&R.push(x[I]);return R}function w(x,C,D){for(var N=C+D-1;N>=0&&N>=C-1;N--)if(N+1<x.length){var I=x[N],R=x[N+1];I[0]===R[1]&&x.splice(N,2,[I[0],I[1]+R[1]])}return x}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(a){var o=[];for(var s in a)o.push(s);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?a:o,r.supported=a;function a(s){return Object.prototype.toString.call(s)=="[object Arguments]"}r.unsupported=o;function o(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function s(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)i.call(d,h)&&c.push(a?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c,d){var h=a?a+c:c,f=this._events[h];if(d)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var v=0,y=f.length,A=new Array(y);v<y;v++)A[v]=f[v].fn;return A},l.prototype.emit=function(c,d,h,f,v,y){var A=a?a+c:c;if(!this._events[A])return!1;var g=this._events[A],p=arguments.length,w,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),p){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,h),!0;case 4:return g.fn.call(g.context,d,h,f),!0;case 5:return g.fn.call(g.context,d,h,f,v),!0;case 6:return g.fn.call(g.context,d,h,f,v,y),!0}for(x=1,w=new Array(p-1);x<p;x++)w[x-1]=arguments[x];g.fn.apply(g.context,w)}else{var C=g.length,D;for(x=0;x<C;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),p){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,d);break;case 3:g[x].fn.call(g[x].context,d,h);break;case 4:g[x].fn.call(g[x].context,d,h,f);break;default:if(!w)for(D=1,w=new Array(p-1);D<p;D++)w[D-1]=arguments[D];g[x].fn.apply(g[x].context,w)}}return!0},l.prototype.on=function(c,d,h){var f=new s(d,h||this),v=a?a+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],f]:this._events[v].push(f):(this._events[v]=f,this._eventsCount++),this},l.prototype.once=function(c,d,h){var f=new s(d,h||this,!0),v=a?a+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],f]:this._events[v].push(f):(this._events[v]=f,this._eventsCount++),this},l.prototype.removeListener=function(c,d,h,f){var v=a?a+c:c;if(!this._events[v])return this;if(!d)return--this._eventsCount===0?this._events=new o:delete this._events[v],this;var y=this._events[v];if(y.fn)y.fn===d&&(!f||y.once)&&(!h||y.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[v]);else{for(var A=0,g=[],p=y.length;A<p;A++)(y[A].fn!==d||f&&!y[A].once||h&&y[A].context!==h)&&g.push(y[A]);g.length?this._events[v]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new o:delete this._events[v]}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=a?a+c:c,this._events[d]&&(--this._eventsCount===0?this._events=new o:delete this._events[d])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},o=function(){function he(ue,ge){var Ee=[],ae=!0,ke=!1,Te=void 0;try{for(var Be=ue[Symbol.iterator](),Ke;!(ae=(Ke=Be.next()).done)&&(Ee.push(Ke.value),!(ge&&Ee.length===ge));ae=!0);}catch(nt){ke=!0,Te=nt}finally{try{!ae&&Be.return&&Be.return()}finally{if(ke)throw Te}}return Ee}return function(ue,ge){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return he(ue,ge);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function he(ue,ge){for(var Ee=0;Ee<ge.length;Ee++){var ae=ge[Ee];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(ue,ae.key,ae)}}return function(ue,ge,Ee){return ge&&he(ue.prototype,ge),Ee&&he(ue,Ee),ue}}(),l=i(3),u=_(l),c=i(2),d=_(c),h=i(0),f=_(h),v=i(5),y=_(v),A=i(10),g=_(A),p=i(9),w=_(p),x=i(36),C=i(37),D=i(13),N=_(D),I=i(26),R=i(38),T=i(39),k=i(40);function _(he){return he&&he.__esModule?he:{default:he}}function O(he,ue,ge){return ue in he?Object.defineProperty(he,ue,{value:ge,enumerable:!0,configurable:!0,writable:!0}):he[ue]=ge,he}function j(he,ue){if(!(he instanceof ue))throw new TypeError("Cannot call a class as a function")}function z(he,ue){if(!he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue&&(typeof ue=="object"||typeof ue=="function")?ue:he}function Z(he,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ue);he.prototype=Object.create(ue&&ue.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),ue&&(Object.setPrototypeOf?Object.setPrototypeOf(he,ue):he.__proto__=ue)}var ee=(0,g.default)("quill:clipboard"),K="__ql-matcher",W=[[Node.TEXT_NODE,Je],[Node.TEXT_NODE,Le],["br",ye],[Node.ELEMENT_NODE,Le],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,Ae],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,oe],["li",Pe],["b",te.bind(te,"bold")],["i",te.bind(te,"italic")],["style",Ce]],Q=[x.AlignAttribute,R.DirectionAttribute].reduce(function(he,ue){return he[ue.keyName]=ue,he},{}),U=[x.AlignStyle,C.BackgroundStyle,I.ColorStyle,R.DirectionStyle,T.FontStyle,k.SizeStyle].reduce(function(he,ue){return he[ue.keyName]=ue,he},{}),B=function(he){Z(ue,he);function ue(ge,Ee){j(this,ue);var ae=z(this,(ue.__proto__||Object.getPrototypeOf(ue)).call(this,ge,Ee));return ae.quill.root.addEventListener("paste",ae.onPaste.bind(ae)),ae.container=ae.quill.addContainer("ql-clipboard"),ae.container.setAttribute("contenteditable",!0),ae.container.setAttribute("tabindex",-1),ae.matchers=[],W.concat(ae.options.matchers).forEach(function(ke){var Te=o(ke,2),Be=Te[0],Ke=Te[1];!Ee.matchVisual&&Ke===Ae||ae.addMatcher(Be,Ke)}),ae}return s(ue,[{key:"addMatcher",value:function(Ee,ae){this.matchers.push([Ee,ae])}},{key:"convert",value:function(Ee){if(typeof Ee=="string")return this.container.innerHTML=Ee.replace(/\>\r?\n +\</g,"><"),this.convert();var ae=this.quill.getFormat(this.quill.selection.savedRange.index);if(ae[N.default.blotName]){var ke=this.container.innerText;return this.container.innerHTML="",new d.default().insert(ke,O({},N.default.blotName,ae[N.default.blotName]))}var Te=this.prepareMatching(),Be=o(Te,2),Ke=Be[0],nt=Be[1],Ze=V(this.container,Ke,nt);return G(Ze,`
`)&&Ze.ops[Ze.ops.length-1].attributes==null&&(Ze=Ze.compose(new d.default().retain(Ze.length()-1).delete(1))),ee.log("convert",this.container.innerHTML,Ze),this.container.innerHTML="",Ze}},{key:"dangerouslyPasteHTML",value:function(Ee,ae){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof Ee=="string")this.quill.setContents(this.convert(Ee),ae),this.quill.setSelection(0,y.default.sources.SILENT);else{var Te=this.convert(ae);this.quill.updateContents(new d.default().retain(Ee).concat(Te),ke),this.quill.setSelection(Ee+Te.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(Ee){var ae=this;if(!(Ee.defaultPrevented||!this.quill.isEnabled())){var ke=this.quill.getSelection(),Te=new d.default().retain(ke.index),Be=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Te=Te.concat(ae.convert()).delete(ke.length),ae.quill.updateContents(Te,y.default.sources.USER),ae.quill.setSelection(Te.length()-ke.length,y.default.sources.SILENT),ae.quill.scrollingContainer.scrollTop=Be,ae.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ee=this,ae=[],ke=[];return this.matchers.forEach(function(Te){var Be=o(Te,2),Ke=Be[0],nt=Be[1];switch(Ke){case Node.TEXT_NODE:ke.push(nt);break;case Node.ELEMENT_NODE:ae.push(nt);break;default:[].forEach.call(Ee.container.querySelectorAll(Ke),function(Ze){Ze[K]=Ze[K]||[],Ze[K].push(nt)});break}}),[ae,ke]}}]),ue}(w.default);B.DEFAULTS={matchers:[],matchVisual:!0};function L(he,ue,ge){return(typeof ue>"u"?"undefined":a(ue))==="object"?Object.keys(ue).reduce(function(Ee,ae){return L(Ee,ae,ue[ae])},he):he.reduce(function(Ee,ae){return ae.attributes&&ae.attributes[ue]?Ee.push(ae):Ee.insert(ae.insert,(0,u.default)({},O({},ue,ge),ae.attributes))},new d.default)}function H(he){if(he.nodeType!==Node.ELEMENT_NODE)return{};var ue="__ql-computed-style";return he[ue]||(he[ue]=window.getComputedStyle(he))}function G(he,ue){for(var ge="",Ee=he.ops.length-1;Ee>=0&&ge.length<ue.length;--Ee){var ae=he.ops[Ee];if(typeof ae.insert!="string")break;ge=ae.insert+ge}return ge.slice(-1*ue.length)===ue}function M(he){if(he.childNodes.length===0)return!1;var ue=H(he);return["block","list-item"].indexOf(ue.display)>-1}function V(he,ue,ge){return he.nodeType===he.TEXT_NODE?ge.reduce(function(Ee,ae){return ae(he,Ee)},new d.default):he.nodeType===he.ELEMENT_NODE?[].reduce.call(he.childNodes||[],function(Ee,ae){var ke=V(ae,ue,ge);return ae.nodeType===he.ELEMENT_NODE&&(ke=ue.reduce(function(Te,Be){return Be(ae,Te)},ke),ke=(ae[K]||[]).reduce(function(Te,Be){return Be(ae,Te)},ke)),Ee.concat(ke)},new d.default):new d.default}function te(he,ue,ge){return L(ge,he,!0)}function J(he,ue){var ge=f.default.Attributor.Attribute.keys(he),Ee=f.default.Attributor.Class.keys(he),ae=f.default.Attributor.Style.keys(he),ke={};return ge.concat(Ee).concat(ae).forEach(function(Te){var Be=f.default.query(Te,f.default.Scope.ATTRIBUTE);Be!=null&&(ke[Be.attrName]=Be.value(he),ke[Be.attrName])||(Be=Q[Te],Be!=null&&(Be.attrName===Te||Be.keyName===Te)&&(ke[Be.attrName]=Be.value(he)||void 0),Be=U[Te],Be!=null&&(Be.attrName===Te||Be.keyName===Te)&&(Be=U[Te],ke[Be.attrName]=Be.value(he)||void 0))}),Object.keys(ke).length>0&&(ue=L(ue,ke)),ue}function de(he,ue){var ge=f.default.query(he);if(ge==null)return ue;if(ge.prototype instanceof f.default.Embed){var Ee={},ae=ge.value(he);ae!=null&&(Ee[ge.blotName]=ae,ue=new d.default().insert(Ee,ge.formats(he)))}else typeof ge.formats=="function"&&(ue=L(ue,ge.blotName,ge.formats(he)));return ue}function ye(he,ue){return G(ue,`
`)||ue.insert(`
`),ue}function Ce(){return new d.default}function Pe(he,ue){var ge=f.default.query(he);if(ge==null||ge.blotName!=="list-item"||!G(ue,`
`))return ue;for(var Ee=-1,ae=he.parentNode;!ae.classList.contains("ql-clipboard");)(f.default.query(ae)||{}).blotName==="list"&&(Ee+=1),ae=ae.parentNode;return Ee<=0?ue:ue.compose(new d.default().retain(ue.length()-1).retain(1,{indent:Ee}))}function Le(he,ue){return G(ue,`
`)||(M(he)||ue.length()>0&&he.nextSibling&&M(he.nextSibling))&&ue.insert(`
`),ue}function Ae(he,ue){if(M(he)&&he.nextElementSibling!=null&&!G(ue,`

`)){var ge=he.offsetHeight+parseFloat(H(he).marginTop)+parseFloat(H(he).marginBottom);he.nextElementSibling.offsetTop>he.offsetTop+ge*1.5&&ue.insert(`
`)}return ue}function oe(he,ue){var ge={},Ee=he.style||{};return Ee.fontStyle&&H(he).fontStyle==="italic"&&(ge.italic=!0),Ee.fontWeight&&(H(he).fontWeight.startsWith("bold")||parseInt(H(he).fontWeight)>=700)&&(ge.bold=!0),Object.keys(ge).length>0&&(ue=L(ue,ge)),parseFloat(Ee.textIndent||0)>0&&(ue=new d.default().insert("	").concat(ue)),ue}function Je(he,ue){var ge=he.data;if(he.parentNode.tagName==="O:P")return ue.insert(ge.trim());if(ge.trim().length===0&&he.parentNode.classList.contains("ql-clipboard"))return ue;if(!H(he.parentNode).whiteSpace.startsWith("pre")){var Ee=function(ke,Te){return Te=Te.replace(/[^\u00a0]/g,""),Te.length<1&&ke?" ":Te};ge=ge.replace(/\r\n/g," ").replace(/\n/g," "),ge=ge.replace(/\s\s+/g,Ee.bind(Ee,!0)),(he.previousSibling==null&&M(he.parentNode)||he.previousSibling!=null&&M(he.previousSibling))&&(ge=ge.replace(/^\s+/,Ee.bind(Ee,!1))),(he.nextSibling==null&&M(he.parentNode)||he.nextSibling!=null&&M(he.nextSibling))&&(ge=ge.replace(/\s+$/,Ee.bind(Ee,!1)))}return ue.insert(ge)}r.default=B,r.matchAttributor=J,r.matchBlot=de,r.matchNewline=Le,r.matchSpacing=Ae,r.matchText=Je},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function v(y,A){for(var g=0;g<A.length;g++){var p=A[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,A,g){return A&&v(y.prototype,A),g&&v(y,g),y}}(),o=function v(y,A,g){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,A);if(p===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,A,g)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(g)}},s=i(6),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"optimize",value:function(g){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);f.blotName="bold",f.tagName=["STRONG","B"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function k(_,O){var j=[],z=!0,Z=!1,ee=void 0;try{for(var K=_[Symbol.iterator](),W;!(z=(W=K.next()).done)&&(j.push(W.value),!(O&&j.length===O));z=!0);}catch(Q){Z=!0,ee=Q}finally{try{!z&&K.return&&K.return()}finally{if(Z)throw ee}}return j}return function(_,O){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return k(_,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(_,O){for(var j=0;j<O.length;j++){var z=O[j];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(_,z.key,z)}}return function(_,O,j){return O&&k(_.prototype,O),j&&k(_,j),_}}(),s=i(2),l=g(s),u=i(0),c=g(u),d=i(5),h=g(d),f=i(10),v=g(f),y=i(9),A=g(y);function g(k){return k&&k.__esModule?k:{default:k}}function p(k,_,O){return _ in k?Object.defineProperty(k,_,{value:O,enumerable:!0,configurable:!0,writable:!0}):k[_]=O,k}function w(k,_){if(!(k instanceof _))throw new TypeError("Cannot call a class as a function")}function x(k,_){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:k}function C(k,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);k.prototype=Object.create(_&&_.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(k,_):k.__proto__=_)}var D=(0,v.default)("quill:toolbar"),N=function(k){C(_,k);function _(O,j){w(this,_);var z=x(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O,j));if(Array.isArray(z.options.container)){var Z=document.createElement("div");R(Z,z.options.container),O.container.parentNode.insertBefore(Z,O.container),z.container=Z}else typeof z.options.container=="string"?z.container=document.querySelector(z.options.container):z.container=z.options.container;if(!(z.container instanceof HTMLElement)){var ee;return ee=D.error("Container required for toolbar",z.options),x(z,ee)}return z.container.classList.add("ql-toolbar"),z.controls=[],z.handlers={},Object.keys(z.options.handlers).forEach(function(K){z.addHandler(K,z.options.handlers[K])}),[].forEach.call(z.container.querySelectorAll("button, select"),function(K){z.attach(K)}),z.quill.on(h.default.events.EDITOR_CHANGE,function(K,W){K===h.default.events.SELECTION_CHANGE&&z.update(W)}),z.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var K=z.quill.selection.getRange(),W=a(K,1),Q=W[0];z.update(Q)}),z}return o(_,[{key:"addHandler",value:function(j,z){this.handlers[j]=z}},{key:"attach",value:function(j){var z=this,Z=[].find.call(j.classList,function(K){return K.indexOf("ql-")===0});if(Z){if(Z=Z.slice(3),j.tagName==="BUTTON"&&j.setAttribute("type","button"),this.handlers[Z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[Z]==null){D.warn("ignoring attaching to disabled format",Z,j);return}if(c.default.query(Z)==null){D.warn("ignoring attaching to nonexistent format",Z,j);return}}var ee=j.tagName==="SELECT"?"change":"click";j.addEventListener(ee,function(K){var W=void 0;if(j.tagName==="SELECT"){if(j.selectedIndex<0)return;var Q=j.options[j.selectedIndex];Q.hasAttribute("selected")?W=!1:W=Q.value||!1}else j.classList.contains("ql-active")?W=!1:W=j.value||!j.hasAttribute("value"),K.preventDefault();z.quill.focus();var U=z.quill.selection.getRange(),B=a(U,1),L=B[0];if(z.handlers[Z]!=null)z.handlers[Z].call(z,W);else if(c.default.query(Z).prototype instanceof c.default.Embed){if(W=prompt("Enter "+Z),!W)return;z.quill.updateContents(new l.default().retain(L.index).delete(L.length).insert(p({},Z,W)),h.default.sources.USER)}else z.quill.format(Z,W,h.default.sources.USER);z.update(L)}),this.controls.push([Z,j])}}},{key:"update",value:function(j){var z=j==null?{}:this.quill.getFormat(j);this.controls.forEach(function(Z){var ee=a(Z,2),K=ee[0],W=ee[1];if(W.tagName==="SELECT"){var Q=void 0;if(j==null)Q=null;else if(z[K]==null)Q=W.querySelector("option[selected]");else if(!Array.isArray(z[K])){var U=z[K];typeof U=="string"&&(U=U.replace(/\"/g,'\\"')),Q=W.querySelector('option[value="'+U+'"]')}Q==null?(W.value="",W.selectedIndex=-1):Q.selected=!0}else if(j==null)W.classList.remove("ql-active");else if(W.hasAttribute("value")){var B=z[K]===W.getAttribute("value")||z[K]!=null&&z[K].toString()===W.getAttribute("value")||z[K]==null&&!W.getAttribute("value");W.classList.toggle("ql-active",B)}else W.classList.toggle("ql-active",z[K]!=null)})}}]),_}(A.default);N.DEFAULTS={};function I(k,_,O){var j=document.createElement("button");j.setAttribute("type","button"),j.classList.add("ql-"+_),O!=null&&(j.value=O),k.appendChild(j)}function R(k,_){Array.isArray(_[0])||(_=[_]),_.forEach(function(O){var j=document.createElement("span");j.classList.add("ql-formats"),O.forEach(function(z){if(typeof z=="string")I(j,z);else{var Z=Object.keys(z)[0],ee=z[Z];Array.isArray(ee)?T(j,Z,ee):I(j,Z,ee)}}),k.appendChild(j)})}function T(k,_,O){var j=document.createElement("select");j.classList.add("ql-"+_),O.forEach(function(z){var Z=document.createElement("option");z!==!1?Z.setAttribute("value",z):Z.setAttribute("selected","selected"),j.appendChild(Z)}),k.appendChild(j)}N.DEFAULTS={container:null,handlers:{clean:function(){var _=this,O=this.quill.getSelection();if(O!=null)if(O.length==0){var j=this.quill.getFormat();Object.keys(j).forEach(function(z){c.default.query(z,c.default.Scope.INLINE)!=null&&_.quill.format(z,!1)})}else this.quill.removeFormat(O,h.default.sources.USER)},direction:function(_){var O=this.quill.getFormat().align;_==="rtl"&&O==null?this.quill.format("align","right",h.default.sources.USER):!_&&O==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",_,h.default.sources.USER)},indent:function(_){var O=this.quill.getSelection(),j=this.quill.getFormat(O),z=parseInt(j.indent||0);if(_==="+1"||_==="-1"){var Z=_==="+1"?1:-1;j.direction==="rtl"&&(Z*=-1),this.quill.format("indent",z+Z,h.default.sources.USER)}},link:function(_){_===!0&&(_=prompt("Enter link URL:")),this.quill.format("link",_,h.default.sources.USER)},list:function(_){var O=this.quill.getSelection(),j=this.quill.getFormat(O);_==="check"?j.list==="checked"||j.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",_,h.default.sources.USER)}}},r.default=N,r.addControls=R},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function v(y,A){for(var g=0;g<A.length;g++){var p=A[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,A,g){return A&&v(y.prototype,A),g&&v(y,g),y}}(),o=function v(y,A,g){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,A);if(p===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,A,g)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(g)}},s=i(28),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){h(y,v);function y(A,g){c(this,y);var p=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,A));return p.label.innerHTML=g,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),p}return a(y,[{key:"buildItem",value:function(g){var p=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,g);return p.style.backgroundColor=g.getAttribute("value")||"",p}},{key:"selectItem",value:function(g,p){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,g,p);var w=this.label.querySelector(".ql-color-label"),x=g&&g.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=x:w.style.fill=x)}}]),y}(l.default);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function v(y,A){for(var g=0;g<A.length;g++){var p=A[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,A,g){return A&&v(y.prototype,A),g&&v(y,g),y}}(),o=function v(y,A,g){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,A);if(p===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,A,g)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(g)}},s=i(28),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){h(y,v);function y(A,g){c(this,y);var p=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,A));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=g[w.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return a(y,[{key:"selectItem",value:function(g,p){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,g,p),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),y}(l.default);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function l(u,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){var d=this;o(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var d=c.left+c.width/2-this.root.offsetWidth/2,h=c.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),y=0;if(v.right>f.right&&(y=f.right-v.right,this.root.style.left=d+y+"px"),v.left<f.left&&(y=f.left-v.left,this.root.style.left=d+y+"px"),v.bottom>f.bottom){var A=v.bottom-v.top,g=c.bottom-c.top+A;this.root.style.top=h-g+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function T(k,_){var O=[],j=!0,z=!1,Z=void 0;try{for(var ee=k[Symbol.iterator](),K;!(j=(K=ee.next()).done)&&(O.push(K.value),!(_&&O.length===_));j=!0);}catch(W){z=!0,Z=W}finally{try{!j&&ee.return&&ee.return()}finally{if(z)throw Z}}return O}return function(k,_){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return T(k,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function T(k,_,O){k===null&&(k=Function.prototype);var j=Object.getOwnPropertyDescriptor(k,_);if(j===void 0){var z=Object.getPrototypeOf(k);return z===null?void 0:T(z,_,O)}else{if("value"in j)return j.value;var Z=j.get;return Z===void 0?void 0:Z.call(O)}},s=function(){function T(k,_){for(var O=0;O<_.length;O++){var j=_[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}}return function(k,_,O){return _&&T(k.prototype,_),O&&T(k,O),k}}(),l=i(3),u=w(l),c=i(8),d=w(c),h=i(43),f=w(h),v=i(27),y=w(v),A=i(15),g=i(41),p=w(g);function w(T){return T&&T.__esModule?T:{default:T}}function x(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function C(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function D(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}var N=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(T){D(k,T);function k(_,O){x(this,k),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=N);var j=C(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,_,O));return j.quill.container.classList.add("ql-snow"),j}return s(k,[{key:"extendToolbar",value:function(O){O.container.classList.add("ql-snow"),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),p.default),this.tooltip=new R(this.quill,this.options.bounds),O.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(j,z){O.handlers.link.call(O,!z.format.link)})}}]),k}(f.default);I.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var _=this.quill.getSelection();if(_==null||_.length==0)return;var O=this.quill.getText(_);/^\S+@\S+\.\S+$/.test(O)&&O.indexOf("mailto:")!==0&&(O="mailto:"+O);var j=this.quill.theme.tooltip;j.edit("link",O)}else this.quill.format("link",!1)}}}}});var R=function(T){D(k,T);function k(_,O){x(this,k);var j=C(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,_,O));return j.preview=j.root.querySelector("a.ql-preview"),j}return s(k,[{key:"listen",value:function(){var O=this;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(j){O.root.classList.contains("ql-editing")?O.save():O.edit("link",O.preview.textContent),j.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(j){if(O.linkRange!=null){var z=O.linkRange;O.restoreFocus(),O.quill.formatText(z,"link",!1,d.default.sources.USER),delete O.linkRange}j.preventDefault(),O.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(j,z,Z){if(j!=null){if(j.length===0&&Z===d.default.sources.USER){var ee=O.quill.scroll.descendant(y.default,j.index),K=a(ee,2),W=K[0],Q=K[1];if(W!=null){O.linkRange=new A.Range(j.index-Q,W.length());var U=y.default.formats(W.domNode);O.preview.textContent=U,O.preview.setAttribute("href",U),O.show(),O.position(O.quill.getBounds(O.linkRange));return}}else delete O.linkRange;O.hide()}})}},{key:"show",value:function(){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(h.BaseTooltip);R.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(29),o=ae(a),s=i(36),l=i(38),u=i(64),c=i(65),d=ae(c),h=i(66),f=ae(h),v=i(67),y=ae(v),A=i(37),g=i(26),p=i(39),w=i(40),x=i(56),C=ae(x),D=i(68),N=ae(D),I=i(27),R=ae(I),T=i(69),k=ae(T),_=i(70),O=ae(_),j=i(71),z=ae(j),Z=i(72),ee=ae(Z),K=i(73),W=ae(K),Q=i(13),U=ae(Q),B=i(74),L=ae(B),H=i(75),G=ae(H),M=i(57),V=ae(M),te=i(41),J=ae(te),de=i(28),ye=ae(de),Ce=i(59),Pe=ae(Ce),Le=i(60),Ae=ae(Le),oe=i(61),Je=ae(oe),he=i(108),ue=ae(he),ge=i(62),Ee=ae(ge);function ae(ke){return ke&&ke.__esModule?ke:{default:ke}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":A.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":A.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":w.SizeStyle},!0),o.default.register({"formats/align":s.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":A.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":p.FontClass,"formats/size":w.SizeClass,"formats/blockquote":d.default,"formats/code-block":U.default,"formats/header":f.default,"formats/list":y.default,"formats/bold":C.default,"formats/code":Q.Code,"formats/italic":N.default,"formats/link":R.default,"formats/script":k.default,"formats/strike":O.default,"formats/underline":z.default,"formats/image":ee.default,"formats/video":W.default,"formats/list/item":v.ListItem,"modules/formula":L.default,"modules/syntax":G.default,"modules/toolbar":V.default,"themes/bubble":ue.default,"themes/snow":Ee.default,"ui/icons":J.default,"ui/picker":ye.default,"ui/icon-picker":Ae.default,"ui/color-picker":Pe.default,"ui/tooltip":Je.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function y(A,g){for(var p=0;p<g.length;p++){var w=g[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(A,w.key,w)}}return function(A,g,p){return g&&y(A.prototype,g),p&&y(A,p),A}}(),o=function y(A,g,p){A===null&&(A=Function.prototype);var w=Object.getOwnPropertyDescriptor(A,g);if(w===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:y(x,g,p)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(p)}},s=i(0),l=u(s);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")}function d(y,A){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:y}function h(y,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);y.prototype=Object.create(A&&A.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(y,A):y.__proto__=A)}var f=function(y){h(A,y);function A(){return c(this,A),d(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"add",value:function(p,w){if(w==="+1"||w==="-1"){var x=this.value(p)||0;w=w==="+1"?x+1:x-1}return w===0?(this.remove(p),!0):o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"add",this).call(this,p,w)}},{key:"canAdd",value:function(p,w){return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"canAdd",this).call(this,p,w)||o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"canAdd",this).call(this,p,parseInt(w))}},{key:"value",value:function(p){return parseInt(o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"value",this).call(this,p))||void 0}}]),A}(l.default.Attributor.Class),v=new f("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(4),o=s(a);function s(h){return h&&h.__esModule?h:{default:h}}function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function c(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var d=function(h){c(f,h);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function f(v,y){for(var A=0;A<y.length;A++){var g=y[A];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,y,A){return y&&f(v.prototype,y),A&&f(v,A),v}}(),o=i(4),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function c(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function d(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var h=function(f){d(v,f);function v(){return u(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"formats",value:function(A){return this.tagName.indexOf(A.tagName)+1}}]),v}(s.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function x(C,D){for(var N=0;N<D.length;N++){var I=D[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(C,I.key,I)}}return function(C,D,N){return D&&x(C.prototype,D),N&&x(C,N),C}}(),o=function x(C,D,N){C===null&&(C=Function.prototype);var I=Object.getOwnPropertyDescriptor(C,D);if(I===void 0){var R=Object.getPrototypeOf(C);return R===null?void 0:x(R,D,N)}else{if("value"in I)return I.value;var T=I.get;return T===void 0?void 0:T.call(N)}},s=i(0),l=f(s),u=i(4),c=f(u),d=i(25),h=f(d);function f(x){return x&&x.__esModule?x:{default:x}}function v(x,C,D){return C in x?Object.defineProperty(x,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[C]=D,x}function y(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}function A(x,C){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:x}function g(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);x.prototype=Object.create(C&&C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(x,C):x.__proto__=C)}var p=function(x){g(C,x);function C(){return y(this,C),A(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"format",value:function(N,I){N===w.blotName&&!I?this.replaceWith(l.default.create(this.statics.scope)):o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,N,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(N,I){return this.parent.isolate(this.offset(this.parent),this.length()),N===this.parent.statics.blotName?(this.parent.replaceWith(N,I),this):(this.parent.unwrap(),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,N,I))}}],[{key:"formats",value:function(N){return N.tagName===this.tagName?void 0:o(C.__proto__||Object.getPrototypeOf(C),"formats",this).call(this,N)}}]),C}(c.default);p.blotName="list-item",p.tagName="LI";var w=function(x){g(C,x),a(C,null,[{key:"create",value:function(N){var I=N==="ordered"?"OL":"UL",R=o(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,I);return(N==="checked"||N==="unchecked")&&R.setAttribute("data-checked",N==="checked"),R}},{key:"formats",value:function(N){if(N.tagName==="OL")return"ordered";if(N.tagName==="UL")return N.hasAttribute("data-checked")?N.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function C(D){y(this,C);var N=A(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,D)),I=function(T){if(T.target.parentNode===D){var k=N.statics.formats(D),_=l.default.find(T.target);k==="checked"?_.format("list","unchecked"):k==="unchecked"&&_.format("list","checked")}};return D.addEventListener("touchstart",I),D.addEventListener("mousedown",I),N}return a(C,[{key:"format",value:function(N,I){this.children.length>0&&this.children.tail.format(N,I)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(N,I){if(N instanceof p)o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,N,I);else{var R=I==null?this.length():I.offset(this),T=this.split(R);T.parent.insertBefore(N,T)}}},{key:"optimize",value:function(N){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,N);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(N){if(N.statics.blotName!==this.statics.blotName){var I=l.default.create(this.statics.defaultChild);N.moveChildren(I),this.appendChild(I)}o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,N)}}]),C}(h.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[p],r.ListItem=p,r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(56),o=s(a);function s(h){return h&&h.__esModule?h:{default:h}}function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function c(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var d=function(h){c(f,h);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function v(y,A){for(var g=0;g<A.length;g++){var p=A[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,A,g){return A&&v(y.prototype,A),g&&v(y,g),y}}(),o=function v(y,A,g){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,A);if(p===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,A,g)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(g)}},s=i(6),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),y}(l.default);f.blotName="script",f.tagName=["SUB","SUP"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(6),o=s(a);function s(h){return h&&h.__esModule?h:{default:h}}function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function c(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var d=function(h){c(f,h);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);d.blotName="strike",d.tagName="S",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(6),o=s(a);function s(h){return h&&h.__esModule?h:{default:h}}function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function c(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var d=function(h){c(f,h);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);d.blotName="underline",d.tagName="U",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function A(g,p){for(var w=0;w<p.length;w++){var x=p[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,w){return p&&A(g.prototype,p),w&&A(g,w),g}}(),o=function A(g,p,w){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:A(C,p,w)}else{if("value"in x)return x.value;var D=x.get;return D===void 0?void 0:D.call(w)}},s=i(0),l=c(s),u=i(27);function c(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function h(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function f(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var v=["alt","height","width"],y=function(A){f(g,A);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(w,x){v.indexOf(w)>-1?x?this.domNode.setAttribute(w,x):this.domNode.removeAttribute(w):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,w,x)}}],[{key:"create",value:function(w){var x=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,w);return typeof w=="string"&&x.setAttribute("src",this.sanitize(w)),x}},{key:"formats",value:function(w){return v.reduce(function(x,C){return w.hasAttribute(C)&&(x[C]=w.getAttribute(C)),x},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),g}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function A(g,p){for(var w=0;w<p.length;w++){var x=p[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,w){return p&&A(g.prototype,p),w&&A(g,w),g}}(),o=function A(g,p,w){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:A(C,p,w)}else{if("value"in x)return x.value;var D=x.get;return D===void 0?void 0:D.call(w)}},s=i(4),l=i(27),u=c(l);function c(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function h(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function f(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var v=["height","width"],y=function(A){f(g,A);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(w,x){v.indexOf(w)>-1?x?this.domNode.setAttribute(w,x):this.domNode.removeAttribute(w):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,w,x)}}],[{key:"create",value:function(w){var x=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,w);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(w)),x}},{key:"formats",value:function(w){return v.reduce(function(x,C){return w.hasAttribute(C)&&(x[C]=w.getAttribute(C)),x},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),g}(s.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function w(x,C){for(var D=0;D<C.length;D++){var N=C[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,C,D){return C&&w(x.prototype,C),D&&w(x,D),x}}(),o=function w(x,C,D){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,C);if(N===void 0){var I=Object.getPrototypeOf(x);return I===null?void 0:w(I,C,D)}else{if("value"in N)return N.value;var R=N.get;return R===void 0?void 0:R.call(D)}},s=i(35),l=f(s),u=i(5),c=f(u),d=i(9),h=f(d);function f(w){return w&&w.__esModule?w:{default:w}}function v(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function y(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function A(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var g=function(w){A(x,w);function x(){return v(this,x),y(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,null,[{key:"create",value:function(D){var N=o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,D);return typeof D=="string"&&(window.katex.render(D,N,{throwOnError:!1,errorColor:"#f00"}),N.setAttribute("data-value",D)),N}},{key:"value",value:function(D){return D.getAttribute("data-value")}}]),x}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var p=function(w){A(x,w),a(x,null,[{key:"register",value:function(){c.default.register(g,!0)}}]);function x(){v(this,x);var C=y(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return C}return x}(h.default);r.FormulaBlot=g,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function D(N,I){for(var R=0;R<I.length;R++){var T=I[R];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(N,T.key,T)}}return function(N,I,R){return I&&D(N.prototype,I),R&&D(N,R),N}}(),o=function D(N,I,R){N===null&&(N=Function.prototype);var T=Object.getOwnPropertyDescriptor(N,I);if(T===void 0){var k=Object.getPrototypeOf(N);return k===null?void 0:D(k,I,R)}else{if("value"in T)return T.value;var _=T.get;return _===void 0?void 0:_.call(R)}},s=i(0),l=y(s),u=i(5),c=y(u),d=i(9),h=y(d),f=i(13),v=y(f);function y(D){return D&&D.__esModule?D:{default:D}}function A(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function g(D,N){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:D}function p(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(D,N):D.__proto__=N)}var w=function(D){p(N,D);function N(){return A(this,N),g(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"replaceWith",value:function(R){this.domNode.textContent=this.domNode.textContent,this.attach(),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,R)}},{key:"highlight",value:function(R){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=R(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),N}(v.default);w.className="ql-syntax";var x=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),C=function(D){p(N,D),a(N,null,[{key:"register",value:function(){c.default.register(x,!0),c.default.register(w,!0)}}]);function N(I,R){A(this,N);var T=g(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,I,R));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return T.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){T.highlight(),k=null},T.options.interval)}),T.highlight(),T}return a(N,[{key:"highlight",value:function(){var R=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(k){k.highlight(R.options.highlight)}),this.quill.update(c.default.sources.SILENT),T!=null&&this.quill.setSelection(T,c.default.sources.SILENT)}}}]),N}(h.default);C.DEFAULTS={highlight:function(){return window.hljs==null?null:function(D){var N=window.hljs.highlightAuto(D);return N.value}}(),interval:1e3},r.CodeBlock=w,r.CodeToken=x,r.default=C},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function N(I,R,T){I===null&&(I=Function.prototype);var k=Object.getOwnPropertyDescriptor(I,R);if(k===void 0){var _=Object.getPrototypeOf(I);return _===null?void 0:N(_,R,T)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(T)}},o=function(){function N(I,R){for(var T=0;T<R.length;T++){var k=R[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,R,T){return R&&N(I.prototype,R),T&&N(I,T),I}}(),s=i(3),l=A(s),u=i(8),c=A(u),d=i(43),h=A(d),f=i(15),v=i(41),y=A(v);function A(N){return N&&N.__esModule?N:{default:N}}function g(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}function p(N,I){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:N}function w(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(N,I):N.__proto__=I)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],C=function(N){w(I,N);function I(R,T){g(this,I),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=x);var k=p(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R,T));return k.quill.container.classList.add("ql-bubble"),k}return o(I,[{key:"extendToolbar",value:function(T){this.tooltip=new D(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),y.default)}}]),I}(h.default);C.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var D=function(N){w(I,N);function I(R,T){g(this,I);var k=p(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R,T));return k.quill.on(c.default.events.EDITOR_CHANGE,function(_,O,j,z){if(_===c.default.events.SELECTION_CHANGE)if(O!=null&&O.length>0&&z===c.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var Z=k.quill.getLines(O.index,O.length);if(Z.length===1)k.position(k.quill.getBounds(O));else{var ee=Z[Z.length-1],K=k.quill.getIndex(ee),W=Math.min(ee.length()-1,O.index+O.length-K),Q=k.quill.getBounds(new f.Range(K,W));k.position(Q)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return o(I,[{key:"listen",value:function(){var T=this;a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var k=T.quill.getSelection();k!=null&&T.position(T.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var k=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,T),_=this.root.querySelector(".ql-tooltip-arrow");if(_.style.marginLeft="",k===0)return k;_.style.marginLeft=-1*k-_.offsetWidth/2+"px"}}]),I}(d.BaseTooltip);D.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=D,r.default=C},function(n,r,i){n.exports=i(63)}]).default})})(rT);var fue=rT.exports,hue=ha&&ha.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Im=ha&&ha.__assign||function(){return Im=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Im.apply(this,arguments)},pue=ha&&ha.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},m1=ha&&ha.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Co=m1(ie),gue=m1(np),qf=m1(due),P_=m1(fue),mue=function(e){hue(t,e);function t(n){var r=e.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(a,o,s,l){var u,c,d,h;a==="text-change"?(c=(u=r).onEditorChangeText)===null||c===void 0||c.call(u,r.editor.root.innerHTML,o,l,r.unprivilegedEditor):a==="selection-change"&&((h=(d=r).onEditorChangeSelection)===null||h===void 0||h.call(d,o,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return t.prototype.validateProps=function(n){var r;if(Co.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Co.default.Children.count(n.children)){var i=Co.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,r){var i=this,a;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var o=this.getEditorContents(),s=(a=n.value,a??"");this.isEqualValue(s,o)||this.setEditorContents(this.editor,s)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),pue(this.cleanProps,this.dirtyProps).some(function(l){return!qf.default(n[l],i.props[l])})},t.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!qf.default(n[i],r.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var s=this.regenerationSnapshot,a=s.delta,l=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),B_(function(){return i.setEditorSelection(u,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,r){var i=new P_.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?qf.default(n.ops,r.ops):qf.default(n,r)},t.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var a=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),B_(function(){return i.setEditorSelection(n,a)})},t.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},t.prototype.setEditorTabIndex=function(n,r){var i,a;!((a=(i=n)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(n.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=gue.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,a=r.preserveWhitespace,o=this.state.generation,s={key:o,ref:function(l){n.editingArea=l}};return Co.default.Children.count(i)?Co.default.cloneElement(Co.default.Children.only(i),s):a?Co.default.createElement("pre",Im({},s)):Co.default.createElement("div",Im({},s))},t.prototype.render=function(){var n;return Co.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,r,i,a){var o,s;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(s=(o=this.props).onChange)===null||s===void 0||s.call(o,n,r,i,a))}},t.prototype.onEditorChangeSelection=function(n,r,i){var a,o,s,l,u,c;if(this.editor){var d=this.getEditorSelection(),h=!d&&n,f=d&&!n;qf.default(n,d)||(this.selection=n,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,n,r,i),h?(l=(s=this.props).onFocus)===null||l===void 0||l.call(s,n,r,i):f&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,d,r,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=P_.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Co.default.Component);function B_(e){Promise.resolve().then(e)}var vue=mue;const iT=Pm(vue),yue="diary_drafts_db",Pl="drafts",Aue=1;function Yb(){return new Promise((e,t)=>{const n=indexedDB.open(yue,Aue);n.onerror=r=>{t("Database error: "+r.target.error)},n.onsuccess=r=>{e(r.target.result)},n.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(Pl)||i.createObjectStore(Pl,{keyPath:"id"})}})}async function wue(e,t,n){const r=await Yb();return new Promise((i,a)=>{const s=r.transaction([Pl],"readwrite").objectStore(Pl),l={id:e,encryptedData:t,iv:n,timestamp:Date.now()},u=s.put(l);u.onsuccess=()=>i(),u.onerror=()=>a("Save draft failed")})}async function bue(e){const t=await Yb();return new Promise((n,r)=>{const o=t.transaction([Pl],"readonly").objectStore(Pl).get(e);o.onsuccess=()=>n(o.result),o.onerror=()=>r("Get draft failed")})}async function xue(e){const t=await Yb();return new Promise((n,r)=>{const o=t.transaction([Pl],"readwrite").objectStore(Pl).delete(e);o.onsuccess=()=>n(),o.onerror=()=>r("Delete draft failed")})}const rs=iT.Quill;if(rs){const e=rs.import("blots/block/embed");class t extends e{static create(l){var h;const u=super.create(),c=document.createElement("img");c.setAttribute("src",l.src),l.alt&&c.setAttribute("alt",l.alt),l.className&&c.setAttribute("class",l.className),(h=l.dataset)!=null&&h.secureMetadata&&c.setAttribute("data-secure-metadata",l.dataset.secureMetadata),l.style&&c.setAttribute("style",l.style);const d=document.createElement("figcaption");return d.innerText=l.caption||"",d.setAttribute("contenteditable","true"),u.appendChild(c),u.appendChild(d),u}static value(l){const u=l.querySelector("img"),c=l.querySelector("figcaption");return{src:u==null?void 0:u.getAttribute("src"),alt:u==null?void 0:u.getAttribute("alt"),className:u==null?void 0:u.getAttribute("class"),style:u==null?void 0:u.getAttribute("style"),caption:c==null?void 0:c.innerText,dataset:{secureMetadata:u==null?void 0:u.getAttribute("data-secure-metadata")}}}}t.blotName="secure-image",t.tagName="figure",t.className="diary-image-figure",rs.register(t,!0);const n=rs.import("parchment"),r=new n.Attributor.Style("width","width"),i=new n.Attributor.Style("float","float"),a=new n.Attributor.Style("margin","margin");rs.register(r,!0),rs.register(i,!0),rs.register(a,!0);const o=rs.import("attributors/style/align");rs.register(o,!0)}const Eue={serif:"font-serif",sans:"font-sans",mono:"font-mono"},kue=ie.forwardRef(({entry:e,onSave:t,onWordCountChange:n,onCharacterCountChange:r,editorFont:i,onImageDrop:a},o)=>{const[s,l]=ie.useState(""),[u,c]=ie.useState(""),[d,h]=ie.useState(new Date),[f,v]=ie.useState(!1),[y,A]=ie.useState(""),[g,p]=ie.useState(""),[w,x]=ie.useState(!1),[C,D]=ie.useState(!1),N=ie.useRef(null),I=ie.useRef("INITIAL_MOUNT"),R=ie.useRef(null),{addToast:T}=Zm(),{key:k,encryptBinary:_,decryptBinary:O}=Fu(),j=S8(({currentLocation:U,nextLocation:B})=>w&&U.pathname!==B.pathname);ie.useEffect(()=>{j.state==="blocked"&&D(!0)},[j]),ie.useEffect(()=>{const U=B=>{w&&(B.preventDefault(),B.returnValue="")};return window.addEventListener("beforeunload",U),()=>window.removeEventListener("beforeunload",U)},[w]);const z=ie.useCallback(async(U,B)=>{if(!k||!U.includes("secure-diary-image"))return;const H=B.root.querySelectorAll("img.secure-diary-image");for(let G=0;G<H.length;G++){const M=H[G],V=M.getAttribute("src"),te=M.getAttribute("data-secure-metadata")||M.getAttribute("alt");if(!(V!=null&&V.startsWith("blob:")||!te))try{const J=JSON.parse(te);if(J&&J.path&&J.iv){M.style.opacity="0.5";const{data:de,error:ye}=await ln.storage.from("diary-images").createSignedUrl(J.path,60);if(ye)throw ye;const Ce=await fetch(de.signedUrl);if(!Ce.ok)throw new Error(`Failed to fetch image blob: ${Ce.status}`);const Pe=await Ce.arrayBuffer(),Le=await O(k,Pe,J.iv),Ae=new Blob([Le],{type:"image/webp"}),oe=URL.createObjectURL(Ae);M.src=oe,M.style.opacity="1"}}catch(J){console.error("Failed to decrypt image in editor",J)}}},[k,O]);ie.useEffect(()=>{const U=(e==null?void 0:e.id)||"draft";if(I.current===U)return;I.current=U,(async()=>{let L="",H="",G=new Date;if(e){if(L=e.title,H=e.content,G=new Date(e.created_at),!e.id&&!L){const V={weekday:"long",year:"numeric",month:"long",day:"numeric"};L=`Entry for ${G.toLocaleDateString(void 0,V)}`}}else L="Today's diary entry...",H="";try{const V=await bue(U);if(V&&k){const te=e?new Date(e.updated_at||e.created_at).getTime():0;if(V.timestamp>te){console.log("Restoring from auto-save draft...");const J=await O(k,await V.encryptedData.arrayBuffer(),V.iv),de=new TextDecoder().decode(J),ye=JSON.parse(de);ye.title!==void 0&&(L=ye.title),ye.content!==void 0&&(H=ye.content),T("Restored unsaved draft","success")}}}catch(V){console.error("Failed to restore draft",V)}l(L),c(H),h(G),A(L),p(H),x(!1);const M=H.includes("secure-diary-image");v(M),setTimeout(async()=>{N.current&&M&&(await z(H,N.current.getEditor()),v(!1))},100)})()},[e,z,k,O,T]),ie.useEffect(()=>{const U=u.replace(/<[^>]*>?/gm,""),B=U.trim().split(/\s+/).filter(Boolean),L=B.length===1&&B[0]===""?0:B.length;n(L),r(U.length)},[u,n,r]),ie.useEffect(()=>{x(s!==y||u!==g)},[s,u,y,g]),ie.useEffect(()=>{if(!(!w||!k))return R.current&&clearTimeout(R.current),R.current=setTimeout(async()=>{const U=(e==null?void 0:e.id)||"draft";try{const B=JSON.stringify({title:s,content:u}),L=new TextEncoder().encode(B),{iv:H,data:G}=await _(k,L.buffer),M=new Blob([G],{type:"application/octet-stream"});await wue(U,M,H),console.log("Auto-saved draft to IndexedDB")}catch(B){console.error("Auto-save failed",B)}},2e3),()=>{R.current&&clearTimeout(R.current)}},[s,u,w,k,_,e]);const Z=ie.useCallback(async()=>{const U=!u||u.replace(/<(.|\n)*?>/g,"").trim().length===0;if(s.trim()===""||U){T("Please provide a title and some content for your entry.","error");return}t({...e||{},title:s,content:u,created_at:d.toISOString(),tags:e==null?void 0:e.tags,mood:e==null?void 0:e.mood});const L=(e==null?void 0:e.id)||"draft";await xue(L),A(s),p(u),x(!1)},[s,u,d,e,t,T]);ie.useImperativeHandle(o,()=>({save:Z,getEditor:()=>{var U;return(U=N.current)==null?void 0:U.getEditor()}}),[Z]);const ee=ie.useMemo(()=>({toolbar:!1}),[]),K=Eue[i],W=U=>{U.preventDefault(),U.stopPropagation()},Q=U=>{if(U.preventDefault(),U.stopPropagation(),U.dataTransfer.files&&U.dataTransfer.files.length>0){const B=U.dataTransfer.files[0];B.type.startsWith("image/")&&a&&a(B)}};return b.jsxs("div",{className:`h-full flex flex-col paper-canvas rounded-lg overflow-hidden ${K}`,onDragOver:W,onDrop:Q,children:[b.jsx("div",{className:"p-4 sm:p-6 md:px-8 border-b border-slate-200/50 dark:border-slate-700/50 flex-shrink-0",children:b.jsx("input",{type:"text",value:s,onChange:U=>l(U.target.value),className:"w-full text-3xl font-bold bg-transparent focus:outline-none focus:ring-0 border-none p-0 text-slate-800 dark:text-slate-100 placeholder:text-slate-400",placeholder:new Date().toDateString()===d.toDateString()?"Today's diary entry...":`Entry for ${d.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}...`})}),b.jsxs("div",{className:"flex-grow overflow-y-auto relative",children:[f&&b.jsxs("div",{className:"absolute inset-0 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-8 space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-3/4 animate-pulse"}),b.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full animate-pulse"}),b.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6 animate-pulse"})]}),b.jsx("div",{className:"h-64 bg-slate-200 dark:bg-slate-700 rounded-lg w-full animate-pulse flex items-center justify-center",children:b.jsx("svg",{className:"w-12 h-12 text-slate-300 dark:text-slate-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full animate-pulse"}),b.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/5 animate-pulse"})]})]}),b.jsx(iT,{ref:N,theme:"snow",value:u,onChange:c,className:`prose-editor transition-opacity duration-500 ${f?"opacity-0":"opacity-100"}`,placeholder:"Start writing here...",modules:ee})]}),j.state==="blocked"&&b.jsx(HB,{isOpen:C,title:"Unsaved Changes",message:"You have unsaved changes in your diary entry. Are you sure you want to leave? Your changes will be discarded.",confirmLabel:"Discard Changes",cancelLabel:"Stay Here",type:"warning",onConfirm:()=>{j.proceed(),D(!1)},onCancel:()=>{j.reset(),D(!1)}})]})}),_ue=({onRecordingComplete:e,recordings:t,savedAudios:n=[],onDeleteRecording:r,onDeleteSaved:i})=>{const[a,o]=ie.useState(!1),[s,l]=ie.useState(0),u=ie.useRef(null),c=ie.useRef([]),d=ie.useRef(null),h=t.length+n.length,f=h>=5;ie.useEffect(()=>()=>{d.current&&clearInterval(d.current)},[]);const v=async()=>{if(!f)try{const g=await navigator.mediaDevices.getUserMedia({audio:!0});let p="audio/webm";MediaRecorder.isTypeSupported("audio/mp4")?p="audio/mp4":MediaRecorder.isTypeSupported("audio/webm;codecs=opus")&&(p="audio/webm;codecs=opus"),u.current=new MediaRecorder(g,{mimeType:p}),c.current=[],u.current.ondataavailable=w=>{w.data.size>0&&c.current.push(w.data)},u.current.onstop=()=>{var C;const w=((C=u.current)==null?void 0:C.mimeType)||p,x=new Blob(c.current,{type:w});e(x),c.current=[],g.getTracks().forEach(D=>D.stop())},u.current.start(),o(!0),l(0),d.current=window.setInterval(()=>{l(w=>w+1)},1e3)}catch(g){console.error("Error accessing microphone:",g),alert("Could not access microphone. Please check permissions.")}},y=()=>{u.current&&a&&(u.current.stop(),o(!1),d.current&&clearInterval(d.current))},A=g=>{const p=Math.floor(g/60),w=g%60;return`${p.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`};return b.jsxs("div",{className:"w-full space-y-3",children:[n.map((g,p)=>b.jsxs("div",{className:"w-full p-2 rounded-md bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"h-6 w-6 rounded-full bg-indigo-100 dark:bg-indigo-800 flex items-center justify-center text-indigo-600 dark:text-indigo-300",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})})}),b.jsxs("span",{className:"text-xs font-medium text-indigo-800 dark:text-indigo-300",children:["Saved Audio ",p+1]})]}),b.jsx("button",{onClick:()=>i(g.id),className:"p-1 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full transition-colors",title:"Delete Audio",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},g.id)),t.map((g,p)=>b.jsxs("div",{className:"w-full p-2 rounded-md bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-800 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"h-6 w-6 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-600 dark:text-green-300",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})}),b.jsxs("span",{className:"text-xs font-medium text-green-800 dark:text-green-300",children:["New Recording ",n.length+p+1]})]}),b.jsx("button",{onClick:()=>r(g.id),className:"p-1 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full transition-colors",title:"Delete Recording",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},g.id)),a?b.jsxs("div",{className:"w-full flex items-center justify-between p-2 rounded-md bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"relative flex h-3 w-3",children:[b.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),b.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),b.jsx("span",{className:"text-sm font-mono font-medium text-red-600 dark:text-red-300",children:A(s)})]}),b.jsx("button",{onClick:y,className:"p-1.5 rounded-full bg-red-100 text-red-600 hover:bg-red-200 dark:bg-red-800 dark:text-red-200 dark:hover:bg-red-700 transition-colors",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})})})]}):b.jsxs("button",{onClick:v,disabled:f,className:"w-full flex items-center justify-center gap-3 p-2 rounded-md text-sm text-slate-700 dark:text-slate-300 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})}),b.jsx("span",{children:f?"Limit Reached (5)":"Record Audio"})]}),b.jsxs("div",{className:"text-xs text-slate-400 text-center",children:[h," / 5 recordings"]})]})},Cue=["","","","","","","",""],Sue=({entry:e,onUpdateEntry:t,editorFont:n,onFontChange:r,onImageUpload:i,isUploadingImage:a,selectedImageFormat:o,onImageFormatChange:s,availableJournals:l,onClose:u})=>{const c=typeof e=="object"?e.mood:void 0,d=typeof e=="object"?e.tags||[]:[],h=typeof e=="object"&&e.journal?e.journal:"Personal",f=(typeof e=="object"?e.tempAudioBlobs:[])||[],v=(typeof e=="object"?e.audio:[])||[],[y,A]=ie.useState(d.join(", ")),g=ie.useRef(null);ie.useEffect(()=>{const T=y.split(",").map(O=>O.trim()).filter(Boolean),k=d;JSON.stringify(T)!==JSON.stringify(k)&&A(k.join(", "))},[d]);const p=()=>{var T;(T=g.current)==null||T.click()},w=T=>{var _;const k=(_=T.target.files)==null?void 0:_[0];k&&i(k),g.current&&(g.current.value="")},x=T=>{A(T);const k=T.split(",").map(_=>_.trim()).filter(Boolean);t({tags:k})},C=T=>{t({mood:T===c?void 0:T})},D=T=>{t({journal:T})},N=T=>{const k={id:crypto.randomUUID(),blob:T};t({tempAudioBlobs:[...f,k]})},I=T=>{const k=f.filter(_=>_.id!==T);t({tempAudioBlobs:k})},R=T=>{const k=v.filter(_=>_.id!==T);t({audio:k})};return b.jsxs("aside",{className:"w-64 h-full bg-white/80 dark:bg-slate-900/50 border-l border-[#EAE1D6] dark:border-slate-800 p-4 space-y-6 flex-shrink-0 overflow-y-auto relative",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Tools"}),u&&b.jsx("button",{onClick:u,className:"p-1 rounded-md text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 lg:hidden","aria-label":"Close Tools Panel",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{children:[b.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Journal"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",list:"journal-options",value:h,onChange:T=>D(T.target.value),className:"w-full px-3 py-2 text-sm border border-slate-200 dark:border-slate-700 rounded-md bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-indigo-500 focus:outline-none",placeholder:"Select or type..."}),b.jsxs("datalist",{id:"journal-options",children:[l.map(T=>b.jsx("option",{value:T},T)),!l.includes("Personal")&&b.jsx("option",{value:"Personal"}),!l.includes("Work")&&b.jsx("option",{value:"Work"}),!l.includes("Ideas")&&b.jsx("option",{value:"Ideas"})]})]})]})}),b.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-200 dark:border-slate-700",children:[b.jsx(_ue,{onRecordingComplete:N,recordings:f,savedAudios:v.map(T=>({id:T.id,type:T.type})),onDeleteRecording:I,onDeleteSaved:R}),b.jsx("input",{type:"file",ref:g,onChange:w,className:"hidden",accept:"image/*"}),b.jsx("button",{onClick:p,disabled:a,className:"w-full flex items-center justify-center gap-3 p-2 rounded-md text-sm text-slate-700 dark:text-slate-300 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:a?b.jsxs(b.Fragment,{children:[b.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),b.jsx("span",{children:"Uploading..."})]}):b.jsxs(b.Fragment,{children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),b.jsx("span",{children:"Insert Image"})]})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Font Style"}),b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("button",{onClick:()=>r("serif"),className:`w-full text-left p-2 rounded-md text-sm font-serif transition-colors ${n==="serif"?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"Serif (Lora)"}),b.jsx("button",{onClick:()=>r("sans"),className:`w-full text-left p-2 rounded-md text-sm font-sans transition-colors ${n==="sans"?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"Sans-Serif"}),b.jsx("button",{onClick:()=>r("mono"),className:`w-full text-left p-2 rounded-md text-sm font-mono transition-colors ${n==="mono"?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"Monospace"})]})]})]}),o&&b.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6 space-y-4",children:[b.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Image Tools"}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Caption"}),b.jsx("input",{type:"text",value:o.caption||"",onChange:T=>s({caption:T.target.value}),placeholder:"Add a caption...",className:"w-full px-3 py-2 text-sm border border-slate-200 dark:border-slate-700 rounded-md bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-indigo-500 focus:outline-none"})]}),b.jsx("div",{className:"grid grid-cols-4 gap-1",children:["25%","50%","75%","100%"].map(T=>b.jsx("button",{onClick:()=>s({width:T}),className:`p-2 text-xs rounded-md ${o.width===T?"bg-indigo-500 text-white":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,children:T},T))}),b.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[b.jsx("button",{onClick:()=>s({align:!1,float:"left",margin:"0.5em 1em 0.5em 0"}),className:`p-2 rounded-md flex justify-center ${o.float==="left"?"bg-indigo-500 text-white":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M2 5a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1zM2 9a1 1 0 011-1h5a1 1 0 110 2H3a1 1 0 01-1-1zm7 4a1 1 0 011-1h5a1 1 0 110 2h-5a1 1 0 01-1-1z",clipRule:"evenodd"})})}),b.jsx("button",{onClick:()=>s({align:"center",float:!1,margin:!1}),className:`p-2 rounded-md flex justify-center ${o.align==="center"?"bg-indigo-500 text-white":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M2 5a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1zM2 9a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1zm1 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),b.jsx("button",{onClick:()=>s({align:!1,float:"right",margin:"0.5em 0 0.5em 1em"}),className:`p-2 rounded-md flex justify-center ${o.float==="right"?"bg-indigo-500 text-white":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M2 5a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1zm0 4a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1zm7 4a1 1 0 011-1h5a1 1 0 110 2h-5a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]}),b.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6 space-y-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Mood"}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:Cue.map(T=>b.jsx("button",{type:"button",onClick:()=>C(T),className:`text-2xl p-2 rounded-md transition-all ${c===T?"bg-indigo-100 dark:bg-indigo-500/50 scale-110":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:T},T))})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Tags"}),b.jsx("textarea",{value:y,onChange:T=>x(T.target.value),placeholder:"travel, work...",className:"w-full h-20 p-2 text-sm rounded-md bg-slate-100 dark:bg-slate-800 border-transparent focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]})]})},Nue=({wordCount:e,characterCount:t,saveStatus:n})=>{const r={encrypting:{text:"Encrypting...",classes:"text-yellow-600 dark:text-yellow-400"},synced:{text:"Synced",classes:"text-green-600 dark:text-green-400"},error:{text:"Save Error",classes:"text-red-600 dark:text-red-400"}};return b.jsx("footer",{className:"bg-white/80 dark:bg-slate-900/50 backdrop-blur-sm border-t border-[#EAE1D6] dark:border-slate-800 h-10 flex-shrink-0",children:b.jsxs("div",{className:"h-full flex items-center justify-between px-6 text-sm text-slate-500 dark:text-slate-400",children:[b.jsx("div",{children:b.jsxs("span",{children:[e," words / ",t," characters"]})}),b.jsx("div",{className:`font-semibold ${r[n].classes}`,children:r[n].text})]})})},Iue=(e,t=1200,n=.8)=>new Promise((r,i)=>{const a=new Image,o=URL.createObjectURL(e);a.src=o,a.onload=()=>{URL.revokeObjectURL(o);let s=a.width,l=a.height;s>t&&(l=Math.round(l*t/s),s=t);const u=document.createElement("canvas");u.width=s,u.height=l;const c=u.getContext("2d");if(!c){i(new Error("Could not get canvas context"));return}c.drawImage(a,0,0,s,l),u.toBlob(d=>{d?r({blob:d,extension:"webp"}):i(new Error("Image compression failed"))},"image/webp",n)},a.onerror=s=>{URL.revokeObjectURL(o),i(s)}}),Pue="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",T_=()=>{const{id:e}=iN(),t=Uo(),{entries:n,saveEntry:r,loadEntryContent:i,key:a,encryptBinary:o,session:s,uniqueJournals:l,registerSaveHandler:u,isToolsPanelVisible:c,setToolsPanelVisible:d}=Ld(),[h,f]=ie.useState(null),[v,y]=ie.useState(0),[A,g]=ie.useState(0),[p,w]=ie.useState("serif"),[x,C]=ie.useState(!1),[D,N]=ie.useState(null),I=ie.useRef(null);ie.useEffect(()=>(u(()=>{I.current&&I.current.save()}),()=>u(()=>{})),[u]),ie.useEffect(()=>{if(e){const k=n.find(_=>_.id===e);k&&(f(k),!k.isDecrypted&&!k.isLoading&&i(e))}else{const _=new URLSearchParams(t.search).get("date");f(_?{id:"",owner_id:"",title:"",content:"",created_at:new Date(_).toISOString(),tags:[],mood:void 0,isDecrypted:!0,isLoading:!1,journal:"Personal"}:"new")}},[e,n,i]),ie.useEffect(()=>{if(!I.current||!h)return;const k=I.current.getEditor();if(!k)return;const _=O=>{var j;if(O&&O.length===0){const[z]=k.getLeaf(O.index);if(z&&(z.statics.blotName==="secure-image"||z.statics.blotName==="image")){const Z=k.getFormat(O.index,1),ee=z.formats();N({width:Z.width,align:Z.align,float:Z.float,caption:(j=ee["secure-image"])==null?void 0:j.caption})}else N(null)}else O||N(null)};return k.on("selection-change",_),()=>{k.off("selection-change",_)}},[h]);const R=async k=>{var O;const _=(O=I.current)==null?void 0:O.getEditor();if(!(!_||!a)){C(!0);try{const{blob:j}=await Iue(k),z=await j.arrayBuffer(),{iv:Z,data:ee}=await o(a,z),K=`${s.user.id}/${Date.now()}.bin`,W=new Blob([ee],{type:"application/octet-stream"}),{error:Q}=await ln.storage.from("diary-images").upload(K,W,{contentType:"application/octet-stream",upsert:!1});if(Q)throw Q;const U=_.getSelection(!0)||{index:_.getLength(),length:0},B=JSON.stringify({path:K,iv:Z});_.insertEmbed(U.index,"secure-image",{src:Pue,alt:"Secure Image",className:"secure-diary-image",dataset:{secureMetadata:B},caption:""},"user"),_.setSelection(U.index+1,0,"user"),setTimeout(()=>{var L,H;try{const G=(H=(L=I.current)==null?void 0:L.getEditor())==null?void 0:H.root;if(!G)return;const M=G.querySelectorAll("img.secure-diary-image");let V=null;for(let te=0;te<M.length;te++){const J=M[te];if(J.getAttribute("data-secure-metadata")===B){V=J;break}}if(V){const te=URL.createObjectURL(j);V.src=te,V.style.opacity="1"}}catch(G){console.error("Preview error:",G)}},50)}catch(j){console.error("Error uploading image:",j)}finally{C(!1)}}},T=k=>{var j;const _=(j=I.current)==null?void 0:j.getEditor();if(!_)return;const O=_.getSelection();if(O){if(k.caption!==void 0){const[z]=_.getLeaf(O.index);if(z&&z.statics.blotName==="secure-image"){const Z=z.value();z.replaceWith("secure-image",{...Z,caption:k.caption})}}else Object.keys(k).forEach(z=>{z!=="caption"&&_.format(z,k[z],"user")});setTimeout(()=>{const z=_.getSelection();z&&_.emitter.emit("selection-change",z,z,"user")},0)}};return h?b.jsxs("div",{className:"h-full flex flex-row relative",children:[b.jsxs("div",{className:"flex-1 h-full overflow-hidden flex flex-col",children:[b.jsx(kue,{ref:I,entry:h==="new"?void 0:h,onSave:r,onWordCountChange:y,onCharacterCountChange:g,editorFont:p,onImageDrop:R},e||"new"),b.jsx(Nue,{wordCount:v,characterCount:A,saveStatus:"synced"})]}),b.jsx("div",{className:`
             fixed inset-y-0 right-0 z-30 w-72 bg-white dark:bg-slate-900 shadow-xl transform transition-transform duration-300 ease-in-out lg:static lg:transform-none lg:shadow-none lg:w-64 lg:border-l border-slate-200 dark:border-slate-800
             ${c?"translate-x-0":"translate-x-full lg:translate-x-0"}
         `,children:b.jsx(Sue,{entry:h,onUpdateEntry:k=>{f(h==="new"?_=>({id:"",owner_id:"",title:"",content:"",created_at:new Date().toISOString(),...typeof _=="object"?_:{},...k}):_=>({..._,...k}))},editorFont:p,onFontChange:w,onImageUpload:R,isUploadingImage:x,selectedImageFormat:D,onImageFormatChange:T,availableJournals:l,onClose:()=>d(!1)})}),c&&b.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-20 lg:hidden",onClick:()=>d(!1)})]}):b.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading editor..."})},Bue=({children:e,session:t})=>{const n=Uo();return t?b.jsx(b.Fragment,{children:e}):b.jsx(PA,{to:"/login",state:{from:n},replace:!0})},Tue=()=>{const[e,t]=ie.useState(null),[n,r]=ie.useState(!0),[i,a]=ie.useState(()=>localStorage.getItem("theme")||"light");ie.useEffect(()=>{ln.auth.getSession().then(({data:{session:u}})=>{t(u),r(!1)});const{data:{subscription:l}}=ln.auth.onAuthStateChange((u,c)=>{t(c)});return()=>l.unsubscribe()},[]),ie.useEffect(()=>{const l=window.document.documentElement;i==="dark"?l.classList.add("dark"):l.classList.remove("dark"),localStorage.setItem("theme",i)},[i]),ie.useEffect(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/diary/sw.js",{scope:"/diary/"}).then(l=>{console.log("ServiceWorker registration successful with scope: ",l.scope)}).catch(l=>{console.log("ServiceWorker registration failed: ",l)})})},[]);const o=()=>{a(l=>l==="light"?"dark":"light")},s=ie.useMemo(()=>M8([{path:"/",element:e?b.jsx(PA,{to:"/app"}):b.jsx(LR,{})},{path:"/login",element:e?b.jsx(PA,{to:"/app"}):b.jsx(DR,{})},{path:"/privacy",element:b.jsx(RR,{})},{path:"/terms",element:b.jsx(FR,{})},{path:"/app",element:b.jsx(Bue,{session:e,children:b.jsx(Cte,{session:e,theme:i,onToggleTheme:o})}),children:[{index:!0,element:b.jsx(Tte,{})},{path:"calendar",element:b.jsx(Dte,{})},{path:"search",element:b.jsx(Fte,{})},{path:"profile",element:b.jsx(hne,{})},{path:"entry/:id",element:b.jsx(Fne,{})},{path:"new",element:b.jsx(T_,{})},{path:"edit/:id",element:b.jsx(T_,{})}]},{path:"*",element:b.jsx(MR,{})}]),[e,i]);return n?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:b.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading..."})}):b.jsx(OR,{children:b.jsx($R,{children:b.jsx(V8,{router:s})})})},aT=document.getElementById("root");if(!aT)throw new Error("Could not find root element to mount to");const Oue=jy.createRoot(aT);Oue.render(b.jsx(G_.StrictMode,{children:b.jsx(Tue,{})}));export{En as _,ha as c,Pm as g};
