function Um(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Bm(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var jh={exports:{}},ta={},Rh={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=Symbol.for("react.element"),$m=Symbol.for("react.portal"),qm=Symbol.for("react.fragment"),Fm=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),Hm=Symbol.for("react.provider"),Wm=Symbol.for("react.context"),Vm=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Gm=Symbol.for("react.memo"),Ym=Symbol.for("react.lazy"),af=Symbol.iterator;function Qm(t){return t===null||typeof t!="object"?null:(t=af&&t[af]||t["@@iterator"],typeof t=="function"?t:null)}var Ch={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lh=Object.assign,Ih={};function ni(t,e,r){this.props=t,this.context=e,this.refs=Ih,this.updater=r||Ch}ni.prototype.isReactComponent={};ni.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ni.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dh(){}Dh.prototype=ni.prototype;function $u(t,e,r){this.props=t,this.context=e,this.refs=Ih,this.updater=r||Ch}var qu=$u.prototype=new Dh;qu.constructor=$u;Lh(qu,ni.prototype);qu.isPureReactComponent=!0;var lf=Array.isArray,Mh=Object.prototype.hasOwnProperty,Fu={current:null},Uh={key:!0,ref:!0,__self:!0,__source:!0};function Bh(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Mh.call(e,n)&&!Uh.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:mo,type:t,key:o,ref:s,props:i,_owner:Fu.current}}function Jm(t,e){return{$$typeof:mo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zu(t){return typeof t=="object"&&t!==null&&t.$$typeof===mo}function Xm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var uf=/\/+/g;function Ra(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xm(""+t.key):e.toString(36)}function os(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case mo:case $m:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Ra(s,0):n,lf(i)?(r="",t!=null&&(r=t.replace(uf,"$&/")+"/"),os(i,e,r,"",function(c){return c})):i!=null&&(zu(i)&&(i=Jm(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(uf,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",lf(t))for(var a=0;a<t.length;a++){o=t[a];var l=n+Ra(o,a);s+=os(o,e,r,l,i)}else if(l=Qm(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=n+Ra(o,a++),s+=os(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function No(t,e,r){if(t==null)return t;var n=[],i=0;return os(t,n,"","",function(o){return e.call(r,o,i++)}),n}function Zm(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},ss={transition:null},ey={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:ss,ReactCurrentOwner:Fu};function $h(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:No,forEach:function(t,e,r){No(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return No(t,function(){e++}),e},toArray:function(t){return No(t,function(e){return e})||[]},only:function(t){if(!zu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=ni;_e.Fragment=qm;_e.Profiler=zm;_e.PureComponent=$u;_e.StrictMode=Fm;_e.Suspense=Km;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ey;_e.act=$h;_e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Lh({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Fu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Mh.call(e,l)&&!Uh.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:mo,type:t.type,key:i,ref:o,props:n,_owner:s}};_e.createContext=function(t){return t={$$typeof:Wm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hm,_context:t},t.Consumer=t};_e.createElement=Bh;_e.createFactory=function(t){var e=Bh.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:Vm,render:t}};_e.isValidElement=zu;_e.lazy=function(t){return{$$typeof:Ym,_payload:{_status:-1,_result:t},_init:Zm}};_e.memo=function(t,e){return{$$typeof:Gm,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=ss.transition;ss.transition={};try{t()}finally{ss.transition=e}};_e.unstable_act=$h;_e.useCallback=function(t,e){return pt.current.useCallback(t,e)};_e.useContext=function(t){return pt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return pt.current.useEffect(t,e)};_e.useId=function(){return pt.current.useId()};_e.useImperativeHandle=function(t,e,r){return pt.current.useImperativeHandle(t,e,r)};_e.useInsertionEffect=function(t,e){return pt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return pt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return pt.current.useMemo(t,e)};_e.useReducer=function(t,e,r){return pt.current.useReducer(t,e,r)};_e.useRef=function(t){return pt.current.useRef(t)};_e.useState=function(t){return pt.current.useState(t)};_e.useSyncExternalStore=function(t,e,r){return pt.current.useSyncExternalStore(t,e,r)};_e.useTransition=function(){return pt.current.useTransition()};_e.version="18.3.1";Rh.exports=_e;var Z=Rh.exports;const qh=Bu(Z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty=Z,ry=Symbol.for("react.element"),ny=Symbol.for("react.fragment"),iy=Object.prototype.hasOwnProperty,oy=ty.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sy={key:!0,ref:!0,__self:!0,__source:!0};function Fh(t,e,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)iy.call(e,n)&&!sy.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:ry,type:t,key:o,ref:s,props:i,_owner:oy.current}}ta.Fragment=ny;ta.jsx=Fh;ta.jsxs=Fh;jh.exports=ta;var N=jh.exports,kl={},zh={exports:{}},jt={},Hh={exports:{}},Wh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,U){var I=H.length;H.push(U);e:for(;0<I;){var A=I-1>>>1,R=H[A];if(0<i(R,U))H[A]=U,H[I]=R,I=A;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var U=H[0],I=H.pop();if(I!==U){H[0]=I;e:for(var A=0,R=H.length,D=R>>>1;A<D;){var W=2*(A+1)-1,q=H[W],C=W+1,B=H[C];if(0>i(q,I))C<R&&0>i(B,q)?(H[A]=B,H[C]=I,A=C):(H[A]=q,H[W]=I,A=W);else if(C<R&&0>i(B,I))H[A]=B,H[C]=I,A=C;else break e}}return U}function i(H,U){var I=H.sortIndex-U.sortIndex;return I!==0?I:H.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],v=1,d=null,u=3,f=!1,w=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(H){for(var U=r(c);U!==null;){if(U.callback===null)n(c);else if(U.startTime<=H)n(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(c)}}function g(H){if(y=!1,m(H),!w)if(r(l)!==null)w=!0,F(b);else{var U=r(c);U!==null&&z(g,U.startTime-H)}}function b(H,U){w=!1,y&&(y=!1,p(S),S=-1),f=!0;var I=u;try{for(m(U),d=r(l);d!==null&&(!(d.expirationTime>U)||H&&!k());){var A=d.callback;if(typeof A=="function"){d.callback=null,u=d.priorityLevel;var R=A(d.expirationTime<=U);U=t.unstable_now(),typeof R=="function"?d.callback=R:d===r(l)&&n(l),m(U)}else n(l);d=r(l)}if(d!==null)var D=!0;else{var W=r(c);W!==null&&z(g,W.startTime-U),D=!1}return D}finally{d=null,u=I,f=!1}}var O=!1,x=null,S=-1,j=5,E=-1;function k(){return!(t.unstable_now()-E<j)}function T(){if(x!==null){var H=t.unstable_now();E=H;var U=!0;try{U=x(!0,H)}finally{U?P():(O=!1,x=null)}}else O=!1}var P;if(typeof h=="function")P=function(){h(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,M=L.port2;L.port1.onmessage=T,P=function(){M.postMessage(null)}}else P=function(){_(T,0)};function F(H){x=H,O||(O=!0,P())}function z(H,U){S=_(function(){H(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||f||(w=!0,F(b))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(H){switch(u){case 1:case 2:case 3:var U=3;break;default:U=u}var I=u;u=U;try{return H()}finally{u=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,U){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var I=u;u=H;try{return U()}finally{u=I}},t.unstable_scheduleCallback=function(H,U,I){var A=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?A+I:A):I=A,H){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=I+R,H={id:v++,callback:U,priorityLevel:H,startTime:I,expirationTime:R,sortIndex:-1},I>A?(H.sortIndex=I,e(c,H),r(l)===null&&H===r(c)&&(y?(p(S),S=-1):y=!0,z(g,I-A))):(H.sortIndex=R,e(l,H),w||f||(w=!0,F(b))),H},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(H){var U=u;return function(){var I=u;u=U;try{return H.apply(this,arguments)}finally{u=I}}}})(Wh);Hh.exports=Wh;var ay=Hh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=Z,Pt=ay;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vh=new Set,Yi={};function gn(t,e){Yn(t,e),Yn(t+"Capture",e)}function Yn(t,e){for(Yi[t]=e,t=0;t<e.length;t++)Vh.add(e[t])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=Object.prototype.hasOwnProperty,uy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cf={},ff={};function cy(t){return xl.call(ff,t)?!0:xl.call(cf,t)?!1:uy.test(t)?ff[t]=!0:(cf[t]=!0,!1)}function fy(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dy(t,e,r,n){if(e===null||typeof e>"u"||fy(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hu=/[\-:]([a-z])/g;function Wu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hu,Wu);tt[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hu,Wu);tt[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hu,Wu);tt[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vu(t,e,r,n){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dy(e,r,i,n)&&(r=null),n||i===null?cy(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _r=ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Po=Symbol.for("react.element"),Pn=Symbol.for("react.portal"),jn=Symbol.for("react.fragment"),Ku=Symbol.for("react.strict_mode"),Sl=Symbol.for("react.profiler"),Kh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),Gu=Symbol.for("react.forward_ref"),Ol=Symbol.for("react.suspense"),Tl=Symbol.for("react.suspense_list"),Yu=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),Yh=Symbol.for("react.offscreen"),df=Symbol.iterator;function gi(t){return t===null||typeof t!="object"?null:(t=df&&t[df]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,Ca;function Ci(t){if(Ca===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ca=e&&e[1]||""}return`
`+Ca+t}var La=!1;function Ia(t,e){if(!t||La)return"";La=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{La=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ci(t):""}function hy(t){switch(t.tag){case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 2:case 15:return t=Ia(t.type,!1),t;case 11:return t=Ia(t.type.render,!1),t;case 1:return t=Ia(t.type,!0),t;default:return""}}function Al(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jn:return"Fragment";case Pn:return"Portal";case Sl:return"Profiler";case Ku:return"StrictMode";case Ol:return"Suspense";case Tl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gh:return(t.displayName||"Context")+".Consumer";case Kh:return(t._context.displayName||"Context")+".Provider";case Gu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yu:return e=t.displayName||null,e!==null?e:Al(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return Al(t(e))}catch{}}return null}function py(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Al(e);case 8:return e===Ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $r(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vy(t){var e=Qh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jo(t){t._valueTracker||(t._valueTracker=vy(t))}function Jh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Qh(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nl(t,e){var r=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function hf(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=$r(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xh(t,e){e=e.checked,e!=null&&Vu(t,"checked",e,!1)}function Pl(t,e){Xh(t,e);var r=$r(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jl(t,e.type,r):e.hasOwnProperty("defaultValue")&&jl(t,e.type,$r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pf(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function jl(t,e,r){(e!=="number"||ws(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Li=Array.isArray;function Fn(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+$r(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vf(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(X(92));if(Li(r)){if(1<r.length)throw Error(X(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:$r(r)}}function Zh(t,e){var r=$r(e.value),n=$r(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function gf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ep(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ep(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ro,tp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ro=Ro||document.createElement("div"),Ro.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ro.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gy=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(t){gy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ui[e]=Ui[t]})});function rp(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ui.hasOwnProperty(t)&&Ui[t]?(""+e).trim():e+"px"}function np(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=rp(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var my=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(t,e){if(e){if(my[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Il(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dl=null;function Qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ml=null,zn=null,Hn=null;function mf(t){if(t=_o(t)){if(typeof Ml!="function")throw Error(X(280));var e=t.stateNode;e&&(e=sa(e),Ml(t.stateNode,t.type,e))}}function ip(t){zn?Hn?Hn.push(t):Hn=[t]:zn=t}function op(){if(zn){var t=zn,e=Hn;if(Hn=zn=null,mf(t),e)for(t=0;t<e.length;t++)mf(e[t])}}function sp(t,e){return t(e)}function ap(){}var Da=!1;function lp(t,e,r){if(Da)return t(e,r);Da=!0;try{return sp(t,e,r)}finally{Da=!1,(zn!==null||Hn!==null)&&(ap(),op())}}function Ji(t,e){var r=t.stateNode;if(r===null)return null;var n=sa(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(X(231,e,typeof r));return r}var Ul=!1;if(vr)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{Ul=!1}function yy(t,e,r,n,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(v){this.onError(v)}}var Bi=!1,_s=null,bs=!1,Bl=null,wy={onError:function(t){Bi=!0,_s=t}};function _y(t,e,r,n,i,o,s,a,l){Bi=!1,_s=null,yy.apply(wy,arguments)}function by(t,e,r,n,i,o,s,a,l){if(_y.apply(this,arguments),Bi){if(Bi){var c=_s;Bi=!1,_s=null}else throw Error(X(198));bs||(bs=!0,Bl=c)}}function mn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function up(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yf(t){if(mn(t)!==t)throw Error(X(188))}function Ey(t){var e=t.alternate;if(!e){if(e=mn(t),e===null)throw Error(X(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return yf(i),t;if(o===n)return yf(i),e;o=o.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?t:e}function cp(t){return t=Ey(t),t!==null?fp(t):null}function fp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fp(t);if(e!==null)return e;t=t.sibling}return null}var dp=Pt.unstable_scheduleCallback,wf=Pt.unstable_cancelCallback,ky=Pt.unstable_shouldYield,xy=Pt.unstable_requestPaint,qe=Pt.unstable_now,Sy=Pt.unstable_getCurrentPriorityLevel,Ju=Pt.unstable_ImmediatePriority,hp=Pt.unstable_UserBlockingPriority,Es=Pt.unstable_NormalPriority,Oy=Pt.unstable_LowPriority,pp=Pt.unstable_IdlePriority,ra=null,nr=null;function Ty(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(ra,t,void 0,(t.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Py,Ay=Math.log,Ny=Math.LN2;function Py(t){return t>>>=0,t===0?32:31-(Ay(t)/Ny|0)|0}var Co=64,Lo=4194304;function Ii(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ks(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=Ii(a):(o&=s,o!==0&&(n=Ii(o)))}else s=r&~i,s!==0?n=Ii(s):o!==0&&(n=Ii(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Yt(e),i=1<<r,n|=t[r],e&=~i;return n}function jy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ry(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Yt(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=jy(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function $l(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vp(){var t=Co;return Co<<=1,!(Co&4194240)&&(Co=64),t}function Ma(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function yo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yt(e),t[e]=r}function Cy(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Yt(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function Xu(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Yt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var xe=0;function gp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mp,Zu,yp,wp,_p,ql=!1,Io=[],Rr=null,Cr=null,Lr=null,Xi=new Map,Zi=new Map,Tr=[],Ly="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _f(t,e){switch(t){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Xi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zi.delete(e.pointerId)}}function yi(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=_o(e),e!==null&&Zu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Iy(t,e,r,n,i){switch(e){case"focusin":return Rr=yi(Rr,t,e,r,n,i),!0;case"dragenter":return Cr=yi(Cr,t,e,r,n,i),!0;case"mouseover":return Lr=yi(Lr,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Xi.set(o,yi(Xi.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Zi.set(o,yi(Zi.get(o)||null,t,e,r,n,i)),!0}return!1}function bp(t){var e=nn(t.target);if(e!==null){var r=mn(e);if(r!==null){if(e=r.tag,e===13){if(e=up(r),e!==null){t.blockedOn=e,_p(t.priority,function(){yp(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function as(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Fl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Dl=n,r.target.dispatchEvent(n),Dl=null}else return e=_o(r),e!==null&&Zu(e),t.blockedOn=r,!1;e.shift()}return!0}function bf(t,e,r){as(t)&&r.delete(e)}function Dy(){ql=!1,Rr!==null&&as(Rr)&&(Rr=null),Cr!==null&&as(Cr)&&(Cr=null),Lr!==null&&as(Lr)&&(Lr=null),Xi.forEach(bf),Zi.forEach(bf)}function wi(t,e){t.blockedOn===e&&(t.blockedOn=null,ql||(ql=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,Dy)))}function eo(t){function e(i){return wi(i,t)}if(0<Io.length){wi(Io[0],t);for(var r=1;r<Io.length;r++){var n=Io[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Rr!==null&&wi(Rr,t),Cr!==null&&wi(Cr,t),Lr!==null&&wi(Lr,t),Xi.forEach(e),Zi.forEach(e),r=0;r<Tr.length;r++)n=Tr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Tr.length&&(r=Tr[0],r.blockedOn===null);)bp(r),r.blockedOn===null&&Tr.shift()}var Wn=_r.ReactCurrentBatchConfig,xs=!0;function My(t,e,r,n){var i=xe,o=Wn.transition;Wn.transition=null;try{xe=1,ec(t,e,r,n)}finally{xe=i,Wn.transition=o}}function Uy(t,e,r,n){var i=xe,o=Wn.transition;Wn.transition=null;try{xe=4,ec(t,e,r,n)}finally{xe=i,Wn.transition=o}}function ec(t,e,r,n){if(xs){var i=Fl(t,e,r,n);if(i===null)Ka(t,e,n,Ss,r),_f(t,n);else if(Iy(i,t,e,r,n))n.stopPropagation();else if(_f(t,n),e&4&&-1<Ly.indexOf(t)){for(;i!==null;){var o=_o(i);if(o!==null&&mp(o),o=Fl(t,e,r,n),o===null&&Ka(t,e,n,Ss,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Ka(t,e,n,null,r)}}var Ss=null;function Fl(t,e,r,n){if(Ss=null,t=Qu(n),t=nn(t),t!==null)if(e=mn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=up(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ss=t,null}function Ep(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sy()){case Ju:return 1;case hp:return 4;case Es:case Oy:return 16;case pp:return 536870912;default:return 16}default:return 16}}var Pr=null,tc=null,ls=null;function kp(){if(ls)return ls;var t,e=tc,r=e.length,n,i="value"in Pr?Pr.value:Pr.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return ls=i.slice(t,1<n?1-n:void 0)}function us(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Do(){return!0}function Ef(){return!1}function Rt(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Do:Ef,this.isPropagationStopped=Ef,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),e}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=Rt(ii),wo=Ue({},ii,{view:0,detail:0}),By=Rt(wo),Ua,Ba,_i,na=Ue({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(Ua=t.screenX-_i.screenX,Ba=t.screenY-_i.screenY):Ba=Ua=0,_i=t),Ua)},movementY:function(t){return"movementY"in t?t.movementY:Ba}}),kf=Rt(na),$y=Ue({},na,{dataTransfer:0}),qy=Rt($y),Fy=Ue({},wo,{relatedTarget:0}),$a=Rt(Fy),zy=Ue({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Hy=Rt(zy),Wy=Ue({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vy=Rt(Wy),Ky=Ue({},ii,{data:0}),xf=Rt(Ky),Gy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qy[t])?!!e[t]:!1}function nc(){return Jy}var Xy=Ue({},wo,{key:function(t){if(t.key){var e=Gy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(t){return t.type==="keypress"?us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zy=Rt(Xy),e0=Ue({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sf=Rt(e0),t0=Ue({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),r0=Rt(t0),n0=Ue({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=Rt(n0),o0=Ue({},na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s0=Rt(o0),a0=[9,13,27,32],ic=vr&&"CompositionEvent"in window,$i=null;vr&&"documentMode"in document&&($i=document.documentMode);var l0=vr&&"TextEvent"in window&&!$i,xp=vr&&(!ic||$i&&8<$i&&11>=$i),Of=" ",Tf=!1;function Sp(t,e){switch(t){case"keyup":return a0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rn=!1;function u0(t,e){switch(t){case"compositionend":return Op(e);case"keypress":return e.which!==32?null:(Tf=!0,Of);case"textInput":return t=e.data,t===Of&&Tf?null:t;default:return null}}function c0(t,e){if(Rn)return t==="compositionend"||!ic&&Sp(t,e)?(t=kp(),ls=tc=Pr=null,Rn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xp&&e.locale!=="ko"?null:e.data;default:return null}}var f0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!f0[t.type]:e==="textarea"}function Tp(t,e,r,n){ip(n),e=Os(e,"onChange"),0<e.length&&(r=new rc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var qi=null,to=null;function d0(t){Up(t,0)}function ia(t){var e=In(t);if(Jh(e))return t}function h0(t,e){if(t==="change")return e}var Ap=!1;if(vr){var qa;if(vr){var Fa="oninput"in document;if(!Fa){var Nf=document.createElement("div");Nf.setAttribute("oninput","return;"),Fa=typeof Nf.oninput=="function"}qa=Fa}else qa=!1;Ap=qa&&(!document.documentMode||9<document.documentMode)}function Pf(){qi&&(qi.detachEvent("onpropertychange",Np),to=qi=null)}function Np(t){if(t.propertyName==="value"&&ia(to)){var e=[];Tp(e,to,t,Qu(t)),lp(d0,e)}}function p0(t,e,r){t==="focusin"?(Pf(),qi=e,to=r,qi.attachEvent("onpropertychange",Np)):t==="focusout"&&Pf()}function v0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ia(to)}function g0(t,e){if(t==="click")return ia(e)}function m0(t,e){if(t==="input"||t==="change")return ia(e)}function y0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jt=typeof Object.is=="function"?Object.is:y0;function ro(t,e){if(Jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!xl.call(e,i)||!Jt(t[i],e[i]))return!1}return!0}function jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rf(t,e){var r=jf(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jf(r)}}function Pp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jp(){for(var t=window,e=ws();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ws(t.document)}return e}function oc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function w0(t){var e=jp(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Pp(r.ownerDocument.documentElement,r)){if(n!==null&&oc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=Rf(r,o);var s=Rf(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _0=vr&&"documentMode"in document&&11>=document.documentMode,Cn=null,zl=null,Fi=null,Hl=!1;function Cf(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hl||Cn==null||Cn!==ws(n)||(n=Cn,"selectionStart"in n&&oc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fi&&ro(Fi,n)||(Fi=n,n=Os(zl,"onSelect"),0<n.length&&(e=new rc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Cn)))}function Mo(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ln={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionend:Mo("Transition","TransitionEnd")},za={},Rp={};vr&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function oa(t){if(za[t])return za[t];if(!Ln[t])return t;var e=Ln[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Rp)return za[t]=e[r];return t}var Cp=oa("animationend"),Lp=oa("animationiteration"),Ip=oa("animationstart"),Dp=oa("transitionend"),Mp=new Map,Lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(t,e){Mp.set(t,e),gn(e,[t])}for(var Ha=0;Ha<Lf.length;Ha++){var Wa=Lf[Ha],b0=Wa.toLowerCase(),E0=Wa[0].toUpperCase()+Wa.slice(1);Fr(b0,"on"+E0)}Fr(Cp,"onAnimationEnd");Fr(Lp,"onAnimationIteration");Fr(Ip,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(Dp,"onTransitionEnd");Yn("onMouseEnter",["mouseout","mouseover"]);Yn("onMouseLeave",["mouseout","mouseover"]);Yn("onPointerEnter",["pointerout","pointerover"]);Yn("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function If(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,by(n,e,void 0,t),t.currentTarget=null}function Up(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;If(i,a,c),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;If(i,a,c),o=l}}}if(bs)throw t=Bl,bs=!1,Bl=null,t}function Pe(t,e){var r=e[Yl];r===void 0&&(r=e[Yl]=new Set);var n=t+"__bubble";r.has(n)||(Bp(e,t,2,!1),r.add(n))}function Va(t,e,r){var n=0;e&&(n|=4),Bp(r,t,n,e)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function no(t){if(!t[Uo]){t[Uo]=!0,Vh.forEach(function(r){r!=="selectionchange"&&(k0.has(r)||Va(r,!1,t),Va(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uo]||(e[Uo]=!0,Va("selectionchange",!1,e))}}function Bp(t,e,r,n){switch(Ep(e)){case 1:var i=My;break;case 4:i=Uy;break;default:i=ec}r=i.bind(null,e,r,t),i=void 0,!Ul||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ka(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=nn(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}lp(function(){var c=o,v=Qu(r),d=[];e:{var u=Mp.get(t);if(u!==void 0){var f=rc,w=t;switch(t){case"keypress":if(us(r)===0)break e;case"keydown":case"keyup":f=Zy;break;case"focusin":w="focus",f=$a;break;case"focusout":w="blur",f=$a;break;case"beforeblur":case"afterblur":f=$a;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=qy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=r0;break;case Cp:case Lp:case Ip:f=Hy;break;case Dp:f=i0;break;case"scroll":f=By;break;case"wheel":f=s0;break;case"copy":case"cut":case"paste":f=Vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Sf}var y=(e&4)!==0,_=!y&&t==="scroll",p=y?u!==null?u+"Capture":null:u;y=[];for(var h=c,m;h!==null;){m=h;var g=m.stateNode;if(m.tag===5&&g!==null&&(m=g,p!==null&&(g=Ji(h,p),g!=null&&y.push(io(h,g,m)))),_)break;h=h.return}0<y.length&&(u=new f(u,w,null,r,v),d.push({event:u,listeners:y}))}}if(!(e&7)){e:{if(u=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",u&&r!==Dl&&(w=r.relatedTarget||r.fromElement)&&(nn(w)||w[gr]))break e;if((f||u)&&(u=v.window===v?v:(u=v.ownerDocument)?u.defaultView||u.parentWindow:window,f?(w=r.relatedTarget||r.toElement,f=c,w=w?nn(w):null,w!==null&&(_=mn(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(f=null,w=c),f!==w)){if(y=kf,g="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(y=Sf,g="onPointerLeave",p="onPointerEnter",h="pointer"),_=f==null?u:In(f),m=w==null?u:In(w),u=new y(g,h+"leave",f,r,v),u.target=_,u.relatedTarget=m,g=null,nn(v)===c&&(y=new y(p,h+"enter",w,r,v),y.target=m,y.relatedTarget=_,g=y),_=g,f&&w)t:{for(y=f,p=w,h=0,m=y;m;m=bn(m))h++;for(m=0,g=p;g;g=bn(g))m++;for(;0<h-m;)y=bn(y),h--;for(;0<m-h;)p=bn(p),m--;for(;h--;){if(y===p||p!==null&&y===p.alternate)break t;y=bn(y),p=bn(p)}y=null}else y=null;f!==null&&Df(d,u,f,y,!1),w!==null&&_!==null&&Df(d,_,w,y,!0)}}e:{if(u=c?In(c):window,f=u.nodeName&&u.nodeName.toLowerCase(),f==="select"||f==="input"&&u.type==="file")var b=h0;else if(Af(u))if(Ap)b=m0;else{b=v0;var O=p0}else(f=u.nodeName)&&f.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(b=g0);if(b&&(b=b(t,c))){Tp(d,b,r,v);break e}O&&O(t,u,c),t==="focusout"&&(O=u._wrapperState)&&O.controlled&&u.type==="number"&&jl(u,"number",u.value)}switch(O=c?In(c):window,t){case"focusin":(Af(O)||O.contentEditable==="true")&&(Cn=O,zl=c,Fi=null);break;case"focusout":Fi=zl=Cn=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,Cf(d,r,v);break;case"selectionchange":if(_0)break;case"keydown":case"keyup":Cf(d,r,v)}var x;if(ic)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Rn?Sp(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(xp&&r.locale!=="ko"&&(Rn||S!=="onCompositionStart"?S==="onCompositionEnd"&&Rn&&(x=kp()):(Pr=v,tc="value"in Pr?Pr.value:Pr.textContent,Rn=!0)),O=Os(c,S),0<O.length&&(S=new xf(S,t,null,r,v),d.push({event:S,listeners:O}),x?S.data=x:(x=Op(r),x!==null&&(S.data=x)))),(x=l0?u0(t,r):c0(t,r))&&(c=Os(c,"onBeforeInput"),0<c.length&&(v=new xf("onBeforeInput","beforeinput",null,r,v),d.push({event:v,listeners:c}),v.data=x))}Up(d,e)})}function io(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Os(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ji(t,r),o!=null&&n.unshift(io(t,o,i)),o=Ji(t,e),o!=null&&n.push(io(t,o,i))),t=t.return}return n}function bn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Df(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=Ji(r,o),l!=null&&s.unshift(io(r,l,a))):i||(l=Ji(r,o),l!=null&&s.push(io(r,l,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var x0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function Mf(t){return(typeof t=="string"?t:""+t).replace(x0,`
`).replace(S0,"")}function Bo(t,e,r){if(e=Mf(e),Mf(t)!==e&&r)throw Error(X(425))}function Ts(){}var Wl=null,Vl=null;function Kl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,O0=typeof clearTimeout=="function"?clearTimeout:void 0,Uf=typeof Promise=="function"?Promise:void 0,T0=typeof queueMicrotask=="function"?queueMicrotask:typeof Uf<"u"?function(t){return Uf.resolve(null).then(t).catch(A0)}:Gl;function A0(t){setTimeout(function(){throw t})}function Ga(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),eo(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);eo(e)}function Ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var oi=Math.random().toString(36).slice(2),rr="__reactFiber$"+oi,oo="__reactProps$"+oi,gr="__reactContainer$"+oi,Yl="__reactEvents$"+oi,N0="__reactListeners$"+oi,P0="__reactHandles$"+oi;function nn(t){var e=t[rr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gr]||r[rr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Bf(t);t!==null;){if(r=t[rr])return r;t=Bf(t)}return e}t=r,r=t.parentNode}return null}function _o(t){return t=t[rr]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function In(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function sa(t){return t[oo]||null}var Ql=[],Dn=-1;function zr(t){return{current:t}}function Re(t){0>Dn||(t.current=Ql[Dn],Ql[Dn]=null,Dn--)}function Ae(t,e){Dn++,Ql[Dn]=t.current,t.current=e}var qr={},at=zr(qr),_t=zr(!1),cn=qr;function Qn(t,e){var r=t.type.contextTypes;if(!r)return qr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function As(){Re(_t),Re(at)}function $f(t,e,r){if(at.current!==qr)throw Error(X(168));Ae(at,e),Ae(_t,r)}function $p(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(X(108,py(t)||"Unknown",i));return Ue({},r,n)}function Ns(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qr,cn=at.current,Ae(at,t),Ae(_t,_t.current),!0}function qf(t,e,r){var n=t.stateNode;if(!n)throw Error(X(169));r?(t=$p(t,e,cn),n.__reactInternalMemoizedMergedChildContext=t,Re(_t),Re(at),Ae(at,t)):Re(_t),Ae(_t,r)}var fr=null,aa=!1,Ya=!1;function qp(t){fr===null?fr=[t]:fr.push(t)}function j0(t){aa=!0,qp(t)}function Hr(){if(!Ya&&fr!==null){Ya=!0;var t=0,e=xe;try{var r=fr;for(xe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}fr=null,aa=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),dp(Ju,Hr),i}finally{xe=e,Ya=!1}}return null}var Mn=[],Un=0,Ps=null,js=0,Lt=[],It=0,fn=null,dr=1,hr="";function Yr(t,e){Mn[Un++]=js,Mn[Un++]=Ps,Ps=t,js=e}function Fp(t,e,r){Lt[It++]=dr,Lt[It++]=hr,Lt[It++]=fn,fn=t;var n=dr;t=hr;var i=32-Yt(n)-1;n&=~(1<<i),r+=1;var o=32-Yt(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,dr=1<<32-Yt(e)+i|r<<i|n,hr=o+t}else dr=1<<o|r<<i|n,hr=t}function sc(t){t.return!==null&&(Yr(t,1),Fp(t,1,0))}function ac(t){for(;t===Ps;)Ps=Mn[--Un],Mn[Un]=null,js=Mn[--Un],Mn[Un]=null;for(;t===fn;)fn=Lt[--It],Lt[It]=null,hr=Lt[--It],Lt[It]=null,dr=Lt[--It],Lt[It]=null}var Nt=null,At=null,Le=!1,Gt=null;function zp(t,e){var r=Dt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ff(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nt=t,At=Ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nt=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=fn!==null?{id:dr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Dt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Nt=t,At=null,!0):!1;default:return!1}}function Jl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xl(t){if(Le){var e=At;if(e){var r=e;if(!Ff(t,e)){if(Jl(t))throw Error(X(418));e=Ir(r.nextSibling);var n=Nt;e&&Ff(t,e)?zp(n,r):(t.flags=t.flags&-4097|2,Le=!1,Nt=t)}}else{if(Jl(t))throw Error(X(418));t.flags=t.flags&-4097|2,Le=!1,Nt=t}}}function zf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function $o(t){if(t!==Nt)return!1;if(!Le)return zf(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kl(t.type,t.memoizedProps)),e&&(e=At)){if(Jl(t))throw Hp(),Error(X(418));for(;e;)zp(t,e),e=Ir(e.nextSibling)}if(zf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){At=Ir(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}At=null}}else At=Nt?Ir(t.stateNode.nextSibling):null;return!0}function Hp(){for(var t=At;t;)t=Ir(t.nextSibling)}function Jn(){At=Nt=null,Le=!1}function lc(t){Gt===null?Gt=[t]:Gt.push(t)}var R0=_r.ReactCurrentBatchConfig;function bi(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,t))}return t}function qo(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hf(t){var e=t._init;return e(t._payload)}function Wp(t){function e(p,h){if(t){var m=p.deletions;m===null?(p.deletions=[h],p.flags|=16):m.push(h)}}function r(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function n(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=Br(p,h),p.index=0,p.sibling=null,p}function o(p,h,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<h?(p.flags|=2,h):m):(p.flags|=2,h)):(p.flags|=1048576,h)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,h,m,g){return h===null||h.tag!==6?(h=rl(m,p.mode,g),h.return=p,h):(h=i(h,m),h.return=p,h)}function l(p,h,m,g){var b=m.type;return b===jn?v(p,h,m.props.children,g,m.key):h!==null&&(h.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sr&&Hf(b)===h.type)?(g=i(h,m.props),g.ref=bi(p,h,m),g.return=p,g):(g=gs(m.type,m.key,m.props,null,p.mode,g),g.ref=bi(p,h,m),g.return=p,g)}function c(p,h,m,g){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=nl(m,p.mode,g),h.return=p,h):(h=i(h,m.children||[]),h.return=p,h)}function v(p,h,m,g,b){return h===null||h.tag!==7?(h=un(m,p.mode,g,b),h.return=p,h):(h=i(h,m),h.return=p,h)}function d(p,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=rl(""+h,p.mode,m),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Po:return m=gs(h.type,h.key,h.props,null,p.mode,m),m.ref=bi(p,null,h),m.return=p,m;case Pn:return h=nl(h,p.mode,m),h.return=p,h;case Sr:var g=h._init;return d(p,g(h._payload),m)}if(Li(h)||gi(h))return h=un(h,p.mode,m,null),h.return=p,h;qo(p,h)}return null}function u(p,h,m,g){var b=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:a(p,h,""+m,g);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Po:return m.key===b?l(p,h,m,g):null;case Pn:return m.key===b?c(p,h,m,g):null;case Sr:return b=m._init,u(p,h,b(m._payload),g)}if(Li(m)||gi(m))return b!==null?null:v(p,h,m,g,null);qo(p,m)}return null}function f(p,h,m,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return p=p.get(m)||null,a(h,p,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Po:return p=p.get(g.key===null?m:g.key)||null,l(h,p,g,b);case Pn:return p=p.get(g.key===null?m:g.key)||null,c(h,p,g,b);case Sr:var O=g._init;return f(p,h,m,O(g._payload),b)}if(Li(g)||gi(g))return p=p.get(m)||null,v(h,p,g,b,null);qo(h,g)}return null}function w(p,h,m,g){for(var b=null,O=null,x=h,S=h=0,j=null;x!==null&&S<m.length;S++){x.index>S?(j=x,x=null):j=x.sibling;var E=u(p,x,m[S],g);if(E===null){x===null&&(x=j);break}t&&x&&E.alternate===null&&e(p,x),h=o(E,h,S),O===null?b=E:O.sibling=E,O=E,x=j}if(S===m.length)return r(p,x),Le&&Yr(p,S),b;if(x===null){for(;S<m.length;S++)x=d(p,m[S],g),x!==null&&(h=o(x,h,S),O===null?b=x:O.sibling=x,O=x);return Le&&Yr(p,S),b}for(x=n(p,x);S<m.length;S++)j=f(x,p,S,m[S],g),j!==null&&(t&&j.alternate!==null&&x.delete(j.key===null?S:j.key),h=o(j,h,S),O===null?b=j:O.sibling=j,O=j);return t&&x.forEach(function(k){return e(p,k)}),Le&&Yr(p,S),b}function y(p,h,m,g){var b=gi(m);if(typeof b!="function")throw Error(X(150));if(m=b.call(m),m==null)throw Error(X(151));for(var O=b=null,x=h,S=h=0,j=null,E=m.next();x!==null&&!E.done;S++,E=m.next()){x.index>S?(j=x,x=null):j=x.sibling;var k=u(p,x,E.value,g);if(k===null){x===null&&(x=j);break}t&&x&&k.alternate===null&&e(p,x),h=o(k,h,S),O===null?b=k:O.sibling=k,O=k,x=j}if(E.done)return r(p,x),Le&&Yr(p,S),b;if(x===null){for(;!E.done;S++,E=m.next())E=d(p,E.value,g),E!==null&&(h=o(E,h,S),O===null?b=E:O.sibling=E,O=E);return Le&&Yr(p,S),b}for(x=n(p,x);!E.done;S++,E=m.next())E=f(x,p,S,E.value,g),E!==null&&(t&&E.alternate!==null&&x.delete(E.key===null?S:E.key),h=o(E,h,S),O===null?b=E:O.sibling=E,O=E);return t&&x.forEach(function(T){return e(p,T)}),Le&&Yr(p,S),b}function _(p,h,m,g){if(typeof m=="object"&&m!==null&&m.type===jn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Po:e:{for(var b=m.key,O=h;O!==null;){if(O.key===b){if(b=m.type,b===jn){if(O.tag===7){r(p,O.sibling),h=i(O,m.props.children),h.return=p,p=h;break e}}else if(O.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sr&&Hf(b)===O.type){r(p,O.sibling),h=i(O,m.props),h.ref=bi(p,O,m),h.return=p,p=h;break e}r(p,O);break}else e(p,O);O=O.sibling}m.type===jn?(h=un(m.props.children,p.mode,g,m.key),h.return=p,p=h):(g=gs(m.type,m.key,m.props,null,p.mode,g),g.ref=bi(p,h,m),g.return=p,p=g)}return s(p);case Pn:e:{for(O=m.key;h!==null;){if(h.key===O)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){r(p,h.sibling),h=i(h,m.children||[]),h.return=p,p=h;break e}else{r(p,h);break}else e(p,h);h=h.sibling}h=nl(m,p.mode,g),h.return=p,p=h}return s(p);case Sr:return O=m._init,_(p,h,O(m._payload),g)}if(Li(m))return w(p,h,m,g);if(gi(m))return y(p,h,m,g);qo(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(r(p,h.sibling),h=i(h,m),h.return=p,p=h):(r(p,h),h=rl(m,p.mode,g),h.return=p,p=h),s(p)):r(p,h)}return _}var Xn=Wp(!0),Vp=Wp(!1),Rs=zr(null),Cs=null,Bn=null,uc=null;function cc(){uc=Bn=Cs=null}function fc(t){var e=Rs.current;Re(Rs),t._currentValue=e}function Zl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Vn(t,e){Cs=t,uc=Bn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function Ut(t){var e=t._currentValue;if(uc!==t)if(t={context:t,memoizedValue:e,next:null},Bn===null){if(Cs===null)throw Error(X(308));Bn=t,Cs.dependencies={lanes:0,firstContext:t}}else Bn=Bn.next=t;return e}var on=null;function dc(t){on===null?on=[t]:on.push(t)}function Kp(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,dc(e)):(r.next=i.next,i.next=r),e.interleaved=r,mr(t,n)}function mr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Or=!1;function hc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,be&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,mr(t,r)}return i=n.interleaved,i===null?(e.next=e,dc(n)):(e.next=i.next,i.next=e),n.interleaved=e,mr(t,r)}function cs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Xu(t,r)}}function Wf(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ls(t,e,r,n){var i=t.updateQueue;Or=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var v=t.alternate;v!==null&&(v=v.updateQueue,a=v.lastBaseUpdate,a!==s&&(a===null?v.firstBaseUpdate=c:a.next=c,v.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,v=c=l=null,a=o;do{var u=a.lane,f=a.eventTime;if((n&u)===u){v!==null&&(v=v.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(u=e,f=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){d=w.call(f,d,u);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,u=typeof w=="function"?w.call(f,d,u):w,u==null)break e;d=Ue({},d,u);break e;case 2:Or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,u=i.effects,u===null?i.effects=[a]:u.push(a))}else f={eventTime:f,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},v===null?(c=v=f,l=d):v=v.next=f,s|=u;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;u=a,a=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);if(v===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=v,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);hn|=s,t.lanes=s,t.memoizedState=d}}function Vf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var bo={},ir=zr(bo),so=zr(bo),ao=zr(bo);function sn(t){if(t===bo)throw Error(X(174));return t}function pc(t,e){switch(Ae(ao,e),Ae(so,t),Ae(ir,bo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cl(e,t)}Re(ir),Ae(ir,e)}function Zn(){Re(ir),Re(so),Re(ao)}function Yp(t){sn(ao.current);var e=sn(ir.current),r=Cl(e,t.type);e!==r&&(Ae(so,t),Ae(ir,r))}function vc(t){so.current===t&&(Re(ir),Re(so))}var De=zr(0);function Is(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qa=[];function gc(){for(var t=0;t<Qa.length;t++)Qa[t]._workInProgressVersionPrimary=null;Qa.length=0}var fs=_r.ReactCurrentDispatcher,Ja=_r.ReactCurrentBatchConfig,dn=0,Me=null,Ve=null,Ye=null,Ds=!1,zi=!1,lo=0,C0=0;function nt(){throw Error(X(321))}function mc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Jt(t[r],e[r]))return!1;return!0}function yc(t,e,r,n,i,o){if(dn=o,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fs.current=t===null||t.memoizedState===null?M0:U0,t=r(n,i),zi){o=0;do{if(zi=!1,lo=0,25<=o)throw Error(X(301));o+=1,Ye=Ve=null,e.updateQueue=null,fs.current=B0,t=r(n,i)}while(zi)}if(fs.current=Ms,e=Ve!==null&&Ve.next!==null,dn=0,Ye=Ve=Me=null,Ds=!1,e)throw Error(X(300));return t}function wc(){var t=lo!==0;return lo=0,t}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Me.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Bt(){if(Ve===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=Ye===null?Me.memoizedState:Ye.next;if(e!==null)Ye=e,Ve=t;else{if(t===null)throw Error(X(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ye===null?Me.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function uo(t,e){return typeof e=="function"?e(t):e}function Xa(t){var e=Bt(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=Ve,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,c=o;do{var v=c.lane;if((dn&v)===v)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:v,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=n):l=l.next=d,Me.lanes|=v,hn|=v}c=c.next}while(c!==null&&c!==o);l===null?s=n:l.next=a,Jt(n,e.memoizedState)||(wt=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,Me.lanes|=o,hn|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Za(t){var e=Bt(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Jt(o,e.memoizedState)||(wt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Qp(){}function Jp(t,e){var r=Me,n=Bt(),i=e(),o=!Jt(n.memoizedState,i);if(o&&(n.memoizedState=i,wt=!0),n=n.queue,_c(ev.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Ye!==null&&Ye.memoizedState.tag&1){if(r.flags|=2048,co(9,Zp.bind(null,r,n,i,e),void 0,null),Qe===null)throw Error(X(349));dn&30||Xp(r,e,i)}return i}function Xp(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Zp(t,e,r,n){e.value=r,e.getSnapshot=n,tv(e)&&rv(t)}function ev(t,e,r){return r(function(){tv(e)&&rv(t)})}function tv(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Jt(t,r)}catch{return!0}}function rv(t){var e=mr(t,1);e!==null&&Qt(e,t,1,-1)}function Kf(t){var e=tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t},e.queue=t,t=t.dispatch=D0.bind(null,Me,t),[e.memoizedState,t]}function co(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function nv(){return Bt().memoizedState}function ds(t,e,r,n){var i=tr();Me.flags|=t,i.memoizedState=co(1|e,r,void 0,n===void 0?null:n)}function la(t,e,r,n){var i=Bt();n=n===void 0?null:n;var o=void 0;if(Ve!==null){var s=Ve.memoizedState;if(o=s.destroy,n!==null&&mc(n,s.deps)){i.memoizedState=co(e,r,o,n);return}}Me.flags|=t,i.memoizedState=co(1|e,r,o,n)}function Gf(t,e){return ds(8390656,8,t,e)}function _c(t,e){return la(2048,8,t,e)}function iv(t,e){return la(4,2,t,e)}function ov(t,e){return la(4,4,t,e)}function sv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function av(t,e,r){return r=r!=null?r.concat([t]):null,la(4,4,sv.bind(null,e,t),r)}function bc(){}function lv(t,e){var r=Bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function uv(t,e){var r=Bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function cv(t,e,r){return dn&21?(Jt(r,e)||(r=vp(),Me.lanes|=r,hn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=r)}function L0(t,e){var r=xe;xe=r!==0&&4>r?r:4,t(!0);var n=Ja.transition;Ja.transition={};try{t(!1),e()}finally{xe=r,Ja.transition=n}}function fv(){return Bt().memoizedState}function I0(t,e,r){var n=Ur(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dv(t))hv(e,r);else if(r=Kp(t,e,r,n),r!==null){var i=ft();Qt(r,t,n,i),pv(r,e,n)}}function D0(t,e,r){var n=Ur(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dv(t))hv(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,Jt(a,s)){var l=e.interleaved;l===null?(i.next=i,dc(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Kp(t,e,i,n),r!==null&&(i=ft(),Qt(r,t,n,i),pv(r,e,n))}}function dv(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function hv(t,e){zi=Ds=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function pv(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Xu(t,r)}}var Ms={readContext:Ut,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},M0={readContext:Ut,useCallback:function(t,e){return tr().memoizedState=[t,e===void 0?null:e],t},useContext:Ut,useEffect:Gf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ds(4194308,4,sv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ds(4194308,4,t,e)},useInsertionEffect:function(t,e){return ds(4,2,t,e)},useMemo:function(t,e){var r=tr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=tr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=I0.bind(null,Me,t),[n.memoizedState,t]},useRef:function(t){var e=tr();return t={current:t},e.memoizedState=t},useState:Kf,useDebugValue:bc,useDeferredValue:function(t){return tr().memoizedState=t},useTransition:function(){var t=Kf(!1),e=t[0];return t=L0.bind(null,t[1]),tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Me,i=tr();if(Le){if(r===void 0)throw Error(X(407));r=r()}else{if(r=e(),Qe===null)throw Error(X(349));dn&30||Xp(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,Gf(ev.bind(null,n,o,t),[t]),n.flags|=2048,co(9,Zp.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=tr(),e=Qe.identifierPrefix;if(Le){var r=hr,n=dr;r=(n&~(1<<32-Yt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=lo++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=C0++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},U0={readContext:Ut,useCallback:lv,useContext:Ut,useEffect:_c,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:ov,useMemo:uv,useReducer:Xa,useRef:nv,useState:function(){return Xa(uo)},useDebugValue:bc,useDeferredValue:function(t){var e=Bt();return cv(e,Ve.memoizedState,t)},useTransition:function(){var t=Xa(uo)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:Qp,useSyncExternalStore:Jp,useId:fv,unstable_isNewReconciler:!1},B0={readContext:Ut,useCallback:lv,useContext:Ut,useEffect:_c,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:ov,useMemo:uv,useReducer:Za,useRef:nv,useState:function(){return Za(uo)},useDebugValue:bc,useDeferredValue:function(t){var e=Bt();return Ve===null?e.memoizedState=t:cv(e,Ve.memoizedState,t)},useTransition:function(){var t=Za(uo)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:Qp,useSyncExternalStore:Jp,useId:fv,unstable_isNewReconciler:!1};function Wt(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function eu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ue({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ua={isMounted:function(t){return(t=t._reactInternals)?mn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ft(),i=Ur(t),o=pr(n,i);o.payload=e,r!=null&&(o.callback=r),e=Dr(t,o,i),e!==null&&(Qt(e,t,i,n),cs(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ft(),i=Ur(t),o=pr(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Dr(t,o,i),e!==null&&(Qt(e,t,i,n),cs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ft(),n=Ur(t),i=pr(r,n);i.tag=2,e!=null&&(i.callback=e),e=Dr(t,i,n),e!==null&&(Qt(e,t,n,r),cs(e,t,n))}};function Yf(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!ro(r,n)||!ro(i,o):!0}function vv(t,e,r){var n=!1,i=qr,o=e.contextType;return typeof o=="object"&&o!==null?o=Ut(o):(i=bt(e)?cn:at.current,n=e.contextTypes,o=(n=n!=null)?Qn(t,i):qr),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ua,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Qf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ua.enqueueReplaceState(e,e.state,null)}function tu(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},hc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ut(o):(o=bt(e)?cn:at.current,i.context=Qn(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(eu(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ua.enqueueReplaceState(i,i.state,null),Ls(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ei(t,e){try{var r="",n=e;do r+=hy(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function el(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ru(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var $0=typeof WeakMap=="function"?WeakMap:Map;function gv(t,e,r){r=pr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Bs||(Bs=!0,du=n),ru(t,e)},r}function mv(t,e,r){r=pr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ru(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ru(t,e),typeof n!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function Jf(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new $0;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=e1.bind(null,t,e,r),e.then(t,t))}function Xf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zf(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=pr(-1,1),e.tag=2,Dr(r,e,1))),r.lanes|=1),t)}var q0=_r.ReactCurrentOwner,wt=!1;function ut(t,e,r,n){e.child=t===null?Vp(e,null,r,n):Xn(e,t.child,r,n)}function ed(t,e,r,n,i){r=r.render;var o=e.ref;return Vn(e,i),n=yc(t,e,r,n,o,i),r=wc(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(Le&&r&&sc(e),e.flags|=1,ut(t,e,n,i),e.child)}function td(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!Nc(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,yv(t,e,o,n,i)):(t=gs(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:ro,r(s,n)&&t.ref===e.ref)return yr(t,e,i)}return e.flags|=1,t=Br(o,n),t.ref=e.ref,t.return=e,e.child=t}function yv(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(ro(o,n)&&t.ref===e.ref)if(wt=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,yr(t,e,i)}return nu(t,e,r,n,i)}function wv(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(qn,xt),xt|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(qn,xt),xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ae(qn,xt),xt|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Ae(qn,xt),xt|=n;return ut(t,e,i,r),e.child}function _v(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function nu(t,e,r,n,i){var o=bt(r)?cn:at.current;return o=Qn(e,o),Vn(e,i),r=yc(t,e,r,n,o,i),n=wc(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(Le&&n&&sc(e),e.flags|=1,ut(t,e,r,i),e.child)}function rd(t,e,r,n,i){if(bt(r)){var o=!0;Ns(e)}else o=!1;if(Vn(e,i),e.stateNode===null)hs(t,e),vv(e,r,n),tu(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ut(c):(c=bt(r)?cn:at.current,c=Qn(e,c));var v=r.getDerivedStateFromProps,d=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Qf(e,s,n,c),Or=!1;var u=e.memoizedState;s.state=u,Ls(e,n,s,i),l=e.memoizedState,a!==n||u!==l||_t.current||Or?(typeof v=="function"&&(eu(e,r,v,n),l=e.memoizedState),(a=Or||Yf(e,r,a,n,u,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,Gp(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Wt(e.type,a),s.props=c,d=e.pendingProps,u=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ut(l):(l=bt(r)?cn:at.current,l=Qn(e,l));var f=r.getDerivedStateFromProps;(v=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||u!==l)&&Qf(e,s,n,l),Or=!1,u=e.memoizedState,s.state=u,Ls(e,n,s,i);var w=e.memoizedState;a!==d||u!==w||_t.current||Or?(typeof f=="function"&&(eu(e,r,f,n),w=e.memoizedState),(c=Or||Yf(e,r,c,n,u,w,l)||!1)?(v||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,w,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),s.props=n,s.state=w,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),n=!1)}return iu(t,e,r,n,o,i)}function iu(t,e,r,n,i,o){_v(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&qf(e,r,!1),yr(t,e,o);n=e.stateNode,q0.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Xn(e,t.child,null,o),e.child=Xn(e,null,a,o)):ut(t,e,a,o),e.memoizedState=n.state,i&&qf(e,r,!0),e.child}function bv(t){var e=t.stateNode;e.pendingContext?$f(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$f(t,e.context,!1),pc(t,e.containerInfo)}function nd(t,e,r,n,i){return Jn(),lc(i),e.flags|=256,ut(t,e,r,n),e.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function su(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ev(t,e,r){var n=e.pendingProps,i=De.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ae(De,i&1),t===null)return Xl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,o?(n=e.mode,o=e.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=da(s,n,0,null),t=un(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=su(r),e.memoizedState=ou,t):Ec(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return F0(t,e,s,n,a,i,r);if(o){o=n.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Br(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Br(a,o):(o=un(o,s,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,s=t.child.memoizedState,s=s===null?su(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~r,e.memoizedState=ou,n}return o=t.child,t=o.sibling,n=Br(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ec(t,e){return e=da({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fo(t,e,r,n){return n!==null&&lc(n),Xn(e,t.child,null,r),t=Ec(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F0(t,e,r,n,i,o,s){if(r)return e.flags&256?(e.flags&=-257,n=el(Error(X(422))),Fo(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=da({mode:"visible",children:n.children},i,0,null),o=un(o,i,s,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Xn(e,t.child,null,s),e.child.memoizedState=su(s),e.memoizedState=ou,o);if(!(e.mode&1))return Fo(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(X(419)),n=el(o,n,void 0),Fo(t,e,s,n)}if(a=(s&t.childLanes)!==0,wt||a){if(n=Qe,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mr(t,i),Qt(n,t,i,-1))}return Ac(),n=el(Error(X(421))),Fo(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=t1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,At=Ir(i.nextSibling),Nt=e,Le=!0,Gt=null,t!==null&&(Lt[It++]=dr,Lt[It++]=hr,Lt[It++]=fn,dr=t.id,hr=t.overflow,fn=e),e=Ec(e,n.children),e.flags|=4096,e)}function id(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zl(t.return,e,r)}function tl(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function kv(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(ut(t,e,n.children,r),n=De.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&id(t,r,e);else if(t.tag===19)id(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ae(De,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Is(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),tl(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Is(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}tl(e,!0,r,null,o);break;case"together":tl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,r=Br(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Br(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function z0(t,e,r){switch(e.tag){case 3:bv(e),Jn();break;case 5:Yp(e);break;case 1:bt(e.type)&&Ns(e);break;case 4:pc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ae(Rs,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ae(De,De.current&1),e.flags|=128,null):r&e.child.childLanes?Ev(t,e,r):(Ae(De,De.current&1),t=yr(t,e,r),t!==null?t.sibling:null);Ae(De,De.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return kv(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(De,De.current),n)break;return null;case 22:case 23:return e.lanes=0,wv(t,e,r)}return yr(t,e,r)}var xv,au,Sv,Ov;xv=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};au=function(){};Sv=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,sn(ir.current);var o=null;switch(r){case"input":i=Nl(t,i),n=Nl(t,n),o=[];break;case"select":i=Ue({},i,{value:void 0}),n=Ue({},n,{value:void 0}),o=[];break;case"textarea":i=Rl(t,i),n=Rl(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ts)}Ll(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Ov=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ei(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function H0(t,e,r){var n=e.pendingProps;switch(ac(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return bt(e.type)&&As(),it(e),null;case 3:return n=e.stateNode,Zn(),Re(_t),Re(at),gc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&($o(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gt!==null&&(vu(Gt),Gt=null))),au(t,e),it(e),null;case 5:vc(e);var i=sn(ao.current);if(r=e.type,t!==null&&e.stateNode!=null)Sv(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(X(166));return it(e),null}if(t=sn(ir.current),$o(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[rr]=e,n[oo]=o,t=(e.mode&1)!==0,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(i=0;i<Di.length;i++)Pe(Di[i],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":hf(n,o),Pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",n);break;case"textarea":vf(n,o),Pe("invalid",n)}Ll(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Bo(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Bo(n.textContent,a,t),i=["children",""+a]):Yi.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Pe("scroll",n)}switch(r){case"input":jo(n),pf(n,o,!0);break;case"textarea":jo(n),gf(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ts)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ep(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[rr]=e,t[oo]=n,xv(t,e,!1,!1),e.stateNode=t;e:{switch(s=Il(r,n),r){case"dialog":Pe("cancel",t),Pe("close",t),i=n;break;case"iframe":case"object":case"embed":Pe("load",t),i=n;break;case"video":case"audio":for(i=0;i<Di.length;i++)Pe(Di[i],t);i=n;break;case"source":Pe("error",t),i=n;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),i=n;break;case"details":Pe("toggle",t),i=n;break;case"input":hf(t,n),i=Nl(t,n),Pe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ue({},n,{value:void 0}),Pe("invalid",t);break;case"textarea":vf(t,n),i=Rl(t,n),Pe("invalid",t);break;default:i=n}Ll(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?np(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tp(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Qi(t,l):typeof l=="number"&&Qi(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Pe("scroll",t):l!=null&&Vu(t,o,l,s))}switch(r){case"input":jo(t),pf(t,n,!1);break;case"textarea":jo(t),gf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+$r(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Fn(t,!!n.multiple,o,!1):n.defaultValue!=null&&Fn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ts)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)Ov(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(X(166));if(r=sn(ao.current),sn(ir.current),$o(e)){if(n=e.stateNode,r=e.memoizedProps,n[rr]=e,(o=n.nodeValue!==r)&&(t=Nt,t!==null))switch(t.tag){case 3:Bo(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bo(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rr]=e,e.stateNode=n}return it(e),null;case 13:if(Re(De),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&At!==null&&e.mode&1&&!(e.flags&128))Hp(),Jn(),e.flags|=98560,o=!1;else if(o=$o(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(X(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[rr]=e}else Jn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),o=!1}else Gt!==null&&(vu(Gt),Gt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Ke===0&&(Ke=3):Ac())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return Zn(),au(t,e),t===null&&no(e.stateNode.containerInfo),it(e),null;case 10:return fc(e.type._context),it(e),null;case 17:return bt(e.type)&&As(),it(e),null;case 19:if(Re(De),o=e.memoizedState,o===null)return it(e),null;if(n=(e.flags&128)!==0,s=o.rendering,s===null)if(n)Ei(o,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Is(t),s!==null){for(e.flags|=128,Ei(o,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ae(De,De.current&1|2),e.child}t=t.sibling}o.tail!==null&&qe()>ti&&(e.flags|=128,n=!0,Ei(o,!1),e.lanes=4194304)}else{if(!n)if(t=Is(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ei(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Le)return it(e),null}else 2*qe()-o.renderingStartTime>ti&&r!==1073741824&&(e.flags|=128,n=!0,Ei(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(r=o.last,r!==null?r.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=qe(),e.sibling=null,r=De.current,Ae(De,n?r&1|2:r&1),e):(it(e),null);case 22:case 23:return Tc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?xt&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function W0(t,e){switch(ac(e),e.tag){case 1:return bt(e.type)&&As(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zn(),Re(_t),Re(at),gc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vc(e),null;case 13:if(Re(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Jn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(De),null;case 4:return Zn(),null;case 10:return fc(e.type._context),null;case 22:case 23:return Tc(),null;case 24:return null;default:return null}}var zo=!1,st=!1,V0=typeof WeakSet=="function"?WeakSet:Set,oe=null;function $n(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Be(t,e,n)}else r.current=null}function lu(t,e,r){try{r()}catch(n){Be(t,e,n)}}var od=!1;function K0(t,e){if(Wl=xs,t=jp(),oc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,c=0,v=0,d=t,u=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(a=s+i),d!==o||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)u=d,d=f;for(;;){if(d===t)break t;if(u===r&&++c===i&&(a=s),u===o&&++v===n&&(l=s),(f=d.nextSibling)!==null)break;d=u,u=d.parentNode}d=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vl={focusedElem:t,selectionRange:r},xs=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,_=w.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:Wt(e.type,y),_);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(g){Be(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return w=od,od=!1,w}function Hi(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&lu(e,r,o)}i=i.next}while(i!==n)}}function ca(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function uu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Tv(t){var e=t.alternate;e!==null&&(t.alternate=null,Tv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rr],delete e[oo],delete e[Yl],delete e[N0],delete e[P0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Av(t){return t.tag===5||t.tag===3||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Av(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ts));else if(n!==4&&(t=t.child,t!==null))for(cu(t,e,r),t=t.sibling;t!==null;)cu(t,e,r),t=t.sibling}function fu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(fu(t,e,r),t=t.sibling;t!==null;)fu(t,e,r),t=t.sibling}var Ze=null,Kt=!1;function Er(t,e,r){for(r=r.child;r!==null;)Nv(t,e,r),r=r.sibling}function Nv(t,e,r){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(ra,r)}catch{}switch(r.tag){case 5:st||$n(r,e);case 6:var n=Ze,i=Kt;Ze=null,Er(t,e,r),Ze=n,Kt=i,Ze!==null&&(Kt?(t=Ze,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ze.removeChild(r.stateNode));break;case 18:Ze!==null&&(Kt?(t=Ze,r=r.stateNode,t.nodeType===8?Ga(t.parentNode,r):t.nodeType===1&&Ga(t,r),eo(t)):Ga(Ze,r.stateNode));break;case 4:n=Ze,i=Kt,Ze=r.stateNode.containerInfo,Kt=!0,Er(t,e,r),Ze=n,Kt=i;break;case 0:case 11:case 14:case 15:if(!st&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&lu(r,e,s),i=i.next}while(i!==n)}Er(t,e,r);break;case 1:if(!st&&($n(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Be(r,e,a)}Er(t,e,r);break;case 21:Er(t,e,r);break;case 22:r.mode&1?(st=(n=st)||r.memoizedState!==null,Er(t,e,r),st=n):Er(t,e,r);break;default:Er(t,e,r)}}function ad(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new V0),e.forEach(function(n){var i=r1.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function qt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,Kt=!1;break e;case 3:Ze=a.stateNode.containerInfo,Kt=!0;break e;case 4:Ze=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(Ze===null)throw Error(X(160));Nv(o,s,i),Ze=null,Kt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Be(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pv(e,t),e=e.sibling}function Pv(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(e,t),Zt(t),n&4){try{Hi(3,t,t.return),ca(3,t)}catch(y){Be(t,t.return,y)}try{Hi(5,t,t.return)}catch(y){Be(t,t.return,y)}}break;case 1:qt(e,t),Zt(t),n&512&&r!==null&&$n(r,r.return);break;case 5:if(qt(e,t),Zt(t),n&512&&r!==null&&$n(r,r.return),t.flags&32){var i=t.stateNode;try{Qi(i,"")}catch(y){Be(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Xh(i,o),Il(a,s);var c=Il(a,o);for(s=0;s<l.length;s+=2){var v=l[s],d=l[s+1];v==="style"?np(i,d):v==="dangerouslySetInnerHTML"?tp(i,d):v==="children"?Qi(i,d):Vu(i,v,d,c)}switch(a){case"input":Pl(i,o);break;case"textarea":Zh(i,o);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Fn(i,!!o.multiple,f,!1):u!==!!o.multiple&&(o.defaultValue!=null?Fn(i,!!o.multiple,o.defaultValue,!0):Fn(i,!!o.multiple,o.multiple?[]:"",!1))}i[oo]=o}catch(y){Be(t,t.return,y)}}break;case 6:if(qt(e,t),Zt(t),n&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Be(t,t.return,y)}}break;case 3:if(qt(e,t),Zt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{eo(e.containerInfo)}catch(y){Be(t,t.return,y)}break;case 4:qt(e,t),Zt(t);break;case 13:qt(e,t),Zt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Sc=qe())),n&4&&ad(t);break;case 22:if(v=r!==null&&r.memoizedState!==null,t.mode&1?(st=(c=st)||v,qt(e,t),st=c):qt(e,t),Zt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!v&&t.mode&1)for(oe=t,v=t.child;v!==null;){for(d=oe=v;oe!==null;){switch(u=oe,f=u.child,u.tag){case 0:case 11:case 14:case 15:Hi(4,u,u.return);break;case 1:$n(u,u.return);var w=u.stateNode;if(typeof w.componentWillUnmount=="function"){n=u,r=u.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){Be(n,r,y)}}break;case 5:$n(u,u.return);break;case 22:if(u.memoizedState!==null){ud(d);continue}}f!==null?(f.return=u,oe=f):ud(d)}v=v.sibling}e:for(v=null,d=t;;){if(d.tag===5){if(v===null){v=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rp("display",s))}catch(y){Be(t,t.return,y)}}}else if(d.tag===6){if(v===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Be(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;v===d&&(v=null),d=d.return}v===d&&(v=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qt(e,t),Zt(t),n&4&&ad(t);break;case 21:break;default:qt(e,t),Zt(t)}}function Zt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Av(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Qi(i,""),n.flags&=-33);var o=sd(t);fu(t,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=sd(t);cu(t,a,s);break;default:throw Error(X(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function G0(t,e,r){oe=t,jv(t)}function jv(t,e,r){for(var n=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||zo;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||st;a=zo;var c=st;if(zo=s,(st=l)&&!c)for(oe=i;oe!==null;)s=oe,l=s.child,s.tag===22&&s.memoizedState!==null?cd(i):l!==null?(l.return=s,oe=l):cd(i);for(;o!==null;)oe=o,jv(o),o=o.sibling;oe=i,zo=a,st=c}ld(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):ld(t)}}function ld(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||ca(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!st)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Wt(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Vf(e,o,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Vf(e,s,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var v=c.memoizedState;if(v!==null){var d=v.dehydrated;d!==null&&eo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}st||e.flags&512&&uu(e)}catch(u){Be(e,e.return,u)}}if(e===t){oe=null;break}if(r=e.sibling,r!==null){r.return=e.return,oe=r;break}oe=e.return}}function ud(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,oe=r;break}oe=e.return}}function cd(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ca(4,e)}catch(l){Be(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Be(e,i,l)}}var o=e.return;try{uu(e)}catch(l){Be(e,o,l)}break;case 5:var s=e.return;try{uu(e)}catch(l){Be(e,s,l)}}}catch(l){Be(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var Y0=Math.ceil,Us=_r.ReactCurrentDispatcher,kc=_r.ReactCurrentOwner,Mt=_r.ReactCurrentBatchConfig,be=0,Qe=null,He=null,et=0,xt=0,qn=zr(0),Ke=0,fo=null,hn=0,fa=0,xc=0,Wi=null,yt=null,Sc=0,ti=1/0,ur=null,Bs=!1,du=null,Mr=null,Ho=!1,jr=null,$s=0,Vi=0,hu=null,ps=-1,vs=0;function ft(){return be&6?qe():ps!==-1?ps:ps=qe()}function Ur(t){return t.mode&1?be&2&&et!==0?et&-et:R0.transition!==null?(vs===0&&(vs=vp()),vs):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Ep(t.type)),t):1}function Qt(t,e,r,n){if(50<Vi)throw Vi=0,hu=null,Error(X(185));yo(t,r,n),(!(be&2)||t!==Qe)&&(t===Qe&&(!(be&2)&&(fa|=r),Ke===4&&Ar(t,et)),Et(t,n),r===1&&be===0&&!(e.mode&1)&&(ti=qe()+500,aa&&Hr()))}function Et(t,e){var r=t.callbackNode;Ry(t,e);var n=ks(t,t===Qe?et:0);if(n===0)r!==null&&wf(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&wf(r),e===1)t.tag===0?j0(fd.bind(null,t)):qp(fd.bind(null,t)),T0(function(){!(be&6)&&Hr()}),r=null;else{switch(gp(n)){case 1:r=Ju;break;case 4:r=hp;break;case 16:r=Es;break;case 536870912:r=pp;break;default:r=Es}r=Bv(r,Rv.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Rv(t,e){if(ps=-1,vs=0,be&6)throw Error(X(327));var r=t.callbackNode;if(Kn()&&t.callbackNode!==r)return null;var n=ks(t,t===Qe?et:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=qs(t,n);else{e=n;var i=be;be|=2;var o=Lv();(Qe!==t||et!==e)&&(ur=null,ti=qe()+500,ln(t,e));do try{X0();break}catch(a){Cv(t,a)}while(!0);cc(),Us.current=o,be=i,He!==null?e=0:(Qe=null,et=0,e=Ke)}if(e!==0){if(e===2&&(i=$l(t),i!==0&&(n=i,e=pu(t,i))),e===1)throw r=fo,ln(t,0),Ar(t,n),Et(t,qe()),r;if(e===6)Ar(t,n);else{if(i=t.current.alternate,!(n&30)&&!Q0(i)&&(e=qs(t,n),e===2&&(o=$l(t),o!==0&&(n=o,e=pu(t,o))),e===1))throw r=fo,ln(t,0),Ar(t,n),Et(t,qe()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(X(345));case 2:Qr(t,yt,ur);break;case 3:if(Ar(t,n),(n&130023424)===n&&(e=Sc+500-qe(),10<e)){if(ks(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gl(Qr.bind(null,t,yt,ur),e);break}Qr(t,yt,ur);break;case 4:if(Ar(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Yt(n);o=1<<s,s=e[s],s>i&&(i=s),n&=~o}if(n=i,n=qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Y0(n/1960))-n,10<n){t.timeoutHandle=Gl(Qr.bind(null,t,yt,ur),n);break}Qr(t,yt,ur);break;case 5:Qr(t,yt,ur);break;default:throw Error(X(329))}}}return Et(t,qe()),t.callbackNode===r?Rv.bind(null,t):null}function pu(t,e){var r=Wi;return t.current.memoizedState.isDehydrated&&(ln(t,e).flags|=256),t=qs(t,e),t!==2&&(e=yt,yt=r,e!==null&&vu(e)),t}function vu(t){yt===null?yt=t:yt.push.apply(yt,t)}function Q0(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Jt(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ar(t,e){for(e&=~xc,e&=~fa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Yt(e),n=1<<r;t[r]=-1,e&=~n}}function fd(t){if(be&6)throw Error(X(327));Kn();var e=ks(t,0);if(!(e&1))return Et(t,qe()),null;var r=qs(t,e);if(t.tag!==0&&r===2){var n=$l(t);n!==0&&(e=n,r=pu(t,n))}if(r===1)throw r=fo,ln(t,0),Ar(t,e),Et(t,qe()),r;if(r===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qr(t,yt,ur),Et(t,qe()),null}function Oc(t,e){var r=be;be|=1;try{return t(e)}finally{be=r,be===0&&(ti=qe()+500,aa&&Hr())}}function pn(t){jr!==null&&jr.tag===0&&!(be&6)&&Kn();var e=be;be|=1;var r=Mt.transition,n=xe;try{if(Mt.transition=null,xe=1,t)return t()}finally{xe=n,Mt.transition=r,be=e,!(be&6)&&Hr()}}function Tc(){xt=qn.current,Re(qn)}function ln(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,O0(r)),He!==null)for(r=He.return;r!==null;){var n=r;switch(ac(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&As();break;case 3:Zn(),Re(_t),Re(at),gc();break;case 5:vc(n);break;case 4:Zn();break;case 13:Re(De);break;case 19:Re(De);break;case 10:fc(n.type._context);break;case 22:case 23:Tc()}r=r.return}if(Qe=t,He=t=Br(t.current,null),et=xt=e,Ke=0,fo=null,xc=fa=hn=0,yt=Wi=null,on!==null){for(e=0;e<on.length;e++)if(r=on[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}on=null}return t}function Cv(t,e){do{var r=He;try{if(cc(),fs.current=Ms,Ds){for(var n=Me.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ds=!1}if(dn=0,Ye=Ve=Me=null,zi=!1,lo=0,kc.current=null,r===null||r.return===null){Ke=1,fo=e,He=null;break}e:{var o=t,s=r.return,a=r,l=e;if(e=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,v=a,d=v.tag;if(!(v.mode&1)&&(d===0||d===11||d===15)){var u=v.alternate;u?(v.updateQueue=u.updateQueue,v.memoizedState=u.memoizedState,v.lanes=u.lanes):(v.updateQueue=null,v.memoizedState=null)}var f=Xf(s);if(f!==null){f.flags&=-257,Zf(f,s,a,o,e),f.mode&1&&Jf(o,c,e),e=f,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){Jf(o,c,e),Ac();break e}l=Error(X(426))}}else if(Le&&a.mode&1){var _=Xf(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Zf(_,s,a,o,e),lc(ei(l,a));break e}}o=l=ei(l,a),Ke!==4&&(Ke=2),Wi===null?Wi=[o]:Wi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=gv(o,l,e);Wf(o,p);break e;case 1:a=l;var h=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mr===null||!Mr.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var g=mv(o,a,e);Wf(o,g);break e}}o=o.return}while(o!==null)}Dv(r)}catch(b){e=b,He===r&&r!==null&&(He=r=r.return);continue}break}while(!0)}function Lv(){var t=Us.current;return Us.current=Ms,t===null?Ms:t}function Ac(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Qe===null||!(hn&268435455)&&!(fa&268435455)||Ar(Qe,et)}function qs(t,e){var r=be;be|=2;var n=Lv();(Qe!==t||et!==e)&&(ur=null,ln(t,e));do try{J0();break}catch(i){Cv(t,i)}while(!0);if(cc(),be=r,Us.current=n,He!==null)throw Error(X(261));return Qe=null,et=0,Ke}function J0(){for(;He!==null;)Iv(He)}function X0(){for(;He!==null&&!ky();)Iv(He)}function Iv(t){var e=Uv(t.alternate,t,xt);t.memoizedProps=t.pendingProps,e===null?Dv(t):He=e,kc.current=null}function Dv(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=W0(r,e),r!==null){r.flags&=32767,He=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,He=null;return}}else if(r=H0(r,e,xt),r!==null){He=r;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Ke===0&&(Ke=5)}function Qr(t,e,r){var n=xe,i=Mt.transition;try{Mt.transition=null,xe=1,Z0(t,e,r,n)}finally{Mt.transition=i,xe=n}return null}function Z0(t,e,r,n){do Kn();while(jr!==null);if(be&6)throw Error(X(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(Cy(t,o),t===Qe&&(He=Qe=null,et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ho||(Ho=!0,Bv(Es,function(){return Kn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Mt.transition,Mt.transition=null;var s=xe;xe=1;var a=be;be|=4,kc.current=null,K0(t,r),Pv(r,t),w0(Vl),xs=!!Wl,Vl=Wl=null,t.current=r,G0(r),xy(),be=a,xe=s,Mt.transition=o}else t.current=r;if(Ho&&(Ho=!1,jr=t,$s=i),o=t.pendingLanes,o===0&&(Mr=null),Ty(r.stateNode),Et(t,qe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Bs)throw Bs=!1,t=du,du=null,t;return $s&1&&t.tag!==0&&Kn(),o=t.pendingLanes,o&1?t===hu?Vi++:(Vi=0,hu=t):Vi=0,Hr(),null}function Kn(){if(jr!==null){var t=gp($s),e=Mt.transition,r=xe;try{if(Mt.transition=null,xe=16>t?16:t,jr===null)var n=!1;else{if(t=jr,jr=null,$s=0,be&6)throw Error(X(331));var i=be;for(be|=4,oe=t.current;oe!==null;){var o=oe,s=o.child;if(oe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var v=oe;switch(v.tag){case 0:case 11:case 15:Hi(8,v,o)}var d=v.child;if(d!==null)d.return=v,oe=d;else for(;oe!==null;){v=oe;var u=v.sibling,f=v.return;if(Tv(v),v===c){oe=null;break}if(u!==null){u.return=f,oe=u;break}oe=f}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}oe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,oe=s;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hi(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,oe=p;break e}oe=o.return}}var h=t.current;for(oe=h;oe!==null;){s=oe;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,oe=m;else e:for(s=h;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ca(9,a)}}catch(b){Be(a,a.return,b)}if(a===s){oe=null;break e}var g=a.sibling;if(g!==null){g.return=a.return,oe=g;break e}oe=a.return}}if(be=i,Hr(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(ra,t)}catch{}n=!0}return n}finally{xe=r,Mt.transition=e}}return!1}function dd(t,e,r){e=ei(r,e),e=gv(t,e,1),t=Dr(t,e,1),e=ft(),t!==null&&(yo(t,1,e),Et(t,e))}function Be(t,e,r){if(t.tag===3)dd(t,t,r);else for(;e!==null;){if(e.tag===3){dd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mr===null||!Mr.has(n))){t=ei(r,t),t=mv(e,t,1),e=Dr(e,t,1),t=ft(),e!==null&&(yo(e,1,t),Et(e,t));break}}e=e.return}}function e1(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&r,Qe===t&&(et&r)===r&&(Ke===4||Ke===3&&(et&130023424)===et&&500>qe()-Sc?ln(t,0):xc|=r),Et(t,e)}function Mv(t,e){e===0&&(t.mode&1?(e=Lo,Lo<<=1,!(Lo&130023424)&&(Lo=4194304)):e=1);var r=ft();t=mr(t,e),t!==null&&(yo(t,e,r),Et(t,r))}function t1(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Mv(t,r)}function r1(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(e),Mv(t,r)}var Uv;Uv=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||_t.current)wt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return wt=!1,z0(t,e,r);wt=!!(t.flags&131072)}else wt=!1,Le&&e.flags&1048576&&Fp(e,js,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;hs(t,e),t=e.pendingProps;var i=Qn(e,at.current);Vn(e,r),i=yc(null,e,n,t,i,r);var o=wc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(n)?(o=!0,Ns(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hc(e),i.updater=ua,e.stateNode=i,i._reactInternals=e,tu(e,n,t,r),e=iu(null,e,n,!0,o,r)):(e.tag=0,Le&&o&&sc(e),ut(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(hs(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=i1(n),t=Wt(n,t),i){case 0:e=nu(null,e,n,t,r);break e;case 1:e=rd(null,e,n,t,r);break e;case 11:e=ed(null,e,n,t,r);break e;case 14:e=td(null,e,n,Wt(n.type,t),r);break e}throw Error(X(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wt(n,i),nu(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wt(n,i),rd(t,e,n,i,r);case 3:e:{if(bv(e),t===null)throw Error(X(387));n=e.pendingProps,o=e.memoizedState,i=o.element,Gp(t,e),Ls(e,n,null,r);var s=e.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ei(Error(X(423)),e),e=nd(t,e,n,r,i);break e}else if(n!==i){i=ei(Error(X(424)),e),e=nd(t,e,n,r,i);break e}else for(At=Ir(e.stateNode.containerInfo.firstChild),Nt=e,Le=!0,Gt=null,r=Vp(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jn(),n===i){e=yr(t,e,r);break e}ut(t,e,n,r)}e=e.child}return e;case 5:return Yp(e),t===null&&Xl(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Kl(n,i)?s=null:o!==null&&Kl(n,o)&&(e.flags|=32),_v(t,e),ut(t,e,s,r),e.child;case 6:return t===null&&Xl(e),null;case 13:return Ev(t,e,r);case 4:return pc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xn(e,null,n,r):ut(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wt(n,i),ed(t,e,n,i,r);case 7:return ut(t,e,e.pendingProps,r),e.child;case 8:return ut(t,e,e.pendingProps.children,r),e.child;case 12:return ut(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ae(Rs,n._currentValue),n._currentValue=s,o!==null)if(Jt(o.value,s)){if(o.children===i.children&&!_t.current){e=yr(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=pr(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var v=c.pending;v===null?l.next=l:(l.next=v.next,v.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Zl(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(X(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),Zl(s,r,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ut(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Vn(e,r),i=Ut(i),n=n(i),e.flags|=1,ut(t,e,n,r),e.child;case 14:return n=e.type,i=Wt(n,e.pendingProps),i=Wt(n.type,i),td(t,e,n,i,r);case 15:return yv(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wt(n,i),hs(t,e),e.tag=1,bt(n)?(t=!0,Ns(e)):t=!1,Vn(e,r),vv(e,n,i),tu(e,n,i,r),iu(null,e,n,!0,t,r);case 19:return kv(t,e,r);case 22:return wv(t,e,r)}throw Error(X(156,e.tag))};function Bv(t,e){return dp(t,e)}function n1(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,e,r,n){return new n1(t,e,r,n)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i1(t){if(typeof t=="function")return Nc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gu)return 11;if(t===Yu)return 14}return 2}function Br(t,e){var r=t.alternate;return r===null?(r=Dt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function gs(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")Nc(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case jn:return un(r.children,i,o,e);case Ku:s=8,i|=8;break;case Sl:return t=Dt(12,r,e,i|2),t.elementType=Sl,t.lanes=o,t;case Ol:return t=Dt(13,r,e,i),t.elementType=Ol,t.lanes=o,t;case Tl:return t=Dt(19,r,e,i),t.elementType=Tl,t.lanes=o,t;case Yh:return da(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kh:s=10;break e;case Gh:s=9;break e;case Gu:s=11;break e;case Yu:s=14;break e;case Sr:s=16,n=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Dt(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function un(t,e,r,n){return t=Dt(7,t,n,e),t.lanes=r,t}function da(t,e,r,n){return t=Dt(22,t,n,e),t.elementType=Yh,t.lanes=r,t.stateNode={isHidden:!1},t}function rl(t,e,r){return t=Dt(6,t,null,e),t.lanes=r,t}function nl(t,e,r){return e=Dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function o1(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pc(t,e,r,n,i,o,s,a,l){return t=new o1(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Dt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(o),t}function s1(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function $v(t){if(!t)return qr;t=t._reactInternals;e:{if(mn(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var r=t.type;if(bt(r))return $p(t,r,e)}return e}function qv(t,e,r,n,i,o,s,a,l){return t=Pc(r,n,!0,t,i,o,s,a,l),t.context=$v(null),r=t.current,n=ft(),i=Ur(r),o=pr(n,i),o.callback=e??null,Dr(r,o,i),t.current.lanes=i,yo(t,i,n),Et(t,n),t}function ha(t,e,r,n){var i=e.current,o=ft(),s=Ur(i);return r=$v(r),e.context===null?e.context=r:e.pendingContext=r,e=pr(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Dr(i,e,s),t!==null&&(Qt(t,i,s,o),cs(t,i,s)),s}function Fs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function jc(t,e){hd(t,e),(t=t.alternate)&&hd(t,e)}function a1(){return null}var Fv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rc(t){this._internalRoot=t}pa.prototype.render=Rc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));ha(t,e,null,null)};pa.prototype.unmount=Rc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pn(function(){ha(null,t,null,null)}),e[gr]=null}};function pa(t){this._internalRoot=t}pa.prototype.unstable_scheduleHydration=function(t){if(t){var e=wp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Tr.length&&e!==0&&e<Tr[r].priority;r++);Tr.splice(r,0,t),r===0&&bp(t)}};function Cc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function va(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pd(){}function l1(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=Fs(s);o.call(c)}}var s=qv(e,n,t,0,null,!1,!1,"",pd);return t._reactRootContainer=s,t[gr]=s.current,no(t.nodeType===8?t.parentNode:t),pn(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Fs(l);a.call(c)}}var l=Pc(t,0,!1,null,null,!1,!1,"",pd);return t._reactRootContainer=l,t[gr]=l.current,no(t.nodeType===8?t.parentNode:t),pn(function(){ha(e,l,r,n)}),l}function ga(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Fs(s);a.call(l)}}ha(e,s,t,i)}else s=l1(r,e,t,i,n);return Fs(s)}mp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ii(e.pendingLanes);r!==0&&(Xu(e,r|1),Et(e,qe()),!(be&6)&&(ti=qe()+500,Hr()))}break;case 13:pn(function(){var n=mr(t,1);if(n!==null){var i=ft();Qt(n,t,1,i)}}),jc(t,1)}};Zu=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var r=ft();Qt(e,t,134217728,r)}jc(t,134217728)}};yp=function(t){if(t.tag===13){var e=Ur(t),r=mr(t,e);if(r!==null){var n=ft();Qt(r,t,e,n)}jc(t,e)}};wp=function(){return xe};_p=function(t,e){var r=xe;try{return xe=t,e()}finally{xe=r}};Ml=function(t,e,r){switch(e){case"input":if(Pl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=sa(n);if(!i)throw Error(X(90));Jh(n),Pl(n,i)}}}break;case"textarea":Zh(t,r);break;case"select":e=r.value,e!=null&&Fn(t,!!r.multiple,e,!1)}};sp=Oc;ap=pn;var u1={usingClientEntryPoint:!1,Events:[_o,In,sa,ip,op,Oc]},ki={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c1={bundleType:ki.bundleType,version:ki.version,rendererPackageName:ki.rendererPackageName,rendererConfig:ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cp(t),t===null?null:t.stateNode},findFiberByHostInstance:ki.findFiberByHostInstance||a1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{ra=Wo.inject(c1),nr=Wo}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u1;jt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cc(e))throw Error(X(200));return s1(t,e,null,r)};jt.createRoot=function(t,e){if(!Cc(t))throw Error(X(299));var r=!1,n="",i=Fv;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pc(t,1,!1,null,null,r,!1,n,i),t[gr]=e.current,no(t.nodeType===8?t.parentNode:t),new Rc(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=cp(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return pn(t)};jt.hydrate=function(t,e,r){if(!va(e))throw Error(X(200));return ga(null,t,e,!0,r)};jt.hydrateRoot=function(t,e,r){if(!Cc(t))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=Fv;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=qv(e,null,t,1,r??null,i,!1,o,s),t[gr]=e.current,no(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new pa(e)};jt.render=function(t,e,r){if(!va(e))throw Error(X(200));return ga(null,t,e,!1,r)};jt.unmountComponentAtNode=function(t){if(!va(t))throw Error(X(40));return t._reactRootContainer?(pn(function(){ga(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};jt.unstable_batchedUpdates=Oc;jt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!va(r))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return ga(t,e,r,!1,n)};jt.version="18.3.1-next-f1338f8080-20240426";function zv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zv)}catch(t){console.error(t)}}zv(),zh.exports=jt;var Lc=zh.exports;const Hv=Bu(Lc);var vd=Lc;kl.createRoot=vd.createRoot,kl.hydrateRoot=vd.hydrateRoot;var gu=function(t,e){return gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},gu(t,e)};function Wv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zs=function(){return zs=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},zs.apply(this,arguments)};function si(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Vv(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function Kv(t,e){return function(r,n){e(r,n,t)}}function Gv(t,e,r,n,i,o){function s(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,v=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,u=!1,f=r.length-1;f>=0;f--){var w={};for(var y in n)w[y]=y==="access"?{}:n[y];for(var y in n.access)w.access[y]=n.access[y];w.addInitializer=function(p){if(u)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(p||null))};var _=(0,r[f])(a==="accessor"?{get:v.get,set:v.set}:v[l],w);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=s(_.get))&&(v.get=d),(d=s(_.set))&&(v.set=d),(d=s(_.init))&&i.unshift(d)}else(d=s(_))&&(a==="field"?i.unshift(d):v[l]=d)}c&&Object.defineProperty(c,n.name,v),u=!0}function Yv(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function Qv(t){return typeof t=="symbol"?t:"".concat(t)}function Jv(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Xv(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ue(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(v){try{c(n.next(v))}catch(d){s(d)}}function l(v){try{c(n.throw(v))}catch(d){s(d)}}function c(v){v.done?o(v.value):i(v.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function Zv(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(v){return l([c,v])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(v){c=[6,v],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var ma=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function eg(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ma(e,t,r)}function Hs(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ic(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function tg(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ic(arguments[e]));return t}function rg(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function ng(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function ri(t){return this instanceof ri?(this.v=t,this):new ri(t)}function ig(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(w){return Promise.resolve(w).then(f,d)}}function a(f,w){n[f]&&(i[f]=function(y){return new Promise(function(_,p){o.push([f,y,_,p])>1||l(f,y)})},w&&(i[f]=w(i[f])))}function l(f,w){try{c(n[f](w))}catch(y){u(o[0][3],y)}}function c(f){f.value instanceof ri?Promise.resolve(f.value.v).then(v,d):u(o[0][2],f)}function v(f){l("next",f)}function d(f){l("throw",f)}function u(f,w){f(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function og(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:ri(t[i](s)),done:!1}:o?o(s):s}:o}}function sg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Hs=="function"?Hs(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function ag(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var f1=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},mu=function(t){return mu=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},mu(t)};function lg(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=mu(t),n=0;n<r.length;n++)r[n]!=="default"&&ma(e,t,r[n]);return f1(e,t),e}function ug(t){return t&&t.__esModule?t:{default:t}}function cg(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function fg(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function dg(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function hg(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var d1=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function pg(t){function e(o){t.error=t.hasError?new d1(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else n|=1}catch(s){e(s)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function vg(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,o,s){return n?e?".jsx":".js":i&&(!o||!s)?r:i+o+"."+s.toLowerCase()+"js"}):t}const h1={__extends:Wv,__assign:zs,__rest:si,__decorate:Vv,__param:Kv,__esDecorate:Gv,__runInitializers:Yv,__propKey:Qv,__setFunctionName:Jv,__metadata:Xv,__awaiter:ue,__generator:Zv,__createBinding:ma,__exportStar:eg,__values:Hs,__read:Ic,__spread:tg,__spreadArrays:rg,__spreadArray:ng,__await:ri,__asyncGenerator:ig,__asyncDelegator:og,__asyncValues:sg,__makeTemplateObject:ag,__importStar:lg,__importDefault:ug,__classPrivateFieldGet:cg,__classPrivateFieldSet:fg,__classPrivateFieldIn:dg,__addDisposableResource:hg,__disposeResources:pg,__rewriteRelativeImportExtension:vg},p1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:hg,get __assign(){return zs},__asyncDelegator:og,__asyncGenerator:ig,__asyncValues:sg,__await:ri,__awaiter:ue,__classPrivateFieldGet:cg,__classPrivateFieldIn:dg,__classPrivateFieldSet:fg,__createBinding:ma,__decorate:Vv,__disposeResources:pg,__esDecorate:Gv,__exportStar:eg,__extends:Wv,__generator:Zv,__importDefault:ug,__importStar:lg,__makeTemplateObject:ag,__metadata:Xv,__param:Kv,__propKey:Qv,__read:Ic,__rest:si,__rewriteRelativeImportExtension:vg,__runInitializers:Yv,__setFunctionName:Jv,__spread:tg,__spreadArray:ng,__spreadArrays:rg,__values:Hs,default:h1},Symbol.toStringTag,{value:"Module"})),v1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Dc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class g1 extends Dc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gd extends Dc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class md extends Dc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yu||(yu={}));class m1{constructor(e,{headers:r={},customFetch:n,region:i=yu.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=v1(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ue(this,arguments,void 0,function*(r,n={}){var i;let o,s;try{const{headers:a,method:l,body:c,signal:v,timeout:d}=n;let u={},{region:f}=n;f||(f=this.region);const w=new URL(`${this.url}/${r}`);f&&f!=="any"&&(u["x-region"]=f,w.searchParams.set("forceFunctionRegion",f));let y;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(u["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(u["Content-Type"]="application/json",y=JSON.stringify(c)):y=c;let _=v;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),v?(_=s.signal,v.addEventListener("abort",()=>s.abort())):_=s.signal);const p=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:y,signal:_}).catch(b=>{throw new g1(b)}),h=p.headers.get("x-relay-error");if(h&&h==="true")throw new gd(p);if(!p.ok)throw new md(p);let m=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield p.json():m==="application/octet-stream"||m==="application/pdf"?g=yield p.blob():m==="text/event-stream"?g=p:m==="multipart/form-data"?g=yield p.formData():g=yield p.text(),{data:g,error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof md||a instanceof gd?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var ct={};const ai=Bm(p1);var Vo={},Ko={},Go={},Yo={},Qo={},Jo={},yd;function gg(){if(yd)return Jo;yd=1,Object.defineProperty(Jo,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Jo.default=t,Jo}var wd;function mg(){if(wd)return Qo;wd=1,Object.defineProperty(Qo,"__esModule",{value:!0});const e=ai.__importDefault(gg());class r{constructor(i){var o,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,v,d,u;let f=null,w=null,y=null,_=l.status,p=l.statusText;if(l.ok){if(this.method!=="HEAD"){const b=await l.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?w=b:w=JSON.parse(b))}const m=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),g=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");m&&g&&g.length>1&&(y=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(f={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,y=null,_=406,p="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const m=await l.text();try{f=JSON.parse(m),Array.isArray(f)&&l.status===404&&(w=[],f=null,_=200,p="OK")}catch{l.status===404&&m===""?(_=204,p="No Content"):f={message:m}}if(f&&this.isMaybeSingle&&(!((u=f==null?void 0:f.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,_=200,p="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:w,count:y,status:_,statusText:p}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,v,d;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(v=l==null?void 0:l.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(d=l==null?void 0:l.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),a.then(i,o)}returns(){return this}overrideTypes(){return this}}return Qo.default=r,Qo}var _d;function yg(){if(_d)return Yo;_d=1,Object.defineProperty(Yo,"__esModule",{value:!0});const e=ai.__importDefault(mg());class r extends e.default{select(i){let o=!1;const s=(i??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:s,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",v=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${v?`${v},`:""}${i}.${o?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:s=o}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,o,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:s=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var v;const d=[i?"analyze":null,o?"verbose":null,s?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),u=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${u}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Yo.default=r,Yo}var bd;function Mc(){if(bd)return Go;bd=1,Object.defineProperty(Go,"__esModule",{value:!0});const e=ai.__importDefault(yg()),r=new RegExp("[,()]");class n extends e.default{eq(o,s){return this.url.searchParams.append(o,`eq.${s}`),this}neq(o,s){return this.url.searchParams.append(o,`neq.${s}`),this}gt(o,s){return this.url.searchParams.append(o,`gt.${s}`),this}gte(o,s){return this.url.searchParams.append(o,`gte.${s}`),this}lt(o,s){return this.url.searchParams.append(o,`lt.${s}`),this}lte(o,s){return this.url.searchParams.append(o,`lte.${s}`),this}like(o,s){return this.url.searchParams.append(o,`like.${s}`),this}likeAllOf(o,s){return this.url.searchParams.append(o,`like(all).{${s.join(",")}}`),this}likeAnyOf(o,s){return this.url.searchParams.append(o,`like(any).{${s.join(",")}}`),this}ilike(o,s){return this.url.searchParams.append(o,`ilike.${s}`),this}ilikeAllOf(o,s){return this.url.searchParams.append(o,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(o,s){return this.url.searchParams.append(o,`ilike(any).{${s.join(",")}}`),this}is(o,s){return this.url.searchParams.append(o,`is.${s}`),this}in(o,s){const a=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,s){return typeof s=="string"?this.url.searchParams.append(o,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(o,`cs.{${s.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(s)}`),this}containedBy(o,s){return typeof s=="string"?this.url.searchParams.append(o,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(o,`cd.{${s.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(s)}`),this}rangeGt(o,s){return this.url.searchParams.append(o,`sr.${s}`),this}rangeGte(o,s){return this.url.searchParams.append(o,`nxl.${s}`),this}rangeLt(o,s){return this.url.searchParams.append(o,`sl.${s}`),this}rangeLte(o,s){return this.url.searchParams.append(o,`nxr.${s}`),this}rangeAdjacent(o,s){return this.url.searchParams.append(o,`adj.${s}`),this}overlaps(o,s){return typeof s=="string"?this.url.searchParams.append(o,`ov.${s}`):this.url.searchParams.append(o,`ov.{${s.join(",")}}`),this}textSearch(o,s,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const v=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${c}fts${v}.${s}`),this}match(o){return Object.entries(o).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(o,s,a){return this.url.searchParams.append(o,`not.${s}.${a}`),this}or(o,{foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,s,a){return this.url.searchParams.append(o,`${s}.${a}`),this}}return Go.default=n,Go}var Ed;function wg(){if(Ed)return Ko;Ed=1,Object.defineProperty(Ko,"__esModule",{value:!0});const e=ai.__importDefault(Mc());class r{constructor(i,{headers:o={},schema:s,fetch:a}){this.url=i,this.headers=new Headers(o),this.schema=s,this.fetch=a}select(i,o){const{head:s=!1,count:a}=o??{},l=s?"HEAD":"GET";let c=!1;const v=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",v),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:s=!0}={}){var a;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((v,d)=>v.concat(Object.keys(d)),[]);if(c.length>0){const v=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:s=!1,count:a,defaultToNull:l=!0}={}){var c;const v="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(d.length>0){const u=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:o}={}){var s;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var o;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Ko.default=r,Ko}var kd;function y1(){if(kd)return Vo;kd=1,Object.defineProperty(Vo,"__esModule",{value:!0});const t=ai,e=t.__importDefault(wg()),r=t.__importDefault(Mc());class n{constructor(o,{headers:s={},schema:a,fetch:l}={}){this.url=o,this.headers=new Headers(s),this.schemaName=a,this.fetch=l}from(o){const s=new URL(`${this.url}/${o}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,s={},{head:a=!1,get:l=!1,count:c}={}){var v;let d;const u=new URL(`${this.url}/rpc/${o}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(s).filter(([y,_])=>_!==void 0).map(([y,_])=>[y,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([y,_])=>{u.searchParams.append(y,_)})):(d="POST",f=s);const w=new Headers(this.headers);return c&&w.set("Prefer",`count=${c}`),new r.default({method:d,url:u,headers:w,schema:this.schemaName,body:f,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Vo.default=n,Vo}Object.defineProperty(ct,"__esModule",{value:!0});var _g=ct.PostgrestError=Pg=ct.PostgrestBuilder=Ag=ct.PostgrestTransformBuilder=Og=ct.PostgrestFilterBuilder=xg=ct.PostgrestQueryBuilder=Eg=ct.PostgrestClient=void 0;const li=ai,bg=li.__importDefault(y1());var Eg=ct.PostgrestClient=bg.default;const kg=li.__importDefault(wg());var xg=ct.PostgrestQueryBuilder=kg.default;const Sg=li.__importDefault(Mc());var Og=ct.PostgrestFilterBuilder=Sg.default;const Tg=li.__importDefault(yg());var Ag=ct.PostgrestTransformBuilder=Tg.default;const Ng=li.__importDefault(mg());var Pg=ct.PostgrestBuilder=Ng.default;const jg=li.__importDefault(gg());_g=ct.PostgrestError=jg.default;var Rg=ct.default={PostgrestClient:bg.default,PostgrestQueryBuilder:kg.default,PostgrestFilterBuilder:Sg.default,PostgrestTransformBuilder:Tg.default,PostgrestBuilder:Ng.default,PostgrestError:jg.default};const w1=Um({__proto__:null,get PostgrestBuilder(){return Pg},get PostgrestClient(){return Eg},get PostgrestError(){return _g},get PostgrestFilterBuilder(){return Og},get PostgrestQueryBuilder(){return xg},get PostgrestTransformBuilder(){return Ag},default:Rg},[ct]),{PostgrestClient:_1,PostgrestQueryBuilder:IA,PostgrestFilterBuilder:DA,PostgrestTransformBuilder:MA,PostgrestBuilder:UA,PostgrestError:BA}=Rg||w1;class b1{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const E1="2.81.1",k1=`realtime-js/${E1}`,Cg="1.0.0",x1="2.0.0",xd=Cg,wu=1e4,S1=1e3,O1=100;var en;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(en||(en={}));var We;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(We||(We={}));var Ct;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ct||(Ct={}));var _u;(function(t){t.websocket="websocket"})(_u||(_u={}));var tn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(tn||(tn={}));class T1{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:i,topic:o,payload:s}=e,a=this.META_LENGTH+r.length+n.length+o.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let c=new DataView(l),v=0;c.setUint8(v++,this.KINDS.push),c.setUint8(v++,r.length),c.setUint8(v++,n.length),c.setUint8(v++,o.length),c.setUint8(v++,i.length),Array.from(r,u=>c.setUint8(v++,u.charCodeAt(0))),Array.from(n,u=>c.setUint8(v++,u.charCodeAt(0))),Array.from(o,u=>c.setUint8(v++,u.charCodeAt(0))),Array.from(i,u=>c.setUint8(v++,u.charCodeAt(0)));var d=new Uint8Array(l.byteLength+s.byteLength);return d.set(new Uint8Array(l),0),d.set(new Uint8Array(s),l.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:i,ref:o,topic:s}=e,a=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+o.length+s.length+a.length,v=new ArrayBuffer(this.HEADER_LENGTH+c);let d=new DataView(v),u=0;d.setUint8(u++,this.KINDS.userBroadcastPush),d.setUint8(u++,i.length),d.setUint8(u++,o.length),d.setUint8(u++,s.length),d.setUint8(u++,a.length),d.setUint8(u++,this.BINARY_ENCODING),Array.from(i,w=>d.setUint8(u++,w.charCodeAt(0))),Array.from(o,w=>d.setUint8(u++,w.charCodeAt(0))),Array.from(s,w=>d.setUint8(u++,w.charCodeAt(0))),Array.from(a,w=>d.setUint8(u++,w.charCodeAt(0)));var f=new Uint8Array(v.byteLength+l.byteLength);return f.set(new Uint8Array(v),0),f.set(new Uint8Array(l),v.byteLength),f.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:i,ref:o,topic:s}=e,a=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},v=new TextEncoder().encode(JSON.stringify(l)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+o.length+s.length+a.length,u=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(u),w=0;f.setUint8(w++,this.KINDS.userBroadcastPush),f.setUint8(w++,i.length),f.setUint8(w++,o.length),f.setUint8(w++,s.length),f.setUint8(w++,a.length),f.setUint8(w++,this.JSON_ENCODING),Array.from(i,_=>f.setUint8(w++,_.charCodeAt(0))),Array.from(o,_=>f.setUint8(w++,_.charCodeAt(0))),Array.from(s,_=>f.setUint8(w++,_.charCodeAt(0))),Array.from(a,_=>f.setUint8(w++,_.charCodeAt(0)));var y=new Uint8Array(u.byteLength+v.byteLength);return y.set(new Uint8Array(u),0),y.set(new Uint8Array(v),u.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,o,s,a,l]=n;return r({join_ref:i,ref:o,topic:s,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),o=r.getUint8(2),s=r.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(a,a+i));a=a+i;const c=n.decode(e.slice(a,a+o));a=a+o;const v=n.decode(e.slice(a,a+s));a=a+s;const d=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:v,payload:d}}_decodeReply(e,r,n){const i=r.getUint8(1),o=r.getUint8(2),s=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(e.slice(l,l+i));l=l+i;const v=n.decode(e.slice(l,l+o));l=l+o;const d=n.decode(e.slice(l,l+s));l=l+s;const u=n.decode(e.slice(l,l+a));l=l+a;const f=JSON.parse(n.decode(e.slice(l,e.byteLength))),w={status:u,response:f};return{join_ref:c,ref:v,topic:d,event:Ct.reply,payload:w}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2);let s=this.HEADER_LENGTH+2;const a=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+o));s=s+o;const c=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:c}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2),s=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const v=n.decode(e.slice(l,l+o));l=l+o;const d=n.decode(e.slice(l,l+s));l=l+s;const u=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(n.decode(u)):u,w={type:this.BROADCAST,event:v,payload:f};return s>0&&(w.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Lg{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Te||(Te={}));const Sd=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,s)=>(o[s]=A1(s,t,e,i),o),{}):{}},A1=(t,e,r,n)=>{const i=e.find(a=>a.name===t),o=i==null?void 0:i.type,s=r[t];return o&&!n.includes(o)?Ig(o,s):bu(s)},Ig=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return R1(e,r)}switch(t){case Te.bool:return N1(e);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return P1(e);case Te.json:case Te.jsonb:return j1(e);case Te.timestamp:return C1(e);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return bu(e);default:return bu(e)}},bu=t=>t,N1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},P1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},j1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},R1=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const s=t.slice(1,r);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Ig(e,a))}return t},C1=t=>typeof t=="string"?t.replace(" ","T"):t,Dg=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class il{constructor(e,r,n={},i=wu){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Od;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Od||(Od={}));class Ki{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ki.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=Ki.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ki.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const o=this.cloneDeep(e),s=this.transformState(r),a={},l={};return this.map(o,(c,v)=>{s[c]||(l[c]=v)}),this.map(s,(c,v)=>{const d=o[c];if(d){const u=v.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),w=v.filter(_=>f.indexOf(_.presence_ref)<0),y=d.filter(_=>u.indexOf(_.presence_ref)<0);w.length>0&&(a[c]=w),y.length>0&&(l[c]=y)}else a[c]=v}),this.syncDiff(o,{joins:a,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:o,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const v=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),v.length>0){const d=e[a].map(f=>f.presence_ref),u=v.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...u)}n(a,v,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;const v=l.map(d=>d.presence_ref);c=c.filter(d=>v.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Td;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Td||(Td={}));var Gi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Gi||(Gi={}));var cr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(cr||(cr={}));class Uc{constructor(e,r={config:{}},n){var i,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new il(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new Lg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ki(this),this.broadcastEndpointURL=Dg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[Gi.PRESENCE]&&this.bindings[Gi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},u={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:v}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(cr.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(cr.CLOSED)),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var w;if(this.socket.setAuth(),f===void 0){e==null||e(cr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,p=[];for(let h=0;h<_;h++){const m=y[h],{filter:{event:g,schema:b,table:O,filter:x}}=m,S=f&&f[h];if(S&&S.event===g&&S.schema===b&&S.table===O&&S.filter===x)p.push(Object.assign(Object.assign({},m),{id:S.id}));else{this.unsubscribe(),this.state=We.errored,e==null||e(cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(cr.SUBSCRIBED);return}}).receive("error",f=>{this.state=We.errored,e==null||e(cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===We.joined&&e===Gi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=We.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new il(this,Ct.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new il(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>O1){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,o;const s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:v}=Ct;if(n&&[a,l,c,v].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,r,n);if(r&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var w,y,_;return((w=f.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(y=f.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(f=>f.callback(u,n)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var w,y,_,p,h,m;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){const g=f.id,b=(w=f.filter)===null||w===void 0?void 0:w.event;return g&&((y=r.ids)===null||y===void 0?void 0:y.includes(g))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const g=(h=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return g==="*"||g===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof u=="object"&&"ids"in u){const w=u.data,{schema:y,table:_,commit_timestamp:p,type:h,errors:m}=w;u=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:p,eventType:h,new:{},old:{},errors:m}),this._getPayloadRecords(w))}f.callback(u,n)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Uc.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ct.close,{},e)}_onError(e){this._on(Ct.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Sd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Sd(e.columns,e.old_record)),r}}const ol=()=>{},Xo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},L1=[1e3,2e3,5e3,1e4],I1=1e4,D1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class M1{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wu,this.transport=null,this.heartbeatIntervalMs=Xo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ol,this.ref=0,this.reconnectTimer=null,this.vsn=xd,this.logger=ol,this.conn=null,this.sendBuffer=[],this.serializer=new T1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${_u.websocket}`,this.httpEndpoint=Dg(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=b1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case en.connecting:return tn.Connecting;case en.open:return tn.Open;case en.closing:return tn.Closing;default:return tn.Closed}}isConnected(){return this.connectionState()===tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new Uc(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(S1,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:s}=r,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===en.open||this.conn.readyState===en.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ct.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([D1],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:k1};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ct.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Lg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,o,s,a,l,c,v,d,u,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:wu,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Xo.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:ol,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:xd,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:w=>L1[w-1]||I1,this.vsn){case Cg:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:(w,y)=>y(JSON.stringify(w)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(w,y)=>y(JSON.parse(w));break;case x1:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Bc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class U1 extends Bc{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Eu extends Bc{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const $c=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),B1=()=>Response,ku=t=>{if(Array.isArray(t))return t.map(r=>ku(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=ku(n)}),e},$1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sl=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},q1=(t,e,r)=>ue(void 0,void 0,void 0,function*(){const n=yield B1();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const o=t.status||500,s=(i==null?void 0:i.statusCode)||o+"";e(new U1(sl(i),o,s))}).catch(i=>{e(new Eu(sl(i),i))}):e(new Eu(sl(t),t))}),F1=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:($1(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Eo(t,e,r,n,i,o){return ue(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(r,F1(e,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>q1(l,a,n))})})}function ho(t,e,r,n){return ue(this,void 0,void 0,function*(){return Eo(t,"GET",e,r,n)})}function Vt(t,e,r,n,i){return ue(this,void 0,void 0,function*(){return Eo(t,"POST",e,n,i,r)})}function xu(t,e,r,n,i){return ue(this,void 0,void 0,function*(){return Eo(t,"PUT",e,n,i,r)})}function z1(t,e,r,n){return ue(this,void 0,void 0,function*(){return Eo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function qc(t,e,r,n,i){return ue(this,void 0,void 0,function*(){return Eo(t,"DELETE",e,n,i,r)})}class H1{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ie(e))return{data:null,error:e};throw e}})}}var Mg;class W1{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Mg]="BlobDownloadBuilder",this.promise=null}asStream(){return new H1(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ie(e))return{data:null,error:e};throw e}})}}Mg=Symbol.toStringTag;const V1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ad={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K1{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=$c(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return ue(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},Ad),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(r),v=this._getFinalPath(c),d=yield(e=="PUT"?xu:Vt)(this.fetch,`${this.url}/object/${v}`,o,Object.assign({headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}})}upload(e,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return ue(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Ad.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,v["cache-control"]=`max-age=${c.cacheControl}`,v["content-type"]=c.contentType);const d=yield xu(this.fetch,a.toString(),l,{headers:v});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const o=yield Vt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Bc("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}update(e,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ue(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}copy(e,r,n){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Vt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return ue(this,void 0,void 0,function*(){try{const i=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=o?`?${o}`:"",a=this._getFinalPath(e),l=()=>ho(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new W1(l,this.shouldThrowOnError)}info(e){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ho(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ku(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}exists(e){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield z1(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n)&&n instanceof Eu){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return ue(this,void 0,void 0,function*(){try{return{data:yield qc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}list(e,r,n){return ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},V1),r),{prefix:e||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}listV2(e,r){return ue(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Vt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ug="2.81.1",Bg={"X-Client-Info":`storage-js/${Ug}`};class G1{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bg),r),this.fetch=$c(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ho(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}createBucket(e){return ue(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return ue(this,void 0,void 0,function*(){try{return{data:yield xu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield qc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Y1{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bg),r),this.fetch=$c(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ho(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield qc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}}const Fc={"X-Client-Info":`storage-js/${Ug}`,"Content-Type":"application/json"};class $g extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function St(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class al extends $g{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Q1 extends $g{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Nd;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Nd||(Nd={}));const zc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),J1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Pd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),X1=(t,e,r)=>ue(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(s=>{const a=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";e(new al(Pd(s),i,a))}).catch(()=>{const s=i+"",a=o.statusText||`HTTP ${i} error`;e(new al(a,i,s))});else{const s=i+"",a=o.statusText||`HTTP ${i} error`;e(new al(a,i,s))}}else e(new Q1(Pd(t),t))}),Z1=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(J1(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function ew(t,e,r,n,i,o){return ue(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(r,Z1(e,n,i,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>X1(l,a,n))})})}function Ot(t,e,r,n,i){return ue(this,void 0,void 0,function*(){return ew(t,"POST",e,n,i,r)})}class tw{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fc),r),this.fetch=zc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ue(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}listIndexes(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}}class rw{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fc),r),this.fetch=zc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ot(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}getVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}listVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ot(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}queryVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ot(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}}class nw{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fc),r),this.fetch=zc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}listBuckets(){return ue(this,arguments,void 0,function*(e={}){try{return{data:yield Ot(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}}class iw extends nw{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new ow(this.url,this.headers,e,this.fetch)}}class ow extends tw{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new sw(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class sw extends rw{constructor(e,r,n,i,o){super(e,r,o),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class aw extends G1{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new K1(this.url,this.headers,e,this.fetch)}get vectors(){return new iw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Y1(this.url+"/iceberg",this.headers,this.fetch)}}const lw="2.81.1";let Mi="";typeof Deno<"u"?Mi="deno":typeof document<"u"?Mi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mi="react-native":Mi="node";const uw={"X-Client-Info":`supabase-js-${Mi}/${lw}`},cw={headers:uw},fw={schema:"public"},dw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hw={},pw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vw=()=>Headers,gw=(t,e,r)=>{const n=pw(r),i=vw();return async(o,s)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},s),{headers:c}))}};function mw(t){return t.endsWith("/")?t:t+"/"}function yw(t,e){var r,n;const{db:i,auth:o,realtime:s,global:a}=t,{db:l,auth:c,realtime:v,global:d}=e,u={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},v),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}function ww(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const qg="2.81.1",An=30*1e3,Su=3,ll=Su*An,_w="http://localhost:9999",bw="supabase.auth.token",Ew={"X-Client-Info":`gotrue-js/${qg}`},Ou="X-Supabase-Api-Version",Fg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xw=10*60*1e3;class po extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ce(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Sw extends po{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ow(t){return ce(t)&&t.name==="AuthApiError"}class rn extends po{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Wr extends po{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ft extends Wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tw(t){return ce(t)&&t.name==="AuthSessionMissingError"}class En extends Wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zo extends Wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class es extends Wr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Aw(t){return ce(t)&&t.name==="AuthImplicitGrantRedirectError"}class jd extends Wr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tu extends Wr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ul(t){return ce(t)&&t.name==="AuthRetryableFetchError"}class Rd extends Wr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Au extends Wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ws="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cd=` 	
\r=`.split(""),Nw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Cd.length;e+=1)t[Cd[e].charCodeAt(0)]=-2;for(let e=0;e<Ws.length;e+=1)t[Ws[e].charCodeAt(0)]=e;return t})();function Ld(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ws[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ws[n]),e.queuedBits-=6}}function zg(t,e,r){const n=Nw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Id(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{Rw(s,n,r)};for(let s=0;s<t.length;s+=1)zg(t.charCodeAt(s),i,o);return e.join("")}function Pw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Pw(n,e)}}function Rw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Gn(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)zg(t.charCodeAt(i),r,n);return new Uint8Array(e)}function Cw(t){const e=[];return jw(t,r=>e.push(r)),new Uint8Array(e)}function an(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Ld(i,r,n)),Ld(null,r,n),e.join("")}function Lw(t){return Math.round(Date.now()/1e3)+t}function Iw(){return Symbol("auth-callback")}const Xe=()=>typeof window<"u"&&typeof document<"u",Kr={tested:!1,writable:!1},Hg=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kr.tested)return Kr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kr.tested=!0,Kr.writable=!0}catch{Kr.tested=!0,Kr.writable=!1}return Kr.writable};function Dw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Wg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Mw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Nn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Gr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},kr=async(t,e)=>{await t.removeItem(e)};class ya{constructor(){this.promise=new ya.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ya.promiseConstructor=Promise;function cl(t){const e=t.split(".");if(e.length!==3)throw new Au("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!kw.test(e[n]))throw new Au("JWT not in base64url format");return{header:JSON.parse(Id(e[0])),payload:JSON.parse(Id(e[1])),signature:Gn(e[2]),raw:{header:e[0],payload:e[1]}}}async function Uw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Bw(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await t(o);if(!e(o,null,s)){n(s);return}}catch(s){if(!e(o,s)){i(s);return}}})()})}function $w(t){return("0"+t.toString(16)).substr(-2)}function qw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,$w).join("")}async function Fw(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function zw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Fw(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kn(t,e,r=!1){const n=qw();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Nn(t,`${e}-code-verifier`,i);const o=await zw(n);return[o,n===o?"plain":"s256"]}const Hw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ww(t){const e=t.headers.get(Ou);if(!e||!e.match(Hw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Vw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Kw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xn(t){if(!Gw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fl(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yw(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Dd(t){return JSON.parse(JSON.stringify(t))}const Jr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qw=[502,503,504];async function Md(t){var e;if(!Mw(t))throw new Tu(Jr(t),0);if(Qw.includes(t.status))throw new Tu(Jr(t),t.status);let r;try{r=await t.json()}catch(o){throw new rn(Jr(o),o)}let n;const i=Ww(t);if(i&&i.getTime()>=Fg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Rd(Jr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ft}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Rd(Jr(r),t.status,r.weak_password.reasons);throw new Sw(Jr(r),t.status||500,n)}const Jw=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function pe(t,e,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[Ou]||(o[Ou]=Fg["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Xw(t,e,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Xw(t,e,r,n,i,o){const s=Jw(e,n,i,o);let a;try{a=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new Tu(Jr(l),0)}if(a.ok||await Md(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Md(l)}}function zt(t){var e;let r=null;t_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Lw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Ud(t){const e=zt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Nr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Zw(t){return{data:t,error:null}}function e_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=t,s=si(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Bd(t){return t}function t_(t){return t.access_token&&t.refresh_token&&t.expires_in}const dl=["global","local","others"];class r_{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Wg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=dl[0]){if(dl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dl.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=si(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:e_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,o,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},v=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Bd});if(v.error)throw v.error;const d=await v.json(),u=(s=v.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=v.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);c[`${_}Page`]=y}),c.total=parseInt(u)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ce(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){xn(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){xn(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Nr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){xn(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){xn(e.userId);try{const{data:r,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteFactor(e){xn(e.userId),xn(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,o,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},v=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Bd});if(v.error)throw v.error;const d=await v.json(),u=(s=v.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=v.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);c[`${_}Page`]=y}),c.total=parseInt(u)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ce(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}}function $d(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Sn={debug:!!(globalThis&&Hg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class n_ extends Vg{}async function i_(t,e,r){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new n_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Sn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function o_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function s_(t){return parseInt(t,16)}function a_(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function l_(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:v,uri:d,version:u}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(u!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${u}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Kg(t.address),w=v?`${v}://${n}`:n,y=t.statement?`${t.statement}
`:"",_=`${w} wants you to sign in with your Ethereum account:
${f}

${y}`;let p=`URI: ${d}
Version: ${u}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(p+=`
Expiration Time: ${i.toISOString()}`),a&&(p+=`
Not Before: ${a.toISOString()}`),l&&(p+=`
Request ID: ${l}`),c){let h=`
Resources:`;for(const m of c){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);h+=`
- ${m}`}p+=h}return`${_}
${p}`}class ze extends Error{constructor({message:e,code:r,cause:n,name:i}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Vs extends ze{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function u_({error:t,options:e}){var r,n,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ze({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Gg(s)){if(o.rp.id!==s)return new ze({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function c_({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ze({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Gg(n)){if(r.rpId!==n)return new ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class f_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const d_=new f_;function h_(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=si(t,["challenge","user","excludeCredentials"]),o=Gn(e).buffer,s=Object.assign(Object.assign({},r),{id:Gn(r.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Gn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function p_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=si(t,["challenge","allowCredentials"]),i=Gn(e).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const a=r[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Gn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function v_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:an(new Uint8Array(t.response.attestationObject)),clientDataJSON:an(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function g_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:an(new Uint8Array(i.authenticatorData)),clientDataJSON:an(new Uint8Array(i.clientDataJSON)),signature:an(new Uint8Array(i.signature)),userHandle:i.userHandle?an(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Gg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function qd(){var t,e;return!!(Xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function m_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vs("Browser returned unexpected credential type",e)}:{data:null,error:new Vs("Empty credential response",e)}}catch(e){return{data:null,error:u_({error:e,options:t})}}}async function y_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vs("Browser returned unexpected credential type",e)}:{data:null,error:new Vs("Empty credential response",e)}}catch(e){return{data:null,error:c_({error:e,options:t})}}}const w_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},__={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ks(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const o in i){const s=i[o];if(s!==void 0)if(Array.isArray(s))n[o]=s;else if(r(s))n[o]=s;else if(e(s)){const a=n[o];e(a)?n[o]=Ks(a,s):n[o]=Ks(s)}else n[o]=s}return n}function b_(t,e){return Ks(w_,t,e||{})}function E_(t,e){return Ks(__,t,e||{})}class k_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},o){try{const{data:s,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:a};const l=i??d_.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=b_(s.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:v,error:d}=await m_({publicKey:c,signal:l});return v?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:v}},error:null}:{data:null,error:d}}case"request":{const c=E_(s.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:v,error:d}=await y_(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return v?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:v}},error:null}:{data:null,error:d}}}}catch(s){return ce(s)?{data:null,error:s}:{data:null,error:new rn("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new po("rpId is required for WebAuthn authentication")};try{if(!qd())return{data:null,error:new rn("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:o});if(!s)return{data:null,error:a};const{webauthn:l}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return ce(s)?{data:null,error:s}:{data:null,error:new rn("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new po("rpId is required for WebAuthn registration")};try{if(!qd())return{data:null,error:new rn("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(v=>{var d;return(d=v.data)===null||d===void 0?void 0:d.all.find(u=>u.factor_type==="webauthn"&&u.friendly_name===e&&u.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:o});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return ce(s)?{data:null,error:s}:{data:null,error:new rn("Unexpected error in register",s)}}}}o_();const x_={url:_w,storageKey:bw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ew,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Fd(t,e,r){return await r()}const On={};class vo{get jwks(){var e,r;return(r=(e=On[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=On[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},x_),e);if(this.storageKey=o.storageKey,this.instanceID=(r=vo.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,vo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Xe()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new r_({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Wg(o.fetch),this.lock=o.lock||Fd,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Xe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=i_:this.lock=Fd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new k_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Hg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$d(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=$d(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qg}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Xe()&&(r=Dw(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Xe()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Aw(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ce(r)?this._returnResult({error:r}):this._returnResult({error:new rn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:zt}),{data:s,error:a}=o;if(a||!s)return this._returnResult({data:{user:null,session:null},error:a});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,i;try{let o;if("email"in e){const{email:v,password:d,options:u}=e;let f=null,w=null;this.flowType==="pkce"&&([f,w]=await kn(this.storage,this.storageKey)),o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:u==null?void 0:u.emailRedirectTo,body:{email:v,password:d,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:f,code_challenge_method:w},xform:zt})}else if("phone"in e){const{phone:v,password:d,options:u}=e;o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:d,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},channel:(i=u==null?void 0:u.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:zt})}else throw new Zo("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return this._returnResult({data:{user:null,session:null},error:a});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:s,options:a}=e;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ud})}else if("phone"in e){const{phone:o,password:s,options:a}=e;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ud})}else throw new Zo("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const o=new En;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,o,s,a,l,c,v,d,u;let f,w;if("message"in e)f=e.message,w=e.signature;else{const{chain:y,wallet:_,statement:p,options:h}=e;let m;if(Xe())if(typeof _=="object")m=_;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")m=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=_}const g=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href),b=await m.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=Kg(b[0]);let x=(n=h==null?void 0:h.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!x){const j=await m.request({method:"eth_chainId"});x=s_(j)}const S={domain:g.host,address:O,statement:p,uri:g.href,version:"1",chainId:x,nonce:(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(o=h==null?void 0:h.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(a=h==null?void 0:h.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=h==null?void 0:h.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(v=h==null?void 0:h.signInWithEthereum)===null||v===void 0?void 0:v.resources};f=l_(S),w=await m.request({method:"personal_sign",params:[a_(f),O]})}try{const{data:y,error:_}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:w},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(u=e.options)===null||u===void 0?void 0:u.captchaToken}}:null),xform:zt});if(_)throw _;if(!y||!y.session||!y.user){const p=new En;return this._returnResult({data:{user:null,session:null},error:p})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(ce(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,i,o,s,a,l,c,v,d,u,f;let w,y;if("message"in e)w=e.message,y=e.signature;else{const{chain:_,wallet:p,statement:h,options:m}=e;let g;if(Xe())if(typeof p=="object")g=p;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))g=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=p}const b=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in g&&g.signIn){const O=await g.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),h?{statement:h}:null));let x;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")x=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)x=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)w=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),y=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in g)||typeof g.signMessage!="function"||!("publicKey"in g)||typeof g!="object"||!g.publicKey||!("toBase58"in g.publicKey)||typeof g.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${b.host} wants you to sign in with your Solana account:`,g.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(i=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((s=m==null?void 0:m.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(v=m==null?void 0:m.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const O=await g.signMessage(new TextEncoder().encode(w),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=O}}try{const{data:_,error:p}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:an(y)},!((u=e.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:zt});if(p)throw p;if(!_||!_.session||!_.user){const h=new En;return this._returnResult({data:{user:null,session:null},error:h})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:p})}catch(_){if(ce(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await Gr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:o,error:s}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:zt});if(await kr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!o||!o.session||!o.user){const a=new En;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:o,nonce:s}=e,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:zt}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const v=new En;return this._returnResult({data:{user:null,session:null},error:v})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,o,s;try{if("email"in e){const{email:a,options:l}=e;let c=null,v=null;this.flowType==="pkce"&&([c,v]=await kn(this.storage,this.storageKey));const{error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:v},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:v}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:v})}throw new Zo("You must provide either an email or phone number.")}catch(a){if(ce(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let i,o;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:zt});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,o,s;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await kn(this.storage,this.storageKey));const c=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Zw});return!((o=c.data)===null||o===void 0)&&o.url&&Xe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(ce(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ft;const{error:i}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ce(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:s}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:s,error:a}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a})}throw new Zo("You must provide either an email or phone number and a type")}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ll:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await Gr(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=fl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=Yw(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nr}):await this._useSession(async r=>{var n,i,o;const{data:s,error:a}=r;if(a)throw a;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Nr})})}catch(r){if(ce(r))return Tw(r)&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Ft;const s=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await kn(this.storage,this.storageKey));const{data:c,error:v}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:Nr});if(v)throw v;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(ce(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ft;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:s}=cl(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:a}=r;if(a)throw a;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ft;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Xe())throw new es("No browser detected.");if(e.error||e.error_description||e.error_code)throw new es(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new es("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jd("No code detected.");const{data:h,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const g=new URL(window.location.href);return g.searchParams.delete("code"),window.history.replaceState(window.history.state,"",g.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!s||!c)throw new es("No session defined in URL");const v=Math.round(Date.now()/1e3),d=parseInt(a);let u=v+d;l&&(u=parseInt(l));const f=u-v;f*1e3<=An&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const w=u-d;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,u,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,u,v);const{data:y,error:_}=await this._getUser(o);if(_)throw _;const p={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:u,refresh_token:s,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:e.type},error:null})}catch(n){if(ce(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Gr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({error:o});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(Ow(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Iw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await kn(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ce(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var s,a,l,c,v;const{data:d,error:u}=o;if(u)throw u;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",f,{headers:this.headers,jwt:(v=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Xe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ce(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:o}}=r;if(i)throw i;const{options:s,provider:a,token:l,access_token:c,nonce:v}=e,d=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zt}),{data:u,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!u||!u.session||!u.user?this._returnResult({data:{user:null,session:null},error:new En}):(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:f}))}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:s}=r;if(s)throw s;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Bw(async i=>(i>0&&await Uw(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zt})),(i,o)=>{const s=200*Math.pow(2,i);return o&&ul(o)&&Date.now()+s-n<An})}catch(n){if(this._debug(r,"error",n),ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Xe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Gr(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Gr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Nn(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:fl()}else if(i&&!i.user&&!i.user){const s=await Gr(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await kr(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,i)):i.user=fl()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ll;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${ll}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),ul(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(i.access_token);!a&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ya;const{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new Ft;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),ce(o)){const s={data:null,error:o};return ul(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=Dd(i);await Nn(this.storage,this.storageKey,o)}else{const i=Dd(r);await Nn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await kr(this.storage,this.storageKey),await kr(this.storage,this.storageKey+"-code-verifier"),await kr(this.storage,this.storageKey+"-user"),this.userStorage&&await kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),An);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/An);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${An}ms, refresh threshold is ${Su} ticks`),i<=Su&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,s]=await kn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?this._returnResult({data:null,error:o}):await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?v_(e.webauthn.credential_response):g_(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:a}=s;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:h_(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:p_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=cl(n.access_token);let s=null;o.aal&&(s=o.aal);let a=s;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Ft});const s=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&Xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Ft});const s=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&Xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+xw>i)return n;const{data:o,error:s}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:w}=await this.getSession();if(w||!f.session)return this._returnResult({data:null,error:w});n=f.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:l}}=cl(n);r!=null&&r.allowExpired||Vw(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:o,header:i,signature:s},error:null}}const v=Kw(i.alg),d=await crypto.subtle.importKey("jwk",c,v,!0,["verify"]);if(!await crypto.subtle.verify(v,d,s,Cw(`${a}.${l}`)))throw new Au("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}}vo.nextInstanceID={};const S_=vo;class O_ extends S_{constructor(e){super(e)}}class T_{constructor(e,r,n){var i,o,s;this.supabaseUrl=e,this.supabaseKey=r;const a=ww(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:fw,realtime:hw,auth:Object.assign(Object.assign({},dw),{storageKey:l}),global:cw},v=yw(n??{},c);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(d,u)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(u)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=v.auth)!==null&&s!==void 0?s:{},this.headers,v.global.fetch),this.fetch=gw(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new _1(new URL("rest/v1",a).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new aw(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new m1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:v},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new O_({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:v,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new M1(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A_=(t,e,r)=>new T_(t,e,r);function N_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}N_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const P_=void 0,j_=void 0,ot=A_(P_,j_),R_={success:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),error:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),info:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},C_={success:"bg-green-50 border-green-200 dark:bg-green-900/50 dark:border-green-700 text-green-800 dark:text-green-200",error:"bg-red-50 border-red-200 dark:bg-red-900/50 dark:border-red-700 text-red-800 dark:text-red-200",info:"bg-blue-50 border-blue-200 dark:bg-blue-900/50 dark:border-blue-700 text-blue-800 dark:text-blue-200"},L_=({toast:t,onDismiss:e})=>{const[r,n]=Z.useState(!1);Z.useEffect(()=>{const s=setTimeout(()=>{n(!0),setTimeout(()=>e(t.id),300)},5e3);return()=>clearTimeout(s)},[t.id,e]);const i=()=>{n(!0),setTimeout(()=>e(t.id),300)},o=r?"animate-toast-out":"animate-toast-in";return N.jsxs("div",{role:"alert",className:`w-full p-4 rounded-lg shadow-lg border flex items-start gap-4 ${C_[t.type]} ${o}`,children:[N.jsx("div",{className:"flex-shrink-0",children:R_[t.type]}),N.jsx("div",{className:"flex-1 text-sm font-medium",children:t.message}),N.jsx("button",{onClick:i,className:"p-1 rounded-md -m-1 hover:bg-black/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-current","aria-label":"Dismiss",children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},I_=({toasts:t,onDismiss:e})=>N.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-3 w-full max-w-sm","aria-live":"assertive",children:t.map(r=>N.jsx(L_,{toast:r,onDismiss:e},r.id))}),Yg=Z.createContext(void 0),D_=({children:t})=>{const[e,r]=Z.useState([]),[n,i]=Z.useState(null);Z.useEffect(()=>{const a=document.getElementById("portal-root");a&&i(a)},[]);const o=Z.useCallback((a,l="info")=>{const c=Date.now().toString()+Math.random().toString();r(v=>[...v,{id:c,message:a,type:l}])},[]),s=Z.useCallback(a=>{r(l=>l.filter(c=>c.id!==a))},[]);return N.jsxs(Yg.Provider,{value:{addToast:o},children:[t,n&&Hv.createPortal(N.jsx(I_,{toasts:e,onDismiss:s}),n)]})},Hc=()=>{const t=Z.useContext(Yg);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},M_=()=>{const[t,e]=Z.useState(!1),[r,n]=Z.useState(""),[i,o]=Z.useState(""),[s,a]=Z.useState(!1),[l,c]=Z.useState(null),{addToast:v}=Hc();return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:N.jsxs("div",{className:"w-full max-w-lg p-8 space-y-4 bg-white dark:bg-slate-800 rounded-lg shadow-md text-center",children:[N.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Configuration Needed"}),N.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"Welcome to Diary! To get started, you need to connect the app to your own Supabase project."}),N.jsxs("div",{className:"text-sm text-left text-slate-600 dark:text-slate-300 bg-slate-50 dark:bg-slate-700/50 p-4 rounded-md border border-slate-200 dark:border-slate-700",children:[N.jsx("p",{className:"font-semibold mb-2",children:"Please follow these steps:"}),N.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[N.jsxs("li",{children:["In the root of your project, create a new file named ",N.jsx("code",{className:"font-mono bg-slate-200 dark:bg-slate-600 px-1.5 py-1 rounded",children:".env.local"}),"."]}),N.jsxs("li",{children:["Copy the contents of ",N.jsx("code",{className:"font-mono bg-slate-200 dark:bg-slate-600 px-1.5 py-1 rounded",children:".env.example"})," into your new file."]}),N.jsxs("li",{children:["Replace the placeholder values for ",N.jsx("code",{className:"font-mono bg-slate-200 dark:bg-slate-600 px-1.5 py-1 rounded",children:"VITE_SUPABASE_URL"})," and ",N.jsx("code",{className:"font-mono bg-slate-200 dark:bg-slate-600 px-1.5 py-1 rounded",children:"VITE_SUPABASE_KEY"})," with your Supabase project's credentials."]}),N.jsxs("li",{children:["Make sure you have run the SQL scripts in ",N.jsx("code",{className:"font-mono bg-slate-200 dark:bg-slate-600 px-1.5 py-1 rounded",children:"lib/supabaseClient.ts"})," to set up your database."]}),N.jsx("li",{children:"Save the file. The app will automatically reload."})]})]}),N.jsxs("p",{className:"text-xs text-slate-400 pt-2",children:["If you don't have a Supabase project, you can create one for free at ",N.jsx("a",{href:"https://supabase.com",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-500 dark:text-indigo-400 underline",children:"supabase.com"}),"."]})]})})},Qg="DAILY_DIARY_KEY_CHECK_v1",Nu=t=>btoa(String.fromCharCode(...new Uint8Array(t))),Pu=t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0)).buffer,Jg=new TextEncoder,U_=new TextDecoder,B_=()=>{const t=window.crypto.getRandomValues(new Uint8Array(16));return Nu(t.buffer)},Xg=async(t,e)=>{const r=Jg.encode(t),n=Pu(e),i=await window.crypto.subtle.importKey("raw",r,{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:n,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])},Zg=async(t,e)=>{const r=window.crypto.getRandomValues(new Uint8Array(12)),n=Jg.encode(e),i=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,n);return{iv:Nu(r.buffer),data:Nu(i)}},em=async(t,e,r)=>{const n=Pu(r),i=Pu(e),o=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:n},t,i);return U_.decode(o)};async function $_(t,e){const{data:r,error:n}=await ot.from("profiles").select("*").eq("id",e).single();if(n||!r)return console.error("Profile not found for user:",e),null;const i=r;try{const o=await Xg(t,i.salt);return await em(o,i.key_check_value,i.key_check_iv)===Qg?o:null}catch(o){return console.error("Key derivation or verification failed:",o),null}}const tm=Z.createContext(void 0),q_=({children:t})=>{const[e,r]=Z.useState(null),n={key:e,setKey:r,deriveAndVerifyKey:$_,encrypt:Zg,decrypt:em};return N.jsx(tm.Provider,{value:n,children:t})},rm=()=>{const t=Z.useContext(tm);if(t===void 0)throw new Error("useCrypto must be used within a CryptoProvider");return t},F_="227b57dcb9e272db9e362fee3a14b924";async function z_(t,e){const r=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=${F_}&units=metric`;try{const n=await fetch(r);if(!n.ok)throw new Error(`Weather API request failed with status ${n.status}`);const i=await n.json();return{temp:i.main.temp,description:i.weather[0].description,icon:i.weather[0].icon,location:i.name}}catch(n){return console.error("Could not fetch weather data:",n),null}}const H_=({isVisible:t,onClose:e,activeView:r,onChangeView:n,onNewEntry:i})=>{const o=[{view:"timeline",label:"Timeline",icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})},{view:"calendar",label:"Calendar",icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{view:"search",label:"Search",icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}];return N.jsxs("aside",{className:`bg-[#F4EFE9] dark:bg-slate-900 border-r border-[#EAE1D6] dark:border-slate-800 flex flex-col transition-transform duration-300 ease-in-out w-64 fixed z-30 h-full ${t?"translate-x-0":"-translate-x-full"}`,children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#EAE1D6] dark:border-slate-800",children:[N.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Diary"}),N.jsx("button",{onClick:e,className:"p-2 rounded-md hover:bg-slate-200/50 dark:hover:bg-slate-700/50",children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),N.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[N.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 p-3 rounded-lg text-white font-semibold transition-colors bg-indigo-500 hover:bg-indigo-600",children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),N.jsx("span",{children:"New Entry"})]}),N.jsx("div",{className:"pt-4",children:o.map(s=>N.jsxs("button",{onClick:()=>n(s.view),className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm font-medium transition-colors ${r===s.view?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-400 hover:bg-slate-200/50 dark:hover:bg-slate-800"}`,children:[s.icon,N.jsx("span",{children:s.label})]},s.view))})]})]})};function Se(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function wr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function W_(t,e){const r=Se(t);return isNaN(e)?wr(t,NaN):(r.setDate(r.getDate()+e),r)}const nm=6048e5,V_=864e5,ts=43200,zd=1440;let K_={};function ko(){return K_}function vn(t,e){var a,l,c,v;const r=ko(),n=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((v=(c=r.locale)==null?void 0:c.options)==null?void 0:v.weekStartsOn)??0,i=Se(t),o=i.getDay(),s=(o<n?7:0)+o-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Gs(t){return vn(t,{weekStartsOn:1})}function im(t){const e=Se(t),r=e.getFullYear(),n=wr(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Gs(n),o=wr(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=Gs(o);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function Ys(t){const e=Se(t);return e.setHours(0,0,0,0),e}function Qs(t){const e=Se(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function G_(t,e){const r=Ys(t),n=Ys(e),i=+r-Qs(r),o=+n-Qs(n);return Math.round((i-o)/V_)}function Y_(t){const e=im(t),r=wr(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Gs(r)}function ms(t,e){const r=Se(t),n=Se(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function wa(t){return wr(t,Date.now())}function om(t,e){const r=Ys(t),n=Ys(e);return+r==+n}function Q_(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function J_(t){if(!Q_(t)&&typeof t!="number")return!1;const e=Se(t);return!isNaN(Number(e))}function X_(t,e){const r=Se(t),n=Se(e),i=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return i*12+o}function Z_(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function eb(t,e){return+Se(t)-+Se(e)}function tb(t){const e=Se(t);return e.setHours(23,59,59,999),e}function rb(t){const e=Se(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function nb(t){const e=Se(t);return+tb(e)==+rb(e)}function ib(t,e){const r=Se(t),n=Se(e),i=ms(r,n),o=Math.abs(X_(r,n));let s;if(o<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*o);let a=ms(r,n)===-i;nb(Se(t))&&o===1&&ms(t,n)===1&&(a=!1),s=i*(o-Number(a))}return s===0?0:s}function ob(t,e,r){const n=eb(t,e)/1e3;return Z_(r==null?void 0:r.roundingMethod)(n)}function sb(t){const e=Se(t),r=wr(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ab={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lb=(t,e,r)=>{let n;const i=ab[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function hl(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const ub={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cb={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fb={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},db={date:hl({formats:ub,defaultWidth:"full"}),time:hl({formats:cb,defaultWidth:"full"}),dateTime:hl({formats:fb,defaultWidth:"full"})},hb={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pb=(t,e,r,n)=>hb[t];function xi(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const vb={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gb={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yb={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_b={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bb=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Eb={ordinalNumber:bb,era:xi({values:vb,defaultWidth:"wide"}),quarter:xi({values:gb,defaultWidth:"wide",argumentCallback:t=>t-1}),month:xi({values:mb,defaultWidth:"wide"}),day:xi({values:yb,defaultWidth:"wide"}),dayPeriod:xi({values:wb,defaultWidth:"wide",formattingValues:_b,defaultFormattingWidth:"wide"})};function Si(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?xb(a,d=>d.test(s)):kb(a,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const v=e.slice(s.length);return{value:c,rest:v}}}function kb(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function xb(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Sb(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=r.valueCallback?r.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const Ob=/^(\d+)(th|st|nd|rd)?/i,Tb=/\d+/i,Ab={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Nb={any:[/^b/i,/^(a|c)/i]},Pb={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jb={any:[/1/i,/2/i,/3/i,/4/i]},Rb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lb={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ib={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Db={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ub={ordinalNumber:Sb({matchPattern:Ob,parsePattern:Tb,valueCallback:t=>parseInt(t,10)}),era:Si({matchPatterns:Ab,defaultMatchWidth:"wide",parsePatterns:Nb,defaultParseWidth:"any"}),quarter:Si({matchPatterns:Pb,defaultMatchWidth:"wide",parsePatterns:jb,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Si({matchPatterns:Rb,defaultMatchWidth:"wide",parsePatterns:Cb,defaultParseWidth:"any"}),day:Si({matchPatterns:Lb,defaultMatchWidth:"wide",parsePatterns:Ib,defaultParseWidth:"any"}),dayPeriod:Si({matchPatterns:Db,defaultMatchWidth:"any",parsePatterns:Mb,defaultParseWidth:"any"})},sm={code:"en-US",formatDistance:lb,formatLong:db,formatRelative:pb,localize:Eb,match:Ub,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bb(t){const e=Se(t);return G_(e,sb(e))+1}function $b(t){const e=Se(t),r=+Gs(e)-+Y_(e);return Math.round(r/nm)+1}function am(t,e){var v,d,u,f;const r=Se(t),n=r.getFullYear(),i=ko(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(u=i.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=wr(t,0);s.setFullYear(n+1,0,o),s.setHours(0,0,0,0);const a=vn(s,e),l=wr(t,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const c=vn(l,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function qb(t,e){var a,l,c,v;const r=ko(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(c=r.locale)==null?void 0:c.options)==null?void 0:v.firstWeekContainsDate)??1,i=am(t,e),o=wr(t,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),vn(o,e)}function Fb(t,e){const r=Se(t),n=+vn(r,e)-+qb(r,e);return Math.round(n/nm)+1}function ke(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const xr={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ke(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ke(r+1,2)},d(t,e){return ke(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ke(t.getHours()%12||12,e.length)},H(t,e){return ke(t.getHours(),e.length)},m(t,e){return ke(t.getMinutes(),e.length)},s(t,e){return ke(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ke(i,e.length)}},Tn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hd={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return xr.y(t,e)},Y:function(t,e,r,n){const i=am(t,n),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return ke(s,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):ke(o,e.length)},R:function(t,e){const r=im(t);return ke(r,e.length)},u:function(t,e){const r=t.getFullYear();return ke(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ke(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ke(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return xr.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ke(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Fb(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):ke(i,e.length)},I:function(t,e,r){const n=$b(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ke(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):xr.d(t,e)},D:function(t,e,r){const n=Bb(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ke(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ke(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ke(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ke(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Tn.noon:n===0?i=Tn.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Tn.evening:n>=12?i=Tn.afternoon:n>=4?i=Tn.morning:i=Tn.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xr.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):xr.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ke(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ke(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):xr.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):xr.s(t,e)},S:function(t,e){return xr.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Vd(n);case"XXXX":case"XX":return Xr(n);case"XXXXX":case"XXX":default:return Xr(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Vd(n);case"xxxx":case"xx":return Xr(n);case"xxxxx":case"xxx":default:return Xr(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Wd(n,":");case"OOOO":default:return"GMT"+Xr(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Wd(n,":");case"zzzz":default:return"GMT"+Xr(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return ke(n,e.length)},T:function(t,e,r){const n=t.getTime();return ke(n,e.length)}};function Wd(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+e+ke(o,2)}function Vd(t,e){return t%60===0?(t>0?"-":"+")+ke(Math.abs(t)/60,2):Xr(t,e)}function Xr(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=ke(Math.trunc(n/60),2),o=ke(n%60,2);return r+i+e+o}const Kd=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},lm=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zb=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Kd(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Kd(n,e)).replace("{{time}}",lm(i,e))},Hb={p:lm,P:zb},Wb=/^D+$/,Vb=/^Y+$/,Kb=["D","DD","YY","YYYY"];function Gb(t){return Wb.test(t)}function Yb(t){return Vb.test(t)}function Qb(t,e,r){const n=Jb(t,e,r);if(console.warn(n),Kb.includes(t))throw new RangeError(n)}function Jb(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eE=/^'([^]*?)'?$/,tE=/''/g,rE=/[a-zA-Z]/;function go(t,e,r){var v,d,u,f;const n=ko(),i=n.locale??sm,o=n.firstWeekContainsDate??((d=(v=n.locale)==null?void 0:v.options)==null?void 0:d.firstWeekContainsDate)??1,s=n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=Se(t);if(!J_(a))throw new RangeError("Invalid time value");let l=e.match(Zb).map(w=>{const y=w[0];if(y==="p"||y==="P"){const _=Hb[y];return _(w,i.formatLong)}return w}).join("").match(Xb).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const y=w[0];if(y==="'")return{isToken:!1,value:nE(w)};if(Hd[y])return{isToken:!0,value:w};if(y.match(rE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(w=>{if(!w.isToken)return w.value;const y=w.value;(Yb(y)||Gb(y))&&Qb(y,e,String(t));const _=Hd[y[0]];return _(a,y,i.localize,c)}).join("")}function nE(t){const e=t.match(eE);return e?e[1].replace(tE,"'"):t}function iE(t,e,r){const n=ko(),i=(r==null?void 0:r.locale)??n.locale??sm,o=2520,s=ms(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let l,c;s>0?(l=Se(e),c=Se(t)):(l=Se(t),c=Se(e));const v=ob(c,l),d=(Qs(c)-Qs(l))/1e3,u=Math.round((v-d)/60);let f;if(u<2)return r!=null&&r.includeSeconds?v<5?i.formatDistance("lessThanXSeconds",5,a):v<10?i.formatDistance("lessThanXSeconds",10,a):v<20?i.formatDistance("lessThanXSeconds",20,a):v<40?i.formatDistance("halfAMinute",0,a):v<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):u===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",u,a);if(u<45)return i.formatDistance("xMinutes",u,a);if(u<90)return i.formatDistance("aboutXHours",1,a);if(u<zd){const w=Math.round(u/60);return i.formatDistance("aboutXHours",w,a)}else{if(u<o)return i.formatDistance("xDays",1,a);if(u<ts){const w=Math.round(u/zd);return i.formatDistance("xDays",w,a)}else if(u<ts*2)return f=Math.round(u/ts),i.formatDistance("aboutXMonths",f,a)}if(f=ib(c,l),f<12){const w=Math.round(u/ts);return i.formatDistance("xMonths",w,a)}else{const w=f%12,y=Math.trunc(f/12);return w<3?i.formatDistance("aboutXYears",y,a):w<9?i.formatDistance("overXYears",y,a):i.formatDistance("almostXYears",y+1,a)}}function um(t,e){return iE(t,wa(t),e)}function oE(t,e,r){const n=vn(t,r),i=vn(e,r);return+n==+i}function sE(t,e){return oE(t,wa(t),e)}function aE(t){return om(t,wa(t))}function lE(t,e){return W_(t,-1)}function uE(t){return om(t,lE(wa(t)))}const cE=({status:t})=>{const e={encrypting:{text:"Encrypting...",icon:N.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[N.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),N.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})},synced:{text:"Synced",icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})},error:{text:"Error",icon:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}},{text:r,icon:n}=e[t];return N.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:[n,N.jsx("span",{children:r})]})},fE=({isEditing:t,onSave:e,onCancel:r,currentDate:n,weather:i,theme:o,onToggleTheme:s,saveStatus:a,profile:l,onShowProfile:c,isToolsPanelVisible:v,onToggleToolsPanel:d,isLeftSidebarVisible:u})=>{const[f,w]=Z.useState(new Date);return Z.useEffect(()=>{const y=setInterval(()=>{w(new Date)},6e4);return()=>clearInterval(y)},[]),N.jsx("header",{className:"bg-white/80 dark:bg-slate-900/50 backdrop-blur-sm border-b border-[#EAE1D6] dark:border-slate-800 h-16 flex-shrink-0 relative z-20",children:N.jsxs("div",{className:"h-full flex items-center justify-between px-6",children:[N.jsxs("div",{className:`flex items-center gap-4 text-sm text-slate-600 dark:text-slate-300 transition-all duration-300 ${u?"":"pl-16"}`,children:[N.jsx("span",{className:"font-semibold",children:go(f,"p")}),N.jsx("span",{className:"font-semibold",children:go(n,"MMMM d, yyyy")}),i&&N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full"}),N.jsxs("span",{children:[i.location,", ",Math.round(i.temp),"C"]})]})]}),N.jsx("div",{className:"flex items-center gap-4",children:t?N.jsxs(N.Fragment,{children:[N.jsx(cE,{status:a}),N.jsx("button",{onClick:r,className:"px-4 py-1.5 text-sm font-semibold rounded-md hover:bg-slate-100 dark:hover:bg-slate-700",children:"Cancel"}),N.jsx("button",{onClick:e,className:"px-4 py-1.5 text-sm font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600",children:"Save"})]}):N.jsx("div",{className:"h-9"})}),N.jsxs("div",{className:"flex items-center gap-4",children:[t&&N.jsx("button",{onClick:d,title:"Toggle Tools Panel",className:`p-2 rounded-full transition-colors ${v?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600":"hover:bg-slate-200/50 dark:hover:bg-slate-700/50 text-slate-500"}`,children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),N.jsx("button",{onClick:s,title:"Toggle Theme",className:"p-2 rounded-full hover:bg-slate-200/50 dark:hover:bg-slate-700/50 text-slate-500 dark:text-slate-400",children:o==="dark"?N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 14.464A1 1 0 106.465 13.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zm-1.414-2.12a1 1 0 011.414 0l.707.707a1 1 0 11-1.414 1.414l-.707-.707a1 1 0 010-1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z",clipRule:"evenodd"})})}),N.jsx("button",{onClick:c,title:"Profile & Settings",className:"w-9 h-9 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden flex items-center justify-center hover:ring-2 ring-indigo-500 ring-offset-2 ring-offset-white dark:ring-offset-slate-900 transition-all",children:l!=null&&l.avatar_url?N.jsx("img",{src:l.avatar_url,alt:"User avatar",className:"w-full h-full object-cover"}):N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})]})]})})},dE=({wordCount:t,characterCount:e,saveStatus:r})=>{const n={encrypting:{text:"Encrypting...",classes:"text-yellow-600 dark:text-yellow-400"},synced:{text:"Synced",classes:"text-green-600 dark:text-green-400"},error:{text:"Save Error",classes:"text-red-600 dark:text-red-400"}};return N.jsx("footer",{className:"bg-white/80 dark:bg-slate-900/50 backdrop-blur-sm border-t border-[#EAE1D6] dark:border-slate-800 h-10 flex-shrink-0",children:N.jsxs("div",{className:"h-full flex items-center justify-between px-6 text-sm text-slate-500 dark:text-slate-400",children:[N.jsx("div",{children:N.jsxs("span",{children:[t," words / ",e," characters"]})}),N.jsx("div",{className:`font-semibold ${n[r].classes}`,children:n[r].text})]})})},hE=["","","","","","","",""],pE=({entry:t,onUpdateEntry:e,editorFont:r,onFontChange:n})=>{const i=typeof t=="object"?t.mood:void 0,o=typeof t=="object"?t.tags||[]:[],s=()=>{alert("Image insertion feature coming soon!")},a=c=>{e({tags:c})},l=c=>{e({mood:c===i?void 0:c})};return N.jsxs("aside",{className:"w-64 bg-white/80 dark:bg-slate-900/50 border-l border-[#EAE1D6] dark:border-slate-800 p-4 space-y-6 flex-shrink-0 transition-transform duration-300 ease-in-out transform translate-x-0",children:[N.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Tools"}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 p-2 rounded-md text-left text-sm text-slate-700 dark:text-slate-300 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 transition-colors",children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),N.jsx("span",{children:"Insert Image"})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Font Style"}),N.jsxs("div",{className:"flex flex-col gap-1",children:[N.jsx("button",{onClick:()=>n("serif"),className:`w-full text-left p-2 rounded-md text-sm font-serif transition-colors ${r==="serif"?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"Serif (Lora)"}),N.jsx("button",{onClick:()=>n("sans"),className:`w-full text-left p-2 rounded-md text-sm font-sans transition-colors ${r==="sans"?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"Sans-Serif"}),N.jsx("button",{onClick:()=>n("mono"),className:`w-full text-left p-2 rounded-md text-sm font-mono transition-colors ${r==="mono"?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"Monospace"})]})]})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Mood"}),N.jsx("div",{className:"grid grid-cols-4 gap-2",children:hE.map(c=>N.jsx("button",{type:"button",onClick:()=>l(c),className:`text-2xl p-2 rounded-md transition-all ${i===c?"bg-indigo-100 dark:bg-indigo-500/50 scale-110":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:c},c))})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Tags"}),N.jsx("textarea",{value:o.join(", "),onChange:c=>a(c.target.value.split(",").map(v=>v.trim()).filter(Boolean)),placeholder:"travel, work...",className:"w-full h-20 p-2 text-sm rounded-md bg-slate-100 dark:bg-slate-800 border-transparent focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]})},vE=({entries:t,onSelectEntry:e})=>t.length===0?null:N.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-slate-800/50 dark:to-slate-800/50 p-6 rounded-lg border border-indigo-200 dark:border-slate-700 shadow-sm",children:[N.jsxs("h3",{className:"text-lg font-bold text-indigo-800 dark:text-indigo-300 mb-4 flex items-center gap-2",children:[N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l-3-3m0 0l3-3m-3 3h9"})]}),"On This Day..."]}),N.jsx("div",{className:"space-y-3",children:t.map(r=>{const n=new Date(r.created_at).getFullYear(),i=new Date().getFullYear()-n;return N.jsxs("div",{onClick:()=>e(r.id),className:"bg-white/60 dark:bg-slate-700/50 p-3 rounded-md cursor-pointer hover:bg-white dark:hover:bg-slate-700 transition-colors flex justify-between items-center",children:[N.jsxs("div",{children:[N.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:r.title}),N.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[i," year",i>1?"s":""," ago"]})]}),N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]},r.id)})})]}),cm=t=>{try{const e=new Date(t);return aE(e)?um(e,{addSuffix:!0}):uE(e)?"Yesterday":sE(e,{weekStartsOn:0})?go(e,"EEEE"):go(e,"MMMM d, yyyy")}catch(e){return console.error("Error formatting date:",t,e),"Invalid date"}},gE=t=>{try{const e=new Date(t);return go(e,"EEEE, MMMM d, yyyy 'at' p")}catch(e){return console.error("Error formatting full date:",t,e),"Invalid date"}},mE=t=>{try{const e=new Date(t);return um(e,{addSuffix:!0})}catch(e){return console.error("Error formatting relative time:",t,e),"Invalid time"}},yE=({entries:t,onSelectEntry:e,onThisDayEntries:r,profile:n})=>{const i=o=>new DOMParser().parseFromString(o,"text/html").body.textContent||"";return t.length===0?N.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-20 w-20 text-slate-300 dark:text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v11.494m-9-5.747h18"}),N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]}),N.jsxs("h2",{className:"mt-6 text-3xl font-bold text-slate-700 dark:text-slate-200",children:["Welcome to Diary, ",(n==null?void 0:n.full_name)||"friend","!"]}),N.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"This is your private, encrypted space to reflect and record."}),N.jsx("p",{className:"mt-4 text-slate-500 dark:text-slate-400",children:'Click "New Entry" to write your first post.'})]}):N.jsxs("div",{className:"space-y-6",children:[N.jsx(vE,{entries:r,onSelectEntry:e}),N.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:["Welcome back, ",(n==null?void 0:n.full_name)||"friend","!"]}),N.jsx("div",{className:"space-y-4",children:t.map(o=>N.jsxs("div",{onClick:()=>e(o.id),className:"bg-white/50 dark:bg-slate-800/50 p-6 rounded-lg shadow-sm hover:shadow-lg transition-shadow duration-300 cursor-pointer border border-slate-200 dark:border-slate-700 hover:border-indigo-300 dark:hover:border-indigo-600",children:[N.jsxs("div",{className:"flex justify-between items-start gap-4",children:[N.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:o.title}),N.jsxs("div",{className:"text-right",children:[N.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 whitespace-nowrap",title:new Date(o.created_at).toLocaleString(),children:cm(o.created_at)}),o.mood&&N.jsx("span",{className:"text-lg block mt-1","aria-label":`Mood: ${o.mood}`,children:o.mood})]})]}),o.tags&&o.tags.length>0&&N.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.tags.map(s=>N.jsx("span",{className:"text-xs font-medium bg-indigo-100 text-indigo-800 px-2 py-0.5 rounded-full dark:bg-indigo-900/50 dark:text-indigo-300",children:s},s))}),N.jsx("p",{className:"text-slate-600 dark:text-slate-300 line-clamp-2 mt-3",children:i(o.content)})]},o.id))})]})};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:fm,setPrototypeOf:Gd,isFrozen:wE,getPrototypeOf:_E,getOwnPropertyDescriptor:bE}=Object;let{freeze:dt,seal:$t,create:ju}=Object,{apply:Ru,construct:Cu}=typeof Reflect<"u"&&Reflect;dt||(dt=function(e){return e});$t||($t=function(e){return e});Ru||(Ru=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return e.apply(r,i)});Cu||(Cu=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new e(...n)});const rs=ht(Array.prototype.forEach),EE=ht(Array.prototype.lastIndexOf),Yd=ht(Array.prototype.pop),Oi=ht(Array.prototype.push),kE=ht(Array.prototype.splice),ys=ht(String.prototype.toLowerCase),pl=ht(String.prototype.toString),vl=ht(String.prototype.match),Ti=ht(String.prototype.replace),xE=ht(String.prototype.indexOf),SE=ht(String.prototype.trim),Ht=ht(Object.prototype.hasOwnProperty),lt=ht(RegExp.prototype.test),Ai=OE(TypeError);function ht(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Ru(t,e,n)}}function OE(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Cu(t,r)}}function we(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ys;Gd&&Gd(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const o=r(i);o!==i&&(wE(e)||(e[n]=o),i=o)}t[i]=!0}return t}function TE(t){for(let e=0;e<t.length;e++)Ht(t,e)||(t[e]=null);return t}function lr(t){const e=ju(null);for(const[r,n]of fm(t))Ht(t,r)&&(Array.isArray(n)?e[r]=TE(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=lr(n):e[r]=n);return e}function Ni(t,e){for(;t!==null;){const n=bE(t,e);if(n){if(n.get)return ht(n.get);if(typeof n.value=="function")return ht(n.value)}t=_E(t)}function r(){return null}return r}const Qd=dt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),gl=dt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ml=dt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),AE=dt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yl=dt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),NE=dt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jd=dt(["#text"]),Xd=dt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),wl=dt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Zd=dt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ns=dt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),PE=$t(/\{\{[\w\W]*|[\w\W]*\}\}/gm),jE=$t(/<%[\w\W]*|[\w\W]*%>/gm),RE=$t(/\$\{[\w\W]*/gm),CE=$t(/^data-[\-\w.\u00B7-\uFFFF]+$/),LE=$t(/^aria-[\-\w]+$/),dm=$t(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IE=$t(/^(?:\w+script|data):/i),DE=$t(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hm=$t(/^html$/i),ME=$t(/^[a-z][.\w]*(-[.\w]+)+$/i);var eh=Object.freeze({__proto__:null,ARIA_ATTR:LE,ATTR_WHITESPACE:DE,CUSTOM_ELEMENT:ME,DATA_ATTR:CE,DOCTYPE_NAME:hm,ERB_EXPR:jE,IS_ALLOWED_URI:dm,IS_SCRIPT_OR_DATA:IE,MUSTACHE_EXPR:PE,TMPLIT_EXPR:RE});const Pi={element:1,text:3,progressingInstruction:7,comment:8,document:9},UE=function(){return typeof window>"u"?null:window},BE=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},th=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function pm(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UE();const e=fe=>pm(fe);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==Pi.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:v=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:u,trustedTypes:f}=t,w=l.prototype,y=Ni(w,"cloneNode"),_=Ni(w,"remove"),p=Ni(w,"nextSibling"),h=Ni(w,"childNodes"),m=Ni(w,"parentNode");if(typeof s=="function"){const fe=r.createElement("template");fe.content&&fe.content.ownerDocument&&(r=fe.content.ownerDocument)}let g,b="";const{implementation:O,createNodeIterator:x,createDocumentFragment:S,getElementsByTagName:j}=r,{importNode:E}=n;let k=th();e.isSupported=typeof fm=="function"&&typeof m=="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:T,ERB_EXPR:P,TMPLIT_EXPR:L,DATA_ATTR:M,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:z,ATTR_WHITESPACE:H,CUSTOM_ELEMENT:U}=eh;let{IS_ALLOWED_URI:I}=eh,A=null;const R=we({},[...Qd,...gl,...ml,...yl,...Jd]);let D=null;const W=we({},[...Xd,...wl,...Zd,...ns]);let q=Object.seal(ju(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),C=null,B=null;const K=Object.seal(ju(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let G=!0,J=!0,ie=!1,he=!0,de=!1,ve=!0,ge=!1,$e=!1,Ne=!1,Y=!1,Q=!1,te=!1,ne=!0,V=!1;const re="user-content-";let le=!0,se=!1,me={},Oe=null;const ye=we({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let kt=null;const Ee=we({},["audio","video","img","source","image","track"]);let gt=null;const xo=we({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),So="http://www.w3.org/1998/Math/MathML",Oo="http://www.w3.org/2000/svg",or="http://www.w3.org/1999/xhtml";let yn=or,Ta=!1,Aa=null;const jm=we({},[So,Oo,or],pl);let To=we({},["mi","mo","mn","ms","mtext"]),Ao=we({},["annotation-xml"]);const Rm=we({},["title","style","font","a","script"]);let vi=null;const Cm=["application/xhtml+xml","text/html"],Lm="text/html";let Ge=null,wn=null;const Im=r.createElement("form"),Gc=function($){return $ instanceof RegExp||$ instanceof Function},Na=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(wn&&wn===$)){if((!$||typeof $!="object")&&($={}),$=lr($),vi=Cm.indexOf($.PARSER_MEDIA_TYPE)===-1?Lm:$.PARSER_MEDIA_TYPE,Ge=vi==="application/xhtml+xml"?pl:ys,A=Ht($,"ALLOWED_TAGS")?we({},$.ALLOWED_TAGS,Ge):R,D=Ht($,"ALLOWED_ATTR")?we({},$.ALLOWED_ATTR,Ge):W,Aa=Ht($,"ALLOWED_NAMESPACES")?we({},$.ALLOWED_NAMESPACES,pl):jm,gt=Ht($,"ADD_URI_SAFE_ATTR")?we(lr(xo),$.ADD_URI_SAFE_ATTR,Ge):xo,kt=Ht($,"ADD_DATA_URI_TAGS")?we(lr(Ee),$.ADD_DATA_URI_TAGS,Ge):Ee,Oe=Ht($,"FORBID_CONTENTS")?we({},$.FORBID_CONTENTS,Ge):ye,C=Ht($,"FORBID_TAGS")?we({},$.FORBID_TAGS,Ge):lr({}),B=Ht($,"FORBID_ATTR")?we({},$.FORBID_ATTR,Ge):lr({}),me=Ht($,"USE_PROFILES")?$.USE_PROFILES:!1,G=$.ALLOW_ARIA_ATTR!==!1,J=$.ALLOW_DATA_ATTR!==!1,ie=$.ALLOW_UNKNOWN_PROTOCOLS||!1,he=$.ALLOW_SELF_CLOSE_IN_ATTR!==!1,de=$.SAFE_FOR_TEMPLATES||!1,ve=$.SAFE_FOR_XML!==!1,ge=$.WHOLE_DOCUMENT||!1,Y=$.RETURN_DOM||!1,Q=$.RETURN_DOM_FRAGMENT||!1,te=$.RETURN_TRUSTED_TYPE||!1,Ne=$.FORCE_BODY||!1,ne=$.SANITIZE_DOM!==!1,V=$.SANITIZE_NAMED_PROPS||!1,le=$.KEEP_CONTENT!==!1,se=$.IN_PLACE||!1,I=$.ALLOWED_URI_REGEXP||dm,yn=$.NAMESPACE||or,To=$.MATHML_TEXT_INTEGRATION_POINTS||To,Ao=$.HTML_INTEGRATION_POINTS||Ao,q=$.CUSTOM_ELEMENT_HANDLING||{},$.CUSTOM_ELEMENT_HANDLING&&Gc($.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(q.tagNameCheck=$.CUSTOM_ELEMENT_HANDLING.tagNameCheck),$.CUSTOM_ELEMENT_HANDLING&&Gc($.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(q.attributeNameCheck=$.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),$.CUSTOM_ELEMENT_HANDLING&&typeof $.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(q.allowCustomizedBuiltInElements=$.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),de&&(J=!1),Q&&(Y=!0),me&&(A=we({},Jd),D=[],me.html===!0&&(we(A,Qd),we(D,Xd)),me.svg===!0&&(we(A,gl),we(D,wl),we(D,ns)),me.svgFilters===!0&&(we(A,ml),we(D,wl),we(D,ns)),me.mathMl===!0&&(we(A,yl),we(D,Zd),we(D,ns))),$.ADD_TAGS&&(typeof $.ADD_TAGS=="function"?K.tagCheck=$.ADD_TAGS:(A===R&&(A=lr(A)),we(A,$.ADD_TAGS,Ge))),$.ADD_ATTR&&(typeof $.ADD_ATTR=="function"?K.attributeCheck=$.ADD_ATTR:(D===W&&(D=lr(D)),we(D,$.ADD_ATTR,Ge))),$.ADD_URI_SAFE_ATTR&&we(gt,$.ADD_URI_SAFE_ATTR,Ge),$.FORBID_CONTENTS&&(Oe===ye&&(Oe=lr(Oe)),we(Oe,$.FORBID_CONTENTS,Ge)),le&&(A["#text"]=!0),ge&&we(A,["html","head","body"]),A.table&&(we(A,["tbody"]),delete C.tbody),$.TRUSTED_TYPES_POLICY){if(typeof $.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ai('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof $.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ai('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=$.TRUSTED_TYPES_POLICY,b=g.createHTML("")}else g===void 0&&(g=BE(f,i)),g!==null&&typeof b=="string"&&(b=g.createHTML(""));dt&&dt($),wn=$}},Yc=we({},[...gl,...ml,...AE]),Qc=we({},[...yl,...NE]),Dm=function($){let ee=m($);(!ee||!ee.tagName)&&(ee={namespaceURI:yn,tagName:"template"});const ae=ys($.tagName),Ce=ys(ee.tagName);return Aa[$.namespaceURI]?$.namespaceURI===Oo?ee.namespaceURI===or?ae==="svg":ee.namespaceURI===So?ae==="svg"&&(Ce==="annotation-xml"||To[Ce]):!!Yc[ae]:$.namespaceURI===So?ee.namespaceURI===or?ae==="math":ee.namespaceURI===Oo?ae==="math"&&Ao[Ce]:!!Qc[ae]:$.namespaceURI===or?ee.namespaceURI===Oo&&!Ao[Ce]||ee.namespaceURI===So&&!To[Ce]?!1:!Qc[ae]&&(Rm[ae]||!Yc[ae]):!!(vi==="application/xhtml+xml"&&Aa[$.namespaceURI]):!1},Xt=function($){Oi(e.removed,{element:$});try{m($).removeChild($)}catch{_($)}},Vr=function($,ee){try{Oi(e.removed,{attribute:ee.getAttributeNode($),from:ee})}catch{Oi(e.removed,{attribute:null,from:ee})}if(ee.removeAttribute($),$==="is")if(Y||Q)try{Xt(ee)}catch{}else try{ee.setAttribute($,"")}catch{}},Jc=function($){let ee=null,ae=null;if(Ne)$="<remove></remove>"+$;else{const Fe=vl($,/^[\r\n\t ]+/);ae=Fe&&Fe[0]}vi==="application/xhtml+xml"&&yn===or&&($='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$+"</body></html>");const Ce=g?g.createHTML($):$;if(yn===or)try{ee=new u().parseFromString(Ce,vi)}catch{}if(!ee||!ee.documentElement){ee=O.createDocument(yn,"template",null);try{ee.documentElement.innerHTML=Ta?b:Ce}catch{}}const rt=ee.body||ee.documentElement;return $&&ae&&rt.insertBefore(r.createTextNode(ae),rt.childNodes[0]||null),yn===or?j.call(ee,ge?"html":"body")[0]:ge?ee.documentElement:rt},Xc=function($){return x.call($.ownerDocument||$,$,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Pa=function($){return $ instanceof d&&(typeof $.nodeName!="string"||typeof $.textContent!="string"||typeof $.removeChild!="function"||!($.attributes instanceof v)||typeof $.removeAttribute!="function"||typeof $.setAttribute!="function"||typeof $.namespaceURI!="string"||typeof $.insertBefore!="function"||typeof $.hasChildNodes!="function")},Zc=function($){return typeof a=="function"&&$ instanceof a};function sr(fe,$,ee){rs(fe,ae=>{ae.call(e,$,ee,wn)})}const ef=function($){let ee=null;if(sr(k.beforeSanitizeElements,$,null),Pa($))return Xt($),!0;const ae=Ge($.nodeName);if(sr(k.uponSanitizeElement,$,{tagName:ae,allowedTags:A}),ve&&$.hasChildNodes()&&!Zc($.firstElementChild)&&lt(/<[/\w!]/g,$.innerHTML)&&lt(/<[/\w!]/g,$.textContent)||$.nodeType===Pi.progressingInstruction||ve&&$.nodeType===Pi.comment&&lt(/<[/\w]/g,$.data))return Xt($),!0;if(!(K.tagCheck instanceof Function&&K.tagCheck(ae))&&(!A[ae]||C[ae])){if(!C[ae]&&rf(ae)&&(q.tagNameCheck instanceof RegExp&&lt(q.tagNameCheck,ae)||q.tagNameCheck instanceof Function&&q.tagNameCheck(ae)))return!1;if(le&&!Oe[ae]){const Ce=m($)||$.parentNode,rt=h($)||$.childNodes;if(rt&&Ce){const Fe=rt.length;for(let mt=Fe-1;mt>=0;--mt){const ar=y(rt[mt],!0);ar.__removalCount=($.__removalCount||0)+1,Ce.insertBefore(ar,p($))}}}return Xt($),!0}return $ instanceof l&&!Dm($)||(ae==="noscript"||ae==="noembed"||ae==="noframes")&&lt(/<\/no(script|embed|frames)/i,$.innerHTML)?(Xt($),!0):(de&&$.nodeType===Pi.text&&(ee=$.textContent,rs([T,P,L],Ce=>{ee=Ti(ee,Ce," ")}),$.textContent!==ee&&(Oi(e.removed,{element:$.cloneNode()}),$.textContent=ee)),sr(k.afterSanitizeElements,$,null),!1)},tf=function($,ee,ae){if(ne&&(ee==="id"||ee==="name")&&(ae in r||ae in Im))return!1;if(!(J&&!B[ee]&&lt(M,ee))){if(!(G&&lt(F,ee))){if(!(K.attributeCheck instanceof Function&&K.attributeCheck(ee,$))){if(!D[ee]||B[ee]){if(!(rf($)&&(q.tagNameCheck instanceof RegExp&&lt(q.tagNameCheck,$)||q.tagNameCheck instanceof Function&&q.tagNameCheck($))&&(q.attributeNameCheck instanceof RegExp&&lt(q.attributeNameCheck,ee)||q.attributeNameCheck instanceof Function&&q.attributeNameCheck(ee,$))||ee==="is"&&q.allowCustomizedBuiltInElements&&(q.tagNameCheck instanceof RegExp&&lt(q.tagNameCheck,ae)||q.tagNameCheck instanceof Function&&q.tagNameCheck(ae))))return!1}else if(!gt[ee]){if(!lt(I,Ti(ae,H,""))){if(!((ee==="src"||ee==="xlink:href"||ee==="href")&&$!=="script"&&xE(ae,"data:")===0&&kt[$])){if(!(ie&&!lt(z,Ti(ae,H,"")))){if(ae)return!1}}}}}}}return!0},rf=function($){return $!=="annotation-xml"&&vl($,U)},nf=function($){sr(k.beforeSanitizeAttributes,$,null);const{attributes:ee}=$;if(!ee||Pa($))return;const ae={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:D,forceKeepAttr:void 0};let Ce=ee.length;for(;Ce--;){const rt=ee[Ce],{name:Fe,namespaceURI:mt,value:ar}=rt,_n=Ge(Fe),ja=ar;let Je=Fe==="value"?ja:SE(ja);if(ae.attrName=_n,ae.attrValue=Je,ae.keepAttr=!0,ae.forceKeepAttr=void 0,sr(k.uponSanitizeAttribute,$,ae),Je=ae.attrValue,V&&(_n==="id"||_n==="name")&&(Vr(Fe,$),Je=re+Je),ve&&lt(/((--!?|])>)|<\/(style|title|textarea)/i,Je)){Vr(Fe,$);continue}if(_n==="attributename"&&vl(Je,"href")){Vr(Fe,$);continue}if(ae.forceKeepAttr)continue;if(!ae.keepAttr){Vr(Fe,$);continue}if(!he&&lt(/\/>/i,Je)){Vr(Fe,$);continue}de&&rs([T,P,L],sf=>{Je=Ti(Je,sf," ")});const of=Ge($.nodeName);if(!tf(of,_n,Je)){Vr(Fe,$);continue}if(g&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!mt)switch(f.getAttributeType(of,_n)){case"TrustedHTML":{Je=g.createHTML(Je);break}case"TrustedScriptURL":{Je=g.createScriptURL(Je);break}}if(Je!==ja)try{mt?$.setAttributeNS(mt,Fe,Je):$.setAttribute(Fe,Je),Pa($)?Xt($):Yd(e.removed)}catch{Vr(Fe,$)}}sr(k.afterSanitizeAttributes,$,null)},Mm=function fe($){let ee=null;const ae=Xc($);for(sr(k.beforeSanitizeShadowDOM,$,null);ee=ae.nextNode();)sr(k.uponSanitizeShadowNode,ee,null),ef(ee),nf(ee),ee.content instanceof o&&fe(ee.content);sr(k.afterSanitizeShadowDOM,$,null)};return e.sanitize=function(fe){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=null,ae=null,Ce=null,rt=null;if(Ta=!fe,Ta&&(fe="<!-->"),typeof fe!="string"&&!Zc(fe))if(typeof fe.toString=="function"){if(fe=fe.toString(),typeof fe!="string")throw Ai("dirty is not a string, aborting")}else throw Ai("toString is not a function");if(!e.isSupported)return fe;if($e||Na($),e.removed=[],typeof fe=="string"&&(se=!1),se){if(fe.nodeName){const ar=Ge(fe.nodeName);if(!A[ar]||C[ar])throw Ai("root node is forbidden and cannot be sanitized in-place")}}else if(fe instanceof a)ee=Jc("<!---->"),ae=ee.ownerDocument.importNode(fe,!0),ae.nodeType===Pi.element&&ae.nodeName==="BODY"||ae.nodeName==="HTML"?ee=ae:ee.appendChild(ae);else{if(!Y&&!de&&!ge&&fe.indexOf("<")===-1)return g&&te?g.createHTML(fe):fe;if(ee=Jc(fe),!ee)return Y?null:te?b:""}ee&&Ne&&Xt(ee.firstChild);const Fe=Xc(se?fe:ee);for(;Ce=Fe.nextNode();)ef(Ce),nf(Ce),Ce.content instanceof o&&Mm(Ce.content);if(se)return fe;if(Y){if(Q)for(rt=S.call(ee.ownerDocument);ee.firstChild;)rt.appendChild(ee.firstChild);else rt=ee;return(D.shadowroot||D.shadowrootmode)&&(rt=E.call(n,rt,!0)),rt}let mt=ge?ee.outerHTML:ee.innerHTML;return ge&&A["!doctype"]&&ee.ownerDocument&&ee.ownerDocument.doctype&&ee.ownerDocument.doctype.name&&lt(hm,ee.ownerDocument.doctype.name)&&(mt="<!DOCTYPE "+ee.ownerDocument.doctype.name+`>
`+mt),de&&rs([T,P,L],ar=>{mt=Ti(mt,ar," ")}),g&&te?g.createHTML(mt):mt},e.setConfig=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Na(fe),$e=!0},e.clearConfig=function(){wn=null,$e=!1},e.isValidAttribute=function(fe,$,ee){wn||Na({});const ae=Ge(fe),Ce=Ge($);return tf(ae,Ce,ee)},e.addHook=function(fe,$){typeof $=="function"&&Oi(k[fe],$)},e.removeHook=function(fe,$){if($!==void 0){const ee=EE(k[fe],$);return ee===-1?void 0:kE(k[fe],ee,1)[0]}return Yd(k[fe])},e.removeHooks=function(fe){k[fe]=[]},e.removeAllHooks=function(){k=th()},e}var $E=pm();const qE=({entry:t,onEdit:e,onDelete:r})=>{const n=gE(t.created_at),i=mE(t.created_at);return N.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-lg shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in",children:[N.jsxs("div",{className:"border-b border-slate-200 dark:border-slate-700 pb-4 mb-4",children:[N.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[N.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:t.title}),N.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[n," (",i,")"]})]}),N.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[t.mood&&N.jsx("span",{className:"text-3xl","aria-label":`Mood: ${t.mood}`,children:t.mood}),t.tags&&t.tags.length>0&&N.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(o=>N.jsx("span",{className:"text-sm font-medium bg-indigo-100 text-indigo-800 px-2.5 py-1 rounded-full dark:bg-indigo-900/50 dark:text-indigo-300",children:o},o))})]})]}),N.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none my-6",dangerouslySetInnerHTML:{__html:$E.sanitize(t.content)}}),N.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-6 flex justify-end gap-3",children:[N.jsxs("button",{onClick:e,className:"flex items-center gap-2 bg-slate-100 text-slate-700 font-semibold px-4 py-2 rounded-lg hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 transition-colors",children:[N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[N.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),N.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),"Edit"]}),N.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-red-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Delete"]})]})]})};function FE(){this.__data__=[],this.size=0}var zE=FE;function HE(t,e){return t===e||t!==t&&e!==e}var vm=HE,WE=vm;function VE(t,e){for(var r=t.length;r--;)if(WE(t[r][0],e))return r;return-1}var _a=VE,KE=_a,GE=Array.prototype,YE=GE.splice;function QE(t){var e=this.__data__,r=KE(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():YE.call(e,r,1),--this.size,!0}var JE=QE,XE=_a;function ZE(t){var e=this.__data__,r=XE(e,t);return r<0?void 0:e[r][1]}var ek=ZE,tk=_a;function rk(t){return tk(this.__data__,t)>-1}var nk=rk,ik=_a;function ok(t,e){var r=this.__data__,n=ik(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var sk=ok,ak=zE,lk=JE,uk=ek,ck=nk,fk=sk;function ui(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ui.prototype.clear=ak;ui.prototype.delete=lk;ui.prototype.get=uk;ui.prototype.has=ck;ui.prototype.set=fk;var ba=ui,dk=ba;function hk(){this.__data__=new dk,this.size=0}var pk=hk;function vk(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var gk=vk;function mk(t){return this.__data__.get(t)}var yk=mk;function wk(t){return this.__data__.has(t)}var _k=wk,bk=typeof Tt=="object"&&Tt&&Tt.Object===Object&&Tt,gm=bk,Ek=gm,kk=typeof self=="object"&&self&&self.Object===Object&&self,xk=Ek||kk||Function("return this")(),br=xk,Sk=br,Ok=Sk.Symbol,Wc=Ok,rh=Wc,mm=Object.prototype,Tk=mm.hasOwnProperty,Ak=mm.toString,ji=rh?rh.toStringTag:void 0;function Nk(t){var e=Tk.call(t,ji),r=t[ji];try{t[ji]=void 0;var n=!0}catch{}var i=Ak.call(t);return n&&(e?t[ji]=r:delete t[ji]),i}var Pk=Nk,jk=Object.prototype,Rk=jk.toString;function Ck(t){return Rk.call(t)}var Lk=Ck,nh=Wc,Ik=Pk,Dk=Lk,Mk="[object Null]",Uk="[object Undefined]",ih=nh?nh.toStringTag:void 0;function Bk(t){return t==null?t===void 0?Uk:Mk:ih&&ih in Object(t)?Ik(t):Dk(t)}var Ea=Bk;function $k(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ym=$k,qk=Ea,Fk=ym,zk="[object AsyncFunction]",Hk="[object Function]",Wk="[object GeneratorFunction]",Vk="[object Proxy]";function Kk(t){if(!Fk(t))return!1;var e=qk(t);return e==Hk||e==Wk||e==zk||e==Vk}var wm=Kk,Gk=br,Yk=Gk["__core-js_shared__"],Qk=Yk,_l=Qk,oh=function(){var t=/[^.]+$/.exec(_l&&_l.keys&&_l.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Jk(t){return!!oh&&oh in t}var Xk=Jk,Zk=Function.prototype,ex=Zk.toString;function tx(t){if(t!=null){try{return ex.call(t)}catch{}try{return t+""}catch{}}return""}var _m=tx,rx=wm,nx=Xk,ix=ym,ox=_m,sx=/[\\^$.*+?()[\]{}|]/g,ax=/^\[object .+?Constructor\]$/,lx=Function.prototype,ux=Object.prototype,cx=lx.toString,fx=ux.hasOwnProperty,dx=RegExp("^"+cx.call(fx).replace(sx,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hx(t){if(!ix(t)||nx(t))return!1;var e=rx(t)?dx:ax;return e.test(ox(t))}var px=hx;function vx(t,e){return t==null?void 0:t[e]}var gx=vx,mx=px,yx=gx;function wx(t,e){var r=yx(t,e);return mx(r)?r:void 0}var ci=wx,_x=ci,bx=br,Ex=_x(bx,"Map"),Vc=Ex,kx=ci,xx=kx(Object,"create"),ka=xx,sh=ka;function Sx(){this.__data__=sh?sh(null):{},this.size=0}var Ox=Sx;function Tx(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ax=Tx,Nx=ka,Px="__lodash_hash_undefined__",jx=Object.prototype,Rx=jx.hasOwnProperty;function Cx(t){var e=this.__data__;if(Nx){var r=e[t];return r===Px?void 0:r}return Rx.call(e,t)?e[t]:void 0}var Lx=Cx,Ix=ka,Dx=Object.prototype,Mx=Dx.hasOwnProperty;function Ux(t){var e=this.__data__;return Ix?e[t]!==void 0:Mx.call(e,t)}var Bx=Ux,$x=ka,qx="__lodash_hash_undefined__";function Fx(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$x&&e===void 0?qx:e,this}var zx=Fx,Hx=Ox,Wx=Ax,Vx=Lx,Kx=Bx,Gx=zx;function fi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fi.prototype.clear=Hx;fi.prototype.delete=Wx;fi.prototype.get=Vx;fi.prototype.has=Kx;fi.prototype.set=Gx;var Yx=fi,ah=Yx,Qx=ba,Jx=Vc;function Xx(){this.size=0,this.__data__={hash:new ah,map:new(Jx||Qx),string:new ah}}var Zx=Xx;function eS(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var tS=eS,rS=tS;function nS(t,e){var r=t.__data__;return rS(e)?r[typeof e=="string"?"string":"hash"]:r.map}var xa=nS,iS=xa;function oS(t){var e=iS(this,t).delete(t);return this.size-=e?1:0,e}var sS=oS,aS=xa;function lS(t){return aS(this,t).get(t)}var uS=lS,cS=xa;function fS(t){return cS(this,t).has(t)}var dS=fS,hS=xa;function pS(t,e){var r=hS(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var vS=pS,gS=Zx,mS=sS,yS=uS,wS=dS,_S=vS;function di(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}di.prototype.clear=gS;di.prototype.delete=mS;di.prototype.get=yS;di.prototype.has=wS;di.prototype.set=_S;var bm=di,bS=ba,ES=Vc,kS=bm,xS=200;function SS(t,e){var r=this.__data__;if(r instanceof bS){var n=r.__data__;if(!ES||n.length<xS-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new kS(n)}return r.set(t,e),this.size=r.size,this}var OS=SS,TS=ba,AS=pk,NS=gk,PS=yk,jS=_k,RS=OS;function hi(t){var e=this.__data__=new TS(t);this.size=e.size}hi.prototype.clear=AS;hi.prototype.delete=NS;hi.prototype.get=PS;hi.prototype.has=jS;hi.prototype.set=RS;var CS=hi,LS="__lodash_hash_undefined__";function IS(t){return this.__data__.set(t,LS),this}var DS=IS;function MS(t){return this.__data__.has(t)}var US=MS,BS=bm,$S=DS,qS=US;function Js(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new BS;++e<r;)this.add(t[e])}Js.prototype.add=Js.prototype.push=$S;Js.prototype.has=qS;var FS=Js;function zS(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var HS=zS;function WS(t,e){return t.has(e)}var VS=WS,KS=FS,GS=HS,YS=VS,QS=1,JS=2;function XS(t,e,r,n,i,o){var s=r&QS,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),v=o.get(e);if(c&&v)return c==e&&v==t;var d=-1,u=!0,f=r&JS?new KS:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var w=t[d],y=e[d];if(n)var _=s?n(y,w,d,e,t,o):n(w,y,d,t,e,o);if(_!==void 0){if(_)continue;u=!1;break}if(f){if(!GS(e,function(p,h){if(!YS(f,h)&&(w===p||i(w,p,r,n,o)))return f.push(h)})){u=!1;break}}else if(!(w===y||i(w,y,r,n,o))){u=!1;break}}return o.delete(t),o.delete(e),u}var Em=XS,ZS=br,eO=ZS.Uint8Array,tO=eO;function rO(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var nO=rO;function iO(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var oO=iO,lh=Wc,uh=tO,sO=vm,aO=Em,lO=nO,uO=oO,cO=1,fO=2,dO="[object Boolean]",hO="[object Date]",pO="[object Error]",vO="[object Map]",gO="[object Number]",mO="[object RegExp]",yO="[object Set]",wO="[object String]",_O="[object Symbol]",bO="[object ArrayBuffer]",EO="[object DataView]",ch=lh?lh.prototype:void 0,bl=ch?ch.valueOf:void 0;function kO(t,e,r,n,i,o,s){switch(r){case EO:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case bO:return!(t.byteLength!=e.byteLength||!o(new uh(t),new uh(e)));case dO:case hO:case gO:return sO(+t,+e);case pO:return t.name==e.name&&t.message==e.message;case mO:case wO:return t==e+"";case vO:var a=lO;case yO:var l=n&cO;if(a||(a=uO),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=fO,s.set(t,e);var v=aO(a(t),a(e),n,i,o,s);return s.delete(t),v;case _O:if(bl)return bl.call(t)==bl.call(e)}return!1}var xO=kO;function SO(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var OO=SO,TO=Array.isArray,Kc=TO,AO=OO,NO=Kc;function PO(t,e,r){var n=e(t);return NO(t)?n:AO(n,r(t))}var jO=PO;function RO(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}var CO=RO;function LO(){return[]}var IO=LO,DO=CO,MO=IO,UO=Object.prototype,BO=UO.propertyIsEnumerable,fh=Object.getOwnPropertySymbols,$O=fh?function(t){return t==null?[]:(t=Object(t),DO(fh(t),function(e){return BO.call(t,e)}))}:MO,qO=$O;function FO(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var zO=FO;function HO(t){return t!=null&&typeof t=="object"}var Sa=HO,WO=Ea,VO=Sa,KO="[object Arguments]";function GO(t){return VO(t)&&WO(t)==KO}var YO=GO,dh=YO,QO=Sa,km=Object.prototype,JO=km.hasOwnProperty,XO=km.propertyIsEnumerable,ZO=dh(function(){return arguments}())?dh:function(t){return QO(t)&&JO.call(t,"callee")&&!XO.call(t,"callee")},e2=ZO,Xs={exports:{}};function t2(){return!1}var r2=t2;Xs.exports;(function(t,e){var r=br,n=r2,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?r.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||n;t.exports=c})(Xs,Xs.exports);var xm=Xs.exports,n2=9007199254740991,i2=/^(?:0|[1-9]\d*)$/;function o2(t,e){var r=typeof t;return e=e??n2,!!e&&(r=="number"||r!="symbol"&&i2.test(t))&&t>-1&&t%1==0&&t<e}var s2=o2,a2=9007199254740991;function l2(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=a2}var Sm=l2,u2=Ea,c2=Sm,f2=Sa,d2="[object Arguments]",h2="[object Array]",p2="[object Boolean]",v2="[object Date]",g2="[object Error]",m2="[object Function]",y2="[object Map]",w2="[object Number]",_2="[object Object]",b2="[object RegExp]",E2="[object Set]",k2="[object String]",x2="[object WeakMap]",S2="[object ArrayBuffer]",O2="[object DataView]",T2="[object Float32Array]",A2="[object Float64Array]",N2="[object Int8Array]",P2="[object Int16Array]",j2="[object Int32Array]",R2="[object Uint8Array]",C2="[object Uint8ClampedArray]",L2="[object Uint16Array]",I2="[object Uint32Array]",je={};je[T2]=je[A2]=je[N2]=je[P2]=je[j2]=je[R2]=je[C2]=je[L2]=je[I2]=!0;je[d2]=je[h2]=je[S2]=je[p2]=je[O2]=je[v2]=je[g2]=je[m2]=je[y2]=je[w2]=je[_2]=je[b2]=je[E2]=je[k2]=je[x2]=!1;function D2(t){return f2(t)&&c2(t.length)&&!!je[u2(t)]}var M2=D2;function U2(t){return function(e){return t(e)}}var B2=U2,Zs={exports:{}};Zs.exports;(function(t,e){var r=gm,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Zs,Zs.exports);var $2=Zs.exports,q2=M2,F2=B2,hh=$2,ph=hh&&hh.isTypedArray,z2=ph?F2(ph):q2,Om=z2,H2=zO,W2=e2,V2=Kc,K2=xm,G2=s2,Y2=Om,Q2=Object.prototype,J2=Q2.hasOwnProperty;function X2(t,e){var r=V2(t),n=!r&&W2(t),i=!r&&!n&&K2(t),o=!r&&!n&&!i&&Y2(t),s=r||n||i||o,a=s?H2(t.length,String):[],l=a.length;for(var c in t)(e||J2.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||G2(c,l)))&&a.push(c);return a}var Z2=X2,eT=Object.prototype;function tT(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||eT;return t===r}var rT=tT;function nT(t,e){return function(r){return t(e(r))}}var iT=nT,oT=iT,sT=oT(Object.keys,Object),aT=sT,lT=rT,uT=aT,cT=Object.prototype,fT=cT.hasOwnProperty;function dT(t){if(!lT(t))return uT(t);var e=[];for(var r in Object(t))fT.call(t,r)&&r!="constructor"&&e.push(r);return e}var hT=dT,pT=wm,vT=Sm;function gT(t){return t!=null&&vT(t.length)&&!pT(t)}var mT=gT,yT=Z2,wT=hT,_T=mT;function bT(t){return _T(t)?yT(t):wT(t)}var ET=bT,kT=jO,xT=qO,ST=ET;function OT(t){return kT(t,ST,xT)}var TT=OT,vh=TT,AT=1,NT=Object.prototype,PT=NT.hasOwnProperty;function jT(t,e,r,n,i,o){var s=r&AT,a=vh(t),l=a.length,c=vh(e),v=c.length;if(l!=v&&!s)return!1;for(var d=l;d--;){var u=a[d];if(!(s?u in e:PT.call(e,u)))return!1}var f=o.get(t),w=o.get(e);if(f&&w)return f==e&&w==t;var y=!0;o.set(t,e),o.set(e,t);for(var _=s;++d<l;){u=a[d];var p=t[u],h=e[u];if(n)var m=s?n(h,p,u,e,t,o):n(p,h,u,t,e,o);if(!(m===void 0?p===h||i(p,h,r,n,o):m)){y=!1;break}_||(_=u=="constructor")}if(y&&!_){var g=t.constructor,b=e.constructor;g!=b&&"constructor"in t&&"constructor"in e&&!(typeof g=="function"&&g instanceof g&&typeof b=="function"&&b instanceof b)&&(y=!1)}return o.delete(t),o.delete(e),y}var RT=jT,CT=ci,LT=br,IT=CT(LT,"DataView"),DT=IT,MT=ci,UT=br,BT=MT(UT,"Promise"),$T=BT,qT=ci,FT=br,zT=qT(FT,"Set"),HT=zT,WT=ci,VT=br,KT=WT(VT,"WeakMap"),GT=KT,Lu=DT,Iu=Vc,Du=$T,Mu=HT,Uu=GT,Tm=Ea,pi=_m,gh="[object Map]",YT="[object Object]",mh="[object Promise]",yh="[object Set]",wh="[object WeakMap]",_h="[object DataView]",QT=pi(Lu),JT=pi(Iu),XT=pi(Du),ZT=pi(Mu),eA=pi(Uu),Zr=Tm;(Lu&&Zr(new Lu(new ArrayBuffer(1)))!=_h||Iu&&Zr(new Iu)!=gh||Du&&Zr(Du.resolve())!=mh||Mu&&Zr(new Mu)!=yh||Uu&&Zr(new Uu)!=wh)&&(Zr=function(t){var e=Tm(t),r=e==YT?t.constructor:void 0,n=r?pi(r):"";if(n)switch(n){case QT:return _h;case JT:return gh;case XT:return mh;case ZT:return yh;case eA:return wh}return e});var tA=Zr,El=CS,rA=Em,nA=xO,iA=RT,bh=tA,Eh=Kc,kh=xm,oA=Om,sA=1,xh="[object Arguments]",Sh="[object Array]",is="[object Object]",aA=Object.prototype,Oh=aA.hasOwnProperty;function lA(t,e,r,n,i,o){var s=Eh(t),a=Eh(e),l=s?Sh:bh(t),c=a?Sh:bh(e);l=l==xh?is:l,c=c==xh?is:c;var v=l==is,d=c==is,u=l==c;if(u&&kh(t)){if(!kh(e))return!1;s=!0,v=!1}if(u&&!v)return o||(o=new El),s||oA(t)?rA(t,e,r,n,i,o):nA(t,e,l,r,n,i,o);if(!(r&sA)){var f=v&&Oh.call(t,"__wrapped__"),w=d&&Oh.call(e,"__wrapped__");if(f||w){var y=f?t.value():t,_=w?e.value():e;return o||(o=new El),i(y,_,r,n,o)}}return u?(o||(o=new El),iA(t,e,r,n,i,o)):!1}var uA=lA,cA=uA,Th=Sa;function Am(t,e,r,n,i){return t===e?!0:t==null||e==null||!Th(t)&&!Th(e)?t!==t&&e!==e:cA(t,e,r,n,Am,i)}var fA=Am,dA=fA;function hA(t,e){return dA(t,e)}var pA=hA,Nm={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:Tt,function(){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return r[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),c=i(46),v=i(47),d=i(48),u=i(49),f=i(12),w=i(32),y=i(33),_=i(31),p=i(1),h={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:d.default,Scroll:l.default,Block:v.default,Inline:c.default,Text:u.default,Attributor:{Attribute:f.default,Class:w.default,Style:y.default,Store:_.default}};n.default=h},function(r,n,i){var o=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])};return function(p,h){_(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(_){o(p,_);function p(h){var m=this;return h="[Parchment] "+h,m=_.call(this,h)||this,m.message=h,m.name=m.constructor.name,m}return p}(Error);n.ParchmentError=s;var a={},l={},c={},v={};n.DATA_KEY="__blot";var d;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(d=n.Scope||(n.Scope={}));function u(_,p){var h=w(_);if(h==null)throw new s("Unable to create "+_+" blot");var m=h,g=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:m.create(p);return new m(g,p)}n.create=u;function f(_,p){return p===void 0&&(p=!1),_==null?null:_[n.DATA_KEY]!=null?_[n.DATA_KEY].blot:p?f(_.parentNode,p):null}n.find=f;function w(_,p){p===void 0&&(p=d.ANY);var h;if(typeof _=="string")h=v[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)h=v.text;else if(typeof _=="number")_&d.LEVEL&d.BLOCK?h=v.block:_&d.LEVEL&d.INLINE&&(h=v.inline);else if(_ instanceof HTMLElement){var m=(_.getAttribute("class")||"").split(/\s+/);for(var g in m)if(h=l[m[g]],h)break;h=h||c[_.tagName]}return h==null?null:p&d.LEVEL&h.scope&&p&d.TYPE&h.scope?h:null}n.query=w;function y(){for(var _=[],p=0;p<arguments.length;p++)_[p]=arguments[p];if(_.length>1)return _.map(function(g){return y(g)});var h=_[0];if(typeof h.blotName!="string"&&typeof h.attrName!="string")throw new s("Invalid definition");if(h.blotName==="abstract")throw new s("Cannot register abstract class");if(v[h.blotName||h.attrName]=h,typeof h.keyName=="string")a[h.keyName]=h;else if(h.className!=null&&(l[h.className]=h),h.tagName!=null){Array.isArray(h.tagName)?h.tagName=h.tagName.map(function(g){return g.toUpperCase()}):h.tagName=h.tagName.toUpperCase();var m=Array.isArray(h.tagName)?h.tagName:[h.tagName];m.forEach(function(g){(c[g]==null||h.className==null)&&(c[g]=h)})}return h}n.register=y},function(r,n,i){var o=i(51),s=i(11),a=i(3),l=i(20),c="\0",v=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};v.prototype.insert=function(d,u){var f={};return d.length===0?this:(f.insert=d,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(f.attributes=u),this.push(f))},v.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},v.prototype.retain=function(d,u){if(d<=0)return this;var f={retain:d};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(f.attributes=u),this.push(f)},v.prototype.push=function(d){var u=this.ops.length,f=this.ops[u-1];if(d=a(!0,{},d),typeof f=="object"){if(typeof d.delete=="number"&&typeof f.delete=="number")return this.ops[u-1]={delete:f.delete+d.delete},this;if(typeof f.delete=="number"&&d.insert!=null&&(u-=1,f=this.ops[u-1],typeof f!="object"))return this.ops.unshift(d),this;if(s(d.attributes,f.attributes)){if(typeof d.insert=="string"&&typeof f.insert=="string")return this.ops[u-1]={insert:f.insert+d.insert},typeof d.attributes=="object"&&(this.ops[u-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof f.retain=="number")return this.ops[u-1]={retain:f.retain+d.retain},typeof d.attributes=="object"&&(this.ops[u-1].attributes=d.attributes),this}}return u===this.ops.length?this.ops.push(d):this.ops.splice(u,0,d),this},v.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},v.prototype.filter=function(d){return this.ops.filter(d)},v.prototype.forEach=function(d){this.ops.forEach(d)},v.prototype.map=function(d){return this.ops.map(d)},v.prototype.partition=function(d){var u=[],f=[];return this.forEach(function(w){var y=d(w)?u:f;y.push(w)}),[u,f]},v.prototype.reduce=function(d,u){return this.ops.reduce(d,u)},v.prototype.changeLength=function(){return this.reduce(function(d,u){return u.insert?d+l.length(u):u.delete?d-u.delete:d},0)},v.prototype.length=function(){return this.reduce(function(d,u){return d+l.length(u)},0)},v.prototype.slice=function(d,u){d=d||0,typeof u!="number"&&(u=1/0);for(var f=[],w=l.iterator(this.ops),y=0;y<u&&w.hasNext();){var _;y<d?_=w.next(d-y):(_=w.next(u-y),f.push(_)),y+=l.length(_)}return new v(f)},v.prototype.compose=function(d){var u=l.iterator(this.ops),f=l.iterator(d.ops),w=[],y=f.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var _=y.retain;u.peekType()==="insert"&&u.peekLength()<=_;)_-=u.peekLength(),w.push(u.next());y.retain-_>0&&f.next(y.retain-_)}for(var p=new v(w);u.hasNext()||f.hasNext();)if(f.peekType()==="insert")p.push(f.next());else if(u.peekType()==="delete")p.push(u.next());else{var h=Math.min(u.peekLength(),f.peekLength()),m=u.next(h),g=f.next(h);if(typeof g.retain=="number"){var b={};typeof m.retain=="number"?b.retain=h:b.insert=m.insert;var O=l.attributes.compose(m.attributes,g.attributes,typeof m.retain=="number");if(O&&(b.attributes=O),p.push(b),!f.hasNext()&&s(p.ops[p.ops.length-1],b)){var x=new v(u.rest());return p.concat(x).chop()}}else typeof g.delete=="number"&&typeof m.retain=="number"&&p.push(g)}return p.chop()},v.prototype.concat=function(d){var u=new v(this.ops.slice());return d.ops.length>0&&(u.push(d.ops[0]),u.ops=u.ops.concat(d.ops.slice(1))),u},v.prototype.diff=function(d,u){if(this.ops===d.ops)return new v;var f=[this,d].map(function(h){return h.map(function(m){if(m.insert!=null)return typeof m.insert=="string"?m.insert:c;var g=h===d?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),w=new v,y=o(f[0],f[1],u),_=l.iterator(this.ops),p=l.iterator(d.ops);return y.forEach(function(h){for(var m=h[1].length;m>0;){var g=0;switch(h[0]){case o.INSERT:g=Math.min(p.peekLength(),m),w.push(p.next(g));break;case o.DELETE:g=Math.min(m,_.peekLength()),_.next(g),w.delete(g);break;case o.EQUAL:g=Math.min(_.peekLength(),p.peekLength(),m);var b=_.next(g),O=p.next(g);s(b.insert,O.insert)?w.retain(g,l.attributes.diff(b.attributes,O.attributes)):w.push(O).delete(g);break}m-=g}}),w.chop()},v.prototype.eachLine=function(d,u){u=u||`
`;for(var f=l.iterator(this.ops),w=new v,y=0;f.hasNext();){if(f.peekType()!=="insert")return;var _=f.peek(),p=l.length(_)-f.peekLength(),h=typeof _.insert=="string"?_.insert.indexOf(u,p)-p:-1;if(h<0)w.push(f.next());else if(h>0)w.push(f.next(h));else{if(d(w,f.next(1).attributes||{},y)===!1)return;y+=1,w=new v}}w.length()>0&&d(w,{},y)},v.prototype.transform=function(d,u){if(u=!!u,typeof d=="number")return this.transformPosition(d,u);for(var f=l.iterator(this.ops),w=l.iterator(d.ops),y=new v;f.hasNext()||w.hasNext();)if(f.peekType()==="insert"&&(u||w.peekType()!=="insert"))y.retain(l.length(f.next()));else if(w.peekType()==="insert")y.push(w.next());else{var _=Math.min(f.peekLength(),w.peekLength()),p=f.next(_),h=w.next(_);if(p.delete)continue;h.delete?y.push(h):y.retain(_,l.attributes.transform(p.attributes,h.attributes,u))}return y.chop()},v.prototype.transformPosition=function(d,u){u=!!u;for(var f=l.iterator(this.ops),w=0;f.hasNext()&&w<=d;){var y=f.peekLength(),_=f.peekType();if(f.next(),_==="delete"){d-=Math.min(y,d-w);continue}else _==="insert"&&(w<d||!u)&&(d+=y);w+=y}return d},r.exports=v},function(r,n){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(f){return typeof Array.isArray=="function"?Array.isArray(f):o.call(f)==="[object Array]"},c=function(f){if(!f||o.call(f)!=="[object Object]")return!1;var w=i.call(f,"constructor"),y=f.constructor&&f.constructor.prototype&&i.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!w&&!y)return!1;var _;for(_ in f);return typeof _>"u"||i.call(f,_)},v=function(f,w){s&&w.name==="__proto__"?s(f,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):f[w.name]=w.newValue},d=function(f,w){if(w==="__proto__")if(i.call(f,w)){if(a)return a(f,w).value}else return;return f[w]};r.exports=function u(){var f,w,y,_,p,h,m=arguments[0],g=1,b=arguments.length,O=!1;for(typeof m=="boolean"&&(O=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<b;++g)if(f=arguments[g],f!=null)for(w in f)y=d(m,w),_=d(f,w),m!==_&&(O&&_&&(c(_)||(p=l(_)))?(p?(p=!1,h=y&&l(y)?y:[]):h=y&&c(y)?y:{},v(m,{name:w,newValue:u(O,h,_)})):typeof _<"u"&&v(m,{name:w,newValue:_}));return m}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var o=function(){function k(T,P){for(var L=0;L<P.length;L++){var M=P[L];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,P,L){return P&&k(T.prototype,P),L&&k(T,L),T}}(),s=function k(T,P,L){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,P);if(M===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:k(F,P,L)}else{if("value"in M)return M.value;var z=M.get;return z===void 0?void 0:z.call(L)}},a=i(3),l=m(a),c=i(2),v=m(c),d=i(0),u=m(d),f=i(16),w=m(f),y=i(6),_=m(y),p=i(7),h=m(p);function m(k){return k&&k.__esModule?k:{default:k}}function g(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function b(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function O(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var x=1,S=function(k){O(T,k);function T(){return g(this,T),b(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"attach",value:function(){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,M){var F=u.default.query(L,u.default.Scope.BLOCK_ATTRIBUTE);F!=null&&this.attributes.attribute(F,M)}},{key:"formatAt",value:function(L,M,F,z){this.format(F,z)}},{key:"insertAt",value:function(L,M,F){if(typeof M=="string"&&M.endsWith(`
`)){var z=u.default.create(j.blotName);this.parent.insertBefore(z,L===0?this:this.next),z.insertAt(0,M.slice(0,-1))}else s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,L,M,F)}}]),T}(u.default.Embed);S.scope=u.default.Scope.BLOCK_BLOT;var j=function(k){O(T,k);function T(P){g(this,T);var L=b(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P));return L.cache={},L}return o(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(L,M){return M.length()===0?L:L.insert(M.value(),E(M))},new v.default).insert(`
`,E(this))),this.cache.delta}},{key:"deleteAt",value:function(L,M){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,L,M),this.cache={}}},{key:"formatAt",value:function(L,M,F,z){M<=0||(u.default.query(F,u.default.Scope.BLOCK)?L+M===this.length()&&this.format(F,z):s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,L,Math.min(M,this.length()-L-1),F,z),this.cache={})}},{key:"insertAt",value:function(L,M,F){if(F!=null)return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,L,M,F);if(M.length!==0){var z=M.split(`
`),H=z.shift();H.length>0&&(L<this.length()-1||this.children.tail==null?s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),H):this.children.tail.insertAt(this.children.tail.length(),H),this.cache={});var U=this;z.reduce(function(I,A){return U=U.split(I,!0),U.insertAt(0,A),A.length},L+H.length)}}},{key:"insertBefore",value:function(L,M){var F=this.children.head;s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,L,M),F instanceof w.default&&F.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+x),this.cache.length}},{key:"moveChildren",value:function(L,M){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,L,M),this.cache={}}},{key:"optimize",value:function(L){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(L===0||L>=this.length()-x)){var F=this.clone();return L===0?(this.parent.insertBefore(F,this),this):(this.parent.insertBefore(F,this.next),F)}else{var z=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,L,M);return this.cache={},z}}}]),T}(u.default.Block);j.blotName="block",j.tagName="P",j.defaultChild="break",j.allowedChildren=[_.default,u.default.Embed,h.default];function E(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(T=(0,l.default)(T,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?T:E(k.parent,T)}n.bubbleFormats=E,n.BlockEmbed=S,n.default=j},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},s=function(){function U(I,A){var R=[],D=!0,W=!1,q=void 0;try{for(var C=I[Symbol.iterator](),B;!(D=(B=C.next()).done)&&(R.push(B.value),!(A&&R.length===A));D=!0);}catch(K){W=!0,q=K}finally{try{!D&&C.return&&C.return()}finally{if(W)throw q}}return R}return function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return U(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function U(I,A){for(var R=0;R<A.length;R++){var D=A[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,A,R){return A&&U(I.prototype,A),R&&U(I,R),I}}();i(50);var l=i(2),c=E(l),v=i(14),d=E(v),u=i(8),f=E(u),w=i(9),y=E(w),_=i(0),p=E(_),h=i(15),m=E(h),g=i(3),b=E(g),O=i(10),x=E(O),S=i(34),j=E(S);function E(U){return U&&U.__esModule?U:{default:U}}function k(U,I,A){return I in U?Object.defineProperty(U,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):U[I]=A,U}function T(U,I){if(!(U instanceof I))throw new TypeError("Cannot call a class as a function")}var P=(0,x.default)("quill"),L=function(){a(U,null,[{key:"debug",value:function(A){A===!0&&(A="log"),x.default.level(A)}},{key:"find",value:function(A){return A.__quill||p.default.find(A)}},{key:"import",value:function(A){return this.imports[A]==null&&P.error("Cannot import "+A+". Are you sure it was registered?"),this.imports[A]}},{key:"register",value:function(A,R){var D=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof A!="string"){var q=A.attrName||A.blotName;typeof q=="string"?this.register("formats/"+q,A,R):Object.keys(A).forEach(function(C){D.register(C,A[C],R)})}else this.imports[A]!=null&&!W&&P.warn("Overwriting "+A+" with",R),this.imports[A]=R,(A.startsWith("blots/")||A.startsWith("formats/"))&&R.blotName!=="abstract"?p.default.register(R):A.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function U(I){var A=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,U),this.options=M(I,R),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",I);this.options.debug&&U.debug(this.options.debug);var D=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new m.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(q){q===f.default.events.TEXT_CHANGE&&A.root.classList.toggle("ql-blank",A.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(q,C){var B=A.selection.lastRange,K=B&&B.length===0?B.index:void 0;F.call(A,function(){return A.editor.update(null,C,K)},q)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+D+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(U,[{key:"addContainer",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof A=="string"){var D=A;A=document.createElement("div"),A.classList.add(D)}return this.container.insertBefore(A,R),A}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(A,R,D){var W=this,q=z(A,R,D),C=s(q,4);return A=C[0],R=C[1],D=C[3],F.call(this,function(){return W.editor.deleteText(A,R)},D,A,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(A),this.container.classList.toggle("ql-disabled",!A)}},{key:"focus",value:function(){var A=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=A,this.scrollIntoView()}},{key:"format",value:function(A,R){var D=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;return F.call(this,function(){var q=D.getSelection(!0),C=new c.default;if(q==null)return C;if(p.default.query(A,p.default.Scope.BLOCK))C=D.editor.formatLine(q.index,q.length,k({},A,R));else{if(q.length===0)return D.selection.format(A,R),C;C=D.editor.formatText(q.index,q.length,k({},A,R))}return D.setSelection(q,f.default.sources.SILENT),C},W)}},{key:"formatLine",value:function(A,R,D,W,q){var C=this,B=void 0,K=z(A,R,D,W,q),G=s(K,4);return A=G[0],R=G[1],B=G[2],q=G[3],F.call(this,function(){return C.editor.formatLine(A,R,B)},q,A,0)}},{key:"formatText",value:function(A,R,D,W,q){var C=this,B=void 0,K=z(A,R,D,W,q),G=s(K,4);return A=G[0],R=G[1],B=G[2],q=G[3],F.call(this,function(){return C.editor.formatText(A,R,B)},q,A,0)}},{key:"getBounds",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=void 0;typeof A=="number"?D=this.selection.getBounds(A,R):D=this.selection.getBounds(A.index,A.length);var W=this.container.getBoundingClientRect();return{bottom:D.bottom-W.top,height:D.height,left:D.left-W.left,right:D.right-W.left,top:D.top-W.top,width:D.width}}},{key:"getContents",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,D=z(A,R),W=s(D,2);return A=W[0],R=W[1],this.editor.getContents(A,R)}},{key:"getFormat",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof A=="number"?this.editor.getFormat(A,R):this.editor.getFormat(A.index,A.length)}},{key:"getIndex",value:function(A){return A.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(A){return this.scroll.leaf(A)}},{key:"getLine",value:function(A){return this.scroll.line(A)}},{key:"getLines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof A!="number"?this.scroll.lines(A.index,A.length):this.scroll.lines(A,R)}},{key:"getModule",value:function(A){return this.theme.modules[A]}},{key:"getSelection",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return A&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,D=z(A,R),W=s(D,2);return A=W[0],R=W[1],this.editor.getText(A,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(A,R,D){var W=this,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:U.sources.API;return F.call(this,function(){return W.editor.insertEmbed(A,R,D)},q,A)}},{key:"insertText",value:function(A,R,D,W,q){var C=this,B=void 0,K=z(A,0,D,W,q),G=s(K,4);return A=G[0],B=G[2],q=G[3],F.call(this,function(){return C.editor.insertText(A,R,B)},q,A,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(A,R,D){this.clipboard.dangerouslyPasteHTML(A,R,D)}},{key:"removeFormat",value:function(A,R,D){var W=this,q=z(A,R,D),C=s(q,4);return A=C[0],R=C[1],D=C[3],F.call(this,function(){return W.editor.removeFormat(A,R)},D,A)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(A){var R=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return F.call(this,function(){A=new c.default(A);var W=R.getLength(),q=R.editor.deleteText(0,W),C=R.editor.applyDelta(A),B=C.ops[C.ops.length-1];B!=null&&typeof B.insert=="string"&&B.insert[B.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),C.delete(1));var K=q.compose(C);return K},D)}},{key:"setSelection",value:function(A,R,D){if(A==null)this.selection.setRange(null,R||U.sources.API);else{var W=z(A,R,D),q=s(W,4);A=q[0],R=q[1],D=q[3],this.selection.setRange(new h.Range(A,R),D),D!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API,D=new c.default().insert(A);return this.setContents(D,R)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,R=this.scroll.update(A);return this.selection.update(A),R}},{key:"updateContents",value:function(A){var R=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return F.call(this,function(){return A=new c.default(A),R.editor.applyDelta(A,D)},D,!0)}}]),U}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=f.default.events,L.sources=f.default.sources,L.version="1.3.7",L.imports={delta:c.default,parchment:p.default,"core/module":y.default,"core/theme":j.default};function M(U,I){if(I=(0,b.default)(!0,{container:U,modules:{clipboard:!0,keyboard:!0,history:!0}},I),!I.theme||I.theme===L.DEFAULTS.theme)I.theme=j.default;else if(I.theme=L.import("themes/"+I.theme),I.theme==null)throw new Error("Invalid theme "+I.theme+". Did you register it?");var A=(0,b.default)(!0,{},I.theme.DEFAULTS);[A,I].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(q){W.modules[q]===!0&&(W.modules[q]={})})});var R=Object.keys(A.modules).concat(Object.keys(I.modules)),D=R.reduce(function(W,q){var C=L.import("modules/"+q);return C==null?P.error("Cannot load "+q+" module. Are you sure you registered it?"):W[q]=C.DEFAULTS||{},W},{});return I.modules!=null&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,b.default)(!0,{},L.DEFAULTS,{modules:D},A,I),["bounds","container","scrollingContainer"].forEach(function(W){typeof I[W]=="string"&&(I[W]=document.querySelector(I[W]))}),I.modules=Object.keys(I.modules).reduce(function(W,q){return I.modules[q]&&(W[q]=I.modules[q]),W},{}),I}function F(U,I,A,R){if(this.options.strict&&!this.isEnabled()&&I===f.default.sources.USER)return new c.default;var D=A==null?null:this.getSelection(),W=this.editor.delta,q=U();if(D!=null&&(A===!0&&(A=D.index),R==null?D=H(D,q,I):R!==0&&(D=H(D,A,R,I)),this.setSelection(D,f.default.sources.SILENT)),q.length()>0){var C,B=[f.default.events.TEXT_CHANGE,q,W,I];if((C=this.emitter).emit.apply(C,[f.default.events.EDITOR_CHANGE].concat(B)),I!==f.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,B)}}return q}function z(U,I,A,R,D){var W={};return typeof U.index=="number"&&typeof U.length=="number"?typeof I!="number"?(D=R,R=A,A=I,I=U.length,U=U.index):(I=U.length,U=U.index):typeof I!="number"&&(D=R,R=A,A=I,I=0),(typeof A>"u"?"undefined":o(A))==="object"?(W=A,D=R):typeof A=="string"&&(R!=null?W[A]=R:D=A),D=D||f.default.sources.API,[U,I,W,D]}function H(U,I,A,R){if(U==null)return null;var D=void 0,W=void 0;if(I instanceof c.default){var q=[U.index,U.index+U.length].map(function(G){return I.transformPosition(G,R!==f.default.sources.USER)}),C=s(q,2);D=C[0],W=C[1]}else{var B=[U.index,U.index+U.length].map(function(G){return G<I||G===I&&R===f.default.sources.USER?G:A>=0?G+A:Math.max(I,G+A)}),K=s(B,2);D=K[0],W=K[1]}return new h.Range(D,W-D)}n.expandConfig=M,n.overload=z,n.default=L},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function _(p,h){for(var m=0;m<h.length;m++){var g=h[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,h,m){return h&&_(p.prototype,h),m&&_(p,m),p}}(),s=function _(p,h,m){p===null&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,h);if(g===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:_(b,h,m)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(m)}},a=i(7),l=d(a),c=i(0),v=d(c);function d(_){return _&&_.__esModule?_:{default:_}}function u(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function f(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function w(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var y=function(_){w(p,_);function p(){return u(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"formatAt",value:function(m,g,b,O){if(p.compare(this.statics.blotName,b)<0&&v.default.query(b,v.default.Scope.BLOT)){var x=this.isolate(m,g);O&&x.wrap(b,O)}else s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,m,g,b,O)}},{key:"optimize",value:function(m){if(s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,m),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(m,g){var b=p.order.indexOf(m),O=p.order.indexOf(g);return b>=0||O>=0?b-O:m===g?0:m<g?-1:1}}]),p}(v.default.Inline);y.allowedChildren=[y,v.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function c(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:u}function v(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(u,f):u.__proto__=f)}var d=function(u){v(f,u);function f(){return l(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default.Text);n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function h(m,g){for(var b=0;b<g.length;b++){var O=g[b];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}return function(m,g,b){return g&&h(m.prototype,g),b&&h(m,b),m}}(),s=function h(m,g,b){m===null&&(m=Function.prototype);var O=Object.getOwnPropertyDescriptor(m,g);if(O===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:h(x,g,b)}else{if("value"in O)return O.value;var S=O.get;return S===void 0?void 0:S.call(b)}},a=i(54),l=d(a),c=i(10),v=d(c);function d(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function w(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var y=(0,v.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(h){document.addEventListener(h,function(){for(var m=arguments.length,g=Array(m),b=0;b<m;b++)g[b]=arguments[b];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var x;(x=O.__quill.emitter).handleDOM.apply(x,g)}})})});var p=function(h){w(m,h);function m(){u(this,m);var g=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));return g.listeners={},g.on("error",y.error),g}return o(m,[{key:"emit",value:function(){y.log.apply(y,arguments),s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(b){for(var O=arguments.length,x=Array(O>1?O-1:0),S=1;S<O;S++)x[S-1]=arguments[S];(this.listeners[b.type]||[]).forEach(function(j){var E=j.node,k=j.handler;(b.target===E||E.contains(b.target))&&k.apply(void 0,[b].concat(x))})}},{key:"listenDOM",value:function(b,O,x){this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push({node:O,handler:x})}}]),m}(l.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=c};s.DEFAULTS={},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(c){if(o.indexOf(c)<=o.indexOf(s)){for(var v,d=arguments.length,u=Array(d>1?d-1:0),f=1;f<d;f++)u[f-1]=arguments[f];(v=console)[c].apply(v,u)}}function l(c){return o.reduce(function(v,d){return v[d]=a.bind(console,d,c),v},{})}a.level=l.level=function(c){s=c},n.default=l},function(r,n,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=r.exports=function(u,f,w){return w||(w={}),u===f?!0:u instanceof Date&&f instanceof Date?u.getTime()===f.getTime():!u||!f||typeof u!="object"&&typeof f!="object"?w.strict?u===f:u==f:d(u,f,w)};function c(u){return u==null}function v(u){return!(!u||typeof u!="object"||typeof u.length!="number"||typeof u.copy!="function"||typeof u.slice!="function"||u.length>0&&typeof u[0]!="number")}function d(u,f,w){var y,_;if(c(u)||c(f)||u.prototype!==f.prototype)return!1;if(a(u))return a(f)?(u=o.call(u),f=o.call(f),l(u,f,w)):!1;if(v(u)){if(!v(f)||u.length!==f.length)return!1;for(y=0;y<u.length;y++)if(u[y]!==f[y])return!1;return!0}try{var p=s(u),h=s(f)}catch{return!1}if(p.length!=h.length)return!1;for(p.sort(),h.sort(),y=p.length-1;y>=0;y--)if(p[y]!=h[y])return!1;for(y=p.length-1;y>=0;y--)if(_=p[y],!l(u[_],f[_],w))return!1;return typeof u==typeof f}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,c,v){v===void 0&&(v={}),this.attrName=l,this.keyName=c;var d=o.Scope.TYPE&o.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&o.Scope.LEVEL|d:this.scope=o.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},a.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},a.prototype.canAdd=function(l,c){var v=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},a}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var o=function(){function S(j,E){var k=[],T=!0,P=!1,L=void 0;try{for(var M=j[Symbol.iterator](),F;!(T=(F=M.next()).done)&&(k.push(F.value),!(E&&k.length===E));T=!0);}catch(z){P=!0,L=z}finally{try{!T&&M.return&&M.return()}finally{if(P)throw L}}return k}return function(j,E){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return S(j,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(j,E){for(var k=0;k<E.length;k++){var T=E[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(j,T.key,T)}}return function(j,E,k){return E&&S(j.prototype,E),k&&S(j,k),j}}(),a=function S(j,E,k){j===null&&(j=Function.prototype);var T=Object.getOwnPropertyDescriptor(j,E);if(T===void 0){var P=Object.getPrototypeOf(j);return P===null?void 0:S(P,E,k)}else{if("value"in T)return T.value;var L=T.get;return L===void 0?void 0:L.call(k)}},l=i(2),c=h(l),v=i(0),d=h(v),u=i(4),f=h(u),w=i(6),y=h(w),_=i(7),p=h(_);function h(S){return S&&S.__esModule?S:{default:S}}function m(S,j){if(!(S instanceof j))throw new TypeError("Cannot call a class as a function")}function g(S,j){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:S}function b(S,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);S.prototype=Object.create(j&&j.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(S,j):S.__proto__=j)}var O=function(S){b(j,S);function j(){return m(this,j),g(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return j}(y.default);O.blotName="code",O.tagName="CODE";var x=function(S){b(j,S);function j(){return m(this,j),g(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return s(j,[{key:"delta",value:function(){var k=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(P,L){return P.insert(L).insert(`
`,k.formats())},new c.default)}},{key:"format",value:function(k,T){if(!(k===this.statics.blotName&&T)){var P=this.descendant(p.default,this.length()-1),L=o(P,1),M=L[0];M!=null&&M.deleteAt(M.length()-1,1),a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,k,T)}}},{key:"formatAt",value:function(k,T,P,L){if(T!==0&&!(d.default.query(P,d.default.Scope.BLOCK)==null||P===this.statics.blotName&&L===this.statics.formats(this.domNode))){var M=this.newlineIndex(k);if(!(M<0||M>=k+T)){var F=this.newlineIndex(k,!0)+1,z=M-F+1,H=this.isolate(F,z),U=H.next;H.format(P,L),U instanceof j&&U.formatAt(0,k-F+T-z,P,L)}}}},{key:"insertAt",value:function(k,T,P){if(P==null){var L=this.descendant(p.default,k),M=o(L,2),F=M[0],z=M[1];F.insertAt(z,T)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var P=this.domNode.textContent.slice(k).indexOf(`
`);return P>-1?k+P:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,k);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(k),T.moveChildren(this),T.remove())}},{key:"replace",value:function(k){a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var P=d.default.find(T);P==null?T.parentNode.removeChild(T):P instanceof d.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(k){var T=a(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,k);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),j}(f.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",n.Code=O,n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},s=function(){function U(I,A){var R=[],D=!0,W=!1,q=void 0;try{for(var C=I[Symbol.iterator](),B;!(D=(B=C.next()).done)&&(R.push(B.value),!(A&&R.length===A));D=!0);}catch(K){W=!0,q=K}finally{try{!D&&C.return&&C.return()}finally{if(W)throw q}}return R}return function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return U(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function U(I,A){for(var R=0;R<A.length;R++){var D=A[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,A,R){return A&&U(I.prototype,A),R&&U(I,R),I}}(),l=i(2),c=T(l),v=i(20),d=T(v),u=i(0),f=T(u),w=i(13),y=T(w),_=i(24),p=T(_),h=i(4),m=T(h),g=i(16),b=T(g),O=i(21),x=T(O),S=i(11),j=T(S),E=i(3),k=T(E);function T(U){return U&&U.__esModule?U:{default:U}}function P(U,I,A){return I in U?Object.defineProperty(U,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):U[I]=A,U}function L(U,I){if(!(U instanceof I))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,F=function(){function U(I){L(this,U),this.scroll=I,this.delta=this.getDelta()}return a(U,[{key:"applyDelta",value:function(A){var R=this,D=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),A=H(A),A.reduce(function(q,C){var B=C.retain||C.delete||C.insert.length||1,K=C.attributes||{};if(C.insert!=null){if(typeof C.insert=="string"){var G=C.insert;G.endsWith(`
`)&&D&&(D=!1,G=G.slice(0,-1)),q>=W&&!G.endsWith(`
`)&&(D=!0),R.scroll.insertAt(q,G);var J=R.scroll.line(q),ie=s(J,2),he=ie[0],de=ie[1],ve=(0,k.default)({},(0,h.bubbleFormats)(he));if(he instanceof m.default){var ge=he.descendant(f.default.Leaf,de),$e=s(ge,1),Ne=$e[0];ve=(0,k.default)(ve,(0,h.bubbleFormats)(Ne))}K=d.default.attributes.diff(ve,K)||{}}else if(o(C.insert)==="object"){var Y=Object.keys(C.insert)[0];if(Y==null)return q;R.scroll.insertAt(q,Y,C.insert[Y])}W+=B}return Object.keys(K).forEach(function(Q){R.scroll.formatAt(q,B,Q,K[Q])}),q+B},0),A.reduce(function(q,C){return typeof C.delete=="number"?(R.scroll.deleteAt(q,C.delete),q):q+(C.retain||C.insert.length||1)},0),this.scroll.batchEnd(),this.update(A)}},{key:"deleteText",value:function(A,R){return this.scroll.deleteAt(A,R),this.update(new c.default().retain(A).delete(R))}},{key:"formatLine",value:function(A,R){var D=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(q){if(!(D.scroll.whitelist!=null&&!D.scroll.whitelist[q])){var C=D.scroll.lines(A,Math.max(R,1)),B=R;C.forEach(function(K){var G=K.length();if(!(K instanceof y.default))K.format(q,W[q]);else{var J=A-K.offset(D.scroll),ie=K.newlineIndex(J+B)-J+1;K.formatAt(J,ie,q,W[q])}B-=G})}}),this.scroll.optimize(),this.update(new c.default().retain(A).retain(R,(0,x.default)(W)))}},{key:"formatText",value:function(A,R){var D=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(q){D.scroll.formatAt(A,R,q,W[q])}),this.update(new c.default().retain(A).retain(R,(0,x.default)(W)))}},{key:"getContents",value:function(A,R){return this.delta.slice(A,A+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(A,R){return A.concat(R.delta())},new c.default)}},{key:"getFormat",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=[],W=[];R===0?this.scroll.path(A).forEach(function(C){var B=s(C,1),K=B[0];K instanceof m.default?D.push(K):K instanceof f.default.Leaf&&W.push(K)}):(D=this.scroll.lines(A,R),W=this.scroll.descendants(f.default.Leaf,A,R));var q=[D,W].map(function(C){if(C.length===0)return{};for(var B=(0,h.bubbleFormats)(C.shift());Object.keys(B).length>0;){var K=C.shift();if(K==null)return B;B=z((0,h.bubbleFormats)(K),B)}return B});return k.default.apply(k.default,q)}},{key:"getText",value:function(A,R){return this.getContents(A,R).filter(function(D){return typeof D.insert=="string"}).map(function(D){return D.insert}).join("")}},{key:"insertEmbed",value:function(A,R,D){return this.scroll.insertAt(A,R,D),this.update(new c.default().retain(A).insert(P({},R,D)))}},{key:"insertText",value:function(A,R){var D=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(A,R),Object.keys(W).forEach(function(q){D.scroll.formatAt(A,R.length,q,W[q])}),this.update(new c.default().retain(A).insert(R,(0,x.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var A=this.scroll.children.head;return A.statics.blotName!==m.default.blotName||A.children.length>1?!1:A.children.head instanceof b.default}},{key:"removeFormat",value:function(A,R){var D=this.getText(A,R),W=this.scroll.line(A+R),q=s(W,2),C=q[0],B=q[1],K=0,G=new c.default;C!=null&&(C instanceof y.default?K=C.newlineIndex(B)-B+1:K=C.length()-B,G=C.delta().slice(B,B+K-1).insert(`
`));var J=this.getContents(A,R+K),ie=J.diff(new c.default().insert(D).concat(G)),he=new c.default().retain(A).concat(ie);return this.applyDelta(he)}},{key:"update",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(M)&&f.default.find(R[0].target)){var q=f.default.find(R[0].target),C=(0,h.bubbleFormats)(q),B=q.offset(this.scroll),K=R[0].oldValue.replace(p.default.CONTENTS,""),G=new c.default().insert(K),J=new c.default().insert(q.value()),ie=new c.default().retain(B).concat(G.diff(J,D));A=ie.reduce(function(he,de){return de.insert?he.insert(de.insert,C):he.push(de)},new c.default),this.delta=W.compose(A)}else this.delta=this.getDelta(),(!A||!(0,j.default)(W.compose(A),this.delta))&&(A=W.diff(this.delta,D));return A}}]),U}();function z(U,I){return Object.keys(I).reduce(function(A,R){return U[R]==null||(I[R]===U[R]?A[R]=I[R]:Array.isArray(I[R])?I[R].indexOf(U[R])<0&&(A[R]=I[R].concat([U[R]])):A[R]=[I[R],U[R]]),A},{})}function H(U){return U.reduce(function(I,A){if(A.insert===1){var R=(0,x.default)(A.attributes);return delete R.image,I.insert({image:A.attributes.image},R)}if(A.attributes!=null&&(A.attributes.list===!0||A.attributes.bullet===!0)&&(A=(0,x.default)(A),A.attributes.list?A.attributes.list="ordered":(A.attributes.list="bullet",delete A.attributes.bullet)),typeof A.insert=="string"){var D=A.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return I.insert(D,A.attributes)}return I.push(A)},new c.default)}n.default=F},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var o=function(){function S(j,E){var k=[],T=!0,P=!1,L=void 0;try{for(var M=j[Symbol.iterator](),F;!(T=(F=M.next()).done)&&(k.push(F.value),!(E&&k.length===E));T=!0);}catch(z){P=!0,L=z}finally{try{!T&&M.return&&M.return()}finally{if(P)throw L}}return k}return function(j,E){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return S(j,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(j,E){for(var k=0;k<E.length;k++){var T=E[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(j,T.key,T)}}return function(j,E,k){return E&&S(j.prototype,E),k&&S(j,k),j}}(),a=i(0),l=p(a),c=i(21),v=p(c),d=i(11),u=p(d),f=i(8),w=p(f),y=i(10),_=p(y);function p(S){return S&&S.__esModule?S:{default:S}}function h(S){if(Array.isArray(S)){for(var j=0,E=Array(S.length);j<S.length;j++)E[j]=S[j];return E}else return Array.from(S)}function m(S,j){if(!(S instanceof j))throw new TypeError("Cannot call a class as a function")}var g=(0,_.default)("quill:selection"),b=function S(j){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;m(this,S),this.index=j,this.length=E},O=function(){function S(j,E){var k=this;m(this,S),this.emitter=E,this.scroll=j,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(T,P){T===w.default.events.TEXT_CHANGE&&P.length()>0&&k.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var T=k.getNativeRange();T!=null&&T.start.node!==k.cursor.textNode&&k.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(T,P){if(P.range){var L=P.range,M=L.startNode,F=L.startOffset,z=L.endNode,H=L.endOffset;k.setNativeRange(M,F,z,H)}}),this.update(w.default.sources.SILENT)}return s(S,[{key:"handleComposition",value:function(){var E=this;this.root.addEventListener("compositionstart",function(){E.composing=!0}),this.root.addEventListener("compositionend",function(){if(E.composing=!1,E.cursor.parent){var k=E.cursor.restore();if(!k)return;setTimeout(function(){E.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var E=this;this.emitter.listenDOM("mousedown",document.body,function(){E.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){E.mouseDown=!1,E.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(E,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[E])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||l.default.query(E,l.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var P=l.default.find(T.start.node,!1);if(P==null)return;if(P instanceof l.default.Leaf){var L=P.split(T.start.offset);P.parent.insertBefore(this.cursor,L)}else P.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(E,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(E){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();E=Math.min(E,T-1),k=Math.min(E+k,T-1)-E;var P=void 0,L=this.scroll.leaf(E),M=o(L,2),F=M[0],z=M[1];if(F==null)return null;var H=F.position(z,!0),U=o(H,2);P=U[0],z=U[1];var I=document.createRange();if(k>0){I.setStart(P,z);var A=this.scroll.leaf(E+k),R=o(A,2);if(F=R[0],z=R[1],F==null)return null;var D=F.position(z,!0),W=o(D,2);return P=W[0],z=W[1],I.setEnd(P,z),I.getBoundingClientRect()}else{var q="left",C=void 0;return P instanceof Text?(z<P.data.length?(I.setStart(P,z),I.setEnd(P,z+1)):(I.setStart(P,z-1),I.setEnd(P,z),q="right"),C=I.getBoundingClientRect()):(C=F.domNode.getBoundingClientRect(),z>0&&(q="right")),{bottom:C.top+C.height,height:C.height,left:C[q],right:C[q],top:C.top,width:0}}}},{key:"getNativeRange",value:function(){var E=document.getSelection();if(E==null||E.rangeCount<=0)return null;var k=E.getRangeAt(0);if(k==null)return null;var T=this.normalizeNative(k);return g.info("getNativeRange",T),T}},{key:"getRange",value:function(){var E=this.getNativeRange();if(E==null)return[null,null];var k=this.normalizedToRange(E);return[k,E]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(E){var k=this,T=[[E.start.node,E.start.offset]];E.native.collapsed||T.push([E.end.node,E.end.offset]);var P=T.map(function(F){var z=o(F,2),H=z[0],U=z[1],I=l.default.find(H,!0),A=I.offset(k.scroll);return U===0?A:I instanceof l.default.Container?A+I.length():A+I.index(H,U)}),L=Math.min(Math.max.apply(Math,h(P)),this.scroll.length()-1),M=Math.min.apply(Math,[L].concat(h(P)));return new b(M,L-M)}},{key:"normalizeNative",value:function(E){if(!x(this.root,E.startContainer)||!E.collapsed&&!x(this.root,E.endContainer))return null;var k={start:{node:E.startContainer,offset:E.startOffset},end:{node:E.endContainer,offset:E.endOffset},native:E};return[k.start,k.end].forEach(function(T){for(var P=T.node,L=T.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>L)P=P.childNodes[L],L=0;else if(P.childNodes.length===L)P=P.lastChild,L=P instanceof Text?P.data.length:P.childNodes.length+1;else break;T.node=P,T.offset=L}),k}},{key:"rangeToNative",value:function(E){var k=this,T=E.collapsed?[E.index]:[E.index,E.index+E.length],P=[],L=this.scroll.length();return T.forEach(function(M,F){M=Math.min(L-1,M);var z=void 0,H=k.scroll.leaf(M),U=o(H,2),I=U[0],A=U[1],R=I.position(A,F!==0),D=o(R,2);z=D[0],A=D[1],P.push(z,A)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(E){var k=this.lastRange;if(k!=null){var T=this.getBounds(k.index,k.length);if(T!=null){var P=this.scroll.length()-1,L=this.scroll.line(Math.min(k.index,P)),M=o(L,1),F=M[0],z=F;if(k.length>0){var H=this.scroll.line(Math.min(k.index+k.length,P)),U=o(H,1);z=U[0]}if(!(F==null||z==null)){var I=E.getBoundingClientRect();T.top<I.top?E.scrollTop-=I.top-T.top:T.bottom>I.bottom&&(E.scrollTop+=T.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(E,k){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",E,k,T,P),!(E!=null&&(this.root.parentNode==null||E.parentNode==null||T.parentNode==null))){var M=document.getSelection();if(M!=null)if(E!=null){this.hasFocus()||this.root.focus();var F=(this.getNativeRange()||{}).native;if(F==null||L||E!==F.startContainer||k!==F.startOffset||T!==F.endContainer||P!==F.endOffset){E.tagName=="BR"&&(k=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode),T.tagName=="BR"&&(P=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var z=document.createRange();z.setStart(E,k),z.setEnd(T,P),M.removeAllRanges(),M.addRange(z)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(E){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof k=="string"&&(T=k,k=!1),g.info("setRange",E),E!=null){var P=this.rangeToNative(E);this.setNativeRange.apply(this,h(P).concat([k]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,k=this.lastRange,T=this.getRange(),P=o(T,2),L=P[0],M=P[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,u.default)(k,this.lastRange)){var F;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var z=[w.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(k),E];if((F=this.emitter).emit.apply(F,[w.default.events.EDITOR_CHANGE].concat(z)),E!==w.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,z)}}}}]),S}();function x(S,j){try{j.parentNode}catch{return!1}return j instanceof Text&&(j=j.parentNode),S.contains(j)}n.Range=b,n.default=O},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function w(y,_){for(var p=0;p<_.length;p++){var h=_[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,_,p){return _&&w(y.prototype,_),p&&w(y,p),y}}(),s=function w(y,_,p){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,_);if(h===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:w(m,_,p)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(p)}},a=i(0),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function v(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function d(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function u(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var f=function(w){u(y,w);function y(){return v(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(p,h){p.children.length===0?s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,p,h):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);f.blotName="break",f.tagName="BR",n.default=f},function(r,n,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var w in f)f.hasOwnProperty(w)&&(u[w]=f[w])};return function(u,f){d(u,f);function w(){this.constructor=u}u.prototype=f===null?Object.create(f):(w.prototype=f.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),c=function(d){o(u,d);function u(f){var w=d.call(this,f)||this;return w.build(),w}return u.prototype.appendChild=function(f){this.insertBefore(f)},u.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},u.prototype.build=function(){var f=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var y=v(w);f.insertBefore(y,f.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},u.prototype.deleteAt=function(f,w){if(f===0&&w===this.length())return this.remove();this.children.forEachAt(f,w,function(y,_,p){y.deleteAt(_,p)})},u.prototype.descendant=function(f,w){var y=this.children.find(w),_=y[0],p=y[1];return f.blotName==null&&f(_)||f.blotName!=null&&_ instanceof f?[_,p]:_ instanceof u?_.descendant(f,p):[null,-1]},u.prototype.descendants=function(f,w,y){w===void 0&&(w=0),y===void 0&&(y=Number.MAX_VALUE);var _=[],p=y;return this.children.forEachAt(w,y,function(h,m,g){(f.blotName==null&&f(h)||f.blotName!=null&&h instanceof f)&&_.push(h),h instanceof u&&(_=_.concat(h.descendants(f,m,p))),p-=g}),_},u.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),d.prototype.detach.call(this)},u.prototype.formatAt=function(f,w,y,_){this.children.forEachAt(f,w,function(p,h,m){p.formatAt(h,m,y,_)})},u.prototype.insertAt=function(f,w,y){var _=this.children.find(f),p=_[0],h=_[1];if(p)p.insertAt(h,w,y);else{var m=y==null?l.create("text",w):l.create(w,y);this.appendChild(m)}},u.prototype.insertBefore=function(f,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return f instanceof y}))throw new l.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,w)},u.prototype.length=function(){return this.children.reduce(function(f,w){return f+w.length()},0)},u.prototype.moveChildren=function(f,w){this.children.forEach(function(y){f.insertBefore(y,w)})},u.prototype.optimize=function(f){if(d.prototype.optimize.call(this,f),this.children.length===0)if(this.statics.defaultChild!=null){var w=l.create(this.statics.defaultChild);this.appendChild(w),w.optimize(f)}else this.remove()},u.prototype.path=function(f,w){w===void 0&&(w=!1);var y=this.children.find(f,w),_=y[0],p=y[1],h=[[this,f]];return _ instanceof u?h.concat(_.path(p,w)):(_!=null&&h.push([_,p]),h)},u.prototype.removeChild=function(f){this.children.remove(f)},u.prototype.replace=function(f){f instanceof u&&f.moveChildren(this),d.prototype.replace.call(this,f)},u.prototype.split=function(f,w){if(w===void 0&&(w=!1),!w){if(f===0)return this;if(f===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(f,this.length(),function(_,p,h){_=_.split(p,w),y.appendChild(_)}),y},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(f,w){var y=this,_=[],p=[];f.forEach(function(h){h.target===y.domNode&&h.type==="childList"&&(_.push.apply(_,h.addedNodes),p.push.apply(p,h.removedNodes))}),p.forEach(function(h){if(!(h.parentNode!=null&&h.tagName!=="IFRAME"&&document.body.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var m=l.find(h);m!=null&&(m.domNode.parentNode==null||m.domNode.parentNode===y.domNode)&&m.detach()}}),_.filter(function(h){return h.parentNode==y.domNode}).sort(function(h,m){return h===m?0:h.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(h){var m=null;h.nextSibling!=null&&(m=l.find(h.nextSibling));var g=v(h);(g.next!=m||g.next==null)&&(g.parent!=null&&g.parent.removeChild(y),y.insertBefore(g,m||void 0))})},u}(a.default);function v(d){var u=l.find(d);if(u==null)try{u=l.create(d)}catch{u=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(w){u.domNode.appendChild(w)}),d.parentNode&&d.parentNode.replaceChild(u.domNode,d),u.attach()}return u}n.default=c},function(r,n,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var w in f)f.hasOwnProperty(w)&&(u[w]=f[w])};return function(u,f){d(u,f);function w(){this.constructor=u}u.prototype=f===null?Object.create(f):(w.prototype=f.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),c=i(1),v=function(d){o(u,d);function u(f){var w=d.call(this,f)||this;return w.attributes=new a.default(w.domNode),w}return u.formats=function(f){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return f.tagName.toLowerCase()},u.prototype.format=function(f,w){var y=c.query(f);y instanceof s.default?this.attributes.attribute(y,w):w&&y!=null&&(f!==this.statics.blotName||this.formats()[f]!==w)&&this.replaceWith(f,w)},u.prototype.formats=function(){var f=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(f[this.statics.blotName]=w),f},u.prototype.replaceWith=function(f,w){var y=d.prototype.replaceWith.call(this,f,w);return this.attributes.copy(y),y},u.prototype.update=function(f,w){var y=this;d.prototype.update.call(this,f,w),f.some(function(_){return _.target===y.domNode&&_.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(f,w){var y=d.prototype.wrap.call(this,f,w);return y instanceof u&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},u}(l.default);n.default=v},function(r,n,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var u in d)d.hasOwnProperty(u)&&(v[u]=d[u])};return function(v,d){c(v,d);function u(){this.constructor=v}v.prototype=d===null?Object.create(d):(u.prototype=d.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(c){o(v,c);function v(){return c!==null&&c.apply(this,arguments)||this}return v.value=function(d){return!0},v.prototype.index=function(d,u){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},v.prototype.position=function(d,u){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(f+=1),[this.parent.domNode,f]},v.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},v.scope=a.Scope.INLINE_BLOT,v}(s.default);n.default=l},function(r,n,i){var o=i(11),s=i(3),a={attributes:{compose:function(c,v,d){typeof c!="object"&&(c={}),typeof v!="object"&&(v={});var u=s(!0,{},v);d||(u=Object.keys(u).reduce(function(w,y){return u[y]!=null&&(w[y]=u[y]),w},{}));for(var f in c)c[f]!==void 0&&v[f]===void 0&&(u[f]=c[f]);return Object.keys(u).length>0?u:void 0},diff:function(c,v){typeof c!="object"&&(c={}),typeof v!="object"&&(v={});var d=Object.keys(c).concat(Object.keys(v)).reduce(function(u,f){return o(c[f],v[f])||(u[f]=v[f]===void 0?null:v[f]),u},{});return Object.keys(d).length>0?d:void 0},transform:function(c,v,d){if(typeof c!="object")return v;if(typeof v=="object"){if(!d)return v;var u=Object.keys(v).reduce(function(f,w){return c[w]===void 0&&(f[w]=v[w]),f},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var v=this.ops[this.index];if(v){var d=this.offset,u=a.length(v);if(c>=u-d?(c=u-d,this.index+=1,this.offset=0):this.offset+=c,typeof v.delete=="number")return{delete:c};var f={};return v.attributes&&(f.attributes=v.attributes),typeof v.retain=="number"?f.retain=c:typeof v.insert=="string"?f.insert=v.insert.substr(d,c):f.insert=v.insert,f}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,v=this.index,d=this.next(),u=this.ops.slice(this.index);return this.offset=c,this.index=v,[d].concat(u)}else return[]},r.exports=a},function(r,n){var i=function(){function o(y,_){return _!=null&&y instanceof _}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(y,_,p,h,m){typeof _=="object"&&(p=_.depth,h=_.prototype,m=_.includeNonEnumerable,_=_.circular);var g=[],b=[],O=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof p>"u"&&(p=1/0);function x(S,j){if(S===null)return null;if(j===0)return S;var E,k;if(typeof S!="object")return S;if(o(S,s))E=new s;else if(o(S,a))E=new a;else if(o(S,l))E=new l(function(I,A){S.then(function(R){I(x(R,j-1))},function(R){A(x(R,j-1))})});else if(c.__isArray(S))E=[];else if(c.__isRegExp(S))E=new RegExp(S.source,w(S)),S.lastIndex&&(E.lastIndex=S.lastIndex);else if(c.__isDate(S))E=new Date(S.getTime());else{if(O&&Buffer.isBuffer(S))return Buffer.allocUnsafe?E=Buffer.allocUnsafe(S.length):E=new Buffer(S.length),S.copy(E),E;o(S,Error)?E=Object.create(S):typeof h>"u"?(k=Object.getPrototypeOf(S),E=Object.create(k)):(E=Object.create(h),k=h)}if(_){var T=g.indexOf(S);if(T!=-1)return b[T];g.push(S),b.push(E)}o(S,s)&&S.forEach(function(I,A){var R=x(A,j-1),D=x(I,j-1);E.set(R,D)}),o(S,a)&&S.forEach(function(I){var A=x(I,j-1);E.add(A)});for(var P in S){var L;k&&(L=Object.getOwnPropertyDescriptor(k,P)),!(L&&L.set==null)&&(E[P]=x(S[P],j-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(S),P=0;P<M.length;P++){var F=M[P],z=Object.getOwnPropertyDescriptor(S,F);z&&!z.enumerable&&!m||(E[F]=x(S[F],j-1),z.enumerable||Object.defineProperty(E,F,{enumerable:!1}))}if(m)for(var H=Object.getOwnPropertyNames(S),P=0;P<H.length;P++){var U=H[P],z=Object.getOwnPropertyDescriptor(S,U);z&&z.enumerable||(E[U]=x(S[U],j-1),Object.defineProperty(E,U,{enumerable:!1}))}return E}return x(y,p)}c.clonePrototype=function(_){if(_===null)return null;var p=function(){};return p.prototype=_,new p};function v(y){return Object.prototype.toString.call(y)}c.__objToStr=v;function d(y){return typeof y=="object"&&v(y)==="[object Date]"}c.__isDate=d;function u(y){return typeof y=="object"&&v(y)==="[object Array]"}c.__isArray=u;function f(y){return typeof y=="object"&&v(y)==="[object RegExp]"}c.__isRegExp=f;function w(y){var _="";return y.global&&(_+="g"),y.ignoreCase&&(_+="i"),y.multiline&&(_+="m"),_}return c.__getRegExpFlags=w,c}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function E(k,T){var P=[],L=!0,M=!1,F=void 0;try{for(var z=k[Symbol.iterator](),H;!(L=(H=z.next()).done)&&(P.push(H.value),!(T&&P.length===T));L=!0);}catch(U){M=!0,F=U}finally{try{!L&&z.return&&z.return()}finally{if(M)throw F}}return P}return function(k,T){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return E(k,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(k,T){for(var P=0;P<T.length;P++){var L=T[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}return function(k,T,P){return T&&E(k.prototype,T),P&&E(k,P),k}}(),a=function E(k,T,P){k===null&&(k=Function.prototype);var L=Object.getOwnPropertyDescriptor(k,T);if(L===void 0){var M=Object.getPrototypeOf(k);return M===null?void 0:E(M,T,P)}else{if("value"in L)return L.value;var F=L.get;return F===void 0?void 0:F.call(P)}},l=i(0),c=g(l),v=i(8),d=g(v),u=i(4),f=g(u),w=i(16),y=g(w),_=i(13),p=g(_),h=i(25),m=g(h);function g(E){return E&&E.__esModule?E:{default:E}}function b(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function O(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function x(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}function S(E){return E instanceof f.default||E instanceof u.BlockEmbed}var j=function(E){x(k,E);function k(T,P){b(this,k);var L=O(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T));return L.emitter=P.emitter,Array.isArray(P.whitelist)&&(L.whitelist=P.whitelist.reduce(function(M,F){return M[F]=!0,M},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return s(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,L){var M=this.line(P),F=o(M,2),z=F[0],H=F[1],U=this.line(P+L),I=o(U,1),A=I[0];if(a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,P,L),A!=null&&z!==A&&H>0){if(z instanceof u.BlockEmbed||A instanceof u.BlockEmbed){this.optimize();return}if(z instanceof p.default){var R=z.newlineIndex(z.length(),!0);if(R>-1&&(z=z.split(R+1),z===A)){this.optimize();return}}else if(A instanceof p.default){var D=A.newlineIndex(0);D>-1&&A.split(D+1)}var W=A.children.head instanceof y.default?null:A.children.head;z.moveChildren(A,W),z.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,L,M,F){this.whitelist!=null&&!this.whitelist[M]||(a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,P,L,M,F),this.optimize())}},{key:"insertAt",value:function(P,L,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[L])){if(P>=this.length())if(M==null||c.default.query(L,c.default.Scope.BLOCK)==null){var F=c.default.create(this.statics.defaultChild);this.appendChild(F),M==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),F.insertAt(0,L,M)}else{var z=c.default.create(L,M);this.appendChild(z)}else a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,P,L,M);this.optimize()}}},{key:"insertBefore",value:function(P,L){if(P.statics.scope===c.default.Scope.INLINE_BLOT){var M=c.default.create(this.statics.defaultChild);M.appendChild(P),P=M}a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,P,L)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(S,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function F(z,H,U){var I=[],A=U;return z.children.forEachAt(H,U,function(R,D,W){S(R)?I.push(R):R instanceof c.default.Container&&(I=I.concat(F(R,D,A))),A-=W}),I};return M(this,P,L)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,P,L),P.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,P,L))}},{key:"path",value:function(P){return a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var L=d.default.sources.USER;typeof P=="string"&&(L=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,L,P),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,L,P)}}}]),k}(c.default.Scroll);j.blotName="scroll",j.className="ql-editor",j.tagName="DIV",j.defaultChild="block",j.allowedChildren=[f.default,u.BlockEmbed,m.default],n.default=j},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},s=function(){function C(B,K){var G=[],J=!0,ie=!1,he=void 0;try{for(var de=B[Symbol.iterator](),ve;!(J=(ve=de.next()).done)&&(G.push(ve.value),!(K&&G.length===K));J=!0);}catch(ge){ie=!0,he=ge}finally{try{!J&&de.return&&de.return()}finally{if(ie)throw he}}return G}return function(B,K){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return C(B,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function C(B,K){for(var G=0;G<K.length;G++){var J=K[G];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(B,J.key,J)}}return function(B,K,G){return K&&C(B.prototype,K),G&&C(B,G),B}}(),l=i(21),c=E(l),v=i(11),d=E(v),u=i(3),f=E(u),w=i(2),y=E(w),_=i(20),p=E(_),h=i(0),m=E(h),g=i(5),b=E(g),O=i(10),x=E(O),S=i(9),j=E(S);function E(C){return C&&C.__esModule?C:{default:C}}function k(C,B,K){return B in C?Object.defineProperty(C,B,{value:K,enumerable:!0,configurable:!0,writable:!0}):C[B]=K,C}function T(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")}function P(C,B){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:C}function L(C,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);C.prototype=Object.create(B&&B.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(C,B):C.__proto__=B)}var M=(0,x.default)("quill:keyboard"),F=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",z=function(C){L(B,C),a(B,null,[{key:"match",value:function(G,J){return J=q(J),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ie){return!!J[ie]!==G[ie]&&J[ie]!==null})?!1:J.key===(G.which||G.keyCode)}}]);function B(K,G){T(this,B);var J=P(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,K,G));return J.bindings={},Object.keys(J.options.bindings).forEach(function(ie){ie==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||J.options.bindings[ie]&&J.addBinding(J.options.bindings[ie])}),J.addBinding({key:B.keys.ENTER,shiftKey:null},R),J.addBinding({key:B.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(J.addBinding({key:B.keys.BACKSPACE},{collapsed:!0},U),J.addBinding({key:B.keys.DELETE},{collapsed:!0},I)):(J.addBinding({key:B.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},U),J.addBinding({key:B.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),J.addBinding({key:B.keys.BACKSPACE},{collapsed:!1},A),J.addBinding({key:B.keys.DELETE},{collapsed:!1},A),J.addBinding({key:B.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},U),J.listen(),J}return a(B,[{key:"addBinding",value:function(G){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=q(G);if(he==null||he.key==null)return M.warn("Attempted to add invalid keyboard binding",he);typeof J=="function"&&(J={handler:J}),typeof ie=="function"&&(ie={handler:ie}),he=(0,f.default)(he,J,ie),this.bindings[he.key]=this.bindings[he.key]||[],this.bindings[he.key].push(he)}},{key:"listen",value:function(){var G=this;this.quill.root.addEventListener("keydown",function(J){if(!J.defaultPrevented){var ie=J.which||J.keyCode,he=(G.bindings[ie]||[]).filter(function(Ee){return B.match(J,Ee)});if(he.length!==0){var de=G.quill.getSelection();if(!(de==null||!G.quill.hasFocus())){var ve=G.quill.getLine(de.index),ge=s(ve,2),$e=ge[0],Ne=ge[1],Y=G.quill.getLeaf(de.index),Q=s(Y,2),te=Q[0],ne=Q[1],V=de.length===0?[te,ne]:G.quill.getLeaf(de.index+de.length),re=s(V,2),le=re[0],se=re[1],me=te instanceof m.default.Text?te.value().slice(0,ne):"",Oe=le instanceof m.default.Text?le.value().slice(se):"",ye={collapsed:de.length===0,empty:de.length===0&&$e.length()<=1,format:G.quill.getFormat(de),offset:Ne,prefix:me,suffix:Oe},kt=he.some(function(Ee){if(Ee.collapsed!=null&&Ee.collapsed!==ye.collapsed||Ee.empty!=null&&Ee.empty!==ye.empty||Ee.offset!=null&&Ee.offset!==ye.offset)return!1;if(Array.isArray(Ee.format)){if(Ee.format.every(function(gt){return ye.format[gt]==null}))return!1}else if(o(Ee.format)==="object"&&!Object.keys(Ee.format).every(function(gt){return Ee.format[gt]===!0?ye.format[gt]!=null:Ee.format[gt]===!1?ye.format[gt]==null:(0,d.default)(Ee.format[gt],ye.format[gt])}))return!1;return Ee.prefix!=null&&!Ee.prefix.test(ye.prefix)||Ee.suffix!=null&&!Ee.suffix.test(ye.suffix)?!1:Ee.handler.call(G,de,ye)!==!0});kt&&J.preventDefault()}}}})}}]),B}(j.default);z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},z.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:z.keys.TAB,format:["blockquote","indent","list"],handler:function(B,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",b.default.sources.USER)}},outdent:{key:z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(B,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",b.default.sources.USER)}},"outdent backspace":{key:z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(B,K){K.format.indent!=null?this.quill.format("indent","-1",b.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,b.default.sources.USER)}},"indent code-block":D(!0),"outdent code-block":D(!1),"remove tab":{key:z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(B){this.quill.deleteText(B.index-1,1,b.default.sources.USER)}},tab:{key:z.keys.TAB,handler:function(B){this.quill.history.cutoff();var K=new y.default().retain(B.index).delete(B.length).insert("	");this.quill.updateContents(K,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index+1,b.default.sources.SILENT)}},"list empty enter":{key:z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(B,K){this.quill.format("list",!1,b.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,b.default.sources.USER)}},"checklist enter":{key:z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(B){var K=this.quill.getLine(B.index),G=s(K,2),J=G[0],ie=G[1],he=(0,f.default)({},J.formats(),{list:"checked"}),de=new y.default().retain(B.index).insert(`
`,he).retain(J.length()-ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(de,b.default.sources.USER),this.quill.setSelection(B.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(B,K){var G=this.quill.getLine(B.index),J=s(G,2),ie=J[0],he=J[1],de=new y.default().retain(B.index).insert(`
`,K.format).retain(ie.length()-he-1).retain(1,{header:null});this.quill.updateContents(de,b.default.sources.USER),this.quill.setSelection(B.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(B,K){var G=K.prefix.length,J=this.quill.getLine(B.index),ie=s(J,2),he=ie[0],de=ie[1];if(de>G)return!0;var ve=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":ve="unchecked";break;case"[x]":ve="checked";break;case"-":case"*":ve="bullet";break;default:ve="ordered"}this.quill.insertText(B.index," ",b.default.sources.USER),this.quill.history.cutoff();var ge=new y.default().retain(B.index-de).delete(G+1).retain(he.length()-2-de).retain(1,{list:ve});this.quill.updateContents(ge,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index-G,b.default.sources.SILENT)}},"code exit":{key:z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(B){var K=this.quill.getLine(B.index),G=s(K,2),J=G[0],ie=G[1],he=new y.default().retain(B.index+J.length()-ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(he,b.default.sources.USER)}},"embed left":H(z.keys.LEFT,!1),"embed left shift":H(z.keys.LEFT,!0),"embed right":H(z.keys.RIGHT,!1),"embed right shift":H(z.keys.RIGHT,!0)}};function H(C,B){var K,G=C===z.keys.LEFT?"prefix":"suffix";return K={key:C,shiftKey:B,altKey:null},k(K,G,/^$/),k(K,"handler",function(ie){var he=ie.index;C===z.keys.RIGHT&&(he+=ie.length+1);var de=this.quill.getLeaf(he),ve=s(de,1),ge=ve[0];return ge instanceof m.default.Embed?(C===z.keys.LEFT?B?this.quill.setSelection(ie.index-1,ie.length+1,b.default.sources.USER):this.quill.setSelection(ie.index-1,b.default.sources.USER):B?this.quill.setSelection(ie.index,ie.length+1,b.default.sources.USER):this.quill.setSelection(ie.index+ie.length+1,b.default.sources.USER),!1):!0}),K}function U(C,B){if(!(C.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(C.index),G=s(K,1),J=G[0],ie={};if(B.offset===0){var he=this.quill.getLine(C.index-1),de=s(he,1),ve=de[0];if(ve!=null&&ve.length()>1){var ge=J.formats(),$e=this.quill.getFormat(C.index-1,1);ie=p.default.attributes.diff(ge,$e)||{}}}var Ne=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(B.prefix)?2:1;this.quill.deleteText(C.index-Ne,Ne,b.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(C.index-Ne,Ne,ie,b.default.sources.USER),this.quill.focus()}}function I(C,B){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(B.suffix)?2:1;if(!(C.index>=this.quill.getLength()-K)){var G={},J=0,ie=this.quill.getLine(C.index),he=s(ie,1),de=he[0];if(B.offset>=de.length()-1){var ve=this.quill.getLine(C.index+1),ge=s(ve,1),$e=ge[0];if($e){var Ne=de.formats(),Y=this.quill.getFormat(C.index,1);G=p.default.attributes.diff(Ne,Y)||{},J=$e.length()}}this.quill.deleteText(C.index,K,b.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(C.index+J-1,K,G,b.default.sources.USER)}}function A(C){var B=this.quill.getLines(C),K={};if(B.length>1){var G=B[0].formats(),J=B[B.length-1].formats();K=p.default.attributes.diff(J,G)||{}}this.quill.deleteText(C,b.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(C.index,1,K,b.default.sources.USER),this.quill.setSelection(C.index,b.default.sources.SILENT),this.quill.focus()}function R(C,B){var K=this;C.length>0&&this.quill.scroll.deleteAt(C.index,C.length);var G=Object.keys(B.format).reduce(function(J,ie){return m.default.query(ie,m.default.Scope.BLOCK)&&!Array.isArray(B.format[ie])&&(J[ie]=B.format[ie]),J},{});this.quill.insertText(C.index,`
`,G,b.default.sources.USER),this.quill.setSelection(C.index+1,b.default.sources.SILENT),this.quill.focus(),Object.keys(B.format).forEach(function(J){G[J]==null&&(Array.isArray(B.format[J])||J!=="link"&&K.quill.format(J,B.format[J],b.default.sources.USER))})}function D(C){return{key:z.keys.TAB,shiftKey:!C,format:{"code-block":!0},handler:function(K){var G=m.default.query("code-block"),J=K.index,ie=K.length,he=this.quill.scroll.descendant(G,J),de=s(he,2),ve=de[0],ge=de[1];if(ve!=null){var $e=this.quill.getIndex(ve),Ne=ve.newlineIndex(ge,!0)+1,Y=ve.newlineIndex($e+ge+ie),Q=ve.domNode.textContent.slice(Ne,Y).split(`
`);ge=0,Q.forEach(function(te,ne){C?(ve.insertAt(Ne+ge,G.TAB),ge+=G.TAB.length,ne===0?J+=G.TAB.length:ie+=G.TAB.length):te.startsWith(G.TAB)&&(ve.deleteAt(Ne+ge,G.TAB.length),ge-=G.TAB.length,ne===0?J-=G.TAB.length:ie-=G.TAB.length),ge+=te.length+1}),this.quill.update(b.default.sources.USER),this.quill.setSelection(J,ie,b.default.sources.SILENT)}}}}function W(C){return{key:C[0].toUpperCase(),shortKey:!0,handler:function(K,G){this.quill.format(C,!G.format[C],b.default.sources.USER)}}}function q(C){if(typeof C=="string"||typeof C=="number")return q({key:C});if((typeof C>"u"?"undefined":o(C))==="object"&&(C=(0,c.default)(C,!1)),typeof C.key=="string")if(z.keys[C.key.toUpperCase()]!=null)C.key=z.keys[C.key.toUpperCase()];else if(C.key.length===1)C.key=C.key.toUpperCase().charCodeAt(0);else return null;return C.shortKey&&(C[F]=C.shortKey,delete C.shortKey),C}n.default=z,n.SHORTKEY=F},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function p(h,m){var g=[],b=!0,O=!1,x=void 0;try{for(var S=h[Symbol.iterator](),j;!(b=(j=S.next()).done)&&(g.push(j.value),!(m&&g.length===m));b=!0);}catch(E){O=!0,x=E}finally{try{!b&&S.return&&S.return()}finally{if(O)throw x}}return g}return function(h,m){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return p(h,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function p(h,m,g){h===null&&(h=Function.prototype);var b=Object.getOwnPropertyDescriptor(h,m);if(b===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:p(O,m,g)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(g)}},a=function(){function p(h,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}return function(h,m,g){return m&&p(h.prototype,m),g&&p(h,g),h}}(),l=i(0),c=u(l),v=i(7),d=u(v);function u(p){return p&&p.__esModule?p:{default:p}}function f(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function w(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function y(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var _=function(p){y(h,p),a(h,null,[{key:"value",value:function(){}}]);function h(m,g){f(this,h);var b=w(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m));return b.selection=g,b.textNode=document.createTextNode(h.CONTENTS),b.domNode.appendChild(b.textNode),b._length=0,b}return a(h,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,b){if(this._length!==0)return s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,g,b);for(var O=this,x=0;O!=null&&O.statics.scope!==c.default.Scope.BLOCK_BLOT;)x+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=h.CONTENTS.length,O.optimize(),O.formatAt(x,h.CONTENTS.length,g,b),this._length=0)}},{key:"index",value:function(g,b){return g===this.textNode?0:s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"index",this).call(this,g,b)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,b=this.selection.getNativeRange(),O=void 0,x=void 0,S=void 0;if(b!=null&&b.start.node===g&&b.end.node===g){var j=[g,b.start.offset,b.end.offset];O=j[0],x=j[1],S=j[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==h.CONTENTS){var E=this.textNode.data.split(h.CONTENTS).join("");this.next instanceof d.default?(O=this.next.domNode,this.next.insertAt(0,E),this.textNode.data=h.CONTENTS):(this.textNode.data=E,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(h.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),x!=null){var k=[x,S].map(function(P){return Math.max(0,Math.min(O.data.length,P-1))}),T=o(k,2);return x=T[0],S=T[1],{startNode:O,startOffset:x,endNode:O,endOffset:S}}}}},{key:"update",value:function(g,b){var O=this;if(g.some(function(S){return S.type==="characterData"&&S.target===O.textNode})){var x=this.restore();x&&(b.range=x)}}},{key:"value",value:function(){return""}}]),h}(c.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",n.default=_},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),s=c(o),a=i(4),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function v(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function d(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function u(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var f=function(w){u(y,w);function y(){return v(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(s.default.Container);f.allowedChildren=[l.default,a.BlockEmbed,f],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var o=function(){function _(p,h){for(var m=0;m<h.length;m++){var g=h[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,h,m){return h&&_(p.prototype,h),m&&_(p,m),p}}(),s=function _(p,h,m){p===null&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,h);if(g===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:_(b,h,m)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(m)}},a=i(0),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function v(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function d(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function u(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var f=function(_){u(p,_);function p(){return v(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(m){var g=s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,m);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(b){return("00"+parseInt(b).toString(16)).slice(-2)}).join("")):g}}]),p}(l.default.Attributor.Style),w=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new f("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=f,n.ColorClass=w,n.ColorStyle=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var o=function(){function y(_,p){for(var h=0;h<p.length;h++){var m=p[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,p,h){return p&&y(_.prototype,p),h&&y(_,h),_}}(),s=function y(_,p,h){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,p);if(m===void 0){var g=Object.getPrototypeOf(_);return g===null?void 0:y(g,p,h)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(h)}},a=i(6),l=c(a);function c(y){return y&&y.__esModule?y:{default:y}}function v(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function d(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function u(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var f=function(y){u(_,y);function _(){return v(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(h,m){if(h!==this.statics.blotName||!m)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,h,m);m=this.constructor.sanitize(m),this.domNode.setAttribute("href",m)}}],[{key:"create",value:function(h){var m=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,h);return h=this.sanitize(h),m.setAttribute("href",h),m.setAttribute("rel","noopener noreferrer"),m.setAttribute("target","_blank"),m}},{key:"formats",value:function(h){return h.getAttribute("href")}},{key:"sanitize",value:function(h){return w(h,this.PROTOCOL_WHITELIST)?h:this.SANITIZED_URL}}]),_}(l.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(y,_){var p=document.createElement("a");p.href=y;var h=p.href.slice(0,p.href.indexOf(":"));return _.indexOf(h)>-1}n.default=f,n.sanitize=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=function(){function _(p,h){for(var m=0;m<h.length;m++){var g=h[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,h,m){return h&&_(p.prototype,h),m&&_(p,m),p}}(),a=i(23),l=d(a),c=i(107),v=d(c);function d(_){return _&&_.__esModule?_:{default:_}}function u(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}var f=0;function w(_,p){_.setAttribute(p,_.getAttribute(p)!=="true")}var y=function(){function _(p){var h=this;u(this,_),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){h.togglePicker()}),this.label.addEventListener("keydown",function(m){switch(m.keyCode){case l.default.keys.ENTER:h.togglePicker();break;case l.default.keys.ESCAPE:h.escape(),m.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(h){var m=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),h.hasAttribute("value")&&g.setAttribute("data-value",h.getAttribute("value")),h.textContent&&g.setAttribute("data-label",h.textContent),g.addEventListener("click",function(){m.selectItem(g,!0)}),g.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:m.selectItem(g,!0),b.preventDefault();break;case l.default.keys.ESCAPE:m.escape(),b.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var h=document.createElement("span");return h.classList.add("ql-picker-label"),h.innerHTML=v.default,h.tabIndex="0",h.setAttribute("role","button"),h.setAttribute("aria-expanded","false"),this.container.appendChild(h),h}},{key:"buildOptions",value:function(){var h=this,m=document.createElement("span");m.classList.add("ql-picker-options"),m.setAttribute("aria-hidden","true"),m.tabIndex="-1",m.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",m.id),this.options=m,[].slice.call(this.select.options).forEach(function(g){var b=h.buildItem(g);m.appendChild(b),g.selected===!0&&h.selectItem(b)}),this.container.appendChild(m)}},{key:"buildPicker",value:function(){var h=this;[].slice.call(this.select.attributes).forEach(function(m){h.container.setAttribute(m.name,m.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var h=this;this.close(),setTimeout(function(){return h.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(h!==g&&(g!=null&&g.classList.remove("ql-selected"),h!=null&&(h.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(h.parentNode.children,h),h.hasAttribute("data-value")?this.label.setAttribute("data-value",h.getAttribute("data-value")):this.label.removeAttribute("data-value"),h.hasAttribute("data-label")?this.label.setAttribute("data-label",h.getAttribute("data-label")):this.label.removeAttribute("data-label"),m))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var b=document.createEvent("Event");b.initEvent("change",!0,!0),this.select.dispatchEvent(b)}this.close()}}},{key:"update",value:function(){var h=void 0;if(this.select.selectedIndex>-1){var m=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];h=this.select.options[this.select.selectedIndex],this.selectItem(m)}else this.selectItem(null);var g=h!=null&&h!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),_}();n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),s=M(o),a=i(5),l=M(a),c=i(4),v=M(c),d=i(16),u=M(d),f=i(25),w=M(f),y=i(24),_=M(y),p=i(35),h=M(p),m=i(6),g=M(m),b=i(22),O=M(b),x=i(7),S=M(x),j=i(55),E=M(j),k=i(42),T=M(k),P=i(23),L=M(P);function M(F){return F&&F.__esModule?F:{default:F}}l.default.register({"blots/block":v.default,"blots/block/embed":c.BlockEmbed,"blots/break":u.default,"blots/container":w.default,"blots/cursor":_.default,"blots/embed":h.default,"blots/inline":g.default,"blots/scroll":O.default,"blots/text":S.default,"modules/clipboard":E.default,"modules/history":T.default,"modules/keyboard":L.default}),s.default.register(v.default,u.default,_.default,g.default,O.default,S.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,c){var v=this.isolate(l,c);v.remove()},a.prototype.formatAt=function(l,c,v,d){var u=this.isolate(l,c);if(o.query(v,o.Scope.BLOT)!=null&&d)u.wrap(v,d);else if(o.query(v,o.Scope.ATTRIBUTE)!=null){var f=o.create(this.statics.scope);u.wrap(f),f.format(v,d)}},a.prototype.insertAt=function(l,c,v){var d=v==null?o.create("text",c):o.create(c,v),u=this.split(l);this.parent.insertBefore(d,u)},a.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var v=null;l.children.insertBefore(this,c),c!=null&&(v=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=v)&&l.domNode.insertBefore(this.domNode,v),this.parent=l,this.attach()},a.prototype.isolate=function(l,c){var v=this.split(l);return v.split(c),v},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,c){var v=typeof l=="string"?o.create(l,c):l;return v.replace(this),v},a.prototype.split=function(l,c){return l===0?this:this.next},a.prototype.update=function(l,c){},a.prototype.wrap=function(l,c){var v=typeof l=="string"?o.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},a.blotName="abstract",a}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),c=function(){function v(d){this.attributes={},this.domNode=d,this.build()}return v.prototype.attribute=function(d,u){u?d.add(this.domNode,u)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},v.prototype.build=function(){var d=this;this.attributes={};var u=o.default.keys(this.domNode),f=s.default.keys(this.domNode),w=a.default.keys(this.domNode);u.concat(f).concat(w).forEach(function(y){var _=l.query(y,l.Scope.ATTRIBUTE);_ instanceof o.default&&(d.attributes[_.attrName]=_)})},v.prototype.copy=function(d){var u=this;Object.keys(this.attributes).forEach(function(f){var w=u.attributes[f].value(u.domNode);d.format(f,w)})},v.prototype.move=function(d){var u=this;this.copy(d),Object.keys(this.attributes).forEach(function(f){u.attributes[f].remove(u.domNode)}),this.attributes={}},v.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(u,f){return u[f]=d.attributes[f].value(d.domNode),u},{})},v}();n.default=c},function(r,n,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var u in d)d.hasOwnProperty(u)&&(v[u]=d[u])};return function(v,d){c(v,d);function u(){this.constructor=v}v.prototype=d===null?Object.create(d):(u.prototype=d.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function a(c,v){var d=c.getAttribute("class")||"";return d.split(/\s+/).filter(function(u){return u.indexOf(v+"-")===0})}var l=function(c){o(v,c);function v(){return c!==null&&c.apply(this,arguments)||this}return v.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},v.prototype.add=function(d,u){return this.canAdd(d,u)?(this.remove(d),d.classList.add(this.keyName+"-"+u),!0):!1},v.prototype.remove=function(d){var u=a(d,this.keyName);u.forEach(function(f){d.classList.remove(f)}),d.classList.length===0&&d.removeAttribute("class")},v.prototype.value=function(d){var u=a(d,this.keyName)[0]||"",f=u.slice(this.keyName.length+1);return this.canAdd(d,f)?f:""},v}(s.default);n.default=l},function(r,n,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var u in d)d.hasOwnProperty(u)&&(v[u]=d[u])};return function(v,d){c(v,d);function u(){this.constructor=v}v.prototype=d===null?Object.create(d):(u.prototype=d.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function a(c){var v=c.split("-"),d=v.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return v[0]+d}var l=function(c){o(v,c);function v(){return c!==null&&c.apply(this,arguments)||this}return v.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(u){var f=u.split(":");return f[0].trim()})},v.prototype.add=function(d,u){return this.canAdd(d,u)?(d.style[a(this.keyName)]=u,!0):!1},v.prototype.remove=function(d){d.style[a(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},v.prototype.value=function(d){var u=d.style[a(this.keyName)];return this.canAdd(d,u)?u:""},v}(s.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function l(c,v){for(var d=0;d<v.length;d++){var u=v[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,u.key,u)}}return function(c,v,d){return v&&l(c.prototype,v),d&&l(c,d),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,v){s(this,l),this.quill=c,this.options=v,this.modules={}}return o(l,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(d){v.modules[d]==null&&v.addModule(d)})}},{key:"addModule",value:function(v){var d=this.quill.constructor.import("modules/"+v);return this.modules[v]=new d(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function p(h,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}return function(h,m,g){return m&&p(h.prototype,m),g&&p(h,g),h}}(),s=function p(h,m,g){h===null&&(h=Function.prototype);var b=Object.getOwnPropertyDescriptor(h,m);if(b===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:p(O,m,g)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(g)}},a=i(0),l=d(a),c=i(7),v=d(c);function d(p){return p&&p.__esModule?p:{default:p}}function u(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function f(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function w(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var y="\uFEFF",_=function(p){w(h,p);function h(m){u(this,h);var g=f(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(b){g.contentNode.appendChild(b)}),g.leftGuard=document.createTextNode(y),g.rightGuard=document.createTextNode(y),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(h,[{key:"index",value:function(g,b){return g===this.leftGuard?0:g===this.rightGuard?1:s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"index",this).call(this,g,b)}},{key:"restore",value:function(g){var b=void 0,O=void 0,x=g.data.split(y).join("");if(g===this.leftGuard)if(this.prev instanceof v.default){var S=this.prev.length();this.prev.insertAt(S,x),b={startNode:this.prev.domNode,startOffset:S+x.length}}else O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this),b={startNode:O,startOffset:x.length};else g===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,x),b={startNode:this.next.domNode,startOffset:x.length}):(O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this.next),b={startNode:O,startOffset:x.length}));return g.data=y,b}},{key:"update",value:function(g,b){var O=this;g.forEach(function(x){if(x.type==="characterData"&&(x.target===O.leftGuard||x.target===O.rightGuard)){var S=O.restore(x.target);S&&(b.range=S)}})}}]),h}(l.default.Embed);n.default=_},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var o=i(0),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new s.default.Attributor.Attribute("align","align",l),v=new s.default.Attributor.Class("align","ql-align",l),d=new s.default.Attributor.Style("align","text-align",l);n.AlignAttribute=c,n.AlignClass=v,n.AlignStyle=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var c=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),v=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});n.BackgroundClass=c,n.BackgroundStyle=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},c=new s.default.Attributor.Attribute("direction","dir",l),v=new s.default.Attributor.Class("direction","ql-direction",l),d=new s.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=c,n.DirectionClass=v,n.DirectionStyle=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var o=function(){function p(h,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}return function(h,m,g){return m&&p(h.prototype,m),g&&p(h,g),h}}(),s=function p(h,m,g){h===null&&(h=Function.prototype);var b=Object.getOwnPropertyDescriptor(h,m);if(b===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:p(O,m,g)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(g)}},a=i(0),l=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function v(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function d(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function u(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var f={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new l.default.Attributor.Class("font","ql-font",f),y=function(p){u(h,p);function h(){return v(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return o(h,[{key:"value",value:function(g){return s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),h}(l.default.Attributor.Style),_=new y("font","font-family",f);n.FontStyle=_,n.FontClass=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var o=i(0),s=a(o);function a(v){return v&&v.__esModule?v:{default:v}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=c},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var o=function(){function m(g,b){for(var O=0;O<b.length;O++){var x=b[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,O){return b&&m(g.prototype,b),O&&m(g,O),g}}(),s=i(0),a=u(s),l=i(5),c=u(l),v=i(9),d=u(v);function u(m){return m&&m.__esModule?m:{default:m}}function f(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function w(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function y(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var _=function(m){y(g,m);function g(b,O){f(this,g);var x=w(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b,O));return x.lastRecorded=0,x.ignoreChange=!1,x.clear(),x.quill.on(c.default.events.EDITOR_CHANGE,function(S,j,E,k){S!==c.default.events.TEXT_CHANGE||x.ignoreChange||(!x.options.userOnly||k===c.default.sources.USER?x.record(j,E):x.transform(j))}),x.quill.keyboard.addBinding({key:"Z",shortKey:!0},x.undo.bind(x)),x.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},x.redo.bind(x)),/Win/i.test(navigator.platform)&&x.quill.keyboard.addBinding({key:"Y",shortKey:!0},x.redo.bind(x)),x}return o(g,[{key:"change",value:function(O,x){if(this.stack[O].length!==0){var S=this.stack[O].pop();this.stack[x].push(S),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(S[O],c.default.sources.USER),this.ignoreChange=!1;var j=h(S[O]);this.quill.setSelection(j)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,x){if(O.ops.length!==0){this.stack.redo=[];var S=this.quill.getContents().diff(x),j=Date.now();if(this.lastRecorded+this.options.delay>j&&this.stack.undo.length>0){var E=this.stack.undo.pop();S=S.compose(E.undo),O=E.redo.compose(O)}else this.lastRecorded=j;this.stack.undo.push({redo:O,undo:S}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)}),this.stack.redo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(d.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(m){var g=m.ops[m.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(b){return a.default.query(b,a.default.Scope.BLOCK)!=null}):!1}function h(m){var g=m.reduce(function(O,x){return O+=x.delete||0,O},0),b=m.length()-g;return p(m)&&(b-=1),b}n.default=_,n.getLastChangeIndex=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var o=function(){function R(D,W){for(var q=0;q<W.length;q++){var C=W[q];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(D,C.key,C)}}return function(D,W,q){return W&&R(D.prototype,W),q&&R(D,q),D}}(),s=function R(D,W,q){D===null&&(D=Function.prototype);var C=Object.getOwnPropertyDescriptor(D,W);if(C===void 0){var B=Object.getPrototypeOf(D);return B===null?void 0:R(B,W,q)}else{if("value"in C)return C.value;var K=C.get;return K===void 0?void 0:K.call(q)}},a=i(3),l=j(a),c=i(2),v=j(c),d=i(8),u=j(d),f=i(23),w=j(f),y=i(34),_=j(y),p=i(59),h=j(p),m=i(60),g=j(m),b=i(28),O=j(b),x=i(61),S=j(x);function j(R){return R&&R.__esModule?R:{default:R}}function E(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function k(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function T(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var P=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],F=["1","2","3",!1],z=["small",!1,"large","huge"],H=function(R){T(D,R);function D(W,q){E(this,D);var C=k(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,W,q)),B=function K(G){if(!document.body.contains(W.root))return document.body.removeEventListener("click",K);C.tooltip!=null&&!C.tooltip.root.contains(G.target)&&document.activeElement!==C.tooltip.textbox&&!C.quill.hasFocus()&&C.tooltip.hide(),C.pickers!=null&&C.pickers.forEach(function(J){J.container.contains(G.target)||J.close()})};return W.emitter.listenDOM("click",document.body,B),C}return o(D,[{key:"addModule",value:function(q){var C=s(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"addModule",this).call(this,q);return q==="toolbar"&&this.extendToolbar(C),C}},{key:"buildButtons",value:function(q,C){q.forEach(function(B){var K=B.getAttribute("class")||"";K.split(/\s+/).forEach(function(G){if(G.startsWith("ql-")&&(G=G.slice(3),C[G]!=null))if(G==="direction")B.innerHTML=C[G][""]+C[G].rtl;else if(typeof C[G]=="string")B.innerHTML=C[G];else{var J=B.value||"";J!=null&&C[G][J]&&(B.innerHTML=C[G][J])}})})}},{key:"buildPickers",value:function(q,C){var B=this;this.pickers=q.map(function(G){if(G.classList.contains("ql-align"))return G.querySelector("option")==null&&A(G,P),new g.default(G,C.align);if(G.classList.contains("ql-background")||G.classList.contains("ql-color")){var J=G.classList.contains("ql-background")?"background":"color";return G.querySelector("option")==null&&A(G,L,J==="background"?"#ffffff":"#000000"),new h.default(G,C[J])}else return G.querySelector("option")==null&&(G.classList.contains("ql-font")?A(G,M):G.classList.contains("ql-header")?A(G,F):G.classList.contains("ql-size")&&A(G,z)),new O.default(G)});var K=function(){B.pickers.forEach(function(J){J.update()})};this.quill.on(u.default.events.EDITOR_CHANGE,K)}}]),D}(_.default);H.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var D=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var q=new FileReader;q.onload=function(C){var B=D.quill.getSelection(!0);D.quill.updateContents(new v.default().retain(B.index).delete(B.length).insert({image:C.target.result}),u.default.sources.USER),D.quill.setSelection(B.index+1,u.default.sources.SILENT),W.value=""},q.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var U=function(R){T(D,R);function D(W,q){E(this,D);var C=k(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,W,q));return C.textbox=C.root.querySelector('input[type="text"]'),C.listen(),C}return o(D,[{key:"listen",value:function(){var q=this;this.textbox.addEventListener("keydown",function(C){w.default.match(C,"enter")?(q.save(),C.preventDefault()):w.default.match(C,"escape")&&(q.cancel(),C.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),C!=null?this.textbox.value=C:q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+q)||""),this.root.setAttribute("data-mode",q)}},{key:"restoreFocus",value:function(){var q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=q}},{key:"save",value:function(){var q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var C=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",q,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",q,u.default.sources.USER)),this.quill.root.scrollTop=C;break}case"video":q=I(q);case"formula":{if(!q)break;var B=this.quill.getSelection(!0);if(B!=null){var K=B.index+B.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),q,u.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",u.default.sources.USER),this.quill.setSelection(K+2,u.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),D}(S.default);function I(R){var D=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?(D[1]||"https")+"://www.youtube.com/embed/"+D[2]+"?showinfo=0":(D=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(D[1]||"https")+"://player.vimeo.com/video/"+D[2]+"/":R}function A(R,D){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D.forEach(function(q){var C=document.createElement("option");q===W?C.setAttribute("selected","selected"):C.setAttribute("value",q),R.appendChild(C)})}n.BaseTooltip=U,n.default=H},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,c=this.iterator();l=c();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,c=this.head;c!=null;){if(c===a)return l;l+=c.length(),c=c.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var c,v=this.iterator();c=v();){var d=c.length();if(a<d||l&&a===d&&(c.next==null||c.next.length()!==0))return[c,a];a-=d}return[null,0]},s.prototype.forEach=function(a){for(var l,c=this.iterator();l=c();)a(l)},s.prototype.forEachAt=function(a,l,c){if(!(l<=0))for(var v=this.find(a),d=v[0],u=v[1],f,w=a-u,y=this.iterator(d);(f=y())&&w<a+l;){var _=f.length();a>w?c(f,a-w,Math.min(l,w+_-a)):c(f,0,Math.min(_,a+l-w)),w+=_}},s.prototype.map=function(a){return this.reduce(function(l,c){return l.push(a(c)),l},[])},s.prototype.reduce=function(a,l){for(var c,v=this.iterator();c=v();)l=a(l,c);return l},s}();n.default=o},function(r,n,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var w in f)f.hasOwnProperty(w)&&(u[w]=f[w])};return function(u,f){d(u,f);function w(){this.constructor=u}u.prototype=f===null?Object.create(f):(w.prototype=f.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,v=function(d){o(u,d);function u(f){var w=d.call(this,f)||this;return w.scroll=w,w.observer=new MutationObserver(function(y){w.update(y)}),w.observer.observe(w.domNode,l),w.attach(),w}return u.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},u.prototype.deleteAt=function(f,w){this.update(),f===0&&w===this.length()?this.children.forEach(function(y){y.remove()}):d.prototype.deleteAt.call(this,f,w)},u.prototype.formatAt=function(f,w,y,_){this.update(),d.prototype.formatAt.call(this,f,w,y,_)},u.prototype.insertAt=function(f,w,y){this.update(),d.prototype.insertAt.call(this,f,w,y)},u.prototype.optimize=function(f,w){var y=this;f===void 0&&(f=[]),w===void 0&&(w={}),d.prototype.optimize.call(this,w);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)f.push(_.pop());for(var p=function(b,O){O===void 0&&(O=!0),!(b==null||b===y)&&b.domNode.parentNode!=null&&(b.domNode[a.DATA_KEY].mutations==null&&(b.domNode[a.DATA_KEY].mutations=[]),O&&p(b.parent))},h=function(b){b.domNode[a.DATA_KEY]==null||b.domNode[a.DATA_KEY].mutations==null||(b instanceof s.default&&b.children.forEach(h),b.optimize(w))},m=f,g=0;m.length>0;g+=1){if(g>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(m.forEach(function(b){var O=a.find(b.target,!0);O!=null&&(O.domNode===b.target&&(b.type==="childList"?(p(a.find(b.previousSibling,!1)),[].forEach.call(b.addedNodes,function(x){var S=a.find(x,!1);p(S,!1),S instanceof s.default&&S.children.forEach(function(j){p(j,!1)})})):b.type==="attributes"&&p(O.prev)),p(O))}),this.children.forEach(h),m=[].slice.call(this.observer.takeRecords()),_=m.slice();_.length>0;)f.push(_.pop())}},u.prototype.update=function(f,w){var y=this;w===void 0&&(w={}),f=f||this.observer.takeRecords(),f.map(function(_){var p=a.find(_.target,!0);return p==null?null:p.domNode[a.DATA_KEY].mutations==null?(p.domNode[a.DATA_KEY].mutations=[_],p):(p.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===y||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],w)}),this.domNode[a.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,w),this.optimize(f,w)},u.blotName="scroll",u.defaultChild="block",u.scope=a.Scope.BLOCK_BLOT,u.tagName="DIV",u}(s.default);n.default=v},function(r,n,i){var o=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var f in u)u.hasOwnProperty(f)&&(d[f]=u[f])};return function(d,u){v(d,u);function f(){this.constructor=d}d.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),a=i(1);function l(v,d){if(Object.keys(v).length!==Object.keys(d).length)return!1;for(var u in v)if(v[u]!==d[u])return!1;return!0}var c=function(v){o(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.formats=function(u){if(u.tagName!==d.tagName)return v.formats.call(this,u)},d.prototype.format=function(u,f){var w=this;u===this.statics.blotName&&!f?(this.children.forEach(function(y){y instanceof s.default||(y=y.wrap(d.blotName,!0)),w.attributes.copy(y)}),this.unwrap()):v.prototype.format.call(this,u,f)},d.prototype.formatAt=function(u,f,w,y){if(this.formats()[w]!=null||a.query(w,a.Scope.ATTRIBUTE)){var _=this.isolate(u,f);_.format(w,y)}else v.prototype.formatAt.call(this,u,f,w,y)},d.prototype.optimize=function(u){v.prototype.optimize.call(this,u);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var w=this.next;w instanceof d&&w.prev===this&&l(f,w.formats())&&(w.moveChildren(this),w.remove())},d.blotName="inline",d.scope=a.Scope.INLINE_BLOT,d.tagName="SPAN",d}(s.default);n.default=c},function(r,n,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var u in d)d.hasOwnProperty(u)&&(v[u]=d[u])};return function(v,d){c(v,d);function u(){this.constructor=v}v.prototype=d===null?Object.create(d):(u.prototype=d.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(c){o(v,c);function v(){return c!==null&&c.apply(this,arguments)||this}return v.formats=function(d){var u=a.query(v.blotName).tagName;if(d.tagName!==u)return c.formats.call(this,d)},v.prototype.format=function(d,u){a.query(d,a.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!u?this.replaceWith(v.blotName):c.prototype.format.call(this,d,u))},v.prototype.formatAt=function(d,u,f,w){a.query(f,a.Scope.BLOCK)!=null?this.format(f,w):c.prototype.formatAt.call(this,d,u,f,w)},v.prototype.insertAt=function(d,u,f){if(f==null||a.query(u,a.Scope.INLINE)!=null)c.prototype.insertAt.call(this,d,u,f);else{var w=this.split(d),y=a.create(u,f);w.parent.insertBefore(y,w)}},v.prototype.update=function(d,u){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,d,u)},v.blotName="block",v.scope=a.Scope.BLOCK_BLOT,v.tagName="P",v}(s.default);n.default=l},function(r,n,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,v){c.__proto__=v}||function(c,v){for(var d in v)v.hasOwnProperty(d)&&(c[d]=v[d])};return function(c,v){l(c,v);function d(){this.constructor=c}c.prototype=v===null?Object.create(v):(d.prototype=v.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),a=function(l){o(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(v){},c.prototype.format=function(v,d){l.prototype.formatAt.call(this,0,this.length(),v,d)},c.prototype.formatAt=function(v,d,u,f){v===0&&d===this.length()?this.format(u,f):l.prototype.formatAt.call(this,v,d,u,f)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(s.default);n.default=a},function(r,n,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var u in d)d.hasOwnProperty(u)&&(v[u]=d[u])};return function(v,d){c(v,d);function u(){this.constructor=v}v.prototype=d===null?Object.create(d):(u.prototype=d.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(c){o(v,c);function v(d){var u=c.call(this,d)||this;return u.text=u.statics.value(u.domNode),u}return v.create=function(d){return document.createTextNode(d)},v.value=function(d){var u=d.data;return u.normalize&&(u=u.normalize()),u},v.prototype.deleteAt=function(d,u){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+u)},v.prototype.index=function(d,u){return this.domNode===d?u:-1},v.prototype.insertAt=function(d,u,f){f==null?(this.text=this.text.slice(0,d)+u+this.text.slice(d),this.domNode.data=this.text):c.prototype.insertAt.call(this,d,u,f)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(d){c.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(d,u){return[this.domNode,d]},v.prototype.split=function(d,u){if(u===void 0&&(u=!1),!u){if(d===0)return this;if(d===this.length())return this.next}var f=a.create(this.domNode.splitText(d));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},v.prototype.update=function(d,u){var f=this;d.some(function(w){return w.type==="characterData"&&w.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=a.Scope.INLINE_BLOT,v}(s.default);n.default=l},function(r,n,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=a.length;var v=c.indexOf(a,l);return v!==-1&&v===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),v=c.length>>>0,d=arguments[1],u,f=0;f<v;f++)if(u=c[f],l.call(d,u,f,c))return u}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,o=1,s=0;function a(g,b,O){if(g==b)return g?[[s,g]]:[];(O<0||g.length<O)&&(O=null);var x=d(g,b),S=g.substring(0,x);g=g.substring(x),b=b.substring(x),x=u(g,b);var j=g.substring(g.length-x);g=g.substring(0,g.length-x),b=b.substring(0,b.length-x);var E=l(g,b);return S&&E.unshift([s,S]),j&&E.push([s,j]),w(E),O!=null&&(E=p(E,O)),E=h(E),E}function l(g,b){var O;if(!g)return[[o,b]];if(!b)return[[i,g]];var x=g.length>b.length?g:b,S=g.length>b.length?b:g,j=x.indexOf(S);if(j!=-1)return O=[[o,x.substring(0,j)],[s,S],[o,x.substring(j+S.length)]],g.length>b.length&&(O[0][0]=O[2][0]=i),O;if(S.length==1)return[[i,g],[o,b]];var E=f(g,b);if(E){var k=E[0],T=E[1],P=E[2],L=E[3],M=E[4],F=a(k,P),z=a(T,L);return F.concat([[s,M]],z)}return c(g,b)}function c(g,b){for(var O=g.length,x=b.length,S=Math.ceil((O+x)/2),j=S,E=2*S,k=new Array(E),T=new Array(E),P=0;P<E;P++)k[P]=-1,T[P]=-1;k[j+1]=0,T[j+1]=0;for(var L=O-x,M=L%2!=0,F=0,z=0,H=0,U=0,I=0;I<S;I++){for(var A=-I+F;A<=I-z;A+=2){var R=j+A,D;A==-I||A!=I&&k[R-1]<k[R+1]?D=k[R+1]:D=k[R-1]+1;for(var W=D-A;D<O&&W<x&&g.charAt(D)==b.charAt(W);)D++,W++;if(k[R]=D,D>O)z+=2;else if(W>x)F+=2;else if(M){var q=j+L-A;if(q>=0&&q<E&&T[q]!=-1){var C=O-T[q];if(D>=C)return v(g,b,D,W)}}}for(var B=-I+H;B<=I-U;B+=2){var q=j+B,C;B==-I||B!=I&&T[q-1]<T[q+1]?C=T[q+1]:C=T[q-1]+1;for(var K=C-B;C<O&&K<x&&g.charAt(O-C-1)==b.charAt(x-K-1);)C++,K++;if(T[q]=C,C>O)U+=2;else if(K>x)H+=2;else if(!M){var R=j+L-B;if(R>=0&&R<E&&k[R]!=-1){var D=k[R],W=j+D-R;if(C=O-C,D>=C)return v(g,b,D,W)}}}}return[[i,g],[o,b]]}function v(g,b,O,x){var S=g.substring(0,O),j=b.substring(0,x),E=g.substring(O),k=b.substring(x),T=a(S,j),P=a(E,k);return T.concat(P)}function d(g,b){if(!g||!b||g.charAt(0)!=b.charAt(0))return 0;for(var O=0,x=Math.min(g.length,b.length),S=x,j=0;O<S;)g.substring(j,S)==b.substring(j,S)?(O=S,j=O):x=S,S=Math.floor((x-O)/2+O);return S}function u(g,b){if(!g||!b||g.charAt(g.length-1)!=b.charAt(b.length-1))return 0;for(var O=0,x=Math.min(g.length,b.length),S=x,j=0;O<S;)g.substring(g.length-S,g.length-j)==b.substring(b.length-S,b.length-j)?(O=S,j=O):x=S,S=Math.floor((x-O)/2+O);return S}function f(g,b){var O=g.length>b.length?g:b,x=g.length>b.length?b:g;if(O.length<4||x.length*2<O.length)return null;function S(z,H,U){for(var I=z.substring(U,U+Math.floor(z.length/4)),A=-1,R="",D,W,q,C;(A=H.indexOf(I,A+1))!=-1;){var B=d(z.substring(U),H.substring(A)),K=u(z.substring(0,U),H.substring(0,A));R.length<K+B&&(R=H.substring(A-K,A)+H.substring(A,A+B),D=z.substring(0,U-K),W=z.substring(U+B),q=H.substring(0,A-K),C=H.substring(A+B))}return R.length*2>=z.length?[D,W,q,C,R]:null}var j=S(O,x,Math.ceil(O.length/4)),E=S(O,x,Math.ceil(O.length/2)),k;if(!j&&!E)return null;E?j?k=j[4].length>E[4].length?j:E:k=E:k=j;var T,P,L,M;g.length>b.length?(T=k[0],P=k[1],L=k[2],M=k[3]):(L=k[0],M=k[1],T=k[2],P=k[3]);var F=k[4];return[T,P,L,M,F]}function w(g){g.push([s,""]);for(var b=0,O=0,x=0,S="",j="",E;b<g.length;)switch(g[b][0]){case o:x++,j+=g[b][1],b++;break;case i:O++,S+=g[b][1],b++;break;case s:O+x>1?(O!==0&&x!==0&&(E=d(j,S),E!==0&&(b-O-x>0&&g[b-O-x-1][0]==s?g[b-O-x-1][1]+=j.substring(0,E):(g.splice(0,0,[s,j.substring(0,E)]),b++),j=j.substring(E),S=S.substring(E)),E=u(j,S),E!==0&&(g[b][1]=j.substring(j.length-E)+g[b][1],j=j.substring(0,j.length-E),S=S.substring(0,S.length-E))),O===0?g.splice(b-x,O+x,[o,j]):x===0?g.splice(b-O,O+x,[i,S]):g.splice(b-O-x,O+x,[i,S],[o,j]),b=b-O-x+(O?1:0)+(x?1:0)+1):b!==0&&g[b-1][0]==s?(g[b-1][1]+=g[b][1],g.splice(b,1)):b++,x=0,O=0,S="",j="";break}g[g.length-1][1]===""&&g.pop();var k=!1;for(b=1;b<g.length-1;)g[b-1][0]==s&&g[b+1][0]==s&&(g[b][1].substring(g[b][1].length-g[b-1][1].length)==g[b-1][1]?(g[b][1]=g[b-1][1]+g[b][1].substring(0,g[b][1].length-g[b-1][1].length),g[b+1][1]=g[b-1][1]+g[b+1][1],g.splice(b-1,1),k=!0):g[b][1].substring(0,g[b+1][1].length)==g[b+1][1]&&(g[b-1][1]+=g[b+1][1],g[b][1]=g[b][1].substring(g[b+1][1].length)+g[b+1][1],g.splice(b+1,1),k=!0)),b++;k&&w(g)}var y=a;y.INSERT=o,y.DELETE=i,y.EQUAL=s,r.exports=y;function _(g,b){if(b===0)return[s,g];for(var O=0,x=0;x<g.length;x++){var S=g[x];if(S[0]===i||S[0]===s){var j=O+S[1].length;if(b===j)return[x+1,g];if(b<j){g=g.slice();var E=b-O,k=[S[0],S[1].slice(0,E)],T=[S[0],S[1].slice(E)];return g.splice(x,1,k,T),[x+1,g]}else O=j}}throw new Error("cursor_pos is out of bounds!")}function p(g,b){var O=_(g,b),x=O[1],S=O[0],j=x[S],E=x[S+1];if(j==null)return g;if(j[0]!==s)return g;if(E!=null&&j[1]+E[1]===E[1]+j[1])return x.splice(S,2,E,j),m(x,S,2);if(E!=null&&E[1].indexOf(j[1])===0){x.splice(S,2,[E[0],j[1]],[0,j[1]]);var k=E[1].slice(j[1].length);return k.length>0&&x.splice(S+2,0,[E[0],k]),m(x,S,3)}else return g}function h(g){for(var b=!1,O=function(E){return E.charCodeAt(0)>=56320&&E.charCodeAt(0)<=57343},x=function(E){return E.charCodeAt(E.length-1)>=55296&&E.charCodeAt(E.length-1)<=56319},S=2;S<g.length;S+=1)g[S-2][0]===s&&x(g[S-2][1])&&g[S-1][0]===i&&O(g[S-1][1])&&g[S][0]===o&&O(g[S][1])&&(b=!0,g[S-1][1]=g[S-2][1].slice(-1)+g[S-1][1],g[S][1]=g[S-2][1].slice(-1)+g[S][1],g[S-2][1]=g[S-2][1].slice(0,-1));if(!b)return g;for(var j=[],S=0;S<g.length;S+=1)g[S][1].length>0&&j.push(g[S]);return j}function m(g,b,O){for(var x=b+O-1;x>=0&&x>=b-1;x--)if(x+1<g.length){var S=g[x],j=g[x+1];S[0]===j[1]&&g.splice(x,2,[S[0],S[1]+j[1]])}return g}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?o:s,n.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}n.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(c,v,d){this.fn=c,this.context=v,this.once=d||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var v=[],d,u;if(this._eventsCount===0)return v;for(u in d=this._events)i.call(d,u)&&v.push(o?u.slice(1):u);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(d)):v},l.prototype.listeners=function(v,d){var u=o?o+v:v,f=this._events[u];if(d)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var w=0,y=f.length,_=new Array(y);w<y;w++)_[w]=f[w].fn;return _},l.prototype.emit=function(v,d,u,f,w,y){var _=o?o+v:v;if(!this._events[_])return!1;var p=this._events[_],h=arguments.length,m,g;if(p.fn){switch(p.once&&this.removeListener(v,p.fn,void 0,!0),h){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,u),!0;case 4:return p.fn.call(p.context,d,u,f),!0;case 5:return p.fn.call(p.context,d,u,f,w),!0;case 6:return p.fn.call(p.context,d,u,f,w,y),!0}for(g=1,m=new Array(h-1);g<h;g++)m[g-1]=arguments[g];p.fn.apply(p.context,m)}else{var b=p.length,O;for(g=0;g<b;g++)switch(p[g].once&&this.removeListener(v,p[g].fn,void 0,!0),h){case 1:p[g].fn.call(p[g].context);break;case 2:p[g].fn.call(p[g].context,d);break;case 3:p[g].fn.call(p[g].context,d,u);break;case 4:p[g].fn.call(p[g].context,d,u,f);break;default:if(!m)for(O=1,m=new Array(h-1);O<h;O++)m[O-1]=arguments[O];p[g].fn.apply(p[g].context,m)}}return!0},l.prototype.on=function(v,d,u){var f=new a(d,u||this),w=o?o+v:v;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],f]:this._events[w].push(f):(this._events[w]=f,this._eventsCount++),this},l.prototype.once=function(v,d,u){var f=new a(d,u||this,!0),w=o?o+v:v;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],f]:this._events[w].push(f):(this._events[w]=f,this._eventsCount++),this},l.prototype.removeListener=function(v,d,u,f){var w=o?o+v:v;if(!this._events[w])return this;if(!d)return--this._eventsCount===0?this._events=new s:delete this._events[w],this;var y=this._events[w];if(y.fn)y.fn===d&&(!f||y.once)&&(!u||y.context===u)&&(--this._eventsCount===0?this._events=new s:delete this._events[w]);else{for(var _=0,p=[],h=y.length;_<h;_++)(y[_].fn!==d||f&&!y[_].once||u&&y[_].context!==u)&&p.push(y[_]);p.length?this._events[w]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new s:delete this._events[w]}return this},l.prototype.removeAllListeners=function(v){var d;return v?(d=o?o+v:v,this._events[d]&&(--this._eventsCount===0?this._events=new s:delete this._events[d])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},s=function(){function Y(Q,te){var ne=[],V=!0,re=!1,le=void 0;try{for(var se=Q[Symbol.iterator](),me;!(V=(me=se.next()).done)&&(ne.push(me.value),!(te&&ne.length===te));V=!0);}catch(Oe){re=!0,le=Oe}finally{try{!V&&se.return&&se.return()}finally{if(re)throw le}}return ne}return function(Q,te){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return Y(Q,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Y(Q,te){for(var ne=0;ne<te.length;ne++){var V=te[ne];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(Q,V.key,V)}}return function(Q,te,ne){return te&&Y(Q.prototype,te),ne&&Y(Q,ne),Q}}(),l=i(3),c=T(l),v=i(2),d=T(v),u=i(0),f=T(u),w=i(5),y=T(w),_=i(10),p=T(_),h=i(9),m=T(h),g=i(36),b=i(37),O=i(13),x=T(O),S=i(26),j=i(38),E=i(39),k=i(40);function T(Y){return Y&&Y.__esModule?Y:{default:Y}}function P(Y,Q,te){return Q in Y?Object.defineProperty(Y,Q,{value:te,enumerable:!0,configurable:!0,writable:!0}):Y[Q]=te,Y}function L(Y,Q){if(!(Y instanceof Q))throw new TypeError("Cannot call a class as a function")}function M(Y,Q){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:Y}function F(Y,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);Y.prototype=Object.create(Q&&Q.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,Q):Y.__proto__=Q)}var z=(0,p.default)("quill:clipboard"),H="__ql-matcher",U=[[Node.TEXT_NODE,Ne],[Node.TEXT_NODE,ve],["br",ie],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,$e],["li",de],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",he]],I=[g.AlignAttribute,j.DirectionAttribute].reduce(function(Y,Q){return Y[Q.keyName]=Q,Y},{}),A=[g.AlignStyle,b.BackgroundStyle,S.ColorStyle,j.DirectionStyle,E.FontStyle,k.SizeStyle].reduce(function(Y,Q){return Y[Q.keyName]=Q,Y},{}),R=function(Y){F(Q,Y);function Q(te,ne){L(this,Q);var V=M(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,te,ne));return V.quill.root.addEventListener("paste",V.onPaste.bind(V)),V.container=V.quill.addContainer("ql-clipboard"),V.container.setAttribute("contenteditable",!0),V.container.setAttribute("tabindex",-1),V.matchers=[],U.concat(V.options.matchers).forEach(function(re){var le=s(re,2),se=le[0],me=le[1];!ne.matchVisual&&me===ge||V.addMatcher(se,me)}),V}return a(Q,[{key:"addMatcher",value:function(ne,V){this.matchers.push([ne,V])}},{key:"convert",value:function(ne){if(typeof ne=="string")return this.container.innerHTML=ne.replace(/\>\r?\n +\</g,"><"),this.convert();var V=this.quill.getFormat(this.quill.selection.savedRange.index);if(V[x.default.blotName]){var re=this.container.innerText;return this.container.innerHTML="",new d.default().insert(re,P({},x.default.blotName,V[x.default.blotName]))}var le=this.prepareMatching(),se=s(le,2),me=se[0],Oe=se[1],ye=B(this.container,me,Oe);return q(ye,`
`)&&ye.ops[ye.ops.length-1].attributes==null&&(ye=ye.compose(new d.default().retain(ye.length()-1).delete(1))),z.log("convert",this.container.innerHTML,ye),this.container.innerHTML="",ye}},{key:"dangerouslyPasteHTML",value:function(ne,V){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ne=="string")this.quill.setContents(this.convert(ne),V),this.quill.setSelection(0,y.default.sources.SILENT);else{var le=this.convert(V);this.quill.updateContents(new d.default().retain(ne).concat(le),re),this.quill.setSelection(ne+le.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ne){var V=this;if(!(ne.defaultPrevented||!this.quill.isEnabled())){var re=this.quill.getSelection(),le=new d.default().retain(re.index),se=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){le=le.concat(V.convert()).delete(re.length),V.quill.updateContents(le,y.default.sources.USER),V.quill.setSelection(le.length()-re.length,y.default.sources.SILENT),V.quill.scrollingContainer.scrollTop=se,V.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ne=this,V=[],re=[];return this.matchers.forEach(function(le){var se=s(le,2),me=se[0],Oe=se[1];switch(me){case Node.TEXT_NODE:re.push(Oe);break;case Node.ELEMENT_NODE:V.push(Oe);break;default:[].forEach.call(ne.container.querySelectorAll(me),function(ye){ye[H]=ye[H]||[],ye[H].push(Oe)});break}}),[V,re]}}]),Q}(m.default);R.DEFAULTS={matchers:[],matchVisual:!0};function D(Y,Q,te){return(typeof Q>"u"?"undefined":o(Q))==="object"?Object.keys(Q).reduce(function(ne,V){return D(ne,V,Q[V])},Y):Y.reduce(function(ne,V){return V.attributes&&V.attributes[Q]?ne.push(V):ne.insert(V.insert,(0,c.default)({},P({},Q,te),V.attributes))},new d.default)}function W(Y){if(Y.nodeType!==Node.ELEMENT_NODE)return{};var Q="__ql-computed-style";return Y[Q]||(Y[Q]=window.getComputedStyle(Y))}function q(Y,Q){for(var te="",ne=Y.ops.length-1;ne>=0&&te.length<Q.length;--ne){var V=Y.ops[ne];if(typeof V.insert!="string")break;te=V.insert+te}return te.slice(-1*Q.length)===Q}function C(Y){if(Y.childNodes.length===0)return!1;var Q=W(Y);return["block","list-item"].indexOf(Q.display)>-1}function B(Y,Q,te){return Y.nodeType===Y.TEXT_NODE?te.reduce(function(ne,V){return V(Y,ne)},new d.default):Y.nodeType===Y.ELEMENT_NODE?[].reduce.call(Y.childNodes||[],function(ne,V){var re=B(V,Q,te);return V.nodeType===Y.ELEMENT_NODE&&(re=Q.reduce(function(le,se){return se(V,le)},re),re=(V[H]||[]).reduce(function(le,se){return se(V,le)},re)),ne.concat(re)},new d.default):new d.default}function K(Y,Q,te){return D(te,Y,!0)}function G(Y,Q){var te=f.default.Attributor.Attribute.keys(Y),ne=f.default.Attributor.Class.keys(Y),V=f.default.Attributor.Style.keys(Y),re={};return te.concat(ne).concat(V).forEach(function(le){var se=f.default.query(le,f.default.Scope.ATTRIBUTE);se!=null&&(re[se.attrName]=se.value(Y),re[se.attrName])||(se=I[le],se!=null&&(se.attrName===le||se.keyName===le)&&(re[se.attrName]=se.value(Y)||void 0),se=A[le],se!=null&&(se.attrName===le||se.keyName===le)&&(se=A[le],re[se.attrName]=se.value(Y)||void 0))}),Object.keys(re).length>0&&(Q=D(Q,re)),Q}function J(Y,Q){var te=f.default.query(Y);if(te==null)return Q;if(te.prototype instanceof f.default.Embed){var ne={},V=te.value(Y);V!=null&&(ne[te.blotName]=V,Q=new d.default().insert(ne,te.formats(Y)))}else typeof te.formats=="function"&&(Q=D(Q,te.blotName,te.formats(Y)));return Q}function ie(Y,Q){return q(Q,`
`)||Q.insert(`
`),Q}function he(){return new d.default}function de(Y,Q){var te=f.default.query(Y);if(te==null||te.blotName!=="list-item"||!q(Q,`
`))return Q;for(var ne=-1,V=Y.parentNode;!V.classList.contains("ql-clipboard");)(f.default.query(V)||{}).blotName==="list"&&(ne+=1),V=V.parentNode;return ne<=0?Q:Q.compose(new d.default().retain(Q.length()-1).retain(1,{indent:ne}))}function ve(Y,Q){return q(Q,`
`)||(C(Y)||Q.length()>0&&Y.nextSibling&&C(Y.nextSibling))&&Q.insert(`
`),Q}function ge(Y,Q){if(C(Y)&&Y.nextElementSibling!=null&&!q(Q,`

`)){var te=Y.offsetHeight+parseFloat(W(Y).marginTop)+parseFloat(W(Y).marginBottom);Y.nextElementSibling.offsetTop>Y.offsetTop+te*1.5&&Q.insert(`
`)}return Q}function $e(Y,Q){var te={},ne=Y.style||{};return ne.fontStyle&&W(Y).fontStyle==="italic"&&(te.italic=!0),ne.fontWeight&&(W(Y).fontWeight.startsWith("bold")||parseInt(W(Y).fontWeight)>=700)&&(te.bold=!0),Object.keys(te).length>0&&(Q=D(Q,te)),parseFloat(ne.textIndent||0)>0&&(Q=new d.default().insert("	").concat(Q)),Q}function Ne(Y,Q){var te=Y.data;if(Y.parentNode.tagName==="O:P")return Q.insert(te.trim());if(te.trim().length===0&&Y.parentNode.classList.contains("ql-clipboard"))return Q;if(!W(Y.parentNode).whiteSpace.startsWith("pre")){var ne=function(re,le){return le=le.replace(/[^\u00a0]/g,""),le.length<1&&re?" ":le};te=te.replace(/\r\n/g," ").replace(/\n/g," "),te=te.replace(/\s\s+/g,ne.bind(ne,!0)),(Y.previousSibling==null&&C(Y.parentNode)||Y.previousSibling!=null&&C(Y.previousSibling))&&(te=te.replace(/^\s+/,ne.bind(ne,!1))),(Y.nextSibling==null&&C(Y.parentNode)||Y.nextSibling!=null&&C(Y.nextSibling))&&(te=te.replace(/\s+$/,ne.bind(ne,!1)))}return Q.insert(te)}n.default=R,n.matchAttributor=G,n.matchBlot=J,n.matchNewline=ve,n.matchSpacing=ge,n.matchText=Ne},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function w(y,_){for(var p=0;p<_.length;p++){var h=_[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,_,p){return _&&w(y.prototype,_),p&&w(y,p),y}}(),s=function w(y,_,p){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,_);if(h===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:w(m,_,p)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(p)}},a=i(6),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function v(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function d(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function u(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var f=function(w){u(y,w);function y(){return v(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);f.blotName="bold",f.tagName=["STRONG","B"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var o=function(){function k(T,P){var L=[],M=!0,F=!1,z=void 0;try{for(var H=T[Symbol.iterator](),U;!(M=(U=H.next()).done)&&(L.push(U.value),!(P&&L.length===P));M=!0);}catch(I){F=!0,z=I}finally{try{!M&&H.return&&H.return()}finally{if(F)throw z}}return L}return function(T,P){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return k(T,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(T,P){for(var L=0;L<P.length;L++){var M=P[L];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,P,L){return P&&k(T.prototype,P),L&&k(T,L),T}}(),a=i(2),l=p(a),c=i(0),v=p(c),d=i(5),u=p(d),f=i(10),w=p(f),y=i(9),_=p(y);function p(k){return k&&k.__esModule?k:{default:k}}function h(k,T,P){return T in k?Object.defineProperty(k,T,{value:P,enumerable:!0,configurable:!0,writable:!0}):k[T]=P,k}function m(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function g(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function b(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var O=(0,w.default)("quill:toolbar"),x=function(k){b(T,k);function T(P,L){m(this,T);var M=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P,L));if(Array.isArray(M.options.container)){var F=document.createElement("div");j(F,M.options.container),P.container.parentNode.insertBefore(F,P.container),M.container=F}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var z;return z=O.error("Container required for toolbar",M.options),g(M,z)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(H){M.addHandler(H,M.options.handlers[H])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(H){M.attach(H)}),M.quill.on(u.default.events.EDITOR_CHANGE,function(H,U){H===u.default.events.SELECTION_CHANGE&&M.update(U)}),M.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){var H=M.quill.selection.getRange(),U=o(H,1),I=U[0];M.update(I)}),M}return s(T,[{key:"addHandler",value:function(L,M){this.handlers[L]=M}},{key:"attach",value:function(L){var M=this,F=[].find.call(L.classList,function(H){return H.indexOf("ql-")===0});if(F){if(F=F.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[F]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[F]==null){O.warn("ignoring attaching to disabled format",F,L);return}if(v.default.query(F)==null){O.warn("ignoring attaching to nonexistent format",F,L);return}}var z=L.tagName==="SELECT"?"change":"click";L.addEventListener(z,function(H){var U=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var I=L.options[L.selectedIndex];I.hasAttribute("selected")?U=!1:U=I.value||!1}else L.classList.contains("ql-active")?U=!1:U=L.value||!L.hasAttribute("value"),H.preventDefault();M.quill.focus();var A=M.quill.selection.getRange(),R=o(A,1),D=R[0];if(M.handlers[F]!=null)M.handlers[F].call(M,U);else if(v.default.query(F).prototype instanceof v.default.Embed){if(U=prompt("Enter "+F),!U)return;M.quill.updateContents(new l.default().retain(D.index).delete(D.length).insert(h({},F,U)),u.default.sources.USER)}else M.quill.format(F,U,u.default.sources.USER);M.update(D)}),this.controls.push([F,L])}}},{key:"update",value:function(L){var M=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(F){var z=o(F,2),H=z[0],U=z[1];if(U.tagName==="SELECT"){var I=void 0;if(L==null)I=null;else if(M[H]==null)I=U.querySelector("option[selected]");else if(!Array.isArray(M[H])){var A=M[H];typeof A=="string"&&(A=A.replace(/\"/g,'\\"')),I=U.querySelector('option[value="'+A+'"]')}I==null?(U.value="",U.selectedIndex=-1):I.selected=!0}else if(L==null)U.classList.remove("ql-active");else if(U.hasAttribute("value")){var R=M[H]===U.getAttribute("value")||M[H]!=null&&M[H].toString()===U.getAttribute("value")||M[H]==null&&!U.getAttribute("value");U.classList.toggle("ql-active",R)}else U.classList.toggle("ql-active",M[H]!=null)})}}]),T}(_.default);x.DEFAULTS={};function S(k,T,P){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+T),P!=null&&(L.value=P),k.appendChild(L)}function j(k,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(P){var L=document.createElement("span");L.classList.add("ql-formats"),P.forEach(function(M){if(typeof M=="string")S(L,M);else{var F=Object.keys(M)[0],z=M[F];Array.isArray(z)?E(L,F,z):S(L,F,z)}}),k.appendChild(L)})}function E(k,T,P){var L=document.createElement("select");L.classList.add("ql-"+T),P.forEach(function(M){var F=document.createElement("option");M!==!1?F.setAttribute("value",M):F.setAttribute("selected","selected"),L.appendChild(F)}),k.appendChild(L)}x.DEFAULTS={container:null,handlers:{clean:function(){var T=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(M){v.default.query(M,v.default.Scope.INLINE)!=null&&T.quill.format(M,!1)})}else this.quill.removeFormat(P,u.default.sources.USER)},direction:function(T){var P=this.quill.getFormat().align;T==="rtl"&&P==null?this.quill.format("align","right",u.default.sources.USER):!T&&P==="right"&&this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",T,u.default.sources.USER)},indent:function(T){var P=this.quill.getSelection(),L=this.quill.getFormat(P),M=parseInt(L.indent||0);if(T==="+1"||T==="-1"){var F=T==="+1"?1:-1;L.direction==="rtl"&&(F*=-1),this.quill.format("indent",M+F,u.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,u.default.sources.USER)},list:function(T){var P=this.quill.getSelection(),L=this.quill.getFormat(P);T==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",T,u.default.sources.USER)}}},n.default=x,n.addControls=j},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function w(y,_){for(var p=0;p<_.length;p++){var h=_[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,_,p){return _&&w(y.prototype,_),p&&w(y,p),y}}(),s=function w(y,_,p){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,_);if(h===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:w(m,_,p)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(p)}},a=i(28),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function v(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function d(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function u(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var f=function(w){u(y,w);function y(_,p){v(this,y);var h=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return h.label.innerHTML=p,h.container.classList.add("ql-color-picker"),[].slice.call(h.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(m){m.classList.add("ql-primary")}),h}return o(y,[{key:"buildItem",value:function(p){var h=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,p);return h.style.backgroundColor=p.getAttribute("value")||"",h}},{key:"selectItem",value:function(p,h){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,h);var m=this.label.querySelector(".ql-color-label"),g=p&&p.getAttribute("data-value")||"";m&&(m.tagName==="line"?m.style.stroke=g:m.style.fill=g)}}]),y}(l.default);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function w(y,_){for(var p=0;p<_.length;p++){var h=_[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,_,p){return _&&w(y.prototype,_),p&&w(y,p),y}}(),s=function w(y,_,p){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,_);if(h===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:w(m,_,p)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(p)}},a=i(28),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function v(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function d(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function u(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var f=function(w){u(y,w);function y(_,p){v(this,y);var h=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return h.container.classList.add("ql-icon-picker"),[].forEach.call(h.container.querySelectorAll(".ql-picker-item"),function(m){m.innerHTML=p[m.getAttribute("data-value")||""]}),h.defaultItem=h.container.querySelector(".ql-selected"),h.selectItem(h.defaultItem),h}return o(y,[{key:"selectItem",value:function(p,h){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,h),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),y}(l.default);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function l(c,v){for(var d=0;d<v.length;d++){var u=v[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,u.key,u)}}return function(c,v,d){return v&&l(c.prototype,v),d&&l(c,d),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,v){var d=this;s(this,l),this.quill=c,this.boundsContainer=v||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var d=v.left+v.width/2-this.root.offsetWidth/2,u=v.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=u+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),y=0;if(w.right>f.right&&(y=f.right-w.right,this.root.style.left=d+y+"px"),w.left<f.left&&(y=f.left-w.left,this.root.style.left=d+y+"px"),w.bottom>f.bottom){var _=w.bottom-w.top,p=v.bottom-v.top+_;this.root.style.top=u-p+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function E(k,T){var P=[],L=!0,M=!1,F=void 0;try{for(var z=k[Symbol.iterator](),H;!(L=(H=z.next()).done)&&(P.push(H.value),!(T&&P.length===T));L=!0);}catch(U){M=!0,F=U}finally{try{!L&&z.return&&z.return()}finally{if(M)throw F}}return P}return function(k,T){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return E(k,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function E(k,T,P){k===null&&(k=Function.prototype);var L=Object.getOwnPropertyDescriptor(k,T);if(L===void 0){var M=Object.getPrototypeOf(k);return M===null?void 0:E(M,T,P)}else{if("value"in L)return L.value;var F=L.get;return F===void 0?void 0:F.call(P)}},a=function(){function E(k,T){for(var P=0;P<T.length;P++){var L=T[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}return function(k,T,P){return T&&E(k.prototype,T),P&&E(k,P),k}}(),l=i(3),c=m(l),v=i(8),d=m(v),u=i(43),f=m(u),w=i(27),y=m(w),_=i(15),p=i(41),h=m(p);function m(E){return E&&E.__esModule?E:{default:E}}function g(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function b(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function O(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(E){O(k,E);function k(T,P){g(this,k),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=x);var L=b(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T,P));return L.quill.container.classList.add("ql-snow"),L}return a(k,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),h.default),this.tooltip=new j(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,M){P.handlers.link.call(P,!M.format.link)})}}]),k}(f.default);S.DEFAULTS=(0,c.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var T=this.quill.getSelection();if(T==null||T.length==0)return;var P=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var L=this.quill.theme.tooltip;L.edit("link",P)}else this.quill.format("link",!1)}}}}});var j=function(E){O(k,E);function k(T,P){g(this,k);var L=b(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T,P));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(k,[{key:"listen",value:function(){var P=this;s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(P.linkRange!=null){var M=P.linkRange;P.restoreFocus(),P.quill.formatText(M,"link",!1,d.default.sources.USER),delete P.linkRange}L.preventDefault(),P.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(L,M,F){if(L!=null){if(L.length===0&&F===d.default.sources.USER){var z=P.quill.scroll.descendant(y.default,L.index),H=o(z,2),U=H[0],I=H[1];if(U!=null){P.linkRange=new _.Range(L.index-I,U.length());var A=y.default.formats(U.domNode);P.preview.textContent=A,P.preview.setAttribute("href",A),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(u.BaseTooltip);j.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=S},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(29),s=V(o),a=i(36),l=i(38),c=i(64),v=i(65),d=V(v),u=i(66),f=V(u),w=i(67),y=V(w),_=i(37),p=i(26),h=i(39),m=i(40),g=i(56),b=V(g),O=i(68),x=V(O),S=i(27),j=V(S),E=i(69),k=V(E),T=i(70),P=V(T),L=i(71),M=V(L),F=i(72),z=V(F),H=i(73),U=V(H),I=i(13),A=V(I),R=i(74),D=V(R),W=i(75),q=V(W),C=i(57),B=V(C),K=i(41),G=V(K),J=i(28),ie=V(J),he=i(59),de=V(he),ve=i(60),ge=V(ve),$e=i(61),Ne=V($e),Y=i(108),Q=V(Y),te=i(62),ne=V(te);function V(re){return re&&re.__esModule?re:{default:re}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":m.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":m.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":h.FontClass,"formats/size":m.SizeClass,"formats/blockquote":d.default,"formats/code-block":A.default,"formats/header":f.default,"formats/list":y.default,"formats/bold":b.default,"formats/code":I.Code,"formats/italic":x.default,"formats/link":j.default,"formats/script":k.default,"formats/strike":P.default,"formats/underline":M.default,"formats/image":z.default,"formats/video":U.default,"formats/list/item":w.ListItem,"modules/formula":D.default,"modules/syntax":q.default,"modules/toolbar":B.default,"themes/bubble":Q.default,"themes/snow":ne.default,"ui/icons":G.default,"ui/picker":ie.default,"ui/icon-picker":ge.default,"ui/color-picker":de.default,"ui/tooltip":Ne.default},!0),n.default=s.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var o=function(){function y(_,p){for(var h=0;h<p.length;h++){var m=p[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,p,h){return p&&y(_.prototype,p),h&&y(_,h),_}}(),s=function y(_,p,h){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,p);if(m===void 0){var g=Object.getPrototypeOf(_);return g===null?void 0:y(g,p,h)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(h)}},a=i(0),l=c(a);function c(y){return y&&y.__esModule?y:{default:y}}function v(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function d(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function u(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var f=function(y){u(_,y);function _(){return v(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"add",value:function(h,m){if(m==="+1"||m==="-1"){var g=this.value(h)||0;m=m==="+1"?g+1:g-1}return m===0?(this.remove(h),!0):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,h,m)}},{key:"canAdd",value:function(h,m){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,h,m)||s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,h,parseInt(m))}},{key:"value",value:function(h){return parseInt(s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,h))||void 0}}]),_}(l.default.Attributor.Class),w=new f("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(4),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function c(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:u}function v(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(u,f):u.__proto__=f)}var d=function(u){v(f,u);function f(){return l(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);d.blotName="blockquote",d.tagName="blockquote",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function f(w,y){for(var _=0;_<y.length;_++){var p=y[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(w,p.key,p)}}return function(w,y,_){return y&&f(w.prototype,y),_&&f(w,_),w}}(),s=i(4),a=l(s);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function v(f,w){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:f}function d(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);f.prototype=Object.create(w&&w.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(f,w):f.__proto__=w)}var u=function(f){d(w,f);function w(){return c(this,w),v(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),w}(a.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],n.default=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var o=function(){function g(b,O){for(var x=0;x<O.length;x++){var S=O[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,O,x){return O&&g(b.prototype,O),x&&g(b,x),b}}(),s=function g(b,O,x){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,O);if(S===void 0){var j=Object.getPrototypeOf(b);return j===null?void 0:g(j,O,x)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(x)}},a=i(0),l=f(a),c=i(4),v=f(c),d=i(25),u=f(d);function f(g){return g&&g.__esModule?g:{default:g}}function w(g,b,O){return b in g?Object.defineProperty(g,b,{value:O,enumerable:!0,configurable:!0,writable:!0}):g[b]=O,g}function y(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function _(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function p(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var h=function(g){p(b,g);function b(){return y(this,b),_(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(x,S){x===m.blotName&&!S?this.replaceWith(l.default.create(this.statics.scope)):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,x,S)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(x,S){return this.parent.isolate(this.offset(this.parent),this.length()),x===this.parent.statics.blotName?(this.parent.replaceWith(x,S),this):(this.parent.unwrap(),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,x,S))}}],[{key:"formats",value:function(x){return x.tagName===this.tagName?void 0:s(b.__proto__||Object.getPrototypeOf(b),"formats",this).call(this,x)}}]),b}(v.default);h.blotName="list-item",h.tagName="LI";var m=function(g){p(b,g),o(b,null,[{key:"create",value:function(x){var S=x==="ordered"?"OL":"UL",j=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,S);return(x==="checked"||x==="unchecked")&&j.setAttribute("data-checked",x==="checked"),j}},{key:"formats",value:function(x){if(x.tagName==="OL")return"ordered";if(x.tagName==="UL")return x.hasAttribute("data-checked")?x.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function b(O){y(this,b);var x=_(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,O)),S=function(E){if(E.target.parentNode===O){var k=x.statics.formats(O),T=l.default.find(E.target);k==="checked"?T.format("list","unchecked"):k==="unchecked"&&T.format("list","checked")}};return O.addEventListener("touchstart",S),O.addEventListener("mousedown",S),x}return o(b,[{key:"format",value:function(x,S){this.children.length>0&&this.children.tail.format(x,S)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(x,S){if(x instanceof h)s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,x,S);else{var j=S==null?this.length():S.offset(this),E=this.split(j);E.parent.insertBefore(x,E)}}},{key:"optimize",value:function(x){s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,x);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&S.domNode.tagName===this.domNode.tagName&&S.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(S.moveChildren(this),S.remove())}},{key:"replace",value:function(x){if(x.statics.blotName!==this.statics.blotName){var S=l.default.create(this.statics.defaultChild);x.moveChildren(S),this.appendChild(S)}s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replace",this).call(this,x)}}]),b}(u.default);m.blotName="list",m.scope=l.default.Scope.BLOCK_BLOT,m.tagName=["OL","UL"],m.defaultChild="list-item",m.allowedChildren=[h],n.ListItem=h,n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(56),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function c(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:u}function v(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(u,f):u.__proto__=f)}var d=function(u){v(f,u);function f(){return l(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);d.blotName="italic",d.tagName=["EM","I"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function w(y,_){for(var p=0;p<_.length;p++){var h=_[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,_,p){return _&&w(y.prototype,_),p&&w(y,p),y}}(),s=function w(y,_,p){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,_);if(h===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:w(m,_,p)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(p)}},a=i(6),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function v(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function d(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function u(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var f=function(w){u(y,w);function y(){return v(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),y}(l.default);f.blotName="script",f.tagName=["SUB","SUP"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function c(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:u}function v(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(u,f):u.__proto__=f)}var d=function(u){v(f,u);function f(){return l(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);d.blotName="strike",d.tagName="S",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function c(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:u}function v(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(u,f):u.__proto__=f)}var d=function(u){v(f,u);function f(){return l(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);d.blotName="underline",d.tagName="U",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function _(p,h){for(var m=0;m<h.length;m++){var g=h[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,h,m){return h&&_(p.prototype,h),m&&_(p,m),p}}(),s=function _(p,h,m){p===null&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,h);if(g===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:_(b,h,m)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(m)}},a=i(0),l=v(a),c=i(27);function v(_){return _&&_.__esModule?_:{default:_}}function d(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function u(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function f(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var w=["alt","height","width"],y=function(_){f(p,_);function p(){return d(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(m,g){w.indexOf(m)>-1?g?this.domNode.setAttribute(m,g):this.domNode.removeAttribute(m):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,m,g)}}],[{key:"create",value:function(m){var g=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,m);return typeof m=="string"&&g.setAttribute("src",this.sanitize(m)),g}},{key:"formats",value:function(m){return w.reduce(function(g,b){return m.hasAttribute(b)&&(g[b]=m.getAttribute(b)),g},{})}},{key:"match",value:function(m){return/\.(jpe?g|gif|png)$/.test(m)||/^data:image\/.+;base64/.test(m)}},{key:"sanitize",value:function(m){return(0,c.sanitize)(m,["http","https","data"])?m:"//:0"}},{key:"value",value:function(m){return m.getAttribute("src")}}]),p}(l.default.Embed);y.blotName="image",y.tagName="IMG",n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function _(p,h){for(var m=0;m<h.length;m++){var g=h[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,h,m){return h&&_(p.prototype,h),m&&_(p,m),p}}(),s=function _(p,h,m){p===null&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,h);if(g===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:_(b,h,m)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(m)}},a=i(4),l=i(27),c=v(l);function v(_){return _&&_.__esModule?_:{default:_}}function d(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function u(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function f(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var w=["height","width"],y=function(_){f(p,_);function p(){return d(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(m,g){w.indexOf(m)>-1?g?this.domNode.setAttribute(m,g):this.domNode.removeAttribute(m):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,m,g)}}],[{key:"create",value:function(m){var g=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,m);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(m)),g}},{key:"formats",value:function(m){return w.reduce(function(g,b){return m.hasAttribute(b)&&(g[b]=m.getAttribute(b)),g},{})}},{key:"sanitize",value:function(m){return c.default.sanitize(m)}},{key:"value",value:function(m){return m.getAttribute("src")}}]),p}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var o=function(){function m(g,b){for(var O=0;O<b.length;O++){var x=b[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,O){return b&&m(g.prototype,b),O&&m(g,O),g}}(),s=function m(g,b,O){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,b);if(x===void 0){var S=Object.getPrototypeOf(g);return S===null?void 0:m(S,b,O)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(O)}},a=i(35),l=f(a),c=i(5),v=f(c),d=i(9),u=f(d);function f(m){return m&&m.__esModule?m:{default:m}}function w(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function y(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function _(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=function(m){_(g,m);function g(){return w(this,g),y(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(O){var x=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,x,{throwOnError:!1,errorColor:"#f00"}),x.setAttribute("data-value",O)),x}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),g}(l.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var h=function(m){_(g,m),o(g,null,[{key:"register",value:function(){v.default.register(p,!0)}}]);function g(){w(this,g);var b=y(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return b}return g}(u.default);n.FormulaBlot=p,n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var o=function(){function O(x,S){for(var j=0;j<S.length;j++){var E=S[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,S,j){return S&&O(x.prototype,S),j&&O(x,j),x}}(),s=function O(x,S,j){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,S);if(E===void 0){var k=Object.getPrototypeOf(x);return k===null?void 0:O(k,S,j)}else{if("value"in E)return E.value;var T=E.get;return T===void 0?void 0:T.call(j)}},a=i(0),l=y(a),c=i(5),v=y(c),d=i(9),u=y(d),f=i(13),w=y(f);function y(O){return O&&O.__esModule?O:{default:O}}function _(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}function p(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:O}function h(O,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(O,x):O.__proto__=x)}var m=function(O){h(x,O);function x(){return _(this,x),p(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"replaceWith",value:function(j){this.domNode.textContent=this.domNode.textContent,this.attach(),s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,j)}},{key:"highlight",value:function(j){var E=this.domNode.textContent;this.cachedText!==E&&((E.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=j(E),this.domNode.normalize(),this.attach()),this.cachedText=E)}}]),x}(w.default);m.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),b=function(O){h(x,O),o(x,null,[{key:"register",value:function(){v.default.register(g,!0),v.default.register(m,!0)}}]);function x(S,j){_(this,x);var E=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,S,j));if(typeof E.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return E.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){E.highlight(),k=null},E.options.interval)}),E.highlight(),E}return o(x,[{key:"highlight",value:function(){var j=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var E=this.quill.getSelection();this.quill.scroll.descendants(m).forEach(function(k){k.highlight(j.options.highlight)}),this.quill.update(v.default.sources.SILENT),E!=null&&this.quill.setSelection(E,v.default.sources.SILENT)}}}]),x}(u.default);b.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var x=window.hljs.highlightAuto(O);return x.value}}(),interval:1e3},n.CodeBlock=m,n.CodeToken=g,n.default=b},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var o=function x(S,j,E){S===null&&(S=Function.prototype);var k=Object.getOwnPropertyDescriptor(S,j);if(k===void 0){var T=Object.getPrototypeOf(S);return T===null?void 0:x(T,j,E)}else{if("value"in k)return k.value;var P=k.get;return P===void 0?void 0:P.call(E)}},s=function(){function x(S,j){for(var E=0;E<j.length;E++){var k=j[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,j,E){return j&&x(S.prototype,j),E&&x(S,E),S}}(),a=i(3),l=_(a),c=i(8),v=_(c),d=i(43),u=_(d),f=i(15),w=i(41),y=_(w);function _(x){return x&&x.__esModule?x:{default:x}}function p(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")}function h(x,S){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:x}function m(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);x.prototype=Object.create(S&&S.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(x,S):x.__proto__=S)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(x){m(S,x);function S(j,E){p(this,S),E.modules.toolbar!=null&&E.modules.toolbar.container==null&&(E.modules.toolbar.container=g);var k=h(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,j,E));return k.quill.container.classList.add("ql-bubble"),k}return s(S,[{key:"extendToolbar",value:function(E){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(E.container),this.buildButtons([].slice.call(E.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(E.container.querySelectorAll("select")),y.default)}}]),S}(u.default);b.DEFAULTS=(0,l.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){S?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(x){m(S,x);function S(j,E){p(this,S);var k=h(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,j,E));return k.quill.on(v.default.events.EDITOR_CHANGE,function(T,P,L,M){if(T===v.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&M===v.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var F=k.quill.getLines(P.index,P.length);if(F.length===1)k.position(k.quill.getBounds(P));else{var z=F[F.length-1],H=k.quill.getIndex(z),U=Math.min(z.length()-1,P.index+P.length-H),I=k.quill.getBounds(new f.Range(H,U));k.position(I)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return s(S,[{key:"listen",value:function(){var E=this;o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){E.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!E.root.classList.contains("ql-hidden")){var k=E.quill.getSelection();k!=null&&E.position(E.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(E){var k=o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"position",this).call(this,E),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",k===0)return k;T.style.marginLeft=-1*k-T.offsetWidth/2+"px"}}]),S}(d.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=O,n.default=b},function(r,n,i){r.exports=i(63)}]).default})})(Nm);var vA=Nm.exports,gA=Tt&&Tt.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ea=Tt&&Tt.__assign||function(){return ea=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ea.apply(this,arguments)},mA=Tt&&Tt.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},Oa=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},er=Oa(Z),yA=Oa(Lc),Ri=Oa(pA),Ah=Oa(vA),wA=function(t){gA(e,t);function e(r){var n=t.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(o,s,a,l){var c,v,d,u;o==="text-change"?(v=(c=n).onEditorChangeText)===null||v===void 0||v.call(c,n.editor.root.innerHTML,s,l,n.unprivilegedEditor):o==="selection-change"&&((u=(d=n).onEditorChangeSelection)===null||u===void 0||u.call(d,s,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i??"",n}return e.prototype.validateProps=function(r){var n;if(er.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(er.default.Children.count(r.children)){var i=er.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(r,n){var i=this,o;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var s=this.getEditorContents(),a=(o=r.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),mA(this.cleanProps,this.dirtyProps).some(function(l){return!Ri.default(r[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!Ri.default(r[i],n.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(o),Nh(function(){return i.setEditorSelection(c,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(r,n){var i=new Ah.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(r){return r&&r.ops},e.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?Ri.default(r.ops,n.ops):Ri.default(r,n)},e.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var o=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),Nh(function(){return i.setEditorSelection(r,o)})},e.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},e.prototype.setEditorTabIndex=function(r,n){var i,o;!((o=(i=r)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(r.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},e.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=yA.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},e.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,o=n.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){r.editingArea=l}};return er.default.Children.count(i)?er.default.cloneElement(er.default.Children.only(i),a):o?er.default.createElement("pre",ea({},a)):er.default.createElement("div",ea({},a))},e.prototype.render=function(){var r;return er.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(r,n,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,r,n,i,o))}},e.prototype.onEditorChangeSelection=function(r,n,i){var o,s,a,l,c,v;if(this.editor){var d=this.getEditorSelection(),u=!d&&r,f=d&&!r;Ri.default(r,d)||(this.selection=r,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,r,n,i),u?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,r,n,i):f&&((v=(c=this.props).onBlur)===null||v===void 0||v.call(c,d,n,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=Ah.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(er.default.Component);function Nh(t){Promise.resolve().then(t)}var _A=wA;const bA=Bu(_A),EA={serif:"font-serif",sans:"font-sans",mono:"font-mono"},kA=Z.forwardRef(({entry:t,onSave:e,onWordCountChange:r,onCharacterCountChange:n,editorFont:i},o)=>{const[s,a]=Z.useState(""),[l,c]=Z.useState(""),[v,d]=Z.useState(new Date),u=Z.useRef(null),{addToast:f}=Hc();Z.useEffect(()=>{t?(a(t.title),c(t.content),d(new Date(t.created_at))):(a("Today's diary entry..."),d(new Date))},[t]),Z.useEffect(()=>{const p=l.replace(/<[^>]*>?/gm,""),h=p.trim().split(/\s+/).filter(Boolean),m=h.length===1&&h[0]===""?0:h.length;r(m),n(p.length)},[l,r,n]);const w=Z.useCallback(()=>{const p=!l||l.replace(/<(.|\n)*?>/g,"").trim().length===0;if(s.trim()===""||p){f("Please provide a title and some content for your entry.","error");return}e({...t||{},title:s,content:l,created_at:v.toISOString(),tags:t==null?void 0:t.tags,mood:t==null?void 0:t.mood})},[s,l,v,t,e,f]);Z.useImperativeHandle(o,()=>({save:w}),[w]);const y=Z.useMemo(()=>({toolbar:!1}),[]),_=EA[i];return N.jsxs("div",{className:`h-full flex flex-col paper-canvas rounded-lg overflow-hidden ${_}`,children:[N.jsx("div",{className:"p-4 sm:p-6 md:px-8 border-b border-slate-200/50 dark:border-slate-700/50 flex-shrink-0",children:N.jsx("input",{type:"text",value:s,onChange:p=>a(p.target.value),className:"w-full text-3xl font-bold bg-transparent focus:outline-none focus:ring-0 border-none p-0 text-slate-800 dark:text-slate-100 placeholder:text-slate-400",placeholder:"Today's diary entry..."})}),N.jsx("div",{className:"flex-grow overflow-y-auto",children:N.jsx(bA,{ref:u,theme:"snow",value:l,onChange:c,className:"prose-editor",placeholder:"Start writing here...",modules:y})})]})}),Ph=t=>new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().split("T")[0],xA=({entries:t,onSelectDate:e})=>{const[r,n]=Z.useState(new Date),i=Z.useMemo(()=>{const c=new Set;return t.forEach(v=>{c.add(Ph(new Date(v.created_at)))}),c},[t]),o=c=>{n(v=>{const d=new Date(v);return d.setMonth(d.getMonth()+c),d})},s=()=>N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("button",{onClick:()=>o(-1),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:"<"}),N.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:r.toLocaleString("default",{month:"long",year:"numeric"})}),N.jsx("button",{onClick:()=>o(1),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:">"})]}),a=()=>{const c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return N.jsx("div",{className:"grid grid-cols-7 gap-1 text-center font-semibold text-slate-500 dark:text-slate-400 text-sm",children:c.map(v=>N.jsx("div",{children:v},v))})},l=()=>{const c=new Date(r.getFullYear(),r.getMonth(),1),v=new Date(r.getFullYear(),r.getMonth()+1,0),d=new Date(c);d.setDate(d.getDate()-c.getDay());const u=new Date(v);u.setDate(u.getDate()+(6-v.getDay()));const f=[];let w=[],y=d;for(;y<=u;){for(let _=0;_<7;_++){const p=new Date(y),h=Ph(p),m=i.has(h);w.push(N.jsxs("div",{className:`p-1 h-20 flex flex-col items-center justify-center rounded-lg transition-colors ${p.getMonth()!==r.getMonth()?"text-slate-300 dark:text-slate-600":"text-slate-700 dark:text-slate-300"} ${m?"cursor-pointer bg-indigo-100 hover:bg-indigo-200 dark:bg-indigo-500/20 dark:hover:bg-indigo-500/30":""}`,onClick:m?()=>e(p):void 0,children:[N.jsx("span",{className:`text-sm ${new Date().toDateString()===p.toDateString()?"bg-indigo-500 text-white rounded-full h-6 w-6 flex items-center justify-center":""}`,children:p.getDate()}),m&&N.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 dark:bg-indigo-400 rounded-full mt-1"})]},y.toString())),y.setDate(y.getDate()+1)}f.push(N.jsx("div",{className:"grid grid-cols-7 gap-1",children:w},y.toString())),w=[]}return N.jsx("div",{className:"space-y-1",children:f})};return N.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in",children:[s(),a(),N.jsx("div",{className:"mt-2",children:l()})]})},SA=["","","","","","","",""],OA=({entries:t,onSelectEntry:e})=>{const[r,n]=Z.useState(""),[i,o]=Z.useState(null),[s,a]=Z.useState([]),[l,c]=Z.useState(""),[v,d]=Z.useState(""),[u,f]=Z.useState(!1),[w,y]=Z.useState(!1),[_,p]=Z.useState(!1),h=Z.useRef(null),m=Z.useRef(null),g=Z.useRef(null);Z.useEffect(()=>{const E=k=>{h.current&&!h.current.contains(k.target)&&f(!1),m.current&&!m.current.contains(k.target)&&y(!1),g.current&&!g.current.contains(k.target)&&p(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const b=Z.useMemo(()=>{const E=new Set;return t.forEach(k=>{var T;(T=k.tags)==null||T.forEach(P=>E.add(P))}),Array.from(E).sort()},[t]),O=E=>new DOMParser().parseFromString(E,"text/html").body.textContent||"",x=Z.useMemo(()=>r.trim()!==""||i||s.length>0||l||v?t.filter(k=>{const T=r.toLowerCase(),P=r.trim()===""||k.title.toLowerCase().includes(T)||O(k.content).toLowerCase().includes(T),L=!i||k.mood===i,M=s.length===0||s.every(z=>{var H;return(H=k.tags)==null?void 0:H.includes(z)});let F=!0;if(l||v){const z=new Date(k.created_at);if(z.setHours(0,0,0,0),l){const H=new Date(l+"T00:00:00");z<H&&(F=!1)}if(v){const H=new Date(v+"T00:00:00");z>H&&(F=!1)}}return P&&L&&M&&F}):[],[t,r,i,s,l,v]),S=E=>{a(k=>k.includes(E)?k.filter(T=>T!==E):[...k,E])},j=r.trim()!==""||i||s.length>0||l||v;return N.jsxs("div",{className:"space-y-8 animate-fade-in",children:[N.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md border border-slate-200 dark:border-slate-700",children:[N.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-4",children:"Search Past Entries"}),N.jsxs("div",{className:"relative",children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 absolute left-4 top-1/2 -translate-y-1/2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),N.jsx("input",{type:"search",placeholder:"Search by keywords, title, or date",value:r,onChange:E=>n(E.target.value),className:"w-full pl-11 pr-4 py-3 border border-slate-300 dark:border-slate-600 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base dark:bg-slate-700 dark:text-slate-200 dark:placeholder-slate-400","aria-label":"Search diary entries"})]}),N.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[N.jsxs("div",{className:"relative",ref:h,children:[N.jsxs("button",{onClick:()=>f(E=>!E),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-slate-100 dark:bg-slate-700 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600",children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),N.jsx("span",{children:"Date Range"})]}),u&&N.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-slate-800 p-4 rounded-lg shadow-xl border dark:border-slate-700 z-10 w-64 space-y-3",children:[N.jsxs("div",{children:[N.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"From"}),N.jsx("input",{type:"date",value:l,onChange:E=>c(E.target.value),className:"w-full mt-1 border border-slate-300 rounded-md p-1.5 text-sm dark:bg-slate-700 dark:border-slate-600 dark:[color-scheme:dark]"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"To"}),N.jsx("input",{type:"date",value:v,onChange:E=>d(E.target.value),className:"w-full mt-1 border border-slate-300 rounded-md p-1.5 text-sm dark:bg-slate-700 dark:border-slate-600 dark:[color-scheme:dark]"})]})]})]}),N.jsxs("div",{className:"relative",ref:m,children:[N.jsxs("button",{onClick:()=>y(E=>!E),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-slate-100 dark:bg-slate-700 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600",children:[i?N.jsx("span",{className:"text-lg",children:i}):N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a.5.5 S0 01.708 0 5 5 0 01-6.488 0 .5.5 0 01.708-.707A4 4 0 0013 12.5a.5.5 0 01.535.464z",clipRule:"evenodd"})}),N.jsx("span",{children:"Mood"})]}),w&&N.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-slate-800 p-2 rounded-lg shadow-xl border dark:border-slate-700 z-10 grid grid-cols-4 gap-2 w-64",children:SA.map(E=>N.jsx("button",{type:"button",onClick:()=>{o(E===i?null:E),y(!1)},className:`text-3xl p-2 rounded-md transition-all ${i===E?"bg-indigo-100 dark:bg-indigo-500/50 scale-110":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:E},E))})]}),N.jsxs("div",{className:"relative",ref:g,children:[N.jsxs("button",{onClick:()=>p(E=>!E),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-slate-100 dark:bg-slate-700 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600",children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{d:"M5.5 16a3.5 3.5 0 01-3.5-3.5V5.5A3.5 3.5 0 015.5 2h5.086a2 2 0 011.414.586l4.414 4.414a2 2 0 01.586 1.414V12.5A3.5 3.5 0 0113.5 16h-8z"})}),N.jsx("span",{children:"Tags"})]}),_&&N.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-slate-800 p-3 rounded-lg shadow-xl border dark:border-slate-700 z-10 w-64 max-h-60 overflow-y-auto",children:b.length>0?N.jsx("div",{className:"flex flex-col gap-2",children:b.map(E=>N.jsxs("label",{className:"flex items-center gap-2 p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 cursor-pointer",children:[N.jsx("input",{type:"checkbox",checked:s.includes(E),onChange:()=>S(E),className:"h-4 w-4 rounded text-indigo-600 focus:ring-indigo-500 border-slate-300 dark:border-slate-600 dark:bg-slate-900 dark:checked:bg-indigo-500"}),N.jsx("span",{className:"text-sm",children:E})]},E))}):N.jsx("p",{className:"text-sm text-slate-500",children:"No tags found."})})]})]})]}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-4",children:"Search Results"}),j?x.length>0?N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(E=>N.jsxs("div",{onClick:()=>e(E.id),className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow-sm hover:shadow-lg transition-shadow duration-300 cursor-pointer border border-slate-200 dark:border-slate-700 flex flex-col",children:[N.jsxs("div",{className:"flex justify-between items-start gap-3",children:[N.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 line-clamp-1",children:E.title}),E.mood&&N.jsx("span",{className:"text-2xl","aria-label":`Mood: ${E.mood}`,children:E.mood})]}),N.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1 mb-3",title:new Date(E.created_at).toLocaleString(),children:cm(E.created_at)}),N.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 line-clamp-3 flex-grow",children:O(E.content)})]},E.id))}):N.jsxs("div",{className:"text-center py-16",children:[N.jsx("h3",{className:"text-xl font-semibold text-slate-600 dark:text-slate-300",children:"No Entries Found"}),N.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Try adjusting your search or filter criteria."})]}):N.jsx("div",{className:"text-center py-16",children:N.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Use the search bar or filters above to find your entries."})})]})]})},TA=({onSuccess:t,session:e})=>{const[r,n]=Z.useState(""),[i,o]=Z.useState(!1),[s,a]=Z.useState(!1),[l,c]=Z.useState(null),[v,d]=Z.useState(!1),[u,f]=Z.useState(!1),w=async y=>{var _,p,h;if(y.preventDefault(),r.length<6){c("Password must be at least 6 characters long.");return}a(!0),c(null);try{const m=e.user;if(!m)throw new Error("User not available.");const g=B_(),b=await Xg(r,g),{iv:O,data:x}=await Zg(b,Qg),S=(_=m.user_metadata)==null?void 0:_.full_name,j=((p=m.user_metadata)==null?void 0:p.avatar_url)||((h=m.user_metadata)==null?void 0:h.picture),{error:E}=await ot.from("profiles").insert({id:m.id,salt:g,key_check_value:x,key_check_iv:O,full_name:S,avatar_url:j});if(E)throw E;t(b)}catch(m){c(m.error_description||m.message||"An unknown error occurred during setup."),console.error("Encryption initialization failed:",m)}finally{a(!1)}};return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:N.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-slate-800 rounded-lg shadow-md",children:[N.jsxs("div",{className:"text-center",children:[N.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Final Security Step"}),N.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"To complete your secure setup, please create your password."})]}),N.jsx("p",{className:"text-xs text-center text-slate-600 dark:text-slate-300 bg-slate-50 dark:bg-slate-900/50 p-3 rounded-md border dark:border-slate-700",children:"This is required to create your unique encryption key. Your password is never stored, and this one-time step ensures your diary remains private and end-to-end encrypted."}),l&&N.jsx("p",{className:"text-center text-red-500 bg-red-50 p-3 rounded-md",children:l}),N.jsxs("form",{className:"space-y-6",onSubmit:w,children:[N.jsxs("div",{className:"relative",children:[N.jsx("input",{type:i?"text":"password",placeholder:"Your password",value:r,required:!0,minLength:6,onChange:y=>n(y.target.value),className:"w-full px-4 py-2 pr-10 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200"}),N.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute inset-y-0 right-0 flex items-center px-3 text-slate-500 dark:text-slate-400","aria-label":i?"Hide password":"Show password",children:i?N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[N.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),N.jsx("path",{fillRule:"evenodd",d:"M.458 10C3.732 4.943 9.522 3 10 3s6.268 1.943 9.542 7c-3.274 5.057-9.042 7-9.542 7S3.732 15.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[N.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.27 8.138 15.522 6 10 6c-1.55 0-2.998.48-4.257 1.254l-1.74-1.741zM10 12a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}),N.jsx("path",{d:"M2.042 10c.832 2.345 3.16 4 5.918 4 1.55 0 2.998-.48 4.257-1.254l-1.473-1.473A3.999 3.999 0 0110 14c-2.209 0-4-1.791-4-4a3.999 3.999 0 011.21-2.828L5.293 5.293A10.014 10.014 0 00.458 10c1.274 1.862 4.022 4 9.542 4 1.105 0 2.158-.149 3.168-.43L10.373 12.16A4.003 4.003 0 0110 12z"})]})})]}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("label",{className:"flex items-start gap-3 cursor-pointer text-sm text-slate-600 dark:text-slate-400",children:[N.jsx("input",{type:"checkbox",checked:v,onChange:y=>d(y.target.checked),className:"mt-1 h-4 w-4 rounded text-indigo-600 focus:ring-indigo-500 border-slate-300 dark:border-slate-600 dark:bg-slate-900 dark:checked:bg-indigo-500",required:!0}),N.jsxs("span",{children:["I have read and agree to the ",N.jsx("a",{href:"/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-indigo-600 hover:underline dark:text-indigo-400",children:"Privacy Policy"}),"."]})]}),N.jsxs("label",{className:"flex items-start gap-3 cursor-pointer text-sm text-slate-600 dark:text-slate-400",children:[N.jsx("input",{type:"checkbox",checked:u,onChange:y=>f(y.target.checked),className:"mt-1 h-4 w-4 rounded text-indigo-600 focus:ring-indigo-500 border-slate-300 dark:border-slate-600 dark:bg-slate-900 dark:checked:bg-indigo-500",required:!0}),N.jsxs("span",{children:["I have read and agree to the ",N.jsx("a",{href:"/terms.html",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-indigo-600 hover:underline dark:text-indigo-400",children:"Terms of Use"}),"."]})]})]}),N.jsx("button",{type:"submit",disabled:s||!v||!u,className:"w-full px-4 py-2 font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 disabled:bg-indigo-300 disabled:cursor-not-allowed transition-colors",children:s?"Securing...":"Initialize Diary"})]})]})})},AA=({onSuccess:t,session:e})=>{const[r,n]=Z.useState(""),[i,o]=Z.useState(!1),[s,a]=Z.useState(!1),[l,c]=Z.useState(null),{deriveAndVerifyKey:v}=rm(),d=async u=>{u.preventDefault(),a(!0),c(null);try{const f=e.user;if(!f)throw new Error("User not available.");const w=await v(r,f.id);w?t(w):c("Incorrect password. Please try again.")}catch(f){c(f.error_description||f.message||"An unknown error occurred."),console.error("Key derivation failed:",f)}finally{a(!1)}};return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:N.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-slate-800 rounded-lg shadow-md",children:[N.jsxs("div",{className:"text-center",children:[N.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Unlock Your Diary"}),N.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"For your security, please enter your password to continue."})]}),N.jsx("p",{className:"text-xs text-center text-slate-600 dark:text-slate-300 bg-slate-50 dark:bg-slate-900/50 p-3 rounded-md border dark:border-slate-700",children:"Your diary is end-to-end encrypted. We need your password to securely decrypt your entries."}),l&&N.jsx("p",{className:"text-center text-red-500 bg-red-50 p-3 rounded-md",children:l}),N.jsxs("form",{className:"space-y-6",onSubmit:d,children:[N.jsxs("div",{className:"relative",children:[N.jsx("input",{type:i?"text":"password",placeholder:"Your password",value:r,required:!0,onChange:u=>n(u.target.value),className:"w-full px-4 py-2 pr-10 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200","aria-label":"Password for decryption"}),N.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute inset-y-0 right-0 flex items-center px-3 text-slate-500 dark:text-slate-400","aria-label":i?"Hide password":"Show password",children:i?N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[N.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),N.jsx("path",{fillRule:"evenodd",d:"M.458 10C3.732 4.943 9.522 3 10 3s6.268 1.943 9.542 7c-3.274 5.057-9.042 7-9.542 7S3.732 15.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[N.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.27 8.138 15.522 6 10 6c-1.55 0-2.998.48-4.257 1.254l-1.74-1.741zM10 12a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}),N.jsx("path",{d:"M2.042 10c.832 2.345 3.16 4 5.918 4 1.55 0 2.998-.48 4.257-1.254l-1.473-1.473A3.999 3.999 0 0110 14c-2.209 0-4-1.791-4-4a3.999 3.999 0 011.21-2.828L5.293 5.293A10.014 10.014 0 00.458 10c1.274 1.862 4.022 4 9.542 4 1.105 0 2.158-.149 3.168-.43L10.373 12.16A4.003 4.003 0 0110 12z"})]})})]}),N.jsx("button",{type:"submit",disabled:s,className:"w-full px-4 py-2 font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 disabled:bg-indigo-300",children:s?"Unlocking...":"Unlock"})]})]})})},NA=({session:t,profile:e,onUpdateProfile:r,onAvatarUpload:n,onExportData:i,onSignOut:o,theme:s,onToggleTheme:a})=>{const[l,c]=Z.useState(""),[v,d]=Z.useState(!1),[u,f]=Z.useState(!1);Z.useEffect(()=>{c((e==null?void 0:e.full_name)||"")},[e==null?void 0:e.full_name]);const w=async _=>{_.preventDefault(),l.trim()!==(e==null?void 0:e.full_name)&&await r({full_name:l.trim()}),d(!1)},y=async _=>{_.target.files&&_.target.files.length>0&&(f(!0),await n(_.target.files[0]),f(!1))};return N.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 animate-fade-in",children:[N.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-8",children:"Profile & Settings"}),N.jsx("div",{className:"bg-white/50 dark:bg-slate-800/50 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:N.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[N.jsxs("div",{className:"relative flex-shrink-0",children:[N.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden flex items-center justify-center",children:e!=null&&e.avatar_url?N.jsx("img",{src:e.avatar_url,alt:"User avatar",className:"w-full h-full object-cover"}):N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),N.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",onChange:y,accept:"image/*",disabled:u}),N.jsx("label",{htmlFor:"avatar-upload",className:"absolute -bottom-1 -right-1 bg-white dark:bg-slate-600 rounded-full p-1.5 cursor-pointer shadow-md hover:bg-slate-100 dark:hover:bg-slate-500 transition-colors",children:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-600 dark:text-slate-200",viewBox:"0 0 20 20",fill:"currentColor",children:[N.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0l-1.5-1.5a.5.5 0 01.707-.707l1.5 1.5a1 1 0 001.414 0l3-3z"}),N.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5z"})]})})]}),N.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[v?N.jsxs("form",{onSubmit:w,className:"flex items-center gap-2",children:[N.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),className:"w-full px-3 py-2 text-xl font-bold border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600",autoFocus:!0}),N.jsx("button",{type:"submit",className:"px-3 py-2 text-sm font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600",children:"Save"})]}):N.jsxs("div",{className:"flex items-center gap-3 justify-center sm:justify-start",children:[N.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:(e==null?void 0:e.full_name)||"Your Name"}),N.jsx("button",{onClick:()=>d(!0),className:"p-1.5 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 flex-shrink-0 text-slate-500",children:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[N.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),N.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]})})]}),N.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:t.user.email})]})]})}),N.jsxs("div",{className:"mt-8 space-y-4",children:[N.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Dark Mode"}),N.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Toggle between light and dark themes."})]}),N.jsx("button",{onClick:a,className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${s==="dark"?"bg-indigo-500":"bg-slate-300"}`,children:N.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${s==="dark"?"translate-x-6":"translate-x-1"}`})})]}),N.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Export Data"}),N.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Download all your diary entries as a JSON file."})]}),N.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-semibold bg-slate-100 text-slate-700 rounded-md hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600",children:"Export"})]})]}),N.jsx("div",{className:"mt-12",children:N.jsx("button",{onClick:o,className:"w-full sm:w-auto px-6 py-2 font-semibold text-red-600 bg-red-100 rounded-md hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900/80 transition-colors",children:"Sign Out"})})]})},PA=({onClick:t})=>N.jsx("button",{onClick:t,className:"fixed top-3 left-4 z-40 p-2 rounded-md bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm hover:bg-slate-200/50 dark:hover:bg-slate-700/50","aria-label":"Open navigation menu",children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),jA=({isOpen:t,onClose:e,onConfirm:r,title:n,message:i})=>{if(!t)return null;qh.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const o=()=>{r()},s=document.getElementById("portal-root");return s?Hv.createPortal(N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center animate-fade-in","aria-modal":"true",role:"dialog",onClick:e,children:N.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm m-4",role:"document",onClick:a=>a.stopPropagation(),children:[N.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:n}),N.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:i}),N.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[N.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-semibold bg-slate-100 text-slate-700 rounded-md hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 transition-colors","aria-label":"Cancel deletion",children:"Cancel"}),N.jsx("button",{onClick:o,className:"px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors","aria-label":"Confirm deletion",children:"Confirm Delete"})]})]})}),s):null},RA=({session:t,theme:e,onToggleTheme:r})=>{const[n,i]=Z.useState([]),[o,s]=Z.useState(!0),[a,l]=Z.useState("timeline"),[c,v]=Z.useState(null),[d,u]=Z.useState(null),{key:f,setKey:w,encrypt:y,decrypt:_}=rm(),[p,h]=Z.useState("checking"),[m,g]=Z.useState(null),[b,O]=Z.useState(!0),[x,S]=Z.useState(!0),[j,E]=Z.useState("synced"),[k,T]=Z.useState(null),[P,L]=Z.useState(0),[M,F]=Z.useState(0),z=Z.useRef(null),[H,U]=Z.useState("serif"),[I,A]=Z.useState(null),{addToast:R}=Hc();Z.useEffect(()=>{navigator.geolocation.getCurrentPosition(async V=>{try{const re=await z_(V.coords.latitude,V.coords.longitude);T(re)}catch(re){console.error("Failed to fetch weather:",re)}},V=>{console.warn("Geolocation permission denied. Weather feature disabled.",V.message)},{enableHighAccuracy:!1,timeout:1e4,maximumAge:1e3*60*60})},[]),Z.useEffect(()=>{(async()=>{if(f){h("ready");return}try{const{data:re}=await ot.from("profiles").select("id").eq("id",t.user.id).maybeSingle();h(re?"reauth":"needed")}catch(re){console.error("Error checking profile:",re),R("Error accessing profile. Please log out and in again.","error"),await ot.auth.signOut()}})()},[f,t.user.id,R]);const D=V=>{w(V),h("ready")},W=Z.useCallback(async()=>{try{const{data:V,error:re}=await ot.from("profiles").select("*").eq("id",t.user.id).single();if(re)throw re;g(V)}catch(V){console.error("Error fetching profile:",V)}},[t.user.id]),q=Z.useCallback(async()=>{if(f){s(!0);try{const{data:V,error:re}=await ot.from("diaries").select("*").order("created_at",{ascending:!1});if(re)throw re;const se=(await Promise.allSettled((V||[]).map(async me=>{const Oe=await _(f,me.encrypted_entry,me.iv),{title:ye,content:kt}=JSON.parse(Oe);return{...me,title:ye,content:kt}}))).filter(me=>me.status==="fulfilled").map(me=>me.value);i(se)}catch(V){console.error("Error fetching entries:",V),R("Could not fetch entries.","error")}finally{s(!1)}}},[f,_,R]);Z.useEffect(()=>{p==="ready"&&(q(),W())},[q,W,p]);const C=Z.useMemo(()=>{const V=new Date,re=V.getMonth(),le=V.getDate();return n.filter(se=>{const me=new Date(se.created_at);return me.getMonth()===re&&me.getDate()===le&&me.getFullYear()<V.getFullYear()}).sort((se,me)=>new Date(me.created_at).getTime()-new Date(se.created_at).getTime())},[n]),B=Z.useCallback(async V=>{if(!f){R("Security session expired.","error");return}if(!c){R("Cannot save: no entry is currently being edited.","error");return}E("encrypting");try{const re=JSON.stringify({title:V.title,content:V.content}),{iv:le,data:se}=await y(f,re),me=typeof c=="object"&&"id"in c,Oe={encrypted_entry:se,iv:le,mood:V.mood,tags:V.tags,created_at:V.created_at};if(me){const{error:ye}=await ot.from("diaries").update(Oe).eq("id",c.id);if(ye)throw ye;i(kt=>kt.map(Ee=>Ee.id===c.id?{...Ee,...V}:Ee))}else{const{data:ye,error:kt}=await ot.from("diaries").insert({...Oe,owner_id:t.user.id}).select().single();if(kt)throw kt;i(Ee=>[{...ye,...V},...Ee].sort((gt,xo)=>new Date(xo.created_at).getTime()-new Date(gt.created_at).getTime()))}R("Entry saved!","success"),v(null),l("timeline"),O(!0),E("synced")}catch(re){console.error("Error saving entry:",re),R("Failed to save entry.","error"),E("error")}},[t.user.id,f,y,R,c]),K=V=>{A(V)},G=async()=>{if(I)try{const{error:V}=await ot.from("diaries").delete().eq("id",I.id);if(V)throw V;i(re=>re.filter(le=>le.id!==I.id)),R("Entry deleted successfully.","success"),u(null),A(null)}catch(V){console.error("Error deleting entry:",V),R("Failed to delete entry.","error"),A(null)}},J=V=>{const re=ge(V),le=n.find(se=>ge(new Date(se.created_at))===re);u(le||null),l("timeline")},ie=async()=>{await ot.auth.signOut()},he=async V=>{try{const{data:re,error:le}=await ot.from("profiles").update(V).eq("id",t.user.id).select().single();if(le)throw le;g(re),R("Profile updated successfully!","success")}catch(re){R("Failed to update profile.","error"),console.error("Error updating profile:",re)}},de=async V=>{try{const re=V.name.split(".").pop(),le=`${t.user.id}/${Date.now()}.${re}`,{error:se}=await ot.storage.from("avatars").upload(le,V,{upsert:!0});if(se)throw se;const{data:me}=ot.storage.from("avatars").getPublicUrl(le),{error:Oe}=await ot.from("profiles").update({avatar_url:me.publicUrl}).eq("id",t.user.id);if(Oe)throw Oe;g(ye=>ye?{...ye,avatar_url:me.publicUrl}:null),R("Avatar updated!","success")}catch(re){R("Failed to upload avatar.","error"),console.error("Error uploading avatar:",re)}},ve=()=>{if(n.length===0){R("You have no entries to export.","info");return}const V=JSON.stringify(n.map(({title:me,content:Oe,created_at:ye,tags:kt,mood:Ee})=>({title:me,content:Oe,created_at:ye,tags:kt,mood:Ee})),null,2),re=new Blob([V],{type:"application/json"}),le=URL.createObjectURL(re),se=document.createElement("a");se.href=le,se.download=`diary_export_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(le),R("Data exported successfully!","success")},ge=V=>new Date(V.getTime()-V.getTimezoneOffset()*6e4).toISOString().split("T")[0],$e=V=>{u(null),v(V),O(!1)},Ne=()=>{u(null),v("new"),l("timeline"),O(!1)},Y=()=>{v(null),O(!0)},Q=()=>{var V;(V=z.current)==null||V.save()};if(p!=="ready"){let V;switch(p){case"checking":V=N.jsx("p",{children:"Initializing Secure Session..."});break;case"needed":V=N.jsx(TA,{onSuccess:D,session:t});break;case"reauth":V=N.jsx(AA,{onSuccess:D,session:t});break;default:V=N.jsx("p",{children:"An unexpected error occurred."})}return N.jsx("main",{className:"flex items-center justify-center h-screen",children:V})}const te=()=>{if(o)return N.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mt-8",children:"Loading your encrypted diary..."});switch(a){case"calendar":return N.jsx(xA,{entries:n,onSelectDate:J});case"search":return N.jsx(OA,{entries:n,onSelectEntry:V=>$e(n.find(re=>re.id===V))});case"profile":return N.jsx(NA,{session:t,profile:m,onUpdateProfile:he,onAvatarUpload:de,onExportData:ve,onSignOut:ie,theme:e,onToggleTheme:r});case"timeline":default:return d?N.jsx(qE,{entry:d,onEdit:()=>$e(d),onDelete:()=>K(d)}):N.jsx(yE,{entries:n,onThisDayEntries:C,onSelectEntry:V=>u(n.find(re=>re.id===V)||null),profile:m})}},ne=V=>{u(null),v(null),l(V),O(!0)};return N.jsxs("div",{className:"h-screen w-screen flex flex-col font-sans bg-[#FBF8F3] dark:bg-slate-900",children:[N.jsx(fE,{isEditing:!!c,onSave:Q,onCancel:Y,currentDate:c&&typeof c=="object"?new Date(c.created_at):d?new Date(d.created_at):new Date,weather:k,theme:e,onToggleTheme:r,saveStatus:j,profile:m,onShowProfile:()=>ne("profile"),isToolsPanelVisible:x,onToggleToolsPanel:()=>S(V=>!V),isLeftSidebarVisible:b}),!b&&N.jsx(PA,{onClick:()=>O(!0)}),N.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[N.jsx(H_,{isVisible:b,onClose:()=>O(!1),activeView:a,onChangeView:ne,onNewEntry:Ne}),N.jsxs("div",{className:`flex-1 flex transition-all duration-300 ${b?"md:pl-64":"pl-0"}`,children:[N.jsx("main",{className:"flex-1 p-4 sm:p-6 md:p-8 overflow-y-auto",children:c?N.jsx(kA,{ref:z,entry:typeof c=="object"?c:void 0,onSave:B,onWordCountChange:L,onCharacterCountChange:F,editorFont:H},typeof c=="object"?c.id:"new"):te()}),c&&x&&N.jsx(pE,{entry:c,onUpdateEntry:V=>{v(c==="new"?{id:"",owner_id:"",title:"",content:"",created_at:new Date().toISOString(),...V}:re=>({...re,...V}))},editorFont:H,onFontChange:U})]})]}),c&&N.jsx(dE,{wordCount:P,characterCount:M,saveStatus:j}),N.jsx(jA,{isOpen:!!I,onClose:()=>A(null),onConfirm:G,title:"Delete Entry?",message:"Are you sure you want to permanently delete this entry? This action cannot be undone."})]})},CA=()=>{const[t,e]=Z.useState(null),[r,n]=Z.useState(!0),[i,o]=Z.useState(()=>localStorage.getItem("theme")||"light");Z.useEffect(()=>{ot.auth.getSession().then(({data:{session:l}})=>{e(l),n(!1)});const{data:{subscription:a}}=ot.auth.onAuthStateChange((l,c)=>{e(c)});return()=>a==null?void 0:a.unsubscribe()},[]),Z.useEffect(()=>{const a=window.document.documentElement;i==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",i)},[i]);const s=()=>{o(a=>a==="light"?"dark":"light")};return r?N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:N.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading..."})}):N.jsx(D_,{children:N.jsx(q_,{children:N.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 font-sans",children:t?N.jsx(RA,{session:t,theme:i,onToggleTheme:s},t.user.id):N.jsx(M_,{})})})})},Pm=document.getElementById("root");if(!Pm)throw new Error("Could not find root element to mount to");const LA=kl.createRoot(Pm);LA.render(N.jsx(qh.StrictMode,{children:N.jsx(CA,{})}));
