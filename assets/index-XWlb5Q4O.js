function s4(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function l4(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ty={exports:{}},Fd={},ry={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=Symbol.for("react.element"),u4=Symbol.for("react.portal"),c4=Symbol.for("react.fragment"),f4=Symbol.for("react.strict_mode"),d4=Symbol.for("react.profiler"),h4=Symbol.for("react.provider"),p4=Symbol.for("react.context"),g4=Symbol.for("react.forward_ref"),m4=Symbol.for("react.suspense"),v4=Symbol.for("react.memo"),y4=Symbol.for("react.lazy"),cm=Symbol.iterator;function w4(t){return t===null||typeof t!="object"?null:(t=cm&&t[cm]||t["@@iterator"],typeof t=="function"?t:null)}var ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iy=Object.assign,oy={};function gl(t,e,r){this.props=t,this.context=e,this.refs=oy,this.updater=r||ny}gl.prototype.isReactComponent={};gl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ay(){}ay.prototype=gl.prototype;function A1(t,e,r){this.props=t,this.context=e,this.refs=oy,this.updater=r||ny}var N1=A1.prototype=new ay;N1.constructor=A1;iy(N1,gl.prototype);N1.isPureReactComponent=!0;var fm=Array.isArray,sy=Object.prototype.hasOwnProperty,E1={current:null},ly={key:!0,ref:!0,__self:!0,__source:!0};function uy(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)sy.call(e,n)&&!ly.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:ac,type:t,key:o,ref:a,props:i,_owner:E1.current}}function b4(t,e){return{$$typeof:ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function O1(t){return typeof t=="object"&&t!==null&&t.$$typeof===ac}function _4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var dm=/\/+/g;function Jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_4(""+t.key):e.toString(36)}function If(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ac:case u4:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Jh(a,0):n,fm(i)?(r="",t!=null&&(r=t.replace(dm,"$&/")+"/"),If(i,e,r,"",function(c){return c})):i!=null&&(O1(i)&&(i=b4(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(dm,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",fm(t))for(var s=0;s<t.length;s++){o=t[s];var l=n+Jh(o,s);a+=If(o,e,r,l,i)}else if(l=w4(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=n+Jh(o,s++),a+=If(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ef(t,e,r){if(t==null)return t;var n=[],i=0;return If(t,n,"","",function(o){return e.call(r,o,i++)}),n}function x4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Df={transition:null},S4={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Df,ReactCurrentOwner:E1};function cy(){throw Error("act(...) is not supported in production builds of React.")}kt.Children={map:ef,forEach:function(t,e,r){ef(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ef(t,function(){e++}),e},toArray:function(t){return ef(t,function(e){return e})||[]},only:function(t){if(!O1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};kt.Component=gl;kt.Fragment=c4;kt.Profiler=d4;kt.PureComponent=A1;kt.StrictMode=f4;kt.Suspense=m4;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S4;kt.act=cy;kt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=iy({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=E1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)sy.call(e,l)&&!ly.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:ac,type:t.type,key:i,ref:o,props:n,_owner:a}};kt.createContext=function(t){return t={$$typeof:p4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:h4,_context:t},t.Consumer=t};kt.createElement=uy;kt.createFactory=function(t){var e=uy.bind(null,t);return e.type=t,e};kt.createRef=function(){return{current:null}};kt.forwardRef=function(t){return{$$typeof:g4,render:t}};kt.isValidElement=O1;kt.lazy=function(t){return{$$typeof:y4,_payload:{_status:-1,_result:t},_init:x4}};kt.memo=function(t,e){return{$$typeof:v4,type:t,compare:e===void 0?null:e}};kt.startTransition=function(t){var e=Df.transition;Df.transition={};try{t()}finally{Df.transition=e}};kt.unstable_act=cy;kt.useCallback=function(t,e){return vn.current.useCallback(t,e)};kt.useContext=function(t){return vn.current.useContext(t)};kt.useDebugValue=function(){};kt.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};kt.useEffect=function(t,e){return vn.current.useEffect(t,e)};kt.useId=function(){return vn.current.useId()};kt.useImperativeHandle=function(t,e,r){return vn.current.useImperativeHandle(t,e,r)};kt.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};kt.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};kt.useMemo=function(t,e){return vn.current.useMemo(t,e)};kt.useReducer=function(t,e,r){return vn.current.useReducer(t,e,r)};kt.useRef=function(t){return vn.current.useRef(t)};kt.useState=function(t){return vn.current.useState(t)};kt.useSyncExternalStore=function(t,e,r){return vn.current.useSyncExternalStore(t,e,r)};kt.useTransition=function(){return vn.current.useTransition()};kt.version="18.3.1";ry.exports=kt;var Pe=ry.exports;const fy=k1(Pe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4=Pe,A4=Symbol.for("react.element"),N4=Symbol.for("react.fragment"),E4=Object.prototype.hasOwnProperty,O4=k4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L4={key:!0,ref:!0,__self:!0,__source:!0};function dy(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)E4.call(e,n)&&!L4.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:A4,type:t,key:o,ref:a,props:i,_owner:O4.current}}Fd.Fragment=N4;Fd.jsx=dy;Fd.jsxs=dy;ty.exports=Fd;var M=ty.exports,Xp={},hy={exports:{}},Qn={},py={exports:{}},gy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,Y){var W=Q.length;Q.push(Y);e:for(;0<W;){var q=W-1>>>1,L=Q[q];if(0<i(L,Y))Q[q]=Y,Q[W]=L,W=q;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var Y=Q[0],W=Q.pop();if(W!==Y){Q[0]=W;e:for(var q=0,L=Q.length,I=L>>>1;q<I;){var $=2*(q+1)-1,H=Q[$],B=$+1,J=Q[B];if(0>i(H,W))B<L&&0>i(J,H)?(Q[q]=J,Q[B]=W,q=B):(Q[q]=H,Q[$]=W,q=$);else if(B<L&&0>i(J,W))Q[q]=J,Q[B]=W,q=B;else break e}}return Y}function i(Q,Y){var W=Q.sortIndex-Y.sortIndex;return W!==0?W:Q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],p=1,h=null,f=3,u=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Q){for(var Y=r(c);Y!==null;){if(Y.callback===null)n(c);else if(Y.startTime<=Q)n(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=r(c)}}function x(Q){if(v=!1,_(Q),!y)if(r(l)!==null)y=!0,ee(A);else{var Y=r(c);Y!==null&&te(x,Y.startTime-Q)}}function A(Q,Y){y=!1,v&&(v=!1,g(O),O=-1),u=!0;var W=f;try{for(_(Y),h=r(l);h!==null&&(!(h.expirationTime>Y)||Q&&!S());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var L=q(h.expirationTime<=Y);Y=t.unstable_now(),typeof L=="function"?h.callback=L:h===r(l)&&n(l),_(Y)}else n(l);h=r(l)}if(h!==null)var I=!0;else{var $=r(c);$!==null&&te(x,$.startTime-Y),I=!1}return I}finally{h=null,f=W,u=!1}}var R=!1,T=null,O=-1,F=5,C=-1;function S(){return!(t.unstable_now()-C<F)}function N(){if(T!==null){var Q=t.unstable_now();C=Q;var Y=!0;try{Y=T(!0,Q)}finally{Y?P():(R=!1,T=null)}}else R=!1}var P;if(typeof m=="function")P=function(){m(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=N,P=function(){G.postMessage(null)}}else P=function(){b(N,0)};function ee(Q){T=Q,R||(R=!0,P())}function te(Q,Y){O=b(function(){Q(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){y||u||(y=!0,ee(A))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(Q){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var W=f;f=Y;try{return Q()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,Y){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var W=f;f=Q;try{return Y()}finally{f=W}},t.unstable_scheduleCallback=function(Q,Y,W){var q=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?q+W:q):W=q,Q){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,Q={id:p++,callback:Y,priorityLevel:Q,startTime:W,expirationTime:L,sortIndex:-1},W>q?(Q.sortIndex=W,e(c,Q),r(l)===null&&Q===r(c)&&(v?(g(O),O=-1):v=!0,te(x,W-q))):(Q.sortIndex=L,e(l,Q),y||u||(y=!0,ee(A))),Q},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(Q){var Y=f;return function(){var W=f;f=Y;try{return Q.apply(this,arguments)}finally{f=W}}}})(gy);py.exports=gy;var T4=py.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4=Pe,Xn=T4;function Fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var my=new Set,Fu={};function Xa(t,e){sl(t,e),sl(t+"Capture",e)}function sl(t,e){for(Fu[t]=e,t=0;t<e.length;t++)my.add(e[t])}var yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qp=Object.prototype.hasOwnProperty,j4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hm={},pm={};function C4(t){return Qp.call(pm,t)?!0:Qp.call(hm,t)?!1:j4.test(t)?pm[t]=!0:(hm[t]=!0,!1)}function R4(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function I4(t,e,r,n){if(e===null||typeof e>"u"||R4(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vr[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vr[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vr[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vr[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vr[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vr[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vr[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vr[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vr[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var L1=/[\-:]([a-z])/g;function T1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(L1,T1);Vr[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(L1,T1);Vr[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(L1,T1);Vr[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vr[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vr[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function P1(t,e,r,n){var i=Vr.hasOwnProperty(e)?Vr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(I4(e,r,i,n)&&(r=null),n||i===null?C4(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var So=P4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tf=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),j1=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),vy=Symbol.for("react.provider"),yy=Symbol.for("react.context"),C1=Symbol.for("react.forward_ref"),e0=Symbol.for("react.suspense"),t0=Symbol.for("react.suspense_list"),R1=Symbol.for("react.memo"),Wo=Symbol.for("react.lazy"),wy=Symbol.for("react.offscreen"),gm=Symbol.iterator;function ru(t){return t===null||typeof t!="object"?null:(t=gm&&t[gm]||t["@@iterator"],typeof t=="function"?t:null)}var sr=Object.assign,Xh;function _u(t){if(Xh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Xh=e&&e[1]||""}return`
`+Xh+t}var Qh=!1;function Zh(t,e){if(!t||Qh)return"";Qh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Qh=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_u(t):""}function D4(t){switch(t.tag){case 5:return _u(t.type);case 16:return _u("Lazy");case 13:return _u("Suspense");case 19:return _u("SuspenseList");case 0:case 2:case 15:return t=Zh(t.type,!1),t;case 11:return t=Zh(t.type.render,!1),t;case 1:return t=Zh(t.type,!0),t;default:return""}}function r0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fs:return"Fragment";case Ms:return"Portal";case Zp:return"Profiler";case j1:return"StrictMode";case e0:return"Suspense";case t0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yy:return(t.displayName||"Context")+".Consumer";case vy:return(t._context.displayName||"Context")+".Provider";case C1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R1:return e=t.displayName||null,e!==null?e:r0(t.type)||"Memo";case Wo:e=t._payload,t=t._init;try{return r0(t(e))}catch{}}return null}function M4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return r0(e);case 8:return e===j1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function by(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F4(t){var e=by(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rf(t){t._valueTracker||(t._valueTracker=F4(t))}function _y(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=by(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function n0(t,e){var r=e.checked;return sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function mm(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=sa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xy(t,e){e=e.checked,e!=null&&P1(t,"checked",e,!1)}function i0(t,e){xy(t,e);var r=sa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?o0(t,e.type,r):e.hasOwnProperty("defaultValue")&&o0(t,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vm(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function o0(t,e,r){(e!=="number"||Zf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var xu=Array.isArray;function Js(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+sa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function a0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ym(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Fe(92));if(xu(r)){if(1<r.length)throw Error(Fe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:sa(r)}}function Sy(t,e){var r=sa(e.value),n=sa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function wm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ky(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function s0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ky(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nf,Ay=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nf=nf||document.createElement("div"),nf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B4=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(t){B4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nu[e]=Nu[t]})});function Ny(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Nu.hasOwnProperty(t)&&Nu[t]?(""+e).trim():e+"px"}function Ey(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ny(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var q4=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l0(t,e){if(e){if(q4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Fe(62))}}function u0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c0=null;function I1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var f0=null,Xs=null,Qs=null;function bm(t){if(t=uc(t)){if(typeof f0!="function")throw Error(Fe(280));var e=t.stateNode;e&&(e=$d(e),f0(t.stateNode,t.type,e))}}function Oy(t){Xs?Qs?Qs.push(t):Qs=[t]:Xs=t}function Ly(){if(Xs){var t=Xs,e=Qs;if(Qs=Xs=null,bm(t),e)for(t=0;t<e.length;t++)bm(e[t])}}function Ty(t,e){return t(e)}function Py(){}var ep=!1;function jy(t,e,r){if(ep)return t(e,r);ep=!0;try{return Ty(t,e,r)}finally{ep=!1,(Xs!==null||Qs!==null)&&(Py(),Ly())}}function qu(t,e){var r=t.stateNode;if(r===null)return null;var n=$d(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Fe(231,e,typeof r));return r}var d0=!1;if(yo)try{var nu={};Object.defineProperty(nu,"passive",{get:function(){d0=!0}}),window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{d0=!1}function U4(t,e,r,n,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(p){this.onError(p)}}var Eu=!1,ed=null,td=!1,h0=null,z4={onError:function(t){Eu=!0,ed=t}};function $4(t,e,r,n,i,o,a,s,l){Eu=!1,ed=null,U4.apply(z4,arguments)}function H4(t,e,r,n,i,o,a,s,l){if($4.apply(this,arguments),Eu){if(Eu){var c=ed;Eu=!1,ed=null}else throw Error(Fe(198));td||(td=!0,h0=c)}}function Qa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Cy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _m(t){if(Qa(t)!==t)throw Error(Fe(188))}function W4(t){var e=t.alternate;if(!e){if(e=Qa(t),e===null)throw Error(Fe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return _m(i),t;if(o===n)return _m(i),e;o=o.sibling}throw Error(Fe(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(Fe(189))}}if(r.alternate!==n)throw Error(Fe(190))}if(r.tag!==3)throw Error(Fe(188));return r.stateNode.current===r?t:e}function Ry(t){return t=W4(t),t!==null?Iy(t):null}function Iy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Iy(t);if(e!==null)return e;t=t.sibling}return null}var Dy=Xn.unstable_scheduleCallback,xm=Xn.unstable_cancelCallback,V4=Xn.unstable_shouldYield,G4=Xn.unstable_requestPaint,_r=Xn.unstable_now,K4=Xn.unstable_getCurrentPriorityLevel,D1=Xn.unstable_ImmediatePriority,My=Xn.unstable_UserBlockingPriority,rd=Xn.unstable_NormalPriority,Y4=Xn.unstable_LowPriority,Fy=Xn.unstable_IdlePriority,Bd=null,Gi=null;function J4(t){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(Bd,t,void 0,(t.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:Z4,X4=Math.log,Q4=Math.LN2;function Z4(t){return t>>>=0,t===0?32:31-(X4(t)/Q4|0)|0}var of=64,af=4194304;function Su(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=Su(s):(o&=a,o!==0&&(n=Su(o)))}else a=r&~i,a!==0?n=Su(a):o!==0&&(n=Su(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Pi(e),i=1<<r,n|=t[r],e&=~i;return n}function ex(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tx(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Pi(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=ex(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function p0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function By(){var t=of;return of<<=1,!(of&4194240)&&(of=64),t}function tp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function sc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pi(e),t[e]=r}function rx(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Pi(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function M1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Pi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ft=0;function qy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Uy,F1,zy,$y,Hy,g0=!1,sf=[],Zo=null,ea=null,ta=null,Uu=new Map,zu=new Map,Go=[],nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sm(t,e){switch(t){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Uu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(e.pointerId)}}function iu(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=uc(e),e!==null&&F1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ix(t,e,r,n,i){switch(e){case"focusin":return Zo=iu(Zo,t,e,r,n,i),!0;case"dragenter":return ea=iu(ea,t,e,r,n,i),!0;case"mouseover":return ta=iu(ta,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Uu.set(o,iu(Uu.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,zu.set(o,iu(zu.get(o)||null,t,e,r,n,i)),!0}return!1}function Wy(t){var e=Fa(t.target);if(e!==null){var r=Qa(e);if(r!==null){if(e=r.tag,e===13){if(e=Cy(r),e!==null){t.blockedOn=e,Hy(t.priority,function(){zy(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=m0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);c0=n,r.target.dispatchEvent(n),c0=null}else return e=uc(r),e!==null&&F1(e),t.blockedOn=r,!1;e.shift()}return!0}function km(t,e,r){Mf(t)&&r.delete(e)}function ox(){g0=!1,Zo!==null&&Mf(Zo)&&(Zo=null),ea!==null&&Mf(ea)&&(ea=null),ta!==null&&Mf(ta)&&(ta=null),Uu.forEach(km),zu.forEach(km)}function ou(t,e){t.blockedOn===e&&(t.blockedOn=null,g0||(g0=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,ox)))}function $u(t){function e(i){return ou(i,t)}if(0<sf.length){ou(sf[0],t);for(var r=1;r<sf.length;r++){var n=sf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zo!==null&&ou(Zo,t),ea!==null&&ou(ea,t),ta!==null&&ou(ta,t),Uu.forEach(e),zu.forEach(e),r=0;r<Go.length;r++)n=Go[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Go.length&&(r=Go[0],r.blockedOn===null);)Wy(r),r.blockedOn===null&&Go.shift()}var Zs=So.ReactCurrentBatchConfig,id=!0;function ax(t,e,r,n){var i=Ft,o=Zs.transition;Zs.transition=null;try{Ft=1,B1(t,e,r,n)}finally{Ft=i,Zs.transition=o}}function sx(t,e,r,n){var i=Ft,o=Zs.transition;Zs.transition=null;try{Ft=4,B1(t,e,r,n)}finally{Ft=i,Zs.transition=o}}function B1(t,e,r,n){if(id){var i=m0(t,e,r,n);if(i===null)fp(t,e,n,od,r),Sm(t,n);else if(ix(i,t,e,r,n))n.stopPropagation();else if(Sm(t,n),e&4&&-1<nx.indexOf(t)){for(;i!==null;){var o=uc(i);if(o!==null&&Uy(o),o=m0(t,e,r,n),o===null&&fp(t,e,n,od,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else fp(t,e,n,null,r)}}var od=null;function m0(t,e,r,n){if(od=null,t=I1(n),t=Fa(t),t!==null)if(e=Qa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Cy(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return od=t,null}function Vy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K4()){case D1:return 1;case My:return 4;case rd:case Y4:return 16;case Fy:return 536870912;default:return 16}default:return 16}}var Jo=null,q1=null,Ff=null;function Gy(){if(Ff)return Ff;var t,e=q1,r=e.length,n,i="value"in Jo?Jo.value:Jo.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return Ff=i.slice(t,1<n?1-n:void 0)}function Bf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lf(){return!0}function Am(){return!1}function Zn(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?lf:Am,this.isPropagationStopped=Am,this}return sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lf)},persist:function(){},isPersistent:lf}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U1=Zn(ml),lc=sr({},ml,{view:0,detail:0}),lx=Zn(lc),rp,np,au,qd=sr({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==au&&(au&&t.type==="mousemove"?(rp=t.screenX-au.screenX,np=t.screenY-au.screenY):np=rp=0,au=t),rp)},movementY:function(t){return"movementY"in t?t.movementY:np}}),Nm=Zn(qd),ux=sr({},qd,{dataTransfer:0}),cx=Zn(ux),fx=sr({},lc,{relatedTarget:0}),ip=Zn(fx),dx=sr({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),hx=Zn(dx),px=sr({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gx=Zn(px),mx=sr({},ml,{data:0}),Em=Zn(mx),vx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wx[t])?!!e[t]:!1}function z1(){return bx}var _x=sr({},lc,{key:function(t){if(t.key){var e=vx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z1,charCode:function(t){return t.type==="keypress"?Bf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xx=Zn(_x),Sx=sr({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Om=Zn(Sx),kx=sr({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z1}),Ax=Zn(kx),Nx=sr({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=Zn(Nx),Ox=sr({},qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lx=Zn(Ox),Tx=[9,13,27,32],$1=yo&&"CompositionEvent"in window,Ou=null;yo&&"documentMode"in document&&(Ou=document.documentMode);var Px=yo&&"TextEvent"in window&&!Ou,Ky=yo&&(!$1||Ou&&8<Ou&&11>=Ou),Lm=" ",Tm=!1;function Yy(t,e){switch(t){case"keyup":return Tx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function jx(t,e){switch(t){case"compositionend":return Jy(e);case"keypress":return e.which!==32?null:(Tm=!0,Lm);case"textInput":return t=e.data,t===Lm&&Tm?null:t;default:return null}}function Cx(t,e){if(Bs)return t==="compositionend"||!$1&&Yy(t,e)?(t=Gy(),Ff=q1=Jo=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ky&&e.locale!=="ko"?null:e.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Rx[t.type]:e==="textarea"}function Xy(t,e,r,n){Oy(n),e=ad(e,"onChange"),0<e.length&&(r=new U1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Lu=null,Hu=null;function Ix(t){l5(t,0)}function Ud(t){var e=zs(t);if(_y(e))return t}function Dx(t,e){if(t==="change")return e}var Qy=!1;if(yo){var op;if(yo){var ap="oninput"in document;if(!ap){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),ap=typeof jm.oninput=="function"}op=ap}else op=!1;Qy=op&&(!document.documentMode||9<document.documentMode)}function Cm(){Lu&&(Lu.detachEvent("onpropertychange",Zy),Hu=Lu=null)}function Zy(t){if(t.propertyName==="value"&&Ud(Hu)){var e=[];Xy(e,Hu,t,I1(t)),jy(Ix,e)}}function Mx(t,e,r){t==="focusin"?(Cm(),Lu=e,Hu=r,Lu.attachEvent("onpropertychange",Zy)):t==="focusout"&&Cm()}function Fx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ud(Hu)}function Bx(t,e){if(t==="click")return Ud(e)}function qx(t,e){if(t==="input"||t==="change")return Ud(e)}function Ux(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ci=typeof Object.is=="function"?Object.is:Ux;function Wu(t,e){if(Ci(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Qp.call(e,i)||!Ci(t[i],e[i]))return!1}return!0}function Rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Im(t,e){var r=Rm(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rm(r)}}function e5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?e5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function t5(){for(var t=window,e=Zf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Zf(t.document)}return e}function H1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zx(t){var e=t5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&e5(r.ownerDocument.documentElement,r)){if(n!==null&&H1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=Im(r,o);var a=Im(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $x=yo&&"documentMode"in document&&11>=document.documentMode,qs=null,v0=null,Tu=null,y0=!1;function Dm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;y0||qs==null||qs!==Zf(n)||(n=qs,"selectionStart"in n&&H1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tu&&Wu(Tu,n)||(Tu=n,n=ad(v0,"onSelect"),0<n.length&&(e=new U1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qs)))}function uf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Us={animationend:uf("Animation","AnimationEnd"),animationiteration:uf("Animation","AnimationIteration"),animationstart:uf("Animation","AnimationStart"),transitionend:uf("Transition","TransitionEnd")},sp={},r5={};yo&&(r5=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function zd(t){if(sp[t])return sp[t];if(!Us[t])return t;var e=Us[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in r5)return sp[t]=e[r];return t}var n5=zd("animationend"),i5=zd("animationiteration"),o5=zd("animationstart"),a5=zd("transitionend"),s5=new Map,Mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(t,e){s5.set(t,e),Xa(e,[t])}for(var lp=0;lp<Mm.length;lp++){var up=Mm[lp],Hx=up.toLowerCase(),Wx=up[0].toUpperCase()+up.slice(1);fa(Hx,"on"+Wx)}fa(n5,"onAnimationEnd");fa(i5,"onAnimationIteration");fa(o5,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(a5,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ku));function Fm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,H4(n,e,void 0,t),t.currentTarget=null}function l5(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Fm(i,s,c),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Fm(i,s,c),o=l}}}if(td)throw t=h0,td=!1,h0=null,t}function Yt(t,e){var r=e[S0];r===void 0&&(r=e[S0]=new Set);var n=t+"__bubble";r.has(n)||(u5(e,t,2,!1),r.add(n))}function cp(t,e,r){var n=0;e&&(n|=4),u5(r,t,n,e)}var cf="_reactListening"+Math.random().toString(36).slice(2);function Vu(t){if(!t[cf]){t[cf]=!0,my.forEach(function(r){r!=="selectionchange"&&(Vx.has(r)||cp(r,!1,t),cp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cf]||(e[cf]=!0,cp("selectionchange",!1,e))}}function u5(t,e,r,n){switch(Vy(e)){case 1:var i=ax;break;case 4:i=sx;break;default:i=B1}r=i.bind(null,e,r,t),i=void 0,!d0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function fp(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Fa(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}jy(function(){var c=o,p=I1(r),h=[];e:{var f=s5.get(t);if(f!==void 0){var u=U1,y=t;switch(t){case"keypress":if(Bf(r)===0)break e;case"keydown":case"keyup":u=xx;break;case"focusin":y="focus",u=ip;break;case"focusout":y="blur",u=ip;break;case"beforeblur":case"afterblur":u=ip;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Ax;break;case n5:case i5:case o5:u=hx;break;case a5:u=Ex;break;case"scroll":u=lx;break;case"wheel":u=Lx;break;case"copy":case"cut":case"paste":u=gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Om}var v=(e&4)!==0,b=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var m=c,_;m!==null;){_=m;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,g!==null&&(x=qu(m,g),x!=null&&v.push(Gu(m,x,_)))),b)break;m=m.return}0<v.length&&(f=new u(f,y,null,r,p),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",u=t==="mouseout"||t==="pointerout",f&&r!==c0&&(y=r.relatedTarget||r.fromElement)&&(Fa(y)||y[wo]))break e;if((u||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,u?(y=r.relatedTarget||r.toElement,u=c,y=y?Fa(y):null,y!==null&&(b=Qa(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(u=null,y=c),u!==y)){if(v=Nm,x="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=Om,x="onPointerLeave",g="onPointerEnter",m="pointer"),b=u==null?f:zs(u),_=y==null?f:zs(y),f=new v(x,m+"leave",u,r,p),f.target=b,f.relatedTarget=_,x=null,Fa(p)===c&&(v=new v(g,m+"enter",y,r,p),v.target=_,v.relatedTarget=b,x=v),b=x,u&&y)t:{for(v=u,g=y,m=0,_=v;_;_=ks(_))m++;for(_=0,x=g;x;x=ks(x))_++;for(;0<m-_;)v=ks(v),m--;for(;0<_-m;)g=ks(g),_--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=ks(v),g=ks(g)}v=null}else v=null;u!==null&&Bm(h,f,u,v,!1),y!==null&&b!==null&&Bm(h,b,y,v,!0)}}e:{if(f=c?zs(c):window,u=f.nodeName&&f.nodeName.toLowerCase(),u==="select"||u==="input"&&f.type==="file")var A=Dx;else if(Pm(f))if(Qy)A=qx;else{A=Fx;var R=Mx}else(u=f.nodeName)&&u.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=Bx);if(A&&(A=A(t,c))){Xy(h,A,r,p);break e}R&&R(t,f,c),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&o0(f,"number",f.value)}switch(R=c?zs(c):window,t){case"focusin":(Pm(R)||R.contentEditable==="true")&&(qs=R,v0=c,Tu=null);break;case"focusout":Tu=v0=qs=null;break;case"mousedown":y0=!0;break;case"contextmenu":case"mouseup":case"dragend":y0=!1,Dm(h,r,p);break;case"selectionchange":if($x)break;case"keydown":case"keyup":Dm(h,r,p)}var T;if($1)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Bs?Yy(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(Ky&&r.locale!=="ko"&&(Bs||O!=="onCompositionStart"?O==="onCompositionEnd"&&Bs&&(T=Gy()):(Jo=p,q1="value"in Jo?Jo.value:Jo.textContent,Bs=!0)),R=ad(c,O),0<R.length&&(O=new Em(O,t,null,r,p),h.push({event:O,listeners:R}),T?O.data=T:(T=Jy(r),T!==null&&(O.data=T)))),(T=Px?jx(t,r):Cx(t,r))&&(c=ad(c,"onBeforeInput"),0<c.length&&(p=new Em("onBeforeInput","beforeinput",null,r,p),h.push({event:p,listeners:c}),p.data=T))}l5(h,e)})}function Gu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ad(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qu(t,r),o!=null&&n.unshift(Gu(t,o,i)),o=qu(t,e),o!=null&&n.push(Gu(t,o,i))),t=t.return}return n}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bm(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=qu(r,o),l!=null&&a.unshift(Gu(r,l,s))):i||(l=qu(r,o),l!=null&&a.push(Gu(r,l,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Gx=/\r\n?/g,Kx=/\u0000|\uFFFD/g;function qm(t){return(typeof t=="string"?t:""+t).replace(Gx,`
`).replace(Kx,"")}function ff(t,e,r){if(e=qm(e),qm(t)!==e&&r)throw Error(Fe(425))}function sd(){}var w0=null,b0=null;function _0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var x0=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,Jx=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(t){return Um.resolve(null).then(t).catch(Xx)}:x0;function Xx(t){setTimeout(function(){throw t})}function dp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),$u(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$u(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var vl=Math.random().toString(36).slice(2),Wi="__reactFiber$"+vl,Ku="__reactProps$"+vl,wo="__reactContainer$"+vl,S0="__reactEvents$"+vl,Qx="__reactListeners$"+vl,Zx="__reactHandles$"+vl;function Fa(t){var e=t[Wi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[wo]||r[Wi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=zm(t);t!==null;){if(r=t[Wi])return r;t=zm(t)}return e}t=r,r=t.parentNode}return null}function uc(t){return t=t[Wi]||t[wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Fe(33))}function $d(t){return t[Ku]||null}var k0=[],$s=-1;function da(t){return{current:t}}function Qt(t){0>$s||(t.current=k0[$s],k0[$s]=null,$s--)}function Kt(t,e){$s++,k0[$s]=t.current,t.current=e}var la={},an=da(la),Tn=da(!1),Wa=la;function ll(t,e){var r=t.type.contextTypes;if(!r)return la;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pn(t){return t=t.childContextTypes,t!=null}function ld(){Qt(Tn),Qt(an)}function $m(t,e,r){if(an.current!==la)throw Error(Fe(168));Kt(an,e),Kt(Tn,r)}function c5(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Fe(108,M4(t)||"Unknown",i));return sr({},r,n)}function ud(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||la,Wa=an.current,Kt(an,t),Kt(Tn,Tn.current),!0}function Hm(t,e,r){var n=t.stateNode;if(!n)throw Error(Fe(169));r?(t=c5(t,e,Wa),n.__reactInternalMemoizedMergedChildContext=t,Qt(Tn),Qt(an),Kt(an,t)):Qt(Tn),Kt(Tn,r)}var po=null,Hd=!1,hp=!1;function f5(t){po===null?po=[t]:po.push(t)}function e3(t){Hd=!0,f5(t)}function ha(){if(!hp&&po!==null){hp=!0;var t=0,e=Ft;try{var r=po;for(Ft=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}po=null,Hd=!1}catch(i){throw po!==null&&(po=po.slice(t+1)),Dy(D1,ha),i}finally{Ft=e,hp=!1}}return null}var Hs=[],Ws=0,cd=null,fd=0,ui=[],ci=0,Va=null,go=1,mo="";function Oa(t,e){Hs[Ws++]=fd,Hs[Ws++]=cd,cd=t,fd=e}function d5(t,e,r){ui[ci++]=go,ui[ci++]=mo,ui[ci++]=Va,Va=t;var n=go;t=mo;var i=32-Pi(n)-1;n&=~(1<<i),r+=1;var o=32-Pi(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,go=1<<32-Pi(e)+i|r<<i|n,mo=o+t}else go=1<<o|r<<i|n,mo=t}function W1(t){t.return!==null&&(Oa(t,1),d5(t,1,0))}function V1(t){for(;t===cd;)cd=Hs[--Ws],Hs[Ws]=null,fd=Hs[--Ws],Hs[Ws]=null;for(;t===Va;)Va=ui[--ci],ui[ci]=null,mo=ui[--ci],ui[ci]=null,go=ui[--ci],ui[ci]=null}var Jn=null,Kn=null,tr=!1,Ti=null;function h5(t,e){var r=fi(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Wm(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jn=t,Kn=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jn=t,Kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Va!==null?{id:go,overflow:mo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=fi(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Jn=t,Kn=null,!0):!1;default:return!1}}function A0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function N0(t){if(tr){var e=Kn;if(e){var r=e;if(!Wm(t,e)){if(A0(t))throw Error(Fe(418));e=ra(r.nextSibling);var n=Jn;e&&Wm(t,e)?h5(n,r):(t.flags=t.flags&-4097|2,tr=!1,Jn=t)}}else{if(A0(t))throw Error(Fe(418));t.flags=t.flags&-4097|2,tr=!1,Jn=t}}}function Vm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jn=t}function df(t){if(t!==Jn)return!1;if(!tr)return Vm(t),tr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_0(t.type,t.memoizedProps)),e&&(e=Kn)){if(A0(t))throw p5(),Error(Fe(418));for(;e;)h5(t,e),e=ra(e.nextSibling)}if(Vm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Kn=ra(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Kn=null}}else Kn=Jn?ra(t.stateNode.nextSibling):null;return!0}function p5(){for(var t=Kn;t;)t=ra(t.nextSibling)}function ul(){Kn=Jn=null,tr=!1}function G1(t){Ti===null?Ti=[t]:Ti.push(t)}var t3=So.ReactCurrentBatchConfig;function su(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Fe(309));var n=r.stateNode}if(!n)throw Error(Fe(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Fe(284));if(!r._owner)throw Error(Fe(290,t))}return t}function hf(t,e){throw t=Object.prototype.toString.call(e),Error(Fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gm(t){var e=t._init;return e(t._payload)}function g5(t){function e(g,m){if(t){var _=g.deletions;_===null?(g.deletions=[m],g.flags|=16):_.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=aa(g,m),g.index=0,g.sibling=null,g}function o(g,m,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<m?(g.flags|=2,m):_):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,m,_,x){return m===null||m.tag!==6?(m=bp(_,g.mode,x),m.return=g,m):(m=i(m,_),m.return=g,m)}function l(g,m,_,x){var A=_.type;return A===Fs?p(g,m,_.props.children,x,_.key):m!==null&&(m.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Wo&&Gm(A)===m.type)?(x=i(m,_.props),x.ref=su(g,m,_),x.return=g,x):(x=Vf(_.type,_.key,_.props,null,g.mode,x),x.ref=su(g,m,_),x.return=g,x)}function c(g,m,_,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=_p(_,g.mode,x),m.return=g,m):(m=i(m,_.children||[]),m.return=g,m)}function p(g,m,_,x,A){return m===null||m.tag!==7?(m=$a(_,g.mode,x,A),m.return=g,m):(m=i(m,_),m.return=g,m)}function h(g,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=bp(""+m,g.mode,_),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case tf:return _=Vf(m.type,m.key,m.props,null,g.mode,_),_.ref=su(g,null,m),_.return=g,_;case Ms:return m=_p(m,g.mode,_),m.return=g,m;case Wo:var x=m._init;return h(g,x(m._payload),_)}if(xu(m)||ru(m))return m=$a(m,g.mode,_,null),m.return=g,m;hf(g,m)}return null}function f(g,m,_,x){var A=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:s(g,m,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tf:return _.key===A?l(g,m,_,x):null;case Ms:return _.key===A?c(g,m,_,x):null;case Wo:return A=_._init,f(g,m,A(_._payload),x)}if(xu(_)||ru(_))return A!==null?null:p(g,m,_,x,null);hf(g,_)}return null}function u(g,m,_,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(_)||null,s(m,g,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case tf:return g=g.get(x.key===null?_:x.key)||null,l(m,g,x,A);case Ms:return g=g.get(x.key===null?_:x.key)||null,c(m,g,x,A);case Wo:var R=x._init;return u(g,m,_,R(x._payload),A)}if(xu(x)||ru(x))return g=g.get(_)||null,p(m,g,x,A,null);hf(m,x)}return null}function y(g,m,_,x){for(var A=null,R=null,T=m,O=m=0,F=null;T!==null&&O<_.length;O++){T.index>O?(F=T,T=null):F=T.sibling;var C=f(g,T,_[O],x);if(C===null){T===null&&(T=F);break}t&&T&&C.alternate===null&&e(g,T),m=o(C,m,O),R===null?A=C:R.sibling=C,R=C,T=F}if(O===_.length)return r(g,T),tr&&Oa(g,O),A;if(T===null){for(;O<_.length;O++)T=h(g,_[O],x),T!==null&&(m=o(T,m,O),R===null?A=T:R.sibling=T,R=T);return tr&&Oa(g,O),A}for(T=n(g,T);O<_.length;O++)F=u(T,g,O,_[O],x),F!==null&&(t&&F.alternate!==null&&T.delete(F.key===null?O:F.key),m=o(F,m,O),R===null?A=F:R.sibling=F,R=F);return t&&T.forEach(function(S){return e(g,S)}),tr&&Oa(g,O),A}function v(g,m,_,x){var A=ru(_);if(typeof A!="function")throw Error(Fe(150));if(_=A.call(_),_==null)throw Error(Fe(151));for(var R=A=null,T=m,O=m=0,F=null,C=_.next();T!==null&&!C.done;O++,C=_.next()){T.index>O?(F=T,T=null):F=T.sibling;var S=f(g,T,C.value,x);if(S===null){T===null&&(T=F);break}t&&T&&S.alternate===null&&e(g,T),m=o(S,m,O),R===null?A=S:R.sibling=S,R=S,T=F}if(C.done)return r(g,T),tr&&Oa(g,O),A;if(T===null){for(;!C.done;O++,C=_.next())C=h(g,C.value,x),C!==null&&(m=o(C,m,O),R===null?A=C:R.sibling=C,R=C);return tr&&Oa(g,O),A}for(T=n(g,T);!C.done;O++,C=_.next())C=u(T,g,O,C.value,x),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?O:C.key),m=o(C,m,O),R===null?A=C:R.sibling=C,R=C);return t&&T.forEach(function(N){return e(g,N)}),tr&&Oa(g,O),A}function b(g,m,_,x){if(typeof _=="object"&&_!==null&&_.type===Fs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case tf:e:{for(var A=_.key,R=m;R!==null;){if(R.key===A){if(A=_.type,A===Fs){if(R.tag===7){r(g,R.sibling),m=i(R,_.props.children),m.return=g,g=m;break e}}else if(R.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Wo&&Gm(A)===R.type){r(g,R.sibling),m=i(R,_.props),m.ref=su(g,R,_),m.return=g,g=m;break e}r(g,R);break}else e(g,R);R=R.sibling}_.type===Fs?(m=$a(_.props.children,g.mode,x,_.key),m.return=g,g=m):(x=Vf(_.type,_.key,_.props,null,g.mode,x),x.ref=su(g,m,_),x.return=g,g=x)}return a(g);case Ms:e:{for(R=_.key;m!==null;){if(m.key===R)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){r(g,m.sibling),m=i(m,_.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=_p(_,g.mode,x),m.return=g,g=m}return a(g);case Wo:return R=_._init,b(g,m,R(_._payload),x)}if(xu(_))return y(g,m,_,x);if(ru(_))return v(g,m,_,x);hf(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(r(g,m.sibling),m=i(m,_),m.return=g,g=m):(r(g,m),m=bp(_,g.mode,x),m.return=g,g=m),a(g)):r(g,m)}return b}var cl=g5(!0),m5=g5(!1),dd=da(null),hd=null,Vs=null,K1=null;function Y1(){K1=Vs=hd=null}function J1(t){var e=dd.current;Qt(dd),t._currentValue=e}function E0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function el(t,e){hd=t,K1=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ln=!0),t.firstContext=null)}function hi(t){var e=t._currentValue;if(K1!==t)if(t={context:t,memoizedValue:e,next:null},Vs===null){if(hd===null)throw Error(Fe(308));Vs=t,hd.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return e}var Ba=null;function X1(t){Ba===null?Ba=[t]:Ba.push(t)}function v5(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,X1(e)):(r.next=i.next,i.next=r),e.interleaved=r,bo(t,n)}function bo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Vo=!1;function Q1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function na(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Lt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,bo(t,r)}return i=n.interleaved,i===null?(e.next=e,X1(n)):(e.next=i.next,i.next=e),n.interleaved=e,bo(t,r)}function qf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,M1(t,r)}}function Km(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pd(t,e,r,n){var i=t.updateQueue;Vo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var p=t.alternate;p!==null&&(p=p.updateQueue,s=p.lastBaseUpdate,s!==a&&(s===null?p.firstBaseUpdate=c:s.next=c,p.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;a=0,p=c=l=null,s=o;do{var f=s.lane,u=s.eventTime;if((n&f)===f){p!==null&&(p=p.next={eventTime:u,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,v=s;switch(f=e,u=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(u,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(u,h,f):y,f==null)break e;h=sr({},h,f);break e;case 2:Vo=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else u={eventTime:u,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(c=p=u,l=h):p=p.next=u,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(p===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ka|=a,t.lanes=a,t.memoizedState=h}}function Ym(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Fe(191,i));i.call(n)}}}var cc={},Ki=da(cc),Yu=da(cc),Ju=da(cc);function qa(t){if(t===cc)throw Error(Fe(174));return t}function Z1(t,e){switch(Kt(Ju,e),Kt(Yu,t),Kt(Ki,cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:s0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=s0(e,t)}Qt(Ki),Kt(Ki,e)}function fl(){Qt(Ki),Qt(Yu),Qt(Ju)}function w5(t){qa(Ju.current);var e=qa(Ki.current),r=s0(e,t.type);e!==r&&(Kt(Yu,t),Kt(Ki,r))}function eg(t){Yu.current===t&&(Qt(Ki),Qt(Yu))}var or=da(0);function gd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pp=[];function tg(){for(var t=0;t<pp.length;t++)pp[t]._workInProgressVersionPrimary=null;pp.length=0}var Uf=So.ReactCurrentDispatcher,gp=So.ReactCurrentBatchConfig,Ga=0,ar=null,Cr=null,Fr=null,md=!1,Pu=!1,Xu=0,r3=0;function Xr(){throw Error(Fe(321))}function rg(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ci(t[r],e[r]))return!1;return!0}function ng(t,e,r,n,i,o){if(Ga=o,ar=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uf.current=t===null||t.memoizedState===null?a3:s3,t=r(n,i),Pu){o=0;do{if(Pu=!1,Xu=0,25<=o)throw Error(Fe(301));o+=1,Fr=Cr=null,e.updateQueue=null,Uf.current=l3,t=r(n,i)}while(Pu)}if(Uf.current=vd,e=Cr!==null&&Cr.next!==null,Ga=0,Fr=Cr=ar=null,md=!1,e)throw Error(Fe(300));return t}function ig(){var t=Xu!==0;return Xu=0,t}function Hi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?ar.memoizedState=Fr=t:Fr=Fr.next=t,Fr}function pi(){if(Cr===null){var t=ar.alternate;t=t!==null?t.memoizedState:null}else t=Cr.next;var e=Fr===null?ar.memoizedState:Fr.next;if(e!==null)Fr=e,Cr=t;else{if(t===null)throw Error(Fe(310));Cr=t,t={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Fr===null?ar.memoizedState=Fr=t:Fr=Fr.next=t}return Fr}function Qu(t,e){return typeof e=="function"?e(t):e}function mp(t){var e=pi(),r=e.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=t;var n=Cr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,c=o;do{var p=c.lane;if((Ga&p)===p)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=h,a=n):l=l.next=h,ar.lanes|=p,Ka|=p}c=c.next}while(c!==null&&c!==o);l===null?a=n:l.next=s,Ci(n,e.memoizedState)||(Ln=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,ar.lanes|=o,Ka|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function vp(t){var e=pi(),r=e.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Ci(o,e.memoizedState)||(Ln=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function b5(){}function _5(t,e){var r=ar,n=pi(),i=e(),o=!Ci(n.memoizedState,i);if(o&&(n.memoizedState=i,Ln=!0),n=n.queue,og(k5.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Fr!==null&&Fr.memoizedState.tag&1){if(r.flags|=2048,Zu(9,S5.bind(null,r,n,i,e),void 0,null),qr===null)throw Error(Fe(349));Ga&30||x5(r,e,i)}return i}function x5(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ar.updateQueue,e===null?(e={lastEffect:null,stores:null},ar.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function S5(t,e,r,n){e.value=r,e.getSnapshot=n,A5(e)&&N5(t)}function k5(t,e,r){return r(function(){A5(e)&&N5(t)})}function A5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ci(t,r)}catch{return!0}}function N5(t){var e=bo(t,1);e!==null&&ji(e,t,1,-1)}function Jm(t){var e=Hi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:t},e.queue=t,t=t.dispatch=o3.bind(null,ar,t),[e.memoizedState,t]}function Zu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ar.updateQueue,e===null?(e={lastEffect:null,stores:null},ar.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function E5(){return pi().memoizedState}function zf(t,e,r,n){var i=Hi();ar.flags|=t,i.memoizedState=Zu(1|e,r,void 0,n===void 0?null:n)}function Wd(t,e,r,n){var i=pi();n=n===void 0?null:n;var o=void 0;if(Cr!==null){var a=Cr.memoizedState;if(o=a.destroy,n!==null&&rg(n,a.deps)){i.memoizedState=Zu(e,r,o,n);return}}ar.flags|=t,i.memoizedState=Zu(1|e,r,o,n)}function Xm(t,e){return zf(8390656,8,t,e)}function og(t,e){return Wd(2048,8,t,e)}function O5(t,e){return Wd(4,2,t,e)}function L5(t,e){return Wd(4,4,t,e)}function T5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P5(t,e,r){return r=r!=null?r.concat([t]):null,Wd(4,4,T5.bind(null,e,t),r)}function ag(){}function j5(t,e){var r=pi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&rg(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function C5(t,e){var r=pi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&rg(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function R5(t,e,r){return Ga&21?(Ci(r,e)||(r=By(),ar.lanes|=r,Ka|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ln=!0),t.memoizedState=r)}function n3(t,e){var r=Ft;Ft=r!==0&&4>r?r:4,t(!0);var n=gp.transition;gp.transition={};try{t(!1),e()}finally{Ft=r,gp.transition=n}}function I5(){return pi().memoizedState}function i3(t,e,r){var n=oa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},D5(t))M5(e,r);else if(r=v5(t,e,r,n),r!==null){var i=pn();ji(r,t,n,i),F5(r,e,n)}}function o3(t,e,r){var n=oa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(D5(t))M5(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,Ci(s,a)){var l=e.interleaved;l===null?(i.next=i,X1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=v5(t,e,i,n),r!==null&&(i=pn(),ji(r,t,n,i),F5(r,e,n))}}function D5(t){var e=t.alternate;return t===ar||e!==null&&e===ar}function M5(t,e){Pu=md=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function F5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,M1(t,r)}}var vd={readContext:hi,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},a3={readContext:hi,useCallback:function(t,e){return Hi().memoizedState=[t,e===void 0?null:e],t},useContext:hi,useEffect:Xm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zf(4194308,4,T5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zf(4194308,4,t,e)},useInsertionEffect:function(t,e){return zf(4,2,t,e)},useMemo:function(t,e){var r=Hi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Hi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=i3.bind(null,ar,t),[n.memoizedState,t]},useRef:function(t){var e=Hi();return t={current:t},e.memoizedState=t},useState:Jm,useDebugValue:ag,useDeferredValue:function(t){return Hi().memoizedState=t},useTransition:function(){var t=Jm(!1),e=t[0];return t=n3.bind(null,t[1]),Hi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ar,i=Hi();if(tr){if(r===void 0)throw Error(Fe(407));r=r()}else{if(r=e(),qr===null)throw Error(Fe(349));Ga&30||x5(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,Xm(k5.bind(null,n,o,t),[t]),n.flags|=2048,Zu(9,S5.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Hi(),e=qr.identifierPrefix;if(tr){var r=mo,n=go;r=(n&~(1<<32-Pi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Xu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=r3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},s3={readContext:hi,useCallback:j5,useContext:hi,useEffect:og,useImperativeHandle:P5,useInsertionEffect:O5,useLayoutEffect:L5,useMemo:C5,useReducer:mp,useRef:E5,useState:function(){return mp(Qu)},useDebugValue:ag,useDeferredValue:function(t){var e=pi();return R5(e,Cr.memoizedState,t)},useTransition:function(){var t=mp(Qu)[0],e=pi().memoizedState;return[t,e]},useMutableSource:b5,useSyncExternalStore:_5,useId:I5,unstable_isNewReconciler:!1},l3={readContext:hi,useCallback:j5,useContext:hi,useEffect:og,useImperativeHandle:P5,useInsertionEffect:O5,useLayoutEffect:L5,useMemo:C5,useReducer:vp,useRef:E5,useState:function(){return vp(Qu)},useDebugValue:ag,useDeferredValue:function(t){var e=pi();return Cr===null?e.memoizedState=t:R5(e,Cr.memoizedState,t)},useTransition:function(){var t=vp(Qu)[0],e=pi().memoizedState;return[t,e]},useMutableSource:b5,useSyncExternalStore:_5,useId:I5,unstable_isNewReconciler:!1};function Ni(t,e){if(t&&t.defaultProps){e=sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function O0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vd={isMounted:function(t){return(t=t._reactInternals)?Qa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=pn(),i=oa(t),o=vo(n,i);o.payload=e,r!=null&&(o.callback=r),e=na(t,o,i),e!==null&&(ji(e,t,i,n),qf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=pn(),i=oa(t),o=vo(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=na(t,o,i),e!==null&&(ji(e,t,i,n),qf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=pn(),n=oa(t),i=vo(r,n);i.tag=2,e!=null&&(i.callback=e),e=na(t,i,n),e!==null&&(ji(e,t,n,r),qf(e,t,n))}};function Qm(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Wu(r,n)||!Wu(i,o):!0}function B5(t,e,r){var n=!1,i=la,o=e.contextType;return typeof o=="object"&&o!==null?o=hi(o):(i=Pn(e)?Wa:an.current,n=e.contextTypes,o=(n=n!=null)?ll(t,i):la),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Zm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Vd.enqueueReplaceState(e,e.state,null)}function L0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Q1(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=hi(o):(o=Pn(e)?Wa:an.current,i.context=ll(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(O0(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vd.enqueueReplaceState(i,i.state,null),pd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dl(t,e){try{var r="",n=e;do r+=D4(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function yp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function T0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var u3=typeof WeakMap=="function"?WeakMap:Map;function q5(t,e,r){r=vo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){wd||(wd=!0,q0=n),T0(t,e)},r}function U5(t,e,r){r=vo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){T0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){T0(t,e),typeof n!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function ev(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new u3;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=S3.bind(null,t,e,r),e.then(t,t))}function tv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rv(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vo(-1,1),e.tag=2,na(r,e,1))),r.lanes|=1),t)}var c3=So.ReactCurrentOwner,Ln=!1;function dn(t,e,r,n){e.child=t===null?m5(e,null,r,n):cl(e,t.child,r,n)}function nv(t,e,r,n,i){r=r.render;var o=e.ref;return el(e,i),n=ng(t,e,r,n,o,i),r=ig(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_o(t,e,i)):(tr&&r&&W1(e),e.flags|=1,dn(t,e,n,i),e.child)}function iv(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!pg(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,z5(t,e,o,n,i)):(t=Vf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Wu,r(a,n)&&t.ref===e.ref)return _o(t,e,i)}return e.flags|=1,t=aa(o,n),t.ref=e.ref,t.return=e,e.child=t}function z5(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(Wu(o,n)&&t.ref===e.ref)if(Ln=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(Ln=!0);else return e.lanes=t.lanes,_o(t,e,i)}return P0(t,e,r,n,i)}function $5(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Ks,Hn),Hn|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Kt(Ks,Hn),Hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Kt(Ks,Hn),Hn|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Kt(Ks,Hn),Hn|=n;return dn(t,e,i,r),e.child}function H5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function P0(t,e,r,n,i){var o=Pn(r)?Wa:an.current;return o=ll(e,o),el(e,i),r=ng(t,e,r,n,o,i),n=ig(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_o(t,e,i)):(tr&&n&&W1(e),e.flags|=1,dn(t,e,r,i),e.child)}function ov(t,e,r,n,i){if(Pn(r)){var o=!0;ud(e)}else o=!1;if(el(e,i),e.stateNode===null)$f(t,e),B5(e,r,n),L0(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=hi(c):(c=Pn(r)?Wa:an.current,c=ll(e,c));var p=r.getDerivedStateFromProps,h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==c)&&Zm(e,a,n,c),Vo=!1;var f=e.memoizedState;a.state=f,pd(e,n,a,i),l=e.memoizedState,s!==n||f!==l||Tn.current||Vo?(typeof p=="function"&&(O0(e,r,p,n),l=e.memoizedState),(s=Vo||Qm(e,r,s,n,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,y5(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Ni(e.type,s),a.props=c,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=hi(l):(l=Pn(r)?Wa:an.current,l=ll(e,l));var u=r.getDerivedStateFromProps;(p=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||f!==l)&&Zm(e,a,n,l),Vo=!1,f=e.memoizedState,a.state=f,pd(e,n,a,i);var y=e.memoizedState;s!==h||f!==y||Tn.current||Vo?(typeof u=="function"&&(O0(e,r,u,n),y=e.memoizedState),(c=Vo||Qm(e,r,c,n,f,y,l)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),a.props=n,a.state=y,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return j0(t,e,r,n,o,i)}function j0(t,e,r,n,i,o){H5(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&Hm(e,r,!1),_o(t,e,o);n=e.stateNode,c3.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=cl(e,t.child,null,o),e.child=cl(e,null,s,o)):dn(t,e,s,o),e.memoizedState=n.state,i&&Hm(e,r,!0),e.child}function W5(t){var e=t.stateNode;e.pendingContext?$m(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$m(t,e.context,!1),Z1(t,e.containerInfo)}function av(t,e,r,n,i){return ul(),G1(i),e.flags|=256,dn(t,e,r,n),e.child}var C0={dehydrated:null,treeContext:null,retryLane:0};function R0(t){return{baseLanes:t,cachePool:null,transitions:null}}function V5(t,e,r){var n=e.pendingProps,i=or.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Kt(or,i&1),t===null)return N0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Yd(a,n,0,null),t=$a(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=R0(r),e.memoizedState=C0,t):sg(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return f3(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=aa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=aa(s,o):(o=$a(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?R0(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=C0,n}return o=t.child,t=o.sibling,n=aa(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function sg(t,e){return e=Yd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pf(t,e,r,n){return n!==null&&G1(n),cl(e,t.child,null,r),t=sg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function f3(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=yp(Error(Fe(422))),pf(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Yd({mode:"visible",children:n.children},i,0,null),o=$a(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&cl(e,t.child,null,a),e.child.memoizedState=R0(a),e.memoizedState=C0,o);if(!(e.mode&1))return pf(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(Fe(419)),n=yp(o,n,void 0),pf(t,e,a,n)}if(s=(a&t.childLanes)!==0,Ln||s){if(n=qr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,bo(t,i),ji(n,t,i,-1))}return hg(),n=yp(Error(Fe(421))),pf(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=k3.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Kn=ra(i.nextSibling),Jn=e,tr=!0,Ti=null,t!==null&&(ui[ci++]=go,ui[ci++]=mo,ui[ci++]=Va,go=t.id,mo=t.overflow,Va=e),e=sg(e,n.children),e.flags|=4096,e)}function sv(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),E0(t.return,e,r)}function wp(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function G5(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(dn(t,e,n.children,r),n=or.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sv(t,r,e);else if(t.tag===19)sv(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Kt(or,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&gd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),wp(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}wp(e,!0,r,null,o);break;case"together":wp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _o(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ka|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Fe(153));if(e.child!==null){for(t=e.child,r=aa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=aa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function d3(t,e,r){switch(e.tag){case 3:W5(e),ul();break;case 5:w5(e);break;case 1:Pn(e.type)&&ud(e);break;case 4:Z1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Kt(dd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Kt(or,or.current&1),e.flags|=128,null):r&e.child.childLanes?V5(t,e,r):(Kt(or,or.current&1),t=_o(t,e,r),t!==null?t.sibling:null);Kt(or,or.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return G5(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kt(or,or.current),n)break;return null;case 22:case 23:return e.lanes=0,$5(t,e,r)}return _o(t,e,r)}var K5,I0,Y5,J5;K5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};I0=function(){};Y5=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,qa(Ki.current);var o=null;switch(r){case"input":i=n0(t,i),n=n0(t,n),o=[];break;case"select":i=sr({},i,{value:void 0}),n=sr({},n,{value:void 0}),o=[];break;case"textarea":i=a0(t,i),n=a0(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=sd)}l0(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fu.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Yt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};J5=function(t,e,r,n){r!==n&&(e.flags|=4)};function lu(t,e){if(!tr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function h3(t,e,r){var n=e.pendingProps;switch(V1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(e),null;case 1:return Pn(e.type)&&ld(),Qr(e),null;case 3:return n=e.stateNode,fl(),Qt(Tn),Qt(an),tg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(df(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ti!==null&&($0(Ti),Ti=null))),I0(t,e),Qr(e),null;case 5:eg(e);var i=qa(Ju.current);if(r=e.type,t!==null&&e.stateNode!=null)Y5(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Fe(166));return Qr(e),null}if(t=qa(Ki.current),df(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Wi]=e,n[Ku]=o,t=(e.mode&1)!==0,r){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(i=0;i<ku.length;i++)Yt(ku[i],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":mm(n,o),Yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Yt("invalid",n);break;case"textarea":ym(n,o),Yt("invalid",n)}l0(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&ff(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&ff(n.textContent,s,t),i=["children",""+s]):Fu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Yt("scroll",n)}switch(r){case"input":rf(n),vm(n,o,!0);break;case"textarea":rf(n),wm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=sd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ky(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Wi]=e,t[Ku]=n,K5(t,e,!1,!1),e.stateNode=t;e:{switch(a=u0(r,n),r){case"dialog":Yt("cancel",t),Yt("close",t),i=n;break;case"iframe":case"object":case"embed":Yt("load",t),i=n;break;case"video":case"audio":for(i=0;i<ku.length;i++)Yt(ku[i],t);i=n;break;case"source":Yt("error",t),i=n;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),i=n;break;case"details":Yt("toggle",t),i=n;break;case"input":mm(t,n),i=n0(t,n),Yt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=sr({},n,{value:void 0}),Yt("invalid",t);break;case"textarea":ym(t,n),i=a0(t,n),Yt("invalid",t);break;default:i=n}l0(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Ey(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ay(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Bu(t,l):typeof l=="number"&&Bu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Yt("scroll",t):l!=null&&P1(t,o,l,a))}switch(r){case"input":rf(t),vm(t,n,!1);break;case"textarea":rf(t),wm(t);break;case"option":n.value!=null&&t.setAttribute("value",""+sa(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Js(t,!!n.multiple,o,!1):n.defaultValue!=null&&Js(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qr(e),null;case 6:if(t&&e.stateNode!=null)J5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Fe(166));if(r=qa(Ju.current),qa(Ki.current),df(e)){if(n=e.stateNode,r=e.memoizedProps,n[Wi]=e,(o=n.nodeValue!==r)&&(t=Jn,t!==null))switch(t.tag){case 3:ff(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ff(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wi]=e,e.stateNode=n}return Qr(e),null;case 13:if(Qt(or),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tr&&Kn!==null&&e.mode&1&&!(e.flags&128))p5(),ul(),e.flags|=98560,o=!1;else if(o=df(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(Fe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Fe(317));o[Wi]=e}else ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qr(e),o=!1}else Ti!==null&&($0(Ti),Ti=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||or.current&1?Rr===0&&(Rr=3):hg())),e.updateQueue!==null&&(e.flags|=4),Qr(e),null);case 4:return fl(),I0(t,e),t===null&&Vu(e.stateNode.containerInfo),Qr(e),null;case 10:return J1(e.type._context),Qr(e),null;case 17:return Pn(e.type)&&ld(),Qr(e),null;case 19:if(Qt(or),o=e.memoizedState,o===null)return Qr(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)lu(o,!1);else{if(Rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=gd(t),a!==null){for(e.flags|=128,lu(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Kt(or,or.current&1|2),e.child}t=t.sibling}o.tail!==null&&_r()>hl&&(e.flags|=128,n=!0,lu(o,!1),e.lanes=4194304)}else{if(!n)if(t=gd(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),lu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!tr)return Qr(e),null}else 2*_r()-o.renderingStartTime>hl&&r!==1073741824&&(e.flags|=128,n=!0,lu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_r(),e.sibling=null,r=or.current,Kt(or,n?r&1|2:r&1),e):(Qr(e),null);case 22:case 23:return dg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Hn&1073741824&&(Qr(e),e.subtreeFlags&6&&(e.flags|=8192)):Qr(e),null;case 24:return null;case 25:return null}throw Error(Fe(156,e.tag))}function p3(t,e){switch(V1(e),e.tag){case 1:return Pn(e.type)&&ld(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fl(),Qt(Tn),Qt(an),tg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eg(e),null;case 13:if(Qt(or),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qt(or),null;case 4:return fl(),null;case 10:return J1(e.type._context),null;case 22:case 23:return dg(),null;case 24:return null;default:return null}}var gf=!1,nn=!1,g3=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Gs(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dr(t,e,n)}else r.current=null}function D0(t,e,r){try{r()}catch(n){dr(t,e,n)}}var lv=!1;function m3(t,e){if(w0=id,t=t5(),H1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,c=0,p=0,h=t,f=null;t:for(;;){for(var u;h!==r||i!==0&&h.nodeType!==3||(s=a+i),h!==o||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(u=h.firstChild)!==null;)f=h,h=u;for(;;){if(h===t)break t;if(f===r&&++c===i&&(s=a),f===o&&++p===n&&(l=a),(u=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=u}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(b0={focusedElem:t,selectionRange:r},id=!1,Je=e;Je!==null;)if(e=Je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Je=t;else for(;Je!==null;){e=Je;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,b=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ni(e.type,v),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(x){dr(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}return y=lv,lv=!1,y}function ju(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&D0(e,r,o)}i=i.next}while(i!==n)}}function Gd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function M0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function X5(t){var e=t.alternate;e!==null&&(t.alternate=null,X5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wi],delete e[Ku],delete e[S0],delete e[Qx],delete e[Zx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Q5(t){return t.tag===5||t.tag===3||t.tag===4}function uv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function F0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=sd));else if(n!==4&&(t=t.child,t!==null))for(F0(t,e,r),t=t.sibling;t!==null;)F0(t,e,r),t=t.sibling}function B0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(B0(t,e,r),t=t.sibling;t!==null;)B0(t,e,r),t=t.sibling}var Hr=null,Li=!1;function Bo(t,e,r){for(r=r.child;r!==null;)Z5(t,e,r),r=r.sibling}function Z5(t,e,r){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(Bd,r)}catch{}switch(r.tag){case 5:nn||Gs(r,e);case 6:var n=Hr,i=Li;Hr=null,Bo(t,e,r),Hr=n,Li=i,Hr!==null&&(Li?(t=Hr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Hr.removeChild(r.stateNode));break;case 18:Hr!==null&&(Li?(t=Hr,r=r.stateNode,t.nodeType===8?dp(t.parentNode,r):t.nodeType===1&&dp(t,r),$u(t)):dp(Hr,r.stateNode));break;case 4:n=Hr,i=Li,Hr=r.stateNode.containerInfo,Li=!0,Bo(t,e,r),Hr=n,Li=i;break;case 0:case 11:case 14:case 15:if(!nn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&D0(r,e,a),i=i.next}while(i!==n)}Bo(t,e,r);break;case 1:if(!nn&&(Gs(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){dr(r,e,s)}Bo(t,e,r);break;case 21:Bo(t,e,r);break;case 22:r.mode&1?(nn=(n=nn)||r.memoizedState!==null,Bo(t,e,r),nn=n):Bo(t,e,r);break;default:Bo(t,e,r)}}function cv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new g3),e.forEach(function(n){var i=A3.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function _i(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Hr=s.stateNode,Li=!1;break e;case 3:Hr=s.stateNode.containerInfo,Li=!0;break e;case 4:Hr=s.stateNode.containerInfo,Li=!0;break e}s=s.return}if(Hr===null)throw Error(Fe(160));Z5(o,a,i),Hr=null,Li=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ew(e,t),e=e.sibling}function ew(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_i(e,t),Ui(t),n&4){try{ju(3,t,t.return),Gd(3,t)}catch(v){dr(t,t.return,v)}try{ju(5,t,t.return)}catch(v){dr(t,t.return,v)}}break;case 1:_i(e,t),Ui(t),n&512&&r!==null&&Gs(r,r.return);break;case 5:if(_i(e,t),Ui(t),n&512&&r!==null&&Gs(r,r.return),t.flags&32){var i=t.stateNode;try{Bu(i,"")}catch(v){dr(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&xy(i,o),u0(s,a);var c=u0(s,o);for(a=0;a<l.length;a+=2){var p=l[a],h=l[a+1];p==="style"?Ey(i,h):p==="dangerouslySetInnerHTML"?Ay(i,h):p==="children"?Bu(i,h):P1(i,p,h,c)}switch(s){case"input":i0(i,o);break;case"textarea":Sy(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var u=o.value;u!=null?Js(i,!!o.multiple,u,!1):f!==!!o.multiple&&(o.defaultValue!=null?Js(i,!!o.multiple,o.defaultValue,!0):Js(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ku]=o}catch(v){dr(t,t.return,v)}}break;case 6:if(_i(e,t),Ui(t),n&4){if(t.stateNode===null)throw Error(Fe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){dr(t,t.return,v)}}break;case 3:if(_i(e,t),Ui(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$u(e.containerInfo)}catch(v){dr(t,t.return,v)}break;case 4:_i(e,t),Ui(t);break;case 13:_i(e,t),Ui(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(cg=_r())),n&4&&cv(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(nn=(c=nn)||p,_i(e,t),nn=c):_i(e,t),Ui(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!p&&t.mode&1)for(Je=t,p=t.child;p!==null;){for(h=Je=p;Je!==null;){switch(f=Je,u=f.child,f.tag){case 0:case 11:case 14:case 15:ju(4,f,f.return);break;case 1:Gs(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){dr(n,r,v)}}break;case 5:Gs(f,f.return);break;case 22:if(f.memoizedState!==null){dv(h);continue}}u!==null?(u.return=f,Je=u):dv(h)}p=p.sibling}e:for(p=null,h=t;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Ny("display",a))}catch(v){dr(t,t.return,v)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){dr(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_i(e,t),Ui(t),n&4&&cv(t);break;case 21:break;default:_i(e,t),Ui(t)}}function Ui(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Q5(r)){var n=r;break e}r=r.return}throw Error(Fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bu(i,""),n.flags&=-33);var o=uv(t);B0(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=uv(t);F0(t,s,a);break;default:throw Error(Fe(161))}}catch(l){dr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v3(t,e,r){Je=t,tw(t)}function tw(t,e,r){for(var n=(t.mode&1)!==0;Je!==null;){var i=Je,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||gf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||nn;s=gf;var c=nn;if(gf=a,(nn=l)&&!c)for(Je=i;Je!==null;)a=Je,l=a.child,a.tag===22&&a.memoizedState!==null?hv(i):l!==null?(l.return=a,Je=l):hv(i);for(;o!==null;)Je=o,tw(o),o=o.sibling;Je=i,gf=s,nn=c}fv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Je=o):fv(t)}}function fv(t){for(;Je!==null;){var e=Je;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Gd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!nn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ni(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ym(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ym(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&$u(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}nn||e.flags&512&&M0(e)}catch(f){dr(e,e.return,f)}}if(e===t){Je=null;break}if(r=e.sibling,r!==null){r.return=e.return,Je=r;break}Je=e.return}}function dv(t){for(;Je!==null;){var e=Je;if(e===t){Je=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Je=r;break}Je=e.return}}function hv(t){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Gd(4,e)}catch(l){dr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){dr(e,i,l)}}var o=e.return;try{M0(e)}catch(l){dr(e,o,l)}break;case 5:var a=e.return;try{M0(e)}catch(l){dr(e,a,l)}}}catch(l){dr(e,e.return,l)}if(e===t){Je=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Je=s;break}Je=e.return}}var y3=Math.ceil,yd=So.ReactCurrentDispatcher,lg=So.ReactCurrentOwner,di=So.ReactCurrentBatchConfig,Lt=0,qr=null,Tr=null,Wr=0,Hn=0,Ks=da(0),Rr=0,ec=null,Ka=0,Kd=0,ug=0,Cu=null,On=null,cg=0,hl=1/0,fo=null,wd=!1,q0=null,ia=null,mf=!1,Xo=null,bd=0,Ru=0,U0=null,Hf=-1,Wf=0;function pn(){return Lt&6?_r():Hf!==-1?Hf:Hf=_r()}function oa(t){return t.mode&1?Lt&2&&Wr!==0?Wr&-Wr:t3.transition!==null?(Wf===0&&(Wf=By()),Wf):(t=Ft,t!==0||(t=window.event,t=t===void 0?16:Vy(t.type)),t):1}function ji(t,e,r,n){if(50<Ru)throw Ru=0,U0=null,Error(Fe(185));sc(t,r,n),(!(Lt&2)||t!==qr)&&(t===qr&&(!(Lt&2)&&(Kd|=r),Rr===4&&Ko(t,Wr)),jn(t,n),r===1&&Lt===0&&!(e.mode&1)&&(hl=_r()+500,Hd&&ha()))}function jn(t,e){var r=t.callbackNode;tx(t,e);var n=nd(t,t===qr?Wr:0);if(n===0)r!==null&&xm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&xm(r),e===1)t.tag===0?e3(pv.bind(null,t)):f5(pv.bind(null,t)),Jx(function(){!(Lt&6)&&ha()}),r=null;else{switch(qy(n)){case 1:r=D1;break;case 4:r=My;break;case 16:r=rd;break;case 536870912:r=Fy;break;default:r=rd}r=uw(r,rw.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function rw(t,e){if(Hf=-1,Wf=0,Lt&6)throw Error(Fe(327));var r=t.callbackNode;if(tl()&&t.callbackNode!==r)return null;var n=nd(t,t===qr?Wr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=_d(t,n);else{e=n;var i=Lt;Lt|=2;var o=iw();(qr!==t||Wr!==e)&&(fo=null,hl=_r()+500,za(t,e));do try{_3();break}catch(s){nw(t,s)}while(!0);Y1(),yd.current=o,Lt=i,Tr!==null?e=0:(qr=null,Wr=0,e=Rr)}if(e!==0){if(e===2&&(i=p0(t),i!==0&&(n=i,e=z0(t,i))),e===1)throw r=ec,za(t,0),Ko(t,n),jn(t,_r()),r;if(e===6)Ko(t,n);else{if(i=t.current.alternate,!(n&30)&&!w3(i)&&(e=_d(t,n),e===2&&(o=p0(t),o!==0&&(n=o,e=z0(t,o))),e===1))throw r=ec,za(t,0),Ko(t,n),jn(t,_r()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Fe(345));case 2:La(t,On,fo);break;case 3:if(Ko(t,n),(n&130023424)===n&&(e=cg+500-_r(),10<e)){if(nd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=x0(La.bind(null,t,On,fo),e);break}La(t,On,fo);break;case 4:if(Ko(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Pi(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=_r()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*y3(n/1960))-n,10<n){t.timeoutHandle=x0(La.bind(null,t,On,fo),n);break}La(t,On,fo);break;case 5:La(t,On,fo);break;default:throw Error(Fe(329))}}}return jn(t,_r()),t.callbackNode===r?rw.bind(null,t):null}function z0(t,e){var r=Cu;return t.current.memoizedState.isDehydrated&&(za(t,e).flags|=256),t=_d(t,e),t!==2&&(e=On,On=r,e!==null&&$0(e)),t}function $0(t){On===null?On=t:On.push.apply(On,t)}function w3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Ci(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ko(t,e){for(e&=~ug,e&=~Kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Pi(e),n=1<<r;t[r]=-1,e&=~n}}function pv(t){if(Lt&6)throw Error(Fe(327));tl();var e=nd(t,0);if(!(e&1))return jn(t,_r()),null;var r=_d(t,e);if(t.tag!==0&&r===2){var n=p0(t);n!==0&&(e=n,r=z0(t,n))}if(r===1)throw r=ec,za(t,0),Ko(t,e),jn(t,_r()),r;if(r===6)throw Error(Fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,La(t,On,fo),jn(t,_r()),null}function fg(t,e){var r=Lt;Lt|=1;try{return t(e)}finally{Lt=r,Lt===0&&(hl=_r()+500,Hd&&ha())}}function Ya(t){Xo!==null&&Xo.tag===0&&!(Lt&6)&&tl();var e=Lt;Lt|=1;var r=di.transition,n=Ft;try{if(di.transition=null,Ft=1,t)return t()}finally{Ft=n,di.transition=r,Lt=e,!(Lt&6)&&ha()}}function dg(){Hn=Ks.current,Qt(Ks)}function za(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Yx(r)),Tr!==null)for(r=Tr.return;r!==null;){var n=r;switch(V1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ld();break;case 3:fl(),Qt(Tn),Qt(an),tg();break;case 5:eg(n);break;case 4:fl();break;case 13:Qt(or);break;case 19:Qt(or);break;case 10:J1(n.type._context);break;case 22:case 23:dg()}r=r.return}if(qr=t,Tr=t=aa(t.current,null),Wr=Hn=e,Rr=0,ec=null,ug=Kd=Ka=0,On=Cu=null,Ba!==null){for(e=0;e<Ba.length;e++)if(r=Ba[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}Ba=null}return t}function nw(t,e){do{var r=Tr;try{if(Y1(),Uf.current=vd,md){for(var n=ar.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}md=!1}if(Ga=0,Fr=Cr=ar=null,Pu=!1,Xu=0,lg.current=null,r===null||r.return===null){Rr=1,ec=e,Tr=null;break}e:{var o=t,a=r.return,s=r,l=e;if(e=Wr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,p=s,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var u=tv(a);if(u!==null){u.flags&=-257,rv(u,a,s,o,e),u.mode&1&&ev(o,c,e),e=u,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){ev(o,c,e),hg();break e}l=Error(Fe(426))}}else if(tr&&s.mode&1){var b=tv(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),rv(b,a,s,o,e),G1(dl(l,s));break e}}o=l=dl(l,s),Rr!==4&&(Rr=2),Cu===null?Cu=[o]:Cu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=q5(o,l,e);Km(o,g);break e;case 1:s=l;var m=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ia===null||!ia.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=U5(o,s,e);Km(o,x);break e}}o=o.return}while(o!==null)}aw(r)}catch(A){e=A,Tr===r&&r!==null&&(Tr=r=r.return);continue}break}while(!0)}function iw(){var t=yd.current;return yd.current=vd,t===null?vd:t}function hg(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),qr===null||!(Ka&268435455)&&!(Kd&268435455)||Ko(qr,Wr)}function _d(t,e){var r=Lt;Lt|=2;var n=iw();(qr!==t||Wr!==e)&&(fo=null,za(t,e));do try{b3();break}catch(i){nw(t,i)}while(!0);if(Y1(),Lt=r,yd.current=n,Tr!==null)throw Error(Fe(261));return qr=null,Wr=0,Rr}function b3(){for(;Tr!==null;)ow(Tr)}function _3(){for(;Tr!==null&&!V4();)ow(Tr)}function ow(t){var e=lw(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?aw(t):Tr=e,lg.current=null}function aw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=p3(r,e),r!==null){r.flags&=32767,Tr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rr=6,Tr=null;return}}else if(r=h3(r,e,Hn),r!==null){Tr=r;return}if(e=e.sibling,e!==null){Tr=e;return}Tr=e=t}while(e!==null);Rr===0&&(Rr=5)}function La(t,e,r){var n=Ft,i=di.transition;try{di.transition=null,Ft=1,x3(t,e,r,n)}finally{di.transition=i,Ft=n}return null}function x3(t,e,r,n){do tl();while(Xo!==null);if(Lt&6)throw Error(Fe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Fe(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(rx(t,o),t===qr&&(Tr=qr=null,Wr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mf||(mf=!0,uw(rd,function(){return tl(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=di.transition,di.transition=null;var a=Ft;Ft=1;var s=Lt;Lt|=4,lg.current=null,m3(t,r),ew(r,t),zx(b0),id=!!w0,b0=w0=null,t.current=r,v3(r),G4(),Lt=s,Ft=a,di.transition=o}else t.current=r;if(mf&&(mf=!1,Xo=t,bd=i),o=t.pendingLanes,o===0&&(ia=null),J4(r.stateNode),jn(t,_r()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(wd)throw wd=!1,t=q0,q0=null,t;return bd&1&&t.tag!==0&&tl(),o=t.pendingLanes,o&1?t===U0?Ru++:(Ru=0,U0=t):Ru=0,ha(),null}function tl(){if(Xo!==null){var t=qy(bd),e=di.transition,r=Ft;try{if(di.transition=null,Ft=16>t?16:t,Xo===null)var n=!1;else{if(t=Xo,Xo=null,bd=0,Lt&6)throw Error(Fe(331));var i=Lt;for(Lt|=4,Je=t.current;Je!==null;){var o=Je,a=o.child;if(Je.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Je=c;Je!==null;){var p=Je;switch(p.tag){case 0:case 11:case 15:ju(8,p,o)}var h=p.child;if(h!==null)h.return=p,Je=h;else for(;Je!==null;){p=Je;var f=p.sibling,u=p.return;if(X5(p),p===c){Je=null;break}if(f!==null){f.return=u,Je=f;break}Je=u}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Je=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Je=a;else e:for(;Je!==null;){if(o=Je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ju(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Je=g;break e}Je=o.return}}var m=t.current;for(Je=m;Je!==null;){a=Je;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Je=_;else e:for(a=m;Je!==null;){if(s=Je,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Gd(9,s)}}catch(A){dr(s,s.return,A)}if(s===a){Je=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,Je=x;break e}Je=s.return}}if(Lt=i,ha(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(Bd,t)}catch{}n=!0}return n}finally{Ft=r,di.transition=e}}return!1}function gv(t,e,r){e=dl(r,e),e=q5(t,e,1),t=na(t,e,1),e=pn(),t!==null&&(sc(t,1,e),jn(t,e))}function dr(t,e,r){if(t.tag===3)gv(t,t,r);else for(;e!==null;){if(e.tag===3){gv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ia===null||!ia.has(n))){t=dl(r,t),t=U5(e,t,1),e=na(e,t,1),t=pn(),e!==null&&(sc(e,1,t),jn(e,t));break}}e=e.return}}function S3(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&r,qr===t&&(Wr&r)===r&&(Rr===4||Rr===3&&(Wr&130023424)===Wr&&500>_r()-cg?za(t,0):ug|=r),jn(t,e)}function sw(t,e){e===0&&(t.mode&1?(e=af,af<<=1,!(af&130023424)&&(af=4194304)):e=1);var r=pn();t=bo(t,e),t!==null&&(sc(t,e,r),jn(t,r))}function k3(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),sw(t,r)}function A3(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Fe(314))}n!==null&&n.delete(e),sw(t,r)}var lw;lw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)Ln=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ln=!1,d3(t,e,r);Ln=!!(t.flags&131072)}else Ln=!1,tr&&e.flags&1048576&&d5(e,fd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;$f(t,e),t=e.pendingProps;var i=ll(e,an.current);el(e,r),i=ng(null,e,n,t,i,r);var o=ig();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(n)?(o=!0,ud(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Q1(e),i.updater=Vd,e.stateNode=i,i._reactInternals=e,L0(e,n,t,r),e=j0(null,e,n,!0,o,r)):(e.tag=0,tr&&o&&W1(e),dn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch($f(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=E3(n),t=Ni(n,t),i){case 0:e=P0(null,e,n,t,r);break e;case 1:e=ov(null,e,n,t,r);break e;case 11:e=nv(null,e,n,t,r);break e;case 14:e=iv(null,e,n,Ni(n.type,t),r);break e}throw Error(Fe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),P0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),ov(t,e,n,i,r);case 3:e:{if(W5(e),t===null)throw Error(Fe(387));n=e.pendingProps,o=e.memoizedState,i=o.element,y5(t,e),pd(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=dl(Error(Fe(423)),e),e=av(t,e,n,r,i);break e}else if(n!==i){i=dl(Error(Fe(424)),e),e=av(t,e,n,r,i);break e}else for(Kn=ra(e.stateNode.containerInfo.firstChild),Jn=e,tr=!0,Ti=null,r=m5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ul(),n===i){e=_o(t,e,r);break e}dn(t,e,n,r)}e=e.child}return e;case 5:return w5(e),t===null&&N0(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,_0(n,i)?a=null:o!==null&&_0(n,o)&&(e.flags|=32),H5(t,e),dn(t,e,a,r),e.child;case 6:return t===null&&N0(e),null;case 13:return V5(t,e,r);case 4:return Z1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=cl(e,null,n,r):dn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),nv(t,e,n,i,r);case 7:return dn(t,e,e.pendingProps,r),e.child;case 8:return dn(t,e,e.pendingProps.children,r),e.child;case 12:return dn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Kt(dd,n._currentValue),n._currentValue=a,o!==null)if(Ci(o.value,a)){if(o.children===i.children&&!Tn.current){e=_o(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=vo(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?l.next=l:(l.next=p.next,p.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),E0(o.return,r,e),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Fe(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),E0(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}dn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,el(e,r),i=hi(i),n=n(i),e.flags|=1,dn(t,e,n,r),e.child;case 14:return n=e.type,i=Ni(n,e.pendingProps),i=Ni(n.type,i),iv(t,e,n,i,r);case 15:return z5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),$f(t,e),e.tag=1,Pn(n)?(t=!0,ud(e)):t=!1,el(e,r),B5(e,n,i),L0(e,n,i,r),j0(null,e,n,!0,t,r);case 19:return G5(t,e,r);case 22:return $5(t,e,r)}throw Error(Fe(156,e.tag))};function uw(t,e){return Dy(t,e)}function N3(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(t,e,r,n){return new N3(t,e,r,n)}function pg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E3(t){if(typeof t=="function")return pg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===C1)return 11;if(t===R1)return 14}return 2}function aa(t,e){var r=t.alternate;return r===null?(r=fi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Vf(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")pg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Fs:return $a(r.children,i,o,e);case j1:a=8,i|=8;break;case Zp:return t=fi(12,r,e,i|2),t.elementType=Zp,t.lanes=o,t;case e0:return t=fi(13,r,e,i),t.elementType=e0,t.lanes=o,t;case t0:return t=fi(19,r,e,i),t.elementType=t0,t.lanes=o,t;case wy:return Yd(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vy:a=10;break e;case yy:a=9;break e;case C1:a=11;break e;case R1:a=14;break e;case Wo:a=16,n=null;break e}throw Error(Fe(130,t==null?t:typeof t,""))}return e=fi(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function $a(t,e,r,n){return t=fi(7,t,n,e),t.lanes=r,t}function Yd(t,e,r,n){return t=fi(22,t,n,e),t.elementType=wy,t.lanes=r,t.stateNode={isHidden:!1},t}function bp(t,e,r){return t=fi(6,t,null,e),t.lanes=r,t}function _p(t,e,r){return e=fi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function O3(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tp(0),this.expirationTimes=tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gg(t,e,r,n,i,o,a,s,l){return t=new O3(t,e,r,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=fi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Q1(o),t}function L3(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function cw(t){if(!t)return la;t=t._reactInternals;e:{if(Qa(t)!==t||t.tag!==1)throw Error(Fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Fe(171))}if(t.tag===1){var r=t.type;if(Pn(r))return c5(t,r,e)}return e}function fw(t,e,r,n,i,o,a,s,l){return t=gg(r,n,!0,t,i,o,a,s,l),t.context=cw(null),r=t.current,n=pn(),i=oa(r),o=vo(n,i),o.callback=e??null,na(r,o,i),t.current.lanes=i,sc(t,i,n),jn(t,n),t}function Jd(t,e,r,n){var i=e.current,o=pn(),a=oa(i);return r=cw(r),e.context===null?e.context=r:e.pendingContext=r,e=vo(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=na(i,e,a),t!==null&&(ji(t,i,a,o),qf(t,i,a)),a}function xd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function mg(t,e){mv(t,e),(t=t.alternate)&&mv(t,e)}function T3(){return null}var dw=typeof reportError=="function"?reportError:function(t){console.error(t)};function vg(t){this._internalRoot=t}Xd.prototype.render=vg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Fe(409));Jd(t,e,null,null)};Xd.prototype.unmount=vg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ya(function(){Jd(null,t,null,null)}),e[wo]=null}};function Xd(t){this._internalRoot=t}Xd.prototype.unstable_scheduleHydration=function(t){if(t){var e=$y();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Go.length&&e!==0&&e<Go[r].priority;r++);Go.splice(r,0,t),r===0&&Wy(t)}};function yg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vv(){}function P3(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=xd(a);o.call(c)}}var a=fw(e,n,t,0,null,!1,!1,"",vv);return t._reactRootContainer=a,t[wo]=a.current,Vu(t.nodeType===8?t.parentNode:t),Ya(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=xd(l);s.call(c)}}var l=gg(t,0,!1,null,null,!1,!1,"",vv);return t._reactRootContainer=l,t[wo]=l.current,Vu(t.nodeType===8?t.parentNode:t),Ya(function(){Jd(e,l,r,n)}),l}function Zd(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=xd(a);s.call(l)}}Jd(e,a,t,i)}else a=P3(r,e,t,i,n);return xd(a)}Uy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Su(e.pendingLanes);r!==0&&(M1(e,r|1),jn(e,_r()),!(Lt&6)&&(hl=_r()+500,ha()))}break;case 13:Ya(function(){var n=bo(t,1);if(n!==null){var i=pn();ji(n,t,1,i)}}),mg(t,1)}};F1=function(t){if(t.tag===13){var e=bo(t,134217728);if(e!==null){var r=pn();ji(e,t,134217728,r)}mg(t,134217728)}};zy=function(t){if(t.tag===13){var e=oa(t),r=bo(t,e);if(r!==null){var n=pn();ji(r,t,e,n)}mg(t,e)}};$y=function(){return Ft};Hy=function(t,e){var r=Ft;try{return Ft=t,e()}finally{Ft=r}};f0=function(t,e,r){switch(e){case"input":if(i0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=$d(n);if(!i)throw Error(Fe(90));_y(n),i0(n,i)}}}break;case"textarea":Sy(t,r);break;case"select":e=r.value,e!=null&&Js(t,!!r.multiple,e,!1)}};Ty=fg;Py=Ya;var j3={usingClientEntryPoint:!1,Events:[uc,zs,$d,Oy,Ly,fg]},uu={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C3={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:So.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ry(t),t===null?null:t.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||T3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{Bd=vf.inject(C3),Gi=vf}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j3;Qn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yg(e))throw Error(Fe(200));return L3(t,e,null,r)};Qn.createRoot=function(t,e){if(!yg(t))throw Error(Fe(299));var r=!1,n="",i=dw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gg(t,1,!1,null,null,r,!1,n,i),t[wo]=e.current,Vu(t.nodeType===8?t.parentNode:t),new vg(e)};Qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Fe(188)):(t=Object.keys(t).join(","),Error(Fe(268,t)));return t=Ry(e),t=t===null?null:t.stateNode,t};Qn.flushSync=function(t){return Ya(t)};Qn.hydrate=function(t,e,r){if(!Qd(e))throw Error(Fe(200));return Zd(null,t,e,!0,r)};Qn.hydrateRoot=function(t,e,r){if(!yg(t))throw Error(Fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=dw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=fw(e,null,t,1,r??null,i,!1,o,a),t[wo]=e.current,Vu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Xd(e)};Qn.render=function(t,e,r){if(!Qd(e))throw Error(Fe(200));return Zd(null,t,e,!1,r)};Qn.unmountComponentAtNode=function(t){if(!Qd(t))throw Error(Fe(40));return t._reactRootContainer?(Ya(function(){Zd(null,null,t,!1,function(){t._reactRootContainer=null,t[wo]=null})}),!0):!1};Qn.unstable_batchedUpdates=fg;Qn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Qd(r))throw Error(Fe(200));if(t==null||t._reactInternals===void 0)throw Error(Fe(38));return Zd(t,e,r,!1,n)};Qn.version="18.3.1-next-f1338f8080-20240426";function hw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hw)}catch(t){console.error(t)}}hw(),hy.exports=Qn;var wg=hy.exports;const pw=k1(wg);var yv=wg;Xp.createRoot=yv.createRoot,Xp.hydrateRoot=yv.hydrateRoot;var H0=function(t,e){return H0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},H0(t,e)};function gw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");H0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Sd=function(){return Sd=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Sd.apply(this,arguments)};function yl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function mw(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function vw(t,e){return function(r,n){e(r,n,t)}}function yw(t,e,r,n,i,o){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,p=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,f=!1,u=r.length-1;u>=0;u--){var y={};for(var v in n)y[v]=v==="access"?{}:n[v];for(var v in n.access)y.access[v]=n.access[v];y.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(g||null))};var b=(0,r[u])(s==="accessor"?{get:p.get,set:p.set}:p[l],y);if(s==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=a(b.get))&&(p.get=h),(h=a(b.set))&&(p.set=h),(h=a(b.init))&&i.unshift(h)}else(h=a(b))&&(s==="field"?i.unshift(h):p[l]=h)}c&&Object.defineProperty(c,n.name,p),f=!0}function ww(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function bw(t){return typeof t=="symbol"?t:"".concat(t)}function _w(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function xw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function tt(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(p){try{c(n.next(p))}catch(h){a(h)}}function l(p){try{c(n.throw(p))}catch(h){a(h)}}function c(p){p.done?o(p.value):i(p.value).then(s,l)}c((n=n.apply(t,e||[])).next())})}function Sw(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(p){return l([c,p])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(p){c=[6,p],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var eh=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function kw(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&eh(e,t,r)}function kd(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bg(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function Aw(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bg(arguments[e]));return t}function Nw(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function Ew(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function pl(t){return this instanceof pl?(this.v=t,this):new pl(t)}function Ow(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(u){return function(y){return Promise.resolve(y).then(u,h)}}function s(u,y){n[u]&&(i[u]=function(v){return new Promise(function(b,g){o.push([u,v,b,g])>1||l(u,v)})},y&&(i[u]=y(i[u])))}function l(u,y){try{c(n[u](y))}catch(v){f(o[0][3],v)}}function c(u){u.value instanceof pl?Promise.resolve(u.value.v).then(p,h):f(o[0][2],u)}function p(u){l("next",u)}function h(u){l("throw",u)}function f(u,y){u(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Lw(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(a){return(r=!r)?{value:pl(t[i](a)),done:!1}:o?o(a):a}:o}}function Tw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof kd=="function"?kd(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}function Pw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var R3=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},W0=function(t){return W0=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},W0(t)};function jw(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=W0(t),n=0;n<r.length;n++)r[n]!=="default"&&eh(e,t,r[n]);return R3(e,t),e}function Cw(t){return t&&t.__esModule?t:{default:t}}function Rw(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Iw(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function Dw(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Mw(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var I3=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Fw(t){function e(o){t.error=t.hasError?new I3(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Bw(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,o,a){return n?e?".jsx":".js":i&&(!o||!a)?r:i+o+"."+a.toLowerCase()+"js"}):t}const D3={__extends:gw,__assign:Sd,__rest:yl,__decorate:mw,__param:vw,__esDecorate:yw,__runInitializers:ww,__propKey:bw,__setFunctionName:_w,__metadata:xw,__awaiter:tt,__generator:Sw,__createBinding:eh,__exportStar:kw,__values:kd,__read:bg,__spread:Aw,__spreadArrays:Nw,__spreadArray:Ew,__await:pl,__asyncGenerator:Ow,__asyncDelegator:Lw,__asyncValues:Tw,__makeTemplateObject:Pw,__importStar:jw,__importDefault:Cw,__classPrivateFieldGet:Rw,__classPrivateFieldSet:Iw,__classPrivateFieldIn:Dw,__addDisposableResource:Mw,__disposeResources:Fw,__rewriteRelativeImportExtension:Bw},M3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Mw,get __assign(){return Sd},__asyncDelegator:Lw,__asyncGenerator:Ow,__asyncValues:Tw,__await:pl,__awaiter:tt,__classPrivateFieldGet:Rw,__classPrivateFieldIn:Dw,__classPrivateFieldSet:Iw,__createBinding:eh,__decorate:mw,__disposeResources:Fw,__esDecorate:yw,__exportStar:kw,__extends:gw,__generator:Sw,__importDefault:Cw,__importStar:jw,__makeTemplateObject:Pw,__metadata:xw,__param:vw,__propKey:bw,__read:bg,__rest:yl,__rewriteRelativeImportExtension:Bw,__runInitializers:ww,__setFunctionName:_w,__spread:Aw,__spreadArray:Ew,__spreadArrays:Nw,__values:kd,default:D3},Symbol.toStringTag,{value:"Module"})),F3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class _g extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class B3 extends _g{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wv extends _g{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bv extends _g{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var V0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(V0||(V0={}));class q3{constructor(e,{headers:r={},customFetch:n,region:i=V0.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=F3(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return tt(this,arguments,void 0,function*(r,n={}){var i;let o,a;try{const{headers:s,method:l,body:c,signal:p,timeout:h}=n;let f={},{region:u}=n;u||(u=this.region);const y=new URL(`${this.url}/${r}`);u&&u!=="any"&&(f["x-region"]=u,y.searchParams.set("forceFunctionRegion",u));let v;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(f["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(f["Content-Type"]="application/json",v=JSON.stringify(c)):v=c;let b=p;h&&(a=new AbortController,o=setTimeout(()=>a.abort(),h),p?(b=a.signal,p.addEventListener("abort",()=>a.abort())):b=a.signal);const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),s),body:v,signal:b}).catch(A=>{throw new B3(A)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new wv(g);if(!g.ok)throw new bv(g);let _=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return _==="application/json"?x=yield g.json():_==="application/octet-stream"||_==="application/pdf"?x=yield g.blob():_==="text/event-stream"?x=g:_==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof bv||s instanceof wv?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var hn={};const wl=l4(M3);var yf={},wf={},bf={},_f={},xf={},Sf={},_v;function qw(){if(_v)return Sf;_v=1,Object.defineProperty(Sf,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Sf.default=t,Sf}var xv;function Uw(){if(xv)return xf;xv=1,Object.defineProperty(xf,"__esModule",{value:!0});const e=wl.__importDefault(qw());class r{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,p,h,f;let u=null,y=null,v=null,b=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const A=await l.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=A:y=JSON.parse(A))}const _=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),x=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&x&&x.length>1&&(v=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(u={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,b=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await l.text();try{u=JSON.parse(_),Array.isArray(u)&&l.status===404&&(y=[],u=null,b=200,g="OK")}catch{l.status===404&&_===""?(b=204,g="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((f=u==null?void 0:u.details)===null||f===void 0)&&f.includes("0 rows"))&&(u=null,b=200,g="OK"),u&&this.shouldThrowOnError)throw new e.default(u)}return{error:u,data:y,count:v,status:b,statusText:g}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,p,h,f,u,y;let v="";const b=l==null?void 0:l.cause;if(b){const g=(c=b==null?void 0:b.message)!==null&&c!==void 0?c:"",m=(p=b==null?void 0:b.code)!==null&&p!==void 0?p:"";v=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,v+=`

Caused by: ${(f=b==null?void 0:b.name)!==null&&f!==void 0?f:"Error"}: ${g}`,m&&(v+=` (${m})`),b!=null&&b.stack&&(v+=`
${b.stack}`)}else v=(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"FetchError"}: ${l==null?void 0:l.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return xf.default=r,xf}var Sv;function zw(){if(Sv)return _f;Sv=1,Object.defineProperty(_f,"__esModule",{value:!0});const e=wl.__importDefault(Uw());class r extends e.default{select(i){let o=!1;const a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",p=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${p?`${p},`:""}${i}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,o,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var p;const h=[i?"analyze":null,o?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return _f.default=r,_f}var kv;function xg(){if(kv)return bf;kv=1,Object.defineProperty(bf,"__esModule",{value:!0});const e=wl.__importDefault(zw()),r=new RegExp("[,()]");class n extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${s})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const p=s===void 0?"":`(${s})`;return this.url.searchParams.append(o,`${c}fts${p}.${a}`),this}match(o){return Object.entries(o).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(o,a,s){return this.url.searchParams.append(o,`not.${a}.${s}`),this}or(o,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,a,s){return this.url.searchParams.append(o,`${a}.${s}`),this}}return bf.default=n,bf}var Av;function $w(){if(Av)return wf;Av=1,Object.defineProperty(wf,"__esModule",{value:!0});const e=wl.__importDefault(xg());class r{constructor(i,{headers:o={},schema:a,fetch:s}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=s}select(i,o){const{head:a=!1,count:s}=o??{},l=a?"HEAD":"GET";let c=!1;const p=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",p),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var s;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(c.length>0){const p=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var c;const p="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,u)=>f.concat(Object.keys(u)),[]);if(h.length>0){const f=[...new Set(h)].map(u=>`"${u}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:o}={}){var a;const s="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return wf.default=r,wf}var Nv;function U3(){if(Nv)return yf;Nv=1,Object.defineProperty(yf,"__esModule",{value:!0});const t=wl,e=t.__importDefault($w()),r=t.__importDefault(xg());class n{constructor(o,{headers:a={},schema:s,fetch:l}={}){this.url=o,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:s=!1,get:l=!1,count:c}={}){var p;let h;const f=new URL(`${this.url}/rpc/${o}`);let u;s||l?(h=s?"HEAD":"GET",Object.entries(a).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{f.searchParams.append(v,b)})):(h="POST",u=a);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new r.default({method:h,url:f,headers:y,schema:this.schemaName,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return yf.default=n,yf}Object.defineProperty(hn,"__esModule",{value:!0});var Hw=hn.PostgrestError=eb=hn.PostgrestBuilder=Qw=hn.PostgrestTransformBuilder=Jw=hn.PostgrestFilterBuilder=Kw=hn.PostgrestQueryBuilder=Vw=hn.PostgrestClient=void 0;const bl=wl,Ww=bl.__importDefault(U3());var Vw=hn.PostgrestClient=Ww.default;const Gw=bl.__importDefault($w());var Kw=hn.PostgrestQueryBuilder=Gw.default;const Yw=bl.__importDefault(xg());var Jw=hn.PostgrestFilterBuilder=Yw.default;const Xw=bl.__importDefault(zw());var Qw=hn.PostgrestTransformBuilder=Xw.default;const Zw=bl.__importDefault(Uw());var eb=hn.PostgrestBuilder=Zw.default;const tb=bl.__importDefault(qw());Hw=hn.PostgrestError=tb.default;var rb=hn.default={PostgrestClient:Ww.default,PostgrestQueryBuilder:Gw.default,PostgrestFilterBuilder:Yw.default,PostgrestTransformBuilder:Xw.default,PostgrestBuilder:Zw.default,PostgrestError:tb.default};const z3=s4({__proto__:null,get PostgrestBuilder(){return eb},get PostgrestClient(){return Vw},get PostgrestError(){return Hw},get PostgrestFilterBuilder(){return Jw},get PostgrestQueryBuilder(){return Kw},get PostgrestTransformBuilder(){return Qw},default:rb},[hn]),{PostgrestClient:$3,PostgrestQueryBuilder:nj,PostgrestFilterBuilder:ij,PostgrestTransformBuilder:oj,PostgrestBuilder:aj,PostgrestError:sj}=rb||z3;class H3{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const W3="2.83.0",V3=`realtime-js/${W3}`,nb="1.0.0",G3="2.0.0",Ev=nb,G0=1e4,K3=1e3,Y3=100;var Ra;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ra||(Ra={}));var jr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jr||(jr={}));var li;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(li||(li={}));var K0;(function(t){t.websocket="websocket"})(K0||(K0={}));var Ia;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ia||(Ia={}));class J3{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){var r,n;const{event:i,topic:o,payload:a}=e,s=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=this.META_LENGTH+l.length+s.length+o.length+i.length,p=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(p),f=0;h.setUint8(f++,this.KINDS.push),h.setUint8(f++,l.length),h.setUint8(f++,s.length),h.setUint8(f++,o.length),h.setUint8(f++,i.length),Array.from(l,y=>h.setUint8(f++,y.charCodeAt(0))),Array.from(s,y=>h.setUint8(f++,y.charCodeAt(0))),Array.from(o,y=>h.setUint8(f++,y.charCodeAt(0))),Array.from(i,y=>h.setUint8(f++,y.charCodeAt(0)));var u=new Uint8Array(p.byteLength+a.byteLength);return u.set(new Uint8Array(p),0),u.set(new Uint8Array(a),p.byteLength),u.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n,i,o;const a=e.topic,s=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,p=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+c.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let u=new DataView(f),y=0;u.setUint8(y++,this.KINDS.userBroadcastPush),u.setUint8(y++,l.length),u.setUint8(y++,s.length),u.setUint8(y++,a.length),u.setUint8(y++,c.length),u.setUint8(y++,this.BINARY_ENCODING),Array.from(l,b=>u.setUint8(y++,b.charCodeAt(0))),Array.from(s,b=>u.setUint8(y++,b.charCodeAt(0))),Array.from(a,b=>u.setUint8(y++,b.charCodeAt(0))),Array.from(c,b=>u.setUint8(y++,b.charCodeAt(0)));var v=new Uint8Array(f.byteLength+p.byteLength);return v.set(new Uint8Array(f),0),v.set(new Uint8Array(p),f.byteLength),v.buffer}_encodeJsonUserBroadcastPush(e){var r,n,i,o;const a=e.topic,s=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,p=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},f=new TextEncoder().encode(JSON.stringify(p)).buffer,u=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+c.length,y=new ArrayBuffer(this.HEADER_LENGTH+u);let v=new DataView(y),b=0;v.setUint8(b++,this.KINDS.userBroadcastPush),v.setUint8(b++,l.length),v.setUint8(b++,s.length),v.setUint8(b++,a.length),v.setUint8(b++,c.length),v.setUint8(b++,this.JSON_ENCODING),Array.from(l,m=>v.setUint8(b++,m.charCodeAt(0))),Array.from(s,m=>v.setUint8(b++,m.charCodeAt(0))),Array.from(a,m=>v.setUint8(b++,m.charCodeAt(0))),Array.from(c,m=>v.setUint8(b++,m.charCodeAt(0)));var g=new Uint8Array(y.byteLength+f.byteLength);return g.set(new Uint8Array(y),0),g.set(new Uint8Array(f),y.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,o,a,s,l]=n;return r({join_ref:i,ref:o,topic:a,event:s,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),o=r.getUint8(2),a=r.getUint8(3);let s=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(s,s+i));s=s+i;const c=n.decode(e.slice(s,s+o));s=s+o;const p=n.decode(e.slice(s,s+a));s=s+a;const h=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:p,payload:h}}_decodeReply(e,r,n){const i=r.getUint8(1),o=r.getUint8(2),a=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(e.slice(l,l+i));l=l+i;const p=n.decode(e.slice(l,l+o));l=l+o;const h=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+s));l=l+s;const u=JSON.parse(n.decode(e.slice(l,e.byteLength))),y={status:f,response:u};return{join_ref:c,ref:p,topic:h,event:li.reply,payload:y}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const s=n.decode(e.slice(a,a+i));a=a+i;const l=n.decode(e.slice(a,a+o));a=a+o;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:s,event:l,payload:c}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2),a=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const p=n.decode(e.slice(l,l+o));l=l+o;const h=n.decode(e.slice(l,l+a));l=l+a;const f=e.slice(l,e.byteLength),u=s===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,y={type:this.BROADCAST,event:p,payload:u};return a>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class ib{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Gt||(Gt={}));const Ov=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=X3(a,t,e,i),o),{}):{}},X3=(t,e,r,n)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=r[t];return o&&!n.includes(o)?ob(o,a):Y0(a)},ob=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return tS(e,r)}switch(t){case Gt.bool:return Q3(e);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return Z3(e);case Gt.json:case Gt.jsonb:return eS(e);case Gt.timestamp:return rS(e);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return Y0(e);default:return Y0(e)}},Y0=t=>t,Q3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Z3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},eS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},tS=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const a=t.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>ob(e,s))}return t},rS=t=>typeof t=="string"?t.replace(" ","T"):t,ab=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class xp{constructor(e,r,n={},i=G0){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Lv||(Lv={}));class Iu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Iu.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Iu.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Iu.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const o=this.cloneDeep(e),a=this.transformState(r),s={},l={};return this.map(o,(c,p)=>{a[c]||(l[c]=p)}),this.map(a,(c,p)=>{const h=o[c];if(h){const f=p.map(b=>b.presence_ref),u=h.map(b=>b.presence_ref),y=p.filter(b=>u.indexOf(b.presence_ref)<0),v=h.filter(b=>f.indexOf(b.presence_ref)<0);y.length>0&&(s[c]=y),v.length>0&&(l[c]=v)}else s[c]=p}),this.syncDiff(o,{joins:s,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var c;const p=(c=e[s])!==null&&c!==void 0?c:[];if(e[s]=this.cloneDeep(l),p.length>0){const h=e[s].map(u=>u.presence_ref),f=p.filter(u=>h.indexOf(u.presence_ref)<0);e[s].unshift(...f)}n(s,p,l)}),this.map(a,(s,l)=>{let c=e[s];if(!c)return;const p=l.map(h=>h.presence_ref);c=c.filter(h=>p.indexOf(h.presence_ref)<0),e[s]=c,i(s,c,l),c.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Tv||(Tv={}));var Du;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Du||(Du={}));var ho;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ho||(ho={}));class Sg{constructor(e,r={config:{}},n){var i,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new xp(this,li.join,this.params,this.timeout),this.rejoinTimer=new ib(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(li.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Iu(this),this.broadcastEndpointURL=ab(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==jr.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Du.PRESENCE]&&this.bindings[Du.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:p}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(u=>e==null?void 0:e(ho.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(ho.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var y;if(this.socket.setAuth(),u===void 0){e==null||e(ho.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,g=[];for(let m=0;m<b;m++){const _=v[m],{filter:{event:x,schema:A,table:R,filter:T}}=_,O=u&&u[m];if(O&&O.event===x&&O.schema===A&&O.table===R&&O.filter===T)g.push(Object.assign(Object.assign({},_),{id:O.id}));else{this.unsubscribe(),this.state=jr.errored,e==null||e(ho.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(ho.SUBSCRIBED);return}}).receive("error",u=>{this.state=jr.errored,e==null||e(ho.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ho.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===jr.joined&&e===Du.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(li.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new xp(this,li.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new xp(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Y3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:c,join:p}=li;if(n&&[s,l,c,p].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(u=>{var y,v,b;return((y=u.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(v=u.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(u=>u.callback(f,n)):(o=this.bindings[a])===null||o===void 0||o.filter(u=>{var y,v,b,g,m,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in u){const x=u.id,A=(y=u.filter)===null||y===void 0?void 0:y.event;return x&&((v=r.ids)===null||v===void 0?void 0:v.includes(x))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(m=(g=u==null?void 0:u.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return u.type.toLocaleLowerCase()===a}).map(u=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:v,table:b,commit_timestamp:g,type:m,errors:_}=y;f=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:g,eventType:m,new:{},old:{},errors:_}),this._getPayloadRecords(y))}u.callback(f,n)})}_isClosed(){return this.state===jr.closed}_isJoined(){return this.state===jr.joined}_isJoining(){return this.state===jr.joining}_isLeaving(){return this.state===jr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Sg.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(li.close,{},e)}_onError(e){this._on(li.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ov(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ov(e.columns,e.old_record)),r}}const Sp=()=>{},kf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nS=[1e3,2e3,5e3,1e4],iS=1e4,oS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aS{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=G0,this.transport=null,this.heartbeatIntervalMs=kf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sp,this.ref=0,this.reconnectTimer=null,this.vsn=Ev,this.logger=Sp,this.conn=null,this.sendBuffer=[],this.serializer=new J3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${K0.websocket}`,this.httpEndpoint=ab(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=H3.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ra.connecting:return Ia.Connecting;case Ra.open:return Ia.Open;case Ra.closing:return Ia.Closing;default:return Ia.Closed}}isConnected(){return this.connectionState()===Ia.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new Sg(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(K3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},kf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:a}=r,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,o,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ra.open||this.conn.readyState===Ra.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(li.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([oS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:V3};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(li.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ib(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,o,a,s,l,c,p,h,f,u;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:G0,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:kf.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Sp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Ev,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:y=>nS[y-1]||iS,this.vsn){case nb:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(y,v)=>v(JSON.stringify(y)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(y,v)=>v(JSON.parse(y));break;case G3:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class kg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ir(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class sS extends kg{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class J0 extends kg{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Ag=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),lS=()=>Response,X0=t=>{if(Array.isArray(t))return t.map(r=>X0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=X0(n)}),e},uS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},cS=(t,e,r)=>tt(void 0,void 0,void 0,function*(){const n=yield lS();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new sS(kp(i),o,a))}).catch(i=>{e(new J0(kp(i),i))}):e(new J0(kp(t),t))}),fS=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(uS(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function fc(t,e,r,n,i,o){return tt(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(r,fS(e,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>cS(l,s,n))})})}function tc(t,e,r,n){return tt(this,void 0,void 0,function*(){return fc(t,"GET",e,r,n)})}function Ei(t,e,r,n,i){return tt(this,void 0,void 0,function*(){return fc(t,"POST",e,n,i,r)})}function Q0(t,e,r,n,i){return tt(this,void 0,void 0,function*(){return fc(t,"PUT",e,n,i,r)})}function dS(t,e,r,n){return tt(this,void 0,void 0,function*(){return fc(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ng(t,e,r,n,i){return tt(this,void 0,void 0,function*(){return fc(t,"DELETE",e,n,i,r)})}class hS{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return tt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ir(e))return{data:null,error:e};throw e}})}}var sb;class pS{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[sb]="BlobDownloadBuilder",this.promise=null}asStream(){return new hS(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return tt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ir(e))return{data:null,error:e};throw e}})}}sb=Symbol.toStringTag;const gS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mS{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Ag(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return tt(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Pv),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),p=this._getFinalPath(c),h=yield(e=="PUT"?Q0:Ei)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ir(o))return{data:null,error:o};throw o}})}upload(e,r,n){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return tt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Pv.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,p["cache-control"]=`max-age=${c.cacheControl}`,p["content-type"]=c.contentType);const h=yield Q0(this.fetch,s.toString(),l,{headers:p});return{data:{path:o,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ir(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return tt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const o=yield Ei(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new kg("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}update(e,r,n){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return tt(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ir(i))return{data:null,error:i};throw i}})}copy(e,r,n){return tt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ei(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ir(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return tt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Ei(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ir(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return tt(this,void 0,void 0,function*(){try{const i=yield Ei(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ir(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"",s=this._getFinalPath(e),l=()=>tc(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new pS(l,this.shouldThrowOnError)}info(e){return tt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield tc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:X0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}exists(e){return tt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield dS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n)&&n instanceof J0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Ng(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}list(e,r,n){return tt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},gS),r),{prefix:e||""});return{data:yield Ei(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ir(i))return{data:null,error:i};throw i}})}listV2(e,r){return tt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ei(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const lb="2.83.0",ub={"X-Client-Info":`storage-js/${lb}`};class vS{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ub),r),this.fetch=Ag(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return tt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield tc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}createBucket(e){return tt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ei(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ir(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return tt(this,void 0,void 0,function*(){try{return{data:yield Q0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}emptyBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Ng(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class yS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ub),r),this.fetch=Ag(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listBuckets(e){return tt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield tc(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Ng(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}const Eg={"X-Client-Info":`storage-js/${lb}`,"Content-Type":"application/json"};class cb extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Wn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ap extends cb{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wS extends cb{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var jv;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(jv||(jv={}));const Og=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_S=(t,e,r)=>tt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new Ap(Cv(a),i,s))}).catch(()=>{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new Ap(s,i,a))});else{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new Ap(s,i,a))}}else e(new wS(Cv(t),t))}),xS=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(bS(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function SS(t,e,r,n,i,o){return tt(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(r,xS(e,n,i,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>_S(l,s,n))})})}function Vn(t,e,r,n,i){return tt(this,void 0,void 0,function*(){return SS(t,"POST",e,n,i,r)})}class kS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Eg),r),this.fetch=Og(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return tt(this,void 0,void 0,function*(){try{return{data:(yield Vn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return tt(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}listIndexes(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return tt(this,void 0,void 0,function*(){try{return{data:(yield Vn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}}class AS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Eg),r),this.fetch=Og(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return tt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Vn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}getVectors(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}listVectors(e){return tt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Vn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}queryVectors(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return tt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Vn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}}class NS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Eg),r),this.fetch=Og(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:(yield Vn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}getBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}listBuckets(){return tt(this,arguments,void 0,function*(e={}){try{return{data:yield Vn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:(yield Vn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}}class ES extends NS{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new OS(this.url,this.headers,e,this.fetch)}}class OS extends kS{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return tt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return tt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return tt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return tt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new LS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class LS extends AS{constructor(e,r,n,i,o){super(e,r,o),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return tt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return tt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return tt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return tt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return tt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class TS extends vS{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new mS(this.url,this.headers,e,this.fetch)}get vectors(){return new ES(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yS(this.url+"/iceberg",this.headers,this.fetch)}}const PS="2.83.0";let Au="";typeof Deno<"u"?Au="deno":typeof document<"u"?Au="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Au="react-native":Au="node";const jS={"X-Client-Info":`supabase-js-${Au}/${PS}`},CS={headers:jS},RS={schema:"public"},IS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DS={},MS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FS=()=>Headers,BS=(t,e,r)=>{const n=MS(r),i=FS();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},a),{headers:c}))}};function qS(t){return t.endsWith("/")?t:t+"/"}function US(t,e){var r,n;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:c,realtime:p,global:h}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},p),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),s),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function zS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const fb="2.83.0",Cs=30*1e3,Z0=3,Np=Z0*Cs,$S="http://localhost:9999",HS="supabase.auth.token",WS={"X-Client-Info":`gotrue-js/${fb}`},e1="X-Supabase-Api-Version",db={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GS=10*60*1e3;class rc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function nt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class KS extends rc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function YS(t){return nt(t)&&t.name==="AuthApiError"}class Da extends rc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class pa extends rc{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class $n extends pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JS(t){return nt(t)&&t.name==="AuthSessionMissingError"}class As extends pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Af extends pa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Nf extends pa{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XS(t){return nt(t)&&t.name==="AuthImplicitGrantRedirectError"}class Rv extends pa{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class t1 extends pa{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ep(t){return nt(t)&&t.name==="AuthRetryableFetchError"}class Iv extends pa{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class r1 extends pa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dv=` 	
\r=`.split(""),QS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Dv.length;e+=1)t[Dv[e].charCodeAt(0)]=-2;for(let e=0;e<Ad.length;e+=1)t[Ad[e].charCodeAt(0)]=e;return t})();function Mv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ad[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ad[n]),e.queuedBits-=6}}function hb(t,e,r){const n=QS[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fv(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{tk(a,n,r)};for(let a=0;a<t.length;a+=1)hb(t.charCodeAt(a),i,o);return e.join("")}function ZS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ek(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}ZS(n,e)}}function tk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function rl(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)hb(t.charCodeAt(i),r,n);return new Uint8Array(e)}function rk(t){const e=[];return ek(t,r=>e.push(r)),new Uint8Array(e)}function Ua(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Mv(i,r,n)),Mv(null,r,n),e.join("")}function nk(t){return Math.round(Date.now()/1e3)+t}function ik(){return Symbol("auth-callback")}const $r=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},pb=()=>{if(!$r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function ok(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const gb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ak=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rs=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ea=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qo=async(t,e)=>{await t.removeItem(e)};class th{constructor(){this.promise=new th.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}th.promiseConstructor=Promise;function Op(t){const e=t.split(".");if(e.length!==3)throw new r1("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!VS.test(e[n]))throw new r1("JWT not in base64url format");return{header:JSON.parse(Fv(e[0])),payload:JSON.parse(Fv(e[1])),signature:rl(e[2]),raw:{header:e[0],payload:e[1]}}}async function sk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lk(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){n(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function uk(t){return("0"+t.toString(16)).substr(-2)}function ck(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,uk).join("")}async function fk(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function dk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await fk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ns(t,e,r=!1){const n=ck();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Rs(t,`${e}-code-verifier`,i);const o=await dk(n);return[o,n===o?"plain":"s256"]}const hk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pk(t){const e=t.headers.get(e1);if(!e||!e.match(hk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function mk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Es(t){if(!vk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yk(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Bv(t){return JSON.parse(JSON.stringify(t))}const Ta=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wk=[502,503,504];async function qv(t){var e;if(!ak(t))throw new t1(Ta(t),0);if(wk.includes(t.status))throw new t1(Ta(t),t.status);let r;try{r=await t.json()}catch(o){throw new Da(Ta(o),o)}let n;const i=pk(t);if(i&&i.getTime()>=db["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Iv(Ta(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new $n}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Iv(Ta(r),t.status,r.weak_password.reasons);throw new KS(Ta(r),t.status||500,n)}const bk=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ft(t,e,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[e1]||(o[e1]=db["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await _k(t,e,r+s,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function _k(t,e,r,n,i,o){const a=bk(e,n,i,o);let s;try{s=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new t1(Ta(l),0)}if(s.ok||await qv(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await qv(l)}}function ki(t){var e;let r=null;kk(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=nk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Uv(t){const e=ki(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Yo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xk(t){return{data:t,error:null}}function Sk(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=t,a=yl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function zv(t){return t}function kk(t){return t.access_token&&t.refresh_token&&t.expires_in}const Tp=["global","local","others"];class Ak{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=gb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Tp[0]){if(Tp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tp.join(", ")}`);try{return await ft(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yo})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=yl(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Sk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(nt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Yo})}catch(r){if(nt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},p=await ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:zv});if(p.error)throw p.error;const h=await p.json(),f=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,u=(l=(s=p.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return u.length>0&&(u.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(nt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Es(e);try{return await ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Yo})}catch(r){if(nt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Es(e);try{return await ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Yo})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Es(e);try{return await ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yo})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Es(e.userId);try{const{data:r,error:n}=await ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(nt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Es(e.userId),Es(e.id);try{return{data:await ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},p=await ft(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:zv});if(p.error)throw p.error;const h=await p.json(),f=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,u=(l=(s=p.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return u.length>0&&(u.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(nt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await ft(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ft(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ft(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ft(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ft(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nt(r))return{data:null,error:r};throw r}}}function $v(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Os={debug:!!(globalThis&&pb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Nk extends mb{}async function Ek(t,e,r){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Nk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Os.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Ok(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Lk(t){return parseInt(t,16)}function Tk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Pk(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:c,scheme:p,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const u=vb(t.address),y=p?`${p}://${n}`:n,v=t.statement?`${t.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${u}

${v}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),s&&(g+=`
Not Before: ${s.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);m+=`
- ${_}`}g+=m}return`${b}
${g}`}class Lr extends Error{constructor({message:e,code:r,cause:n,name:i}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Nd extends Lr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function jk({error:t,options:e}){var r,n,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Lr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Lr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Lr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Lr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Lr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Lr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Lr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(yb(a)){if(o.rp.id!==a)return new Lr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Lr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Lr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ck({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Lr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(yb(n)){if(r.rpId!==n)return new Lr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Lr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Rk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ik=new Rk;function Dk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=yl(t,["challenge","user","excludeCredentials"]),o=rl(e).buffer,a=Object.assign(Object.assign({},r),{id:rl(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:rl(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function Mk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=yl(t,["challenge","allowCredentials"]),i=rl(e).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const s=r[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:rl(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function Fk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ua(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ua(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Bk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ua(new Uint8Array(i.authenticatorData)),clientDataJSON:Ua(new Uint8Array(i.clientDataJSON)),signature:Ua(new Uint8Array(i.signature)),userHandle:i.userHandle?Ua(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Hv(){var t,e;return!!($r()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function qk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nd("Browser returned unexpected credential type",e)}:{data:null,error:new Nd("Empty credential response",e)}}catch(e){return{data:null,error:jk({error:e,options:t})}}}async function Uk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nd("Browser returned unexpected credential type",e)}:{data:null,error:new Nd("Empty credential response",e)}}catch(e){return{data:null,error:Ck({error:e,options:t})}}}const zk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$k={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ed(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))n[o]=a;else if(r(a))n[o]=a;else if(e(a)){const s=n[o];e(s)?n[o]=Ed(s,a):n[o]=Ed(a)}else n[o]=a}return n}function Hk(t,e){return Ed(zk,t,e||{})}function Wk(t,e){return Ed($k,t,e||{})}class Vk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:s};const l=i??Ik.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=Hk(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:h}=await qk({publicKey:c,signal:l});return p?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{const c=Wk(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:h}=await Uk(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return p?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(a){return nt(a)?{data:null,error:a}:{data:null,error:new Da("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new rc("rpId is required for WebAuthn authentication")};try{if(!Hv())return{data:null,error:new Da("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return nt(a)?{data:null,error:a}:{data:null,error:new Da("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new rc("rpId is required for WebAuthn registration")};try{if(!Hv())return{data:null,error:new Da("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return nt(a)?{data:null,error:a}:{data:null,error:new Da("Unexpected error in register",a)}}}}Ok();const Gk={url:$S,storageKey:HS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Wv(t,e,r){return await r()}const Ls={};class nc{get jwks(){var e,r;return(r=(e=Ls[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ls[this.storageKey]=Object.assign(Object.assign({},Ls[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ls[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ls[this.storageKey]=Object.assign(Object.assign({},Ls[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Gk),e);if(this.storageKey=o.storageKey,this.instanceID=(r=nc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,nc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&$r()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Ak({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=gb(o.fetch),this.lock=o.lock||Wv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:$r()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ek:this.lock=Wv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:pb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$v(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=$v(this.memoryStorage)),$r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if($r()&&(r=ok(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),$r()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),XS(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return nt(r)?this._returnResult({error:r}):this._returnResult({error:new Da("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const o=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ki}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(nt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,i;try{let o;if("email"in e){const{email:p,password:h,options:f}=e;let u=null,y=null;this.flowType==="pkce"&&([u,y]=await Ns(this.storage,this.storageKey)),o=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:p,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:u,code_challenge_method:y},xform:ki})}else if("phone"in e){const{phone:p,password:h,options:f}=e;o=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ki})}else throw new Af("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(nt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:a,options:s}=e;r=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Uv})}else if("phone"in e){const{phone:o,password:a,options:s}=e;r=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Uv})}else throw new Af("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const o=new As;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,o,a,s,l,c,p,h,f;let u,y;if("message"in e)u=e.message,y=e.signature;else{const{chain:v,wallet:b,statement:g,options:m}=e;let _;if($r())if(typeof b=="object")_=b;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")_=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const x=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),A=await _.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=vb(A[0]);let T=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const F=await _.request({method:"eth_chainId"});T=Lk(F)}const O={domain:x.host,address:R,statement:g,uri:x.href,version:"1",chainId:T,nonce:(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(p=m==null?void 0:m.signInWithEthereum)===null||p===void 0?void 0:p.resources};u=Pk(O),y=await _.request({method:"personal_sign",params:[Tk(u),R]})}try{const{data:v,error:b}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:u,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ki});if(b)throw b;if(!v||!v.session||!v.user){const g=new As;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(nt(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,i,o,a,s,l,c,p,h,f,u;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:b,wallet:g,statement:m,options:_}=e;let x;if($r())if(typeof g=="object")x=g;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))x=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const A=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const R=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),m?{statement:m}:null));let T;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")T=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)T=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)y=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),v=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${A.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(p=_==null?void 0:_.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const R=await x.signMessage(new TextEncoder().encode(y),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=R}}try{const{data:b,error:g}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ua(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(u=e.options)===null||u===void 0?void 0:u.captchaToken}}:null),xform:ki});if(g)throw g;if(!b||!b.session||!b.user){const m=new As;return this._returnResult({data:{user:null,session:null},error:m})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:g})}catch(b){if(nt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:o,error:a}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ki});if(await qo(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new As;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(nt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:o,nonce:a}=e,s=await ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ki}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const p=new As;return this._returnResult({data:{user:null,session:null},error:p})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let c=null,p=null;this.flowType==="pkce"&&([c,p]=await Ns(this.storage,this.storageKey));const{error:h}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:p},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:s,options:l}=e,{data:c,error:p}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:p})}throw new Af("You must provide either an email or phone number.")}catch(s){if(nt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var r,n;try{let i,o;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:s}=await ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:ki});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(nt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Ns(this.storage,this.storageKey));const c=await ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:xk});return!((o=c.data)===null||o===void 0)&&o.url&&$r()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(nt(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new $n;const{error:i}=await ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(nt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:a}=await ft(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:a,error:s}=await ft(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Af("You must provide either an email or phone number and a type")}catch(r){if(nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Np:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Ea(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Lp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=yk(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Yo}):await this._useSession(async r=>{var n,i,o;const{data:a,error:s}=r;if(s)throw s;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $n}:await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Yo})})}catch(r){if(nt(r))return JS(r)&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new $n;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Ns(this.storage,this.storageKey));const{data:c,error:p}=await ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Yo});if(p)throw p;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(nt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $n;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:a}=Op(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(nt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:s}=r;if(s)throw s;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new $n;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!$r())throw new Nf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Nf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rv("No code detected.");const{data:m,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:c}=e;if(!o||!s||!a||!c)throw new Nf("No session defined in URL");const p=Math.round(Date.now()/1e3),h=parseInt(s);let f=p+h;l&&(f=parseInt(l));const u=f-p;u*1e3<=Cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${u}s, should have been closer to ${h}s`);const y=f-h;p-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,p):p-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,p);const{data:v,error:b}=await this._getUser(o);if(b)throw b;const g={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(nt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({error:o});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(YS(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=ik(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ns(this.storage,this.storageKey,!0));try{return await ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(nt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var a,s,l,c,p;const{data:h,error:f}=o;if(f)throw f;const u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ft(this.fetch,"GET",u,{headers:this.headers,jwt:(p=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return $r()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(nt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:o}}=r;if(i)throw i;const{options:a,provider:s,token:l,access_token:c,nonce:p}=e,h=await ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ki}),{data:f,error:u}=h;return u?this._returnResult({data:{user:null,session:null},error:u}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new As}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:u}))}catch(i){if(nt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)throw a;return await ft(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lk(async i=>(i>0&&await sk(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ki})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Ep(o)&&Date.now()+a-n<Cs})}catch(n){if(this._debug(r,"error",n),nt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),$r()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ea(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Rs(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Lp()}else if(i&&!i.user&&!i.user){const a=await Ea(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await qo(this.storage,this.storageKey+"-user"),await Rs(this.storage,this.storageKey,i)):i.user=Lp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Np;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Np}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Ep(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new $n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new th;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new $n;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),nt(o)){const a={data:null,error:o};return Ep(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Rs(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=Bv(i);await Rs(this.storage,this.storageKey,o)}else{const i=Bv(r);await Rs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await qo(this.storage,this.storageKey),await qo(this.storage,this.storageKey+"-code-verifier"),await qo(this.storage,this.storageKey+"-user"),this.userStorage&&await qo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cs}ms, refresh threshold is ${Z0} ticks`),i<=Z0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await Ns(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?this._returnResult({data:null,error:o}):await ft(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await ft(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Fk(e.webauthn.credential_response):Bk(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=await ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Dk(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Mk(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Op(n.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ft(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new $n})})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new $n});const a=await ft(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&$r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new $n});const a=await ft(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&$r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ft(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $n})})}catch(e){if(nt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ft(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new $n})})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+GS>i)return n;const{data:o,error:a}=await ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:u,error:y}=await this.getSession();if(y||!u.session)return this._returnResult({data:null,error:y});n=u.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Op(n);r!=null&&r.allowExpired||gk(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:u}=await this.getUser(n);if(u)throw u;return{data:{claims:o,header:i,signature:a},error:null}}const p=mk(i.alg),h=await crypto.subtle.importKey("jwk",c,p,!0,["verify"]);if(!await crypto.subtle.verify(p,h,a,rk(`${s}.${l}`)))throw new r1("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}}nc.nextInstanceID={};const Kk=nc;class Yk extends Kk{constructor(e){super(e)}}class Jk{constructor(e,r,n){var i,o,a;this.supabaseUrl=e,this.supabaseKey=r;const s=zS(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:RS,realtime:DS,auth:Object.assign(Object.assign({},IS),{storageKey:l}),global:CS},p=US(n??{},c);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=p.auth)!==null&&a!==void 0?a:{},this.headers,p.global.fetch),this.fetch=BS(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new $3(new URL("rest/v1",s).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new TS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new q3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:a,flowType:s,lock:l,debug:c,throwOnError:p},h,f){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yk({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),h),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,flowType:s,lock:l,debug:c,throwOnError:p,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new aS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xk=(t,e,r)=>new Jk(t,e,r);function Qk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Qk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Zk="https://ccgiozknvlknbrkzfcdx.supabase.co",eA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjZ2lvemtudmxrbmJya3pmY2R4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NTY3NTMsImV4cCI6MjA3ODQzMjc1M30.lmmuGnynbY_n_4UlsrGw5ofRd6p9QLKCcrfHf7itEg8",cr=Xk(Zk,eA),tA={success:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),error:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),info:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},rA={success:"bg-green-50 border-green-200 dark:bg-green-900/50 dark:border-green-700 text-green-800 dark:text-green-200",error:"bg-red-50 border-red-200 dark:bg-red-900/50 dark:border-red-700 text-red-800 dark:text-red-200",info:"bg-blue-50 border-blue-200 dark:bg-blue-900/50 dark:border-blue-700 text-blue-800 dark:text-blue-200"},nA=({toast:t,onDismiss:e})=>{const[r,n]=Pe.useState(!1);Pe.useEffect(()=>{const a=setTimeout(()=>{n(!0),setTimeout(()=>e(t.id),300)},5e3);return()=>clearTimeout(a)},[t.id,e]);const i=()=>{n(!0),setTimeout(()=>e(t.id),300)},o=r?"animate-toast-out":"animate-toast-in";return M.jsxs("div",{role:"alert",className:`w-full p-4 rounded-lg shadow-lg border flex items-start gap-4 ${rA[t.type]} ${o}`,children:[M.jsx("div",{className:"flex-shrink-0",children:tA[t.type]}),M.jsx("div",{className:"flex-1 text-sm font-medium",children:t.message}),M.jsx("button",{onClick:i,className:"p-1 rounded-md -m-1 hover:bg-black/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-current","aria-label":"Dismiss",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},iA=({toasts:t,onDismiss:e})=>M.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-3 w-full max-w-sm","aria-live":"assertive",children:t.map(r=>M.jsx(nA,{toast:r,onDismiss:e},r.id))}),wb=Pe.createContext(void 0),oA=({children:t})=>{const[e,r]=Pe.useState([]),[n,i]=Pe.useState(null);Pe.useEffect(()=>{const s=document.getElementById("portal-root");s&&i(s)},[]);const o=Pe.useCallback((s,l="info")=>{const c=Date.now().toString()+Math.random().toString();r(p=>[...p,{id:c,message:s,type:l}])},[]),a=Pe.useCallback(s=>{r(l=>l.filter(c=>c.id!==s))},[]);return M.jsxs(wb.Provider,{value:{addToast:o},children:[t,n&&pw.createPortal(M.jsx(iA,{toasts:e,onDismiss:a}),n)]})},Lg=()=>{const t=Pe.useContext(wb);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},aA=({focusState:t,emailProgress:e,typingCounter:r})=>{const n=()=>t==="email"?`rotate(${e*16-8} 50 60)`:"rotate(0 50 60)",i=()=>{const a=t==="email"?r%2===0?-1.5:1.5:0;switch(t){case"idle":return"translate(0, 0)";case"email":return`translate(${a}, 5)`;case"password":return"translate(0, 5)";default:return"translate(0, 0)"}};return M.jsx("svg",{width:"120",height:"120",viewBox:"0 0 100 100",className:"mx-auto -mb-4",style:{zIndex:10,position:"relative"},"aria-hidden":"true",children:M.jsxs("g",{id:"head-group",style:{transition:"transform 0.3s ease"},transform:n(),children:[M.jsx("path",{d:"M50 10 C 25 10, 10 35, 10 60 C 10 85, 25 100, 50 100 C 75 100, 90 85, 90 60 C 90 35, 75 10, 50 10 Z",fill:"#A0522D"}),M.jsx("path",{d:"M50 25 C 30 25, 20 40, 20 60 C 20 80, 30 90, 50 90 C 70 90, 80 80, 80 60 C 80 40, 70 25, 50 25 Z",fill:"#F5DEB3"}),M.jsx("circle",{cx:"15",cy:"50",r:"10",fill:"#A0522D"}),M.jsx("circle",{cx:"85",cy:"50",r:"10",fill:"#A0522D"}),M.jsx("circle",{cx:"17",cy:"50",r:"7",fill:"#F5DEB3"}),M.jsx("circle",{cx:"83",cy:"50",r:"7",fill:"#F5DEB3"}),M.jsxs("g",{id:"open-eyes",style:{opacity:t==="password"?0:1,transition:"opacity 0.2s ease-in-out"},children:[M.jsx("circle",{cx:"38",cy:"55",r:"8",fill:"white"}),M.jsx("circle",{cx:"62",cy:"55",r:"8",fill:"white"}),M.jsxs("g",{id:"pupils",style:{transition:"transform 0.1s linear"},transform:i(),children:[M.jsx("circle",{cx:"38",cy:"55",r:"4",fill:"#2F4F4F"}),M.jsx("circle",{cx:"62",cy:"55",r:"4",fill:"#2F4F4F"})]})]}),M.jsxs("g",{id:"heart-eyes",style:{opacity:t==="password"?1:0,transition:"opacity 0.2s ease-in-out"},children:[M.jsx("path",{d:"M38 53 C 34 49, 30 53, 38 59 C 46 53, 42 49, 38 53 Z",fill:"#F5DEB3",stroke:"#A0522D",strokeWidth:"1.5"}),M.jsx("path",{d:"M62 53 C 58 49, 54 53, 62 59 C 70 53, 66 49, 62 53 Z",fill:"#F5DEB3",stroke:"#A0522D",strokeWidth:"1.5"})]}),M.jsx("path",{d:"M40 75 Q 50 82, 60 75",stroke:"#696969",strokeWidth:"1.5",fill:"transparent"})]})})},sA=()=>{const[t,e]=Pe.useState(!1),[r,n]=Pe.useState(""),[i,o]=Pe.useState(""),[a,s]=Pe.useState(!1),[l,c]=Pe.useState(null),{addToast:p}=Lg(),[h,f]=Pe.useState("idle"),[u,y]=Pe.useState(0),v=()=>f("email"),b=()=>f("password"),g=()=>f("idle"),m=()=>{y(O=>O+1)},_=async()=>{const{error:O}=await cr.auth.signUp({email:r,password:i});if(O)throw O;p("Check your email for the confirmation link!","success")},x=async()=>{const{error:O}=await cr.auth.signInWithPassword({email:r,password:i});if(O)throw O},A=async()=>{e(!0),c(null);try{const{error:O}=await cr.auth.signInWithOAuth({provider:"google"});if(O)throw O}catch(O){c(O.error_description||O.message),e(!1)}},R=async O=>{O.preventDefault(),e(!0),c(null);try{a?await _():await x()}catch(F){c(F.error_description||F.message)}finally{e(!1)}},T=Math.min(r.length/30,1);return M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:M.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-slate-800 rounded-lg shadow-md",children:[M.jsx(aA,{focusState:h,emailProgress:T,typingCounter:u}),M.jsxs("div",{className:"text-center",children:[M.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Diary"}),M.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:a?"Create a secure, encrypted account.":"Sign in to access your journal."})]}),l&&M.jsx("p",{className:"text-center text-red-500 bg-red-50 dark:bg-red-900/20 dark:text-red-300 p-3 rounded-md",children:l}),M.jsxs("form",{className:"space-y-6",onSubmit:R,children:[M.jsx("input",{type:"email",placeholder:"Your email",value:r,required:!0,onChange:O=>{n(O.target.value),m()},onFocus:v,onBlur:g,onKeyDown:m,className:"w-full px-4 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200"}),M.jsx("input",{type:"password",placeholder:"Your password (min 6 characters)",value:i,required:!0,minLength:6,onChange:O=>{o(O.target.value),m()},onFocus:b,onBlur:g,onKeyDown:m,className:"w-full px-4 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200"}),M.jsx("button",{type:"submit",disabled:t,className:"w-full px-4 py-2 font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 disabled:bg-indigo-300 transition-colors",children:t?"Loading...":a?"Sign Up":"Sign In"})]}),M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"absolute inset-0 flex items-center",children:M.jsx("div",{className:"w-full border-t border-slate-300 dark:border-slate-600"})}),M.jsx("div",{className:"relative flex justify-center text-sm",children:M.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400",children:"Or continue with"})})]}),M.jsxs("button",{type:"button",onClick:A,disabled:t,className:"w-full flex items-center justify-center gap-3 px-4 py-2 border border-slate-300 rounded-md hover:bg-slate-50 disabled:bg-slate-50 dark:border-slate-600 dark:hover:bg-slate-700 dark:disabled:bg-slate-700 transition-colors","aria-label":"Sign in with Google",children:[M.jsxs("svg",{className:"w-5 h-5","aria-hidden":"true",viewBox:"0 0 24 24",children:[M.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),M.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.8 0-5.2-1.89-6.06-4.44H2.36v2.84C4.01 20.44 7.7 23 12 23z",fill:"#34A853"}),M.jsx("path",{d:"M5.94 14.06c-.18-.54-.28-1.11-.28-1.69s.1-1.15.28-1.69V7.84H2.36C1.5 9.49 1 11.18 1 12.87s.5 3.38 1.36 4.96l3.58-2.77z",fill:"#FBBC05"}),M.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 1.33 14.97 0 12 0 7.7 0 4.01 2.56 2.36 6.21l3.58 2.84C6.8 4.73 9.2 2.84 12 5.38z",fill:"#EA4335"})]}),M.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Sign in with Google"})]}),M.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[a?"Already have an account? ":"Don't have an account? ",M.jsx("button",{onClick:()=>{s(!a),c(null)},className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:a?"Sign In":"Sign Up"})]}),M.jsx("p",{className:"text-xs text-center text-slate-400 dark:text-slate-500 pt-2",children:"Note: For security, password reset is not supported. If you forget your password, your encrypted data will be unrecoverable."})]})})},bb="DAILY_DIARY_KEY_CHECK_v1",Od=t=>btoa(String.fromCharCode(...new Uint8Array(t))),n1=t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0)).buffer,_b=new TextEncoder,lA=new TextDecoder,uA=()=>{const t=window.crypto.getRandomValues(new Uint8Array(16));return Od(t.buffer)},xb=async(t,e)=>{const r=_b.encode(t),n=n1(e),i=await window.crypto.subtle.importKey("raw",r,{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:n,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])},Sb=async(t,e)=>{const r=window.crypto.getRandomValues(new Uint8Array(12)),n=_b.encode(e),i=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,n);return{iv:Od(r.buffer),data:Od(i)}},kb=async(t,e,r)=>{const n=n1(r),i=n1(e),o=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:n},t,i);return lA.decode(o)};async function cA(t,e){const{data:r,error:n}=await cr.from("profiles").select("*").eq("id",e).single();if(n||!r)return console.error("Profile not found for user:",e),null;const i=r;try{const o=await xb(t,i.salt);return await kb(o,i.key_check_value,i.key_check_iv)===bb?o:null}catch(o){return console.error("Key derivation or verification failed:",o),null}}const Ab=async t=>{const e=await window.crypto.subtle.exportKey("raw",t);return Od(e)},Nb=Pe.createContext(void 0),fA=({children:t})=>{const[e,r]=Pe.useState(null),n={key:e,setKey:r,deriveAndVerifyKey:cA,encrypt:Sb,decrypt:kb};return M.jsx(Nb.Provider,{value:n,children:t})},Tg=()=>{const t=Pe.useContext(Nb);if(t===void 0)throw new Error("useCrypto must be used within a CryptoProvider");return t},dA="227b57dcb9e272db9e362fee3a14b924";async function hA(t,e){const r=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=${dA}&units=metric`;try{const n=await fetch(r);if(!n.ok)throw new Error(`Weather API request failed with status ${n.status}`);const i=await n.json();return{temp:i.main.temp,description:i.weather[0].description,icon:i.weather[0].icon,location:i.name}}catch(n){return console.error("Could not fetch weather data:",n),null}}const pA=({isVisible:t,onClose:e,activeView:r,onChangeView:n,onNewEntry:i})=>{const o=[{view:"timeline",label:"Timeline",icon:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})},{view:"calendar",label:"Calendar",icon:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{view:"search",label:"Search",icon:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}];return M.jsxs("aside",{className:`bg-[#F4EFE9] dark:bg-slate-900 border-r border-[#EAE1D6] dark:border-slate-800 flex flex-col transition-transform duration-300 ease-in-out w-64 fixed z-30 h-full ${t?"translate-x-0":"-translate-x-full"}`,children:[M.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#EAE1D6] dark:border-slate-800",children:[M.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Diary"}),M.jsx("button",{onClick:e,className:"p-2 rounded-md hover:bg-slate-200/50 dark:hover:bg-slate-700/50",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),M.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[M.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 p-3 rounded-lg text-white font-semibold transition-colors bg-indigo-500 hover:bg-indigo-600",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),M.jsx("span",{children:"New Entry"})]}),M.jsx("div",{className:"pt-4",children:o.map(a=>M.jsxs("button",{onClick:()=>{n(a.view),window.innerWidth<768&&e()},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm font-medium transition-colors ${r===a.view?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-400 hover:bg-slate-200/50 dark:hover:bg-slate-800"}`,children:[a.icon,M.jsx("span",{children:a.label})]},a.view))})]})]})};function zt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function xo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function gA(t,e){const r=zt(t);return isNaN(e)?xo(t,NaN):(r.setDate(r.getDate()+e),r)}const Eb=6048e5,mA=864e5,Ef=43200,Vv=1440;let vA={};function dc(){return vA}function Ja(t,e){var s,l,c,p;const r=dc(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((p=(c=r.locale)==null?void 0:c.options)==null?void 0:p.weekStartsOn)??0,i=zt(t),o=i.getDay(),a=(o<n?7:0)+o-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Ld(t){return Ja(t,{weekStartsOn:1})}function Ob(t){const e=zt(t),r=e.getFullYear(),n=xo(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Ld(n),o=xo(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Ld(o);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function Td(t){const e=zt(t);return e.setHours(0,0,0,0),e}function Pd(t){const e=zt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function yA(t,e){const r=Td(t),n=Td(e),i=+r-Pd(r),o=+n-Pd(n);return Math.round((i-o)/mA)}function wA(t){const e=Ob(t),r=xo(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Ld(r)}function Gf(t,e){const r=zt(t),n=zt(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function rh(t){return xo(t,Date.now())}function Lb(t,e){const r=Td(t),n=Td(e);return+r==+n}function bA(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _A(t){if(!bA(t)&&typeof t!="number")return!1;const e=zt(t);return!isNaN(Number(e))}function xA(t,e){const r=zt(t),n=zt(e),i=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return i*12+o}function SA(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function kA(t,e){return+zt(t)-+zt(e)}function AA(t){const e=zt(t);return e.setHours(23,59,59,999),e}function NA(t){const e=zt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function EA(t){const e=zt(t);return+AA(e)==+NA(e)}function OA(t,e){const r=zt(t),n=zt(e),i=Gf(r,n),o=Math.abs(xA(r,n));let a;if(o<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*o);let s=Gf(r,n)===-i;EA(zt(t))&&o===1&&Gf(t,n)===1&&(s=!1),a=i*(o-Number(s))}return a===0?0:a}function LA(t,e,r){const n=kA(t,e)/1e3;return SA(r==null?void 0:r.roundingMethod)(n)}function TA(t){const e=zt(t),r=xo(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const PA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jA=(t,e,r)=>{let n;const i=PA[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Pp(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const CA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},IA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DA={date:Pp({formats:CA,defaultWidth:"full"}),time:Pp({formats:RA,defaultWidth:"full"}),dateTime:Pp({formats:IA,defaultWidth:"full"})},MA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FA=(t,e,r,n)=>MA[t];function cu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{const a=t.defaultWidth,s=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[s]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const BA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$A={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},WA=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},VA={ordinalNumber:WA,era:cu({values:BA,defaultWidth:"wide"}),quarter:cu({values:qA,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cu({values:UA,defaultWidth:"wide"}),day:cu({values:zA,defaultWidth:"wide"}),dayPeriod:cu({values:$A,defaultWidth:"wide",formattingValues:HA,defaultFormattingWidth:"wide"})};function fu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?KA(s,h=>h.test(a)):GA(s,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const p=e.slice(a.length);return{value:c,rest:p}}}function GA(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function KA(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function YA(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;const s=e.slice(i.length);return{value:a,rest:s}}}const JA=/^(\d+)(th|st|nd|rd)?/i,XA=/\d+/i,QA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZA={any:[/^b/i,/^(a|c)/i]},e6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},t6={any:[/1/i,/2/i,/3/i,/4/i]},r6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},n6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},i6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},o6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},a6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},l6={ordinalNumber:YA({matchPattern:JA,parsePattern:XA,valueCallback:t=>parseInt(t,10)}),era:fu({matchPatterns:QA,defaultMatchWidth:"wide",parsePatterns:ZA,defaultParseWidth:"any"}),quarter:fu({matchPatterns:e6,defaultMatchWidth:"wide",parsePatterns:t6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fu({matchPatterns:r6,defaultMatchWidth:"wide",parsePatterns:n6,defaultParseWidth:"any"}),day:fu({matchPatterns:i6,defaultMatchWidth:"wide",parsePatterns:o6,defaultParseWidth:"any"}),dayPeriod:fu({matchPatterns:a6,defaultMatchWidth:"any",parsePatterns:s6,defaultParseWidth:"any"})},Tb={code:"en-US",formatDistance:jA,formatLong:DA,formatRelative:FA,localize:VA,match:l6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function u6(t){const e=zt(t);return yA(e,TA(e))+1}function c6(t){const e=zt(t),r=+Ld(e)-+wA(e);return Math.round(r/Eb)+1}function Pb(t,e){var p,h,f,u;const r=zt(t),n=r.getFullYear(),i=dc(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((u=(f=i.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??1,a=xo(t,0);a.setFullYear(n+1,0,o),a.setHours(0,0,0,0);const s=Ja(a,e),l=xo(t,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const c=Ja(l,e);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function f6(t,e){var s,l,c,p;const r=dc(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(c=r.locale)==null?void 0:c.options)==null?void 0:p.firstWeekContainsDate)??1,i=Pb(t,e),o=xo(t,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Ja(o,e)}function d6(t,e){const r=zt(t),n=+Ja(r,e)-+f6(r,e);return Math.round(n/Eb)+1}function Dt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Uo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Dt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Dt(r+1,2)},d(t,e){return Dt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Dt(t.getHours()%12||12,e.length)},H(t,e){return Dt(t.getHours(),e.length)},m(t,e){return Dt(t.getMinutes(),e.length)},s(t,e){return Dt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Dt(i,e.length)}},Ts={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gv={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Uo.y(t,e)},Y:function(t,e,r,n){const i=Pb(t,n),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return Dt(a,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):Dt(o,e.length)},R:function(t,e){const r=Ob(t);return Dt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Dt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Dt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Dt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Uo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Dt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=d6(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Dt(i,e.length)},I:function(t,e,r){const n=c6(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Dt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Uo.d(t,e)},D:function(t,e,r){const n=u6(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Dt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Dt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Dt(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Dt(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Ts.noon:n===0?i=Ts.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Ts.evening:n>=12?i=Ts.afternoon:n>=4?i=Ts.morning:i=Ts.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Uo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Uo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Dt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Dt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Uo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Uo.s(t,e)},S:function(t,e){return Uo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Yv(n);case"XXXX":case"XX":return Pa(n);case"XXXXX":case"XXX":default:return Pa(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Yv(n);case"xxxx":case"xx":return Pa(n);case"xxxxx":case"xxx":default:return Pa(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Kv(n,":");case"OOOO":default:return"GMT"+Pa(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Kv(n,":");case"zzzz":default:return"GMT"+Pa(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Dt(n,e.length)},T:function(t,e,r){const n=t.getTime();return Dt(n,e.length)}};function Kv(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+e+Dt(o,2)}function Yv(t,e){return t%60===0?(t>0?"-":"+")+Dt(Math.abs(t)/60,2):Pa(t,e)}function Pa(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Dt(Math.trunc(n/60),2),o=Dt(n%60,2);return r+i+e+o}const Jv=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jb=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},h6=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Jv(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Jv(n,e)).replace("{{time}}",jb(i,e))},p6={p:jb,P:h6},g6=/^D+$/,m6=/^Y+$/,v6=["D","DD","YY","YYYY"];function y6(t){return g6.test(t)}function w6(t){return m6.test(t)}function b6(t,e,r){const n=_6(t,e,r);if(console.warn(n),v6.includes(t))throw new RangeError(n)}function _6(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const x6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,k6=/^'([^]*?)'?$/,A6=/''/g,N6=/[a-zA-Z]/;function ic(t,e,r){var p,h,f,u;const n=dc(),i=n.locale??Tb,o=n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,s=zt(t);if(!_A(s))throw new RangeError("Invalid time value");let l=e.match(S6).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=p6[v];return b(y,i.formatLong)}return y}).join("").match(x6).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:E6(y)};if(Gv[v])return{isToken:!0,value:y};if(v.match(N6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const v=y.value;(w6(v)||y6(v))&&b6(v,e,String(t));const b=Gv[v[0]];return b(s,v,i.localize,c)}).join("")}function E6(t){const e=t.match(k6);return e?e[1].replace(A6,"'"):t}function O6(t,e,r){const n=dc(),i=(r==null?void 0:r.locale)??n.locale??Tb,o=2520,a=Gf(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const s=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let l,c;a>0?(l=zt(e),c=zt(t)):(l=zt(t),c=zt(e));const p=LA(c,l),h=(Pd(c)-Pd(l))/1e3,f=Math.round((p-h)/60);let u;if(f<2)return r!=null&&r.includeSeconds?p<5?i.formatDistance("lessThanXSeconds",5,s):p<10?i.formatDistance("lessThanXSeconds",10,s):p<20?i.formatDistance("lessThanXSeconds",20,s):p<40?i.formatDistance("halfAMinute",0,s):p<60?i.formatDistance("lessThanXMinutes",1,s):i.formatDistance("xMinutes",1,s):f===0?i.formatDistance("lessThanXMinutes",1,s):i.formatDistance("xMinutes",f,s);if(f<45)return i.formatDistance("xMinutes",f,s);if(f<90)return i.formatDistance("aboutXHours",1,s);if(f<Vv){const y=Math.round(f/60);return i.formatDistance("aboutXHours",y,s)}else{if(f<o)return i.formatDistance("xDays",1,s);if(f<Ef){const y=Math.round(f/Vv);return i.formatDistance("xDays",y,s)}else if(f<Ef*2)return u=Math.round(f/Ef),i.formatDistance("aboutXMonths",u,s)}if(u=OA(c,l),u<12){const y=Math.round(f/Ef);return i.formatDistance("xMonths",y,s)}else{const y=u%12,v=Math.trunc(u/12);return y<3?i.formatDistance("aboutXYears",v,s):y<9?i.formatDistance("overXYears",v,s):i.formatDistance("almostXYears",v+1,s)}}function Cb(t,e){return O6(t,rh(t),e)}function L6(t,e,r){const n=Ja(t,r),i=Ja(e,r);return+n==+i}function T6(t,e){return L6(t,rh(t),e)}function P6(t){return Lb(t,rh(t))}function j6(t,e){return gA(t,-1)}function C6(t){return Lb(t,j6(rh(t)))}const R6=({status:t})=>{const e={encrypting:{text:"Encrypting...",icon:M.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})},synced:{text:"Synced",icon:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})},error:{text:"Error",icon:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}},{text:r,icon:n}=e[t];return M.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:[n,M.jsx("span",{children:r})]})},I6=({isEditing:t,onSave:e,onCancel:r,currentDate:n,weather:i,theme:o,onToggleTheme:a,saveStatus:s,profile:l,onShowProfile:c,isToolsPanelVisible:p,onToggleToolsPanel:h,isLeftSidebarVisible:f})=>{const[u,y]=Pe.useState(new Date);return Pe.useEffect(()=>{const v=setInterval(()=>{y(new Date)},6e4);return()=>clearInterval(v)},[]),M.jsx("header",{className:"bg-white/80 dark:bg-slate-900/50 backdrop-blur-sm border-b border-[#EAE1D6] dark:border-slate-800 h-16 flex-shrink-0 relative z-20",children:M.jsxs("div",{className:"h-full flex items-center justify-between px-6",children:[M.jsxs("div",{className:`flex items-center gap-4 text-sm text-slate-600 dark:text-slate-300 transition-all duration-300 ${f?"":"pl-16"}`,children:[M.jsx("span",{className:"font-semibold",children:ic(u,"p")}),M.jsx("span",{className:"font-semibold",children:ic(n,"MMMM d, yyyy")}),i&&M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full"}),M.jsxs("span",{children:[i.location,", ",Math.round(i.temp),"C"]})]})]}),M.jsx("div",{className:"flex items-center gap-4",children:t?M.jsxs(M.Fragment,{children:[M.jsx(R6,{status:s}),M.jsx("button",{onClick:r,className:"px-4 py-1.5 text-sm font-semibold rounded-md hover:bg-slate-100 dark:hover:bg-slate-700",children:"Cancel"}),M.jsx("button",{onClick:e,className:"px-4 py-1.5 text-sm font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600",children:"Save"})]}):M.jsx("div",{className:"h-9"})}),M.jsxs("div",{className:"flex items-center gap-4",children:[t&&M.jsx("button",{onClick:h,title:"Toggle Tools Panel",className:`p-2 rounded-full transition-colors ${p?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600":"hover:bg-slate-200/50 dark:hover:bg-slate-700/50 text-slate-500"}`,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),M.jsx("button",{onClick:a,title:"Toggle Theme",className:"p-2 rounded-full hover:bg-slate-200/50 dark:hover:bg-slate-700/50 text-slate-500 dark:text-slate-400",children:o==="dark"?M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 14.464A1 1 0 106.465 13.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zm-1.414-2.12a1 1 0 011.414 0l.707.707a1 1 0 11-1.414 1.414l-.707-.707a1 1 0 010-1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z",clipRule:"evenodd"})})}),M.jsx("button",{onClick:c,title:"Profile & Settings",className:"w-9 h-9 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden flex items-center justify-center hover:ring-2 ring-indigo-500 ring-offset-2 ring-offset-white dark:ring-offset-slate-900 transition-all",children:l!=null&&l.avatar_url?M.jsx("img",{src:l.avatar_url,alt:"User avatar",className:"w-full h-full object-cover"}):M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})]})]})})},D6=({wordCount:t,characterCount:e,saveStatus:r})=>{const n={encrypting:{text:"Encrypting...",classes:"text-yellow-600 dark:text-yellow-400"},synced:{text:"Synced",classes:"text-green-600 dark:text-green-400"},error:{text:"Save Error",classes:"text-red-600 dark:text-red-400"}};return M.jsx("footer",{className:"bg-white/80 dark:bg-slate-900/50 backdrop-blur-sm border-t border-[#EAE1D6] dark:border-slate-800 h-10 flex-shrink-0",children:M.jsxs("div",{className:"h-full flex items-center justify-between px-6 text-sm text-slate-500 dark:text-slate-400",children:[M.jsx("div",{children:M.jsxs("span",{children:[t," words / ",e," characters"]})}),M.jsx("div",{className:`font-semibold ${n[r].classes}`,children:n[r].text})]})})},M6=["","","","","","","",""],F6=({entry:t,onUpdateEntry:e,editorFont:r,onFontChange:n,onImageUpload:i,isUploadingImage:o,selectedImageFormat:a,onImageFormatChange:s})=>{const l=typeof t=="object"?t.mood:void 0,c=typeof t=="object"?t.tags||[]:[],p=Pe.useRef(null),h=()=>{var v;(v=p.current)==null||v.click()},f=v=>{var g;const b=(g=v.target.files)==null?void 0:g[0];b&&i(b),p.current&&(p.current.value="")},u=v=>{e({tags:v})},y=v=>{e({mood:v===l?void 0:v})};return M.jsxs("aside",{className:"w-64 bg-white/80 dark:bg-slate-900/50 border-l border-[#EAE1D6] dark:border-slate-800 p-4 space-y-6 flex-shrink-0 transition-transform duration-300 ease-in-out transform translate-x-0 overflow-y-auto",children:[M.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Tools"}),M.jsxs("div",{className:"space-y-4",children:[M.jsx("input",{type:"file",ref:p,onChange:f,className:"hidden",accept:"image/*"}),M.jsx("button",{onClick:h,disabled:o,className:"w-full flex items-center justify-center gap-3 p-2 rounded-md text-sm text-slate-700 dark:text-slate-300 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:o?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),M.jsx("span",{children:"Uploading..."})]}):M.jsxs(M.Fragment,{children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),M.jsx("span",{children:"Insert Image"})]})}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Font Style"}),M.jsxs("div",{className:"flex flex-col gap-1",children:[M.jsx("button",{onClick:()=>n("serif"),className:`w-full text-left p-2 rounded-md text-sm font-serif transition-colors ${r==="serif"?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"Serif (Lora)"}),M.jsx("button",{onClick:()=>n("sans"),className:`w-full text-left p-2 rounded-md text-sm font-sans transition-colors ${r==="sans"?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"Sans-Serif"}),M.jsx("button",{onClick:()=>n("mono"),className:`w-full text-left p-2 rounded-md text-sm font-mono transition-colors ${r==="mono"?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"Monospace"})]})]})]}),a&&M.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6 space-y-4",children:[M.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Image Tools"}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Size"}),M.jsx("div",{className:"grid grid-cols-4 gap-1",children:["25%","50%","75%","100%"].map(v=>M.jsx("button",{onClick:()=>s({width:v}),className:`p-2 text-xs rounded-md ${a.width===v?"bg-indigo-500 text-white":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,children:v},v))})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Alignment"}),M.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[M.jsx("button",{onClick:()=>s({align:!1,float:"left",margin:"0.5em 1em 0.5em 0"}),className:`p-2 rounded-md flex justify-center ${a.float==="left"?"bg-indigo-500 text-white":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M2 5a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1zM2 9a1 1 0 011-1h5a1 1 0 110 2H3a1 1 0 01-1-1zm7 4a1 1 0 011-1h5a1 1 0 110 2h-5a1 1 0 01-1-1z",clipRule:"evenodd"})})}),M.jsx("button",{onClick:()=>s({align:"center",float:!1,margin:!1}),className:`p-2 rounded-md flex justify-center ${a.align==="center"?"bg-indigo-500 text-white":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M2 5a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1zM2 9a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1zm1 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),M.jsx("button",{onClick:()=>s({align:!1,float:"right",margin:"0.5em 0 0.5em 1em"}),className:`p-2 rounded-md flex justify-center ${a.float==="right"?"bg-indigo-500 text-white":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M2 5a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1zm0 4a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1zm7 4a1 1 0 011-1h5a1 1 0 110 2h-5a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})]}),M.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6 space-y-4",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Mood"}),M.jsx("div",{className:"grid grid-cols-4 gap-2",children:M6.map(v=>M.jsx("button",{type:"button",onClick:()=>y(v),className:`text-2xl p-2 rounded-md transition-all ${l===v?"bg-indigo-100 dark:bg-indigo-500/50 scale-110":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:v},v))})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Tags"}),M.jsx("textarea",{value:c.join(", "),onChange:v=>u(v.target.value.split(",").map(b=>b.trim()).filter(Boolean)),placeholder:"travel, work...",className:"w-full h-20 p-2 text-sm rounded-md bg-slate-100 dark:bg-slate-800 border-transparent focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]})]})},B6=({entries:t,onSelectEntry:e})=>t.length===0?null:M.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-slate-800/50 dark:to-slate-800/50 p-6 rounded-lg border border-indigo-200 dark:border-slate-700 shadow-sm",children:[M.jsxs("h3",{className:"text-lg font-bold text-indigo-800 dark:text-indigo-300 mb-4 flex items-center gap-2",children:[M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l-3-3m0 0l3-3m-3 3h9"})]}),"On This Day..."]}),M.jsx("div",{className:"space-y-3",children:t.map(r=>{const n=new Date(r.created_at).getFullYear(),i=new Date().getFullYear()-n;return M.jsxs("div",{onClick:()=>e(r.id),className:"bg-white/60 dark:bg-slate-700/50 p-3 rounded-md cursor-pointer hover:bg-white dark:hover:bg-slate-700 transition-colors flex justify-between items-center",children:[M.jsxs("div",{children:[M.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:r.title}),M.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[i," year",i>1?"s":""," ago"]})]}),M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]},r.id)})})]}),Rb=t=>{try{const e=new Date(t);return P6(e)?Cb(e,{addSuffix:!0}):C6(e)?"Yesterday":T6(e,{weekStartsOn:0})?ic(e,"EEEE"):ic(e,"MMMM d, yyyy")}catch(e){return console.error("Error formatting date:",t,e),"Invalid date"}},q6=t=>{try{const e=new Date(t);return ic(e,"EEEE, MMMM d, yyyy 'at' p")}catch(e){return console.error("Error formatting full date:",t,e),"Invalid date"}},U6=t=>{try{const e=new Date(t);return Cb(e,{addSuffix:!0})}catch(e){return console.error("Error formatting relative time:",t,e),"Invalid time"}},z6=({entry:t,onSelect:e,onLoadContent:r})=>{const n=Pe.useRef(null);Pe.useEffect(()=>{if(t.isDecrypted||t.isLoading)return;const o=new IntersectionObserver(a=>{a[0].isIntersecting&&(r(t.id),o.disconnect())},{rootMargin:"100px"});return n.current&&o.observe(n.current),()=>o.disconnect()},[t.id,t.isDecrypted,t.isLoading,r]);const i=o=>new DOMParser().parseFromString(o,"text/html").body.textContent||"";return M.jsxs("div",{ref:n,onClick:e,className:"bg-white/50 dark:bg-slate-800/50 p-6 rounded-lg shadow-sm hover:shadow-lg transition-shadow duration-300 cursor-pointer border border-slate-200 dark:border-slate-700 hover:border-indigo-300 dark:hover:border-indigo-600",children:[M.jsxs("div",{className:"flex justify-between items-start gap-4",children:[t.isDecrypted?M.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:t.title||"Untitled"}):M.jsx("div",{className:"h-7 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"}),M.jsxs("div",{className:"text-right flex-shrink-0",children:[M.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 whitespace-nowrap",title:new Date(t.created_at).toLocaleString(),children:Rb(t.created_at)}),t.mood&&M.jsx("span",{className:"text-lg block mt-1","aria-label":`Mood: ${t.mood}`,children:t.mood})]})]}),t.tags&&t.tags.length>0&&M.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.tags.map(o=>M.jsx("span",{className:"text-xs font-medium bg-indigo-100 text-indigo-800 px-2 py-0.5 rounded-full dark:bg-indigo-900/50 dark:text-indigo-300",children:o},o))}),M.jsx("div",{className:"mt-3",children:t.isDecrypted?M.jsx("p",{className:"text-slate-600 dark:text-slate-300 line-clamp-2",children:i(t.content)}):M.jsxs("div",{className:"space-y-2 animate-pulse mt-2",children:[M.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),M.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]})})]})},$6=({entries:t,onSelectEntry:e,onLoadContent:r,onThisDayEntries:n,profile:i,filteredDate:o,onClearFilter:a})=>t.length===0?o?M.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-20 w-20 text-slate-300 dark:text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 4h-4m-4-4h-4"})]}),M.jsxs("h2",{className:"mt-6 text-2xl font-bold text-slate-700 dark:text-slate-200",children:["No entries found for ",o.toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric"}),"."]}),M.jsx("button",{onClick:a,className:"mt-4 text-indigo-600 dark:text-indigo-400 hover:underline font-semibold",children:"Show All Entries"})]}):M.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-20 w-20 text-slate-300 dark:text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v11.494m-9-5.747h18"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]}),M.jsxs("h2",{className:"mt-6 text-3xl font-bold text-slate-700 dark:text-slate-200",children:["Welcome to Diary, ",(i==null?void 0:i.full_name)||"friend","!"]}),M.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"This is your private, encrypted space to reflect and record."}),M.jsx("p",{className:"mt-4 text-slate-500 dark:text-slate-400",children:'Click "New Entry" to write your first post.'})]}):M.jsxs("div",{className:"space-y-6",children:[o?M.jsxs("div",{className:"bg-indigo-50 dark:bg-slate-800/50 p-4 rounded-lg border border-indigo-200 dark:border-slate-700 flex justify-between items-center",children:[M.jsxs("h3",{className:"text-lg font-bold text-indigo-800 dark:text-indigo-300",children:["Showing entries for ",o.toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric"})]}),M.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-sm font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Show All"]})]}):M.jsx(B6,{entries:n,onSelectEntry:e}),!o&&M.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:["Welcome back, ",(i==null?void 0:i.full_name)||"friend","!"]}),M.jsx("div",{className:"space-y-4",children:t.map(s=>M.jsx(z6,{entry:s,onSelect:()=>e(s.id),onLoadContent:r},s.id))})]});/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Ib,setPrototypeOf:Xv,isFrozen:H6,getPrototypeOf:W6,getOwnPropertyDescriptor:V6}=Object;let{freeze:gn,seal:gi,create:i1}=Object,{apply:o1,construct:a1}=typeof Reflect<"u"&&Reflect;gn||(gn=function(e){return e});gi||(gi=function(e){return e});o1||(o1=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return e.apply(r,i)});a1||(a1=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new e(...n)});const Of=mn(Array.prototype.forEach),G6=mn(Array.prototype.lastIndexOf),Qv=mn(Array.prototype.pop),du=mn(Array.prototype.push),K6=mn(Array.prototype.splice),Kf=mn(String.prototype.toLowerCase),jp=mn(String.prototype.toString),Cp=mn(String.prototype.match),hu=mn(String.prototype.replace),Y6=mn(String.prototype.indexOf),J6=mn(String.prototype.trim),Ai=mn(Object.prototype.hasOwnProperty),fn=mn(RegExp.prototype.test),pu=X6(TypeError);function mn(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o1(t,e,n)}}function X6(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return a1(t,r)}}function St(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Kf;Xv&&Xv(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const o=r(i);o!==i&&(H6(e)||(e[n]=o),i=o)}t[i]=!0}return t}function Q6(t){for(let e=0;e<t.length;e++)Ai(t,e)||(t[e]=null);return t}function co(t){const e=i1(null);for(const[r,n]of Ib(t))Ai(t,r)&&(Array.isArray(n)?e[r]=Q6(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=co(n):e[r]=n);return e}function gu(t,e){for(;t!==null;){const n=V6(t,e);if(n){if(n.get)return mn(n.get);if(typeof n.value=="function")return mn(n.value)}t=W6(t)}function r(){return null}return r}const Zv=gn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Rp=gn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ip=gn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Z6=gn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Dp=gn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),eN=gn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),e2=gn(["#text"]),t2=gn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Mp=gn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),r2=gn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lf=gn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tN=gi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),rN=gi(/<%[\w\W]*|[\w\W]*%>/gm),nN=gi(/\$\{[\w\W]*/gm),iN=gi(/^data-[\-\w.\u00B7-\uFFFF]+$/),oN=gi(/^aria-[\-\w]+$/),Db=gi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),aN=gi(/^(?:\w+script|data):/i),sN=gi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mb=gi(/^html$/i),lN=gi(/^[a-z][.\w]*(-[.\w]+)+$/i);var n2=Object.freeze({__proto__:null,ARIA_ATTR:oN,ATTR_WHITESPACE:sN,CUSTOM_ELEMENT:lN,DATA_ATTR:iN,DOCTYPE_NAME:Mb,ERB_EXPR:rN,IS_ALLOWED_URI:Db,IS_SCRIPT_OR_DATA:aN,MUSTACHE_EXPR:tN,TMPLIT_EXPR:nN});const mu={element:1,text:3,progressingInstruction:7,comment:8,document:9},uN=function(){return typeof window>"u"?null:window},cN=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},i2=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Fb(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uN();const e=Ze=>Fb(Ze);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==mu.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:s,Element:l,NodeFilter:c,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:u}=t,y=l.prototype,v=gu(y,"cloneNode"),b=gu(y,"remove"),g=gu(y,"nextSibling"),m=gu(y,"childNodes"),_=gu(y,"parentNode");if(typeof a=="function"){const Ze=r.createElement("template");Ze.content&&Ze.content.ownerDocument&&(r=Ze.content.ownerDocument)}let x,A="";const{implementation:R,createNodeIterator:T,createDocumentFragment:O,getElementsByTagName:F}=r,{importNode:C}=n;let S=i2();e.isSupported=typeof Ib=="function"&&typeof _=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:N,ERB_EXPR:P,TMPLIT_EXPR:D,DATA_ATTR:G,ARIA_ATTR:ee,IS_SCRIPT_OR_DATA:te,ATTR_WHITESPACE:Q,CUSTOM_ELEMENT:Y}=n2;let{IS_ALLOWED_URI:W}=n2,q=null;const L=St({},[...Zv,...Rp,...Ip,...Dp,...e2]);let I=null;const $=St({},[...t2,...Mp,...r2,...Lf]);let H=Object.seal(i1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),B=null,J=null;const re=Object.seal(i1(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ne=!0,de=!0,me=!1,Oe=!0,Ne=!1,Me=!0,we=!1,ae=!1,Ke=!1,he=!1,se=!1,be=!1,Se=!0,ve=!1;const Ie="user-content-";let Be=!0,Ue=!1,et={},lt=null;const rt=St({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ot=null;const Qe=St({},["audio","video","img","source","image","track"]);let ze=null;const hr=St({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_t="http://www.w3.org/1998/Math/MathML",pr="http://www.w3.org/2000/svg",ke="http://www.w3.org/1999/xhtml";let qe=ke,it=!1,We=null;const xt=St({},[_t,pr,ke],jp);let gt=St({},["mi","mo","mn","ms","mtext"]),Pt=St({},["annotation-xml"]);const rr=St({},["title","style","font","a","script"]);let bt=null;const ct=["application/xhtml+xml","text/html"],Nt="text/html";let Bt=null,Zt=null;const ei=r.createElement("form"),Rn=function(ue){return ue instanceof RegExp||ue instanceof Function},st=function(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Zt&&Zt===ue)){if((!ue||typeof ue!="object")&&(ue={}),ue=co(ue),bt=ct.indexOf(ue.PARSER_MEDIA_TYPE)===-1?Nt:ue.PARSER_MEDIA_TYPE,Bt=bt==="application/xhtml+xml"?jp:Kf,q=Ai(ue,"ALLOWED_TAGS")?St({},ue.ALLOWED_TAGS,Bt):L,I=Ai(ue,"ALLOWED_ATTR")?St({},ue.ALLOWED_ATTR,Bt):$,We=Ai(ue,"ALLOWED_NAMESPACES")?St({},ue.ALLOWED_NAMESPACES,jp):xt,ze=Ai(ue,"ADD_URI_SAFE_ATTR")?St(co(hr),ue.ADD_URI_SAFE_ATTR,Bt):hr,ot=Ai(ue,"ADD_DATA_URI_TAGS")?St(co(Qe),ue.ADD_DATA_URI_TAGS,Bt):Qe,lt=Ai(ue,"FORBID_CONTENTS")?St({},ue.FORBID_CONTENTS,Bt):rt,B=Ai(ue,"FORBID_TAGS")?St({},ue.FORBID_TAGS,Bt):co({}),J=Ai(ue,"FORBID_ATTR")?St({},ue.FORBID_ATTR,Bt):co({}),et=Ai(ue,"USE_PROFILES")?ue.USE_PROFILES:!1,ne=ue.ALLOW_ARIA_ATTR!==!1,de=ue.ALLOW_DATA_ATTR!==!1,me=ue.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=ue.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ne=ue.SAFE_FOR_TEMPLATES||!1,Me=ue.SAFE_FOR_XML!==!1,we=ue.WHOLE_DOCUMENT||!1,he=ue.RETURN_DOM||!1,se=ue.RETURN_DOM_FRAGMENT||!1,be=ue.RETURN_TRUSTED_TYPE||!1,Ke=ue.FORCE_BODY||!1,Se=ue.SANITIZE_DOM!==!1,ve=ue.SANITIZE_NAMED_PROPS||!1,Be=ue.KEEP_CONTENT!==!1,Ue=ue.IN_PLACE||!1,W=ue.ALLOWED_URI_REGEXP||Db,qe=ue.NAMESPACE||ke,gt=ue.MATHML_TEXT_INTEGRATION_POINTS||gt,Pt=ue.HTML_INTEGRATION_POINTS||Pt,H=ue.CUSTOM_ELEMENT_HANDLING||{},ue.CUSTOM_ELEMENT_HANDLING&&Rn(ue.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=ue.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ue.CUSTOM_ELEMENT_HANDLING&&Rn(ue.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=ue.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ue.CUSTOM_ELEMENT_HANDLING&&typeof ue.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(H.allowCustomizedBuiltInElements=ue.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ne&&(de=!1),se&&(he=!0),et&&(q=St({},e2),I=[],et.html===!0&&(St(q,Zv),St(I,t2)),et.svg===!0&&(St(q,Rp),St(I,Mp),St(I,Lf)),et.svgFilters===!0&&(St(q,Ip),St(I,Mp),St(I,Lf)),et.mathMl===!0&&(St(q,Dp),St(I,r2),St(I,Lf))),ue.ADD_TAGS&&(typeof ue.ADD_TAGS=="function"?re.tagCheck=ue.ADD_TAGS:(q===L&&(q=co(q)),St(q,ue.ADD_TAGS,Bt))),ue.ADD_ATTR&&(typeof ue.ADD_ATTR=="function"?re.attributeCheck=ue.ADD_ATTR:(I===$&&(I=co(I)),St(I,ue.ADD_ATTR,Bt))),ue.ADD_URI_SAFE_ATTR&&St(ze,ue.ADD_URI_SAFE_ATTR,Bt),ue.FORBID_CONTENTS&&(lt===rt&&(lt=co(lt)),St(lt,ue.FORBID_CONTENTS,Bt)),Be&&(q["#text"]=!0),we&&St(q,["html","head","body"]),q.table&&(St(q,["tbody"]),delete B.tbody),ue.TRUSTED_TYPES_POLICY){if(typeof ue.TRUSTED_TYPES_POLICY.createHTML!="function")throw pu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ue.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=ue.TRUSTED_TYPES_POLICY,A=x.createHTML("")}else x===void 0&&(x=cN(u,i)),x!==null&&typeof A=="string"&&(A=x.createHTML(""));gn&&gn(ue),Zt=ue}},wn=St({},[...Rp,...Ip,...Z6]),In=St({},[...Dp,...eN]),Gr=function(ue){let De=_(ue);(!De||!De.tagName)&&(De={namespaceURI:qe,tagName:"template"});const Ye=Kf(ue.tagName),Ct=Kf(De.tagName);return We[ue.namespaceURI]?ue.namespaceURI===pr?De.namespaceURI===ke?Ye==="svg":De.namespaceURI===_t?Ye==="svg"&&(Ct==="annotation-xml"||gt[Ct]):!!wn[Ye]:ue.namespaceURI===_t?De.namespaceURI===ke?Ye==="math":De.namespaceURI===pr?Ye==="math"&&Pt[Ct]:!!In[Ye]:ue.namespaceURI===ke?De.namespaceURI===pr&&!Pt[Ct]||De.namespaceURI===_t&&!gt[Ct]?!1:!In[Ye]&&(rr[Ye]||!wn[Ye]):!!(bt==="application/xhtml+xml"&&We[ue.namespaceURI]):!1},jt=function(ue){du(e.removed,{element:ue});try{_(ue).removeChild(ue)}catch{b(ue)}},qt=function(ue,De){try{du(e.removed,{attribute:De.getAttributeNode(ue),from:De})}catch{du(e.removed,{attribute:null,from:De})}if(De.removeAttribute(ue),ue==="is")if(he||se)try{jt(De)}catch{}else try{De.setAttribute(ue,"")}catch{}},Kr=function(ue){let De=null,Ye=null;if(Ke)ue="<remove></remove>"+ue;else{const er=Cp(ue,/^[\r\n\t ]+/);Ye=er&&er[0]}bt==="application/xhtml+xml"&&qe===ke&&(ue='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ue+"</body></html>");const Ct=x?x.createHTML(ue):ue;if(qe===ke)try{De=new f().parseFromString(Ct,bt)}catch{}if(!De||!De.documentElement){De=R.createDocument(qe,"template",null);try{De.documentElement.innerHTML=it?A:Ct}catch{}}const Ar=De.body||De.documentElement;return ue&&Ye&&Ar.insertBefore(r.createTextNode(Ye),Ar.childNodes[0]||null),qe===ke?F.call(De,we?"html":"body")[0]:we?De.documentElement:Ar},Xi=function(ue){return T.call(ue.ownerDocument||ue,ue,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Dn=function(ue){return ue instanceof h&&(typeof ue.nodeName!="string"||typeof ue.textContent!="string"||typeof ue.removeChild!="function"||!(ue.attributes instanceof p)||typeof ue.removeAttribute!="function"||typeof ue.setAttribute!="function"||typeof ue.namespaceURI!="string"||typeof ue.insertBefore!="function"||typeof ue.hasChildNodes!="function")},bn=function(ue){return typeof s=="function"&&ue instanceof s};function gr(Ze,ue,De){Of(Ze,Ye=>{Ye.call(e,ue,De,Zt)})}const _n=function(ue){let De=null;if(gr(S.beforeSanitizeElements,ue,null),Dn(ue))return jt(ue),!0;const Ye=Bt(ue.nodeName);if(gr(S.uponSanitizeElement,ue,{tagName:Ye,allowedTags:q}),Me&&ue.hasChildNodes()&&!bn(ue.firstElementChild)&&fn(/<[/\w!]/g,ue.innerHTML)&&fn(/<[/\w!]/g,ue.textContent)||ue.nodeType===mu.progressingInstruction||Me&&ue.nodeType===mu.comment&&fn(/<[/\w]/g,ue.data))return jt(ue),!0;if(!(re.tagCheck instanceof Function&&re.tagCheck(Ye))&&(!q[Ye]||B[Ye])){if(!B[Ye]&&sn(Ye)&&(H.tagNameCheck instanceof RegExp&&fn(H.tagNameCheck,Ye)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Ye)))return!1;if(Be&&!lt[Ye]){const Ct=_(ue)||ue.parentNode,Ar=m(ue)||ue.childNodes;if(Ar&&Ct){const er=Ar.length;for(let mr=er-1;mr>=0;--mr){const xn=v(Ar[mr],!0);xn.__removalCount=(ue.__removalCount||0)+1,Ct.insertBefore(xn,g(ue))}}}return jt(ue),!0}return ue instanceof l&&!Gr(ue)||(Ye==="noscript"||Ye==="noembed"||Ye==="noframes")&&fn(/<\/no(script|embed|frames)/i,ue.innerHTML)?(jt(ue),!0):(Ne&&ue.nodeType===mu.text&&(De=ue.textContent,Of([N,P,D],Ct=>{De=hu(De,Ct," ")}),ue.textContent!==De&&(du(e.removed,{element:ue.cloneNode()}),ue.textContent=De)),gr(S.afterSanitizeElements,ue,null),!1)},Mn=function(ue,De,Ye){if(Se&&(De==="id"||De==="name")&&(Ye in r||Ye in ei))return!1;if(!(de&&!J[De]&&fn(G,De))){if(!(ne&&fn(ee,De))){if(!(re.attributeCheck instanceof Function&&re.attributeCheck(De,ue))){if(!I[De]||J[De]){if(!(sn(ue)&&(H.tagNameCheck instanceof RegExp&&fn(H.tagNameCheck,ue)||H.tagNameCheck instanceof Function&&H.tagNameCheck(ue))&&(H.attributeNameCheck instanceof RegExp&&fn(H.attributeNameCheck,De)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(De,ue))||De==="is"&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&fn(H.tagNameCheck,Ye)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Ye))))return!1}else if(!ze[De]){if(!fn(W,hu(Ye,Q,""))){if(!((De==="src"||De==="xlink:href"||De==="href")&&ue!=="script"&&Y6(Ye,"data:")===0&&ot[ue])){if(!(me&&!fn(te,hu(Ye,Q,"")))){if(Ye)return!1}}}}}}}return!0},sn=function(ue){return ue!=="annotation-xml"&&Cp(ue,Y)},Fn=function(ue){gr(S.beforeSanitizeAttributes,ue,null);const{attributes:De}=ue;if(!De||Dn(ue))return;const Ye={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I,forceKeepAttr:void 0};let Ct=De.length;for(;Ct--;){const Ar=De[Ct],{name:er,namespaceURI:mr,value:xn}=Ar,Di=Bt(er),Zi=xn;let vr=er==="value"?Zi:J6(Zi);if(Ye.attrName=Di,Ye.attrValue=vr,Ye.keepAttr=!0,Ye.forceKeepAttr=void 0,gr(S.uponSanitizeAttribute,ue,Ye),vr=Ye.attrValue,ve&&(Di==="id"||Di==="name")&&(qt(er,ue),vr=Ie+vr),Me&&fn(/((--!?|])>)|<\/(style|title|textarea)/i,vr)){qt(er,ue);continue}if(Di==="attributename"&&Cp(vr,"href")){qt(er,ue);continue}if(Ye.forceKeepAttr)continue;if(!Ye.keepAttr){qt(er,ue);continue}if(!Oe&&fn(/\/>/i,vr)){qt(er,ue);continue}Ne&&Of([N,P,D],es=>{vr=hu(vr,es," ")});const ga=Bt(ue.nodeName);if(!Mn(ga,Di,vr)){qt(er,ue);continue}if(x&&typeof u=="object"&&typeof u.getAttributeType=="function"&&!mr)switch(u.getAttributeType(ga,Di)){case"TrustedHTML":{vr=x.createHTML(vr);break}case"TrustedScriptURL":{vr=x.createScriptURL(vr);break}}if(vr!==Zi)try{mr?ue.setAttributeNS(mr,er,vr):ue.setAttribute(er,vr),Dn(ue)?jt(ue):Qv(e.removed)}catch{qt(er,ue)}}gr(S.afterSanitizeAttributes,ue,null)},Qi=function Ze(ue){let De=null;const Ye=Xi(ue);for(gr(S.beforeSanitizeShadowDOM,ue,null);De=Ye.nextNode();)gr(S.uponSanitizeShadowNode,De,null),_n(De),Fn(De),De.content instanceof o&&Ze(De.content);gr(S.afterSanitizeShadowDOM,ue,null)};return e.sanitize=function(Ze){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=null,Ye=null,Ct=null,Ar=null;if(it=!Ze,it&&(Ze="<!-->"),typeof Ze!="string"&&!bn(Ze))if(typeof Ze.toString=="function"){if(Ze=Ze.toString(),typeof Ze!="string")throw pu("dirty is not a string, aborting")}else throw pu("toString is not a function");if(!e.isSupported)return Ze;if(ae||st(ue),e.removed=[],typeof Ze=="string"&&(Ue=!1),Ue){if(Ze.nodeName){const xn=Bt(Ze.nodeName);if(!q[xn]||B[xn])throw pu("root node is forbidden and cannot be sanitized in-place")}}else if(Ze instanceof s)De=Kr("<!---->"),Ye=De.ownerDocument.importNode(Ze,!0),Ye.nodeType===mu.element&&Ye.nodeName==="BODY"||Ye.nodeName==="HTML"?De=Ye:De.appendChild(Ye);else{if(!he&&!Ne&&!we&&Ze.indexOf("<")===-1)return x&&be?x.createHTML(Ze):Ze;if(De=Kr(Ze),!De)return he?null:be?A:""}De&&Ke&&jt(De.firstChild);const er=Xi(Ue?Ze:De);for(;Ct=er.nextNode();)_n(Ct),Fn(Ct),Ct.content instanceof o&&Qi(Ct.content);if(Ue)return Ze;if(he){if(se)for(Ar=O.call(De.ownerDocument);De.firstChild;)Ar.appendChild(De.firstChild);else Ar=De;return(I.shadowroot||I.shadowrootmode)&&(Ar=C.call(n,Ar,!0)),Ar}let mr=we?De.outerHTML:De.innerHTML;return we&&q["!doctype"]&&De.ownerDocument&&De.ownerDocument.doctype&&De.ownerDocument.doctype.name&&fn(Mb,De.ownerDocument.doctype.name)&&(mr="<!DOCTYPE "+De.ownerDocument.doctype.name+`>
`+mr),Ne&&Of([N,P,D],xn=>{mr=hu(mr,xn," ")}),x&&be?x.createHTML(mr):mr},e.setConfig=function(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};st(Ze),ae=!0},e.clearConfig=function(){Zt=null,ae=!1},e.isValidAttribute=function(Ze,ue,De){Zt||st({});const Ye=Bt(Ze),Ct=Bt(ue);return Mn(Ye,Ct,De)},e.addHook=function(Ze,ue){typeof ue=="function"&&du(S[Ze],ue)},e.removeHook=function(Ze,ue){if(ue!==void 0){const De=G6(S[Ze],ue);return De===-1?void 0:K6(S[Ze],De,1)[0]}return Qv(S[Ze])},e.removeHooks=function(Ze){S[Ze]=[]},e.removeAllHooks=function(){S=i2()},e}var Fp=Fb();const fN=({entry:t,onEdit:e,onDelete:r,onBack:n})=>{const i=q6(t.created_at),o=U6(t.created_at);if(!t.isDecrypted)return M.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-lg shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in flex items-center justify-center min-h-[300px]",children:M.jsxs("div",{className:"flex flex-col items-center gap-4",children:[M.jsxs("svg",{className:"animate-spin h-10 w-10 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),M.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Decrypting entry..."})]})});const a=["width","float","margin","margin-left","margin-right","margin-top","margin-bottom","text-align"];Fp.addHook("afterSanitizeAttributes",l=>{if(l instanceof Element&&l.hasAttribute("style")){const p=(l.getAttribute("style")||"").split(";").filter(h=>{if(!h.includes(":"))return!1;const f=h.split(":")[0].trim();return f&&a.includes(f)}).join(";");p?l.setAttribute("style",p):l.removeAttribute("style")}});const s=Fp.sanitize(t.content,{ADD_TAGS:["img"],ADD_ATTR:["style","class"]});return Fp.removeHook("afterSanitizeAttributes"),M.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-lg shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in",children:[M.jsxs("button",{onClick:n,className:"mb-6 flex items-center text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors group",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 transform group-hover:-translate-x-1 transition-transform",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Timeline"]}),M.jsxs("div",{className:"border-b border-slate-200 dark:border-slate-700 pb-4 mb-4",children:[M.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[M.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:t.title}),M.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[i," (",o,")"]})]}),M.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[t.mood&&M.jsx("span",{className:"text-3xl","aria-label":`Mood: ${t.mood}`,children:t.mood}),t.tags&&t.tags.length>0&&M.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(l=>M.jsx("span",{className:"text-sm font-medium bg-indigo-100 text-indigo-800 px-2.5 py-1 rounded-full dark:bg-indigo-900/50 dark:text-indigo-300",children:l},l))})]})]}),M.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none my-6",dangerouslySetInnerHTML:{__html:s}}),M.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-6 flex justify-end gap-3",children:[M.jsxs("button",{onClick:e,className:"flex items-center gap-2 bg-slate-100 text-slate-700 font-semibold px-4 py-2 rounded-lg hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 transition-colors",children:[M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[M.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),M.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),"Edit"]}),M.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-red-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Delete"]})]})]})};function dN(){this.__data__=[],this.size=0}var hN=dN;function pN(t,e){return t===e||t!==t&&e!==e}var Bb=pN,gN=Bb;function mN(t,e){for(var r=t.length;r--;)if(gN(t[r][0],e))return r;return-1}var nh=mN,vN=nh,yN=Array.prototype,wN=yN.splice;function bN(t){var e=this.__data__,r=vN(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():wN.call(e,r,1),--this.size,!0}var _N=bN,xN=nh;function SN(t){var e=this.__data__,r=xN(e,t);return r<0?void 0:e[r][1]}var kN=SN,AN=nh;function NN(t){return AN(this.__data__,t)>-1}var EN=NN,ON=nh;function LN(t,e){var r=this.__data__,n=ON(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var TN=LN,PN=hN,jN=_N,CN=kN,RN=EN,IN=TN;function _l(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_l.prototype.clear=PN;_l.prototype.delete=jN;_l.prototype.get=CN;_l.prototype.has=RN;_l.prototype.set=IN;var ih=_l,DN=ih;function MN(){this.__data__=new DN,this.size=0}var FN=MN;function BN(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var qN=BN;function UN(t){return this.__data__.get(t)}var zN=UN;function $N(t){return this.__data__.has(t)}var HN=$N,WN=typeof Gn=="object"&&Gn&&Gn.Object===Object&&Gn,qb=WN,VN=qb,GN=typeof self=="object"&&self&&self.Object===Object&&self,KN=VN||GN||Function("return this")(),ko=KN,YN=ko,JN=YN.Symbol,Pg=JN,o2=Pg,Ub=Object.prototype,XN=Ub.hasOwnProperty,QN=Ub.toString,vu=o2?o2.toStringTag:void 0;function ZN(t){var e=XN.call(t,vu),r=t[vu];try{t[vu]=void 0;var n=!0}catch{}var i=QN.call(t);return n&&(e?t[vu]=r:delete t[vu]),i}var eE=ZN,tE=Object.prototype,rE=tE.toString;function nE(t){return rE.call(t)}var iE=nE,a2=Pg,oE=eE,aE=iE,sE="[object Null]",lE="[object Undefined]",s2=a2?a2.toStringTag:void 0;function uE(t){return t==null?t===void 0?lE:sE:s2&&s2 in Object(t)?oE(t):aE(t)}var oh=uE;function cE(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zb=cE,fE=oh,dE=zb,hE="[object AsyncFunction]",pE="[object Function]",gE="[object GeneratorFunction]",mE="[object Proxy]";function vE(t){if(!dE(t))return!1;var e=fE(t);return e==pE||e==gE||e==hE||e==mE}var $b=vE,yE=ko,wE=yE["__core-js_shared__"],bE=wE,Bp=bE,l2=function(){var t=/[^.]+$/.exec(Bp&&Bp.keys&&Bp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _E(t){return!!l2&&l2 in t}var xE=_E,SE=Function.prototype,kE=SE.toString;function AE(t){if(t!=null){try{return kE.call(t)}catch{}try{return t+""}catch{}}return""}var Hb=AE,NE=$b,EE=xE,OE=zb,LE=Hb,TE=/[\\^$.*+?()[\]{}|]/g,PE=/^\[object .+?Constructor\]$/,jE=Function.prototype,CE=Object.prototype,RE=jE.toString,IE=CE.hasOwnProperty,DE=RegExp("^"+RE.call(IE).replace(TE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ME(t){if(!OE(t)||EE(t))return!1;var e=NE(t)?DE:PE;return e.test(LE(t))}var FE=ME;function BE(t,e){return t==null?void 0:t[e]}var qE=BE,UE=FE,zE=qE;function $E(t,e){var r=zE(t,e);return UE(r)?r:void 0}var xl=$E,HE=xl,WE=ko,VE=HE(WE,"Map"),jg=VE,GE=xl,KE=GE(Object,"create"),ah=KE,u2=ah;function YE(){this.__data__=u2?u2(null):{},this.size=0}var JE=YE;function XE(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var QE=XE,ZE=ah,e8="__lodash_hash_undefined__",t8=Object.prototype,r8=t8.hasOwnProperty;function n8(t){var e=this.__data__;if(ZE){var r=e[t];return r===e8?void 0:r}return r8.call(e,t)?e[t]:void 0}var i8=n8,o8=ah,a8=Object.prototype,s8=a8.hasOwnProperty;function l8(t){var e=this.__data__;return o8?e[t]!==void 0:s8.call(e,t)}var u8=l8,c8=ah,f8="__lodash_hash_undefined__";function d8(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=c8&&e===void 0?f8:e,this}var h8=d8,p8=JE,g8=QE,m8=i8,v8=u8,y8=h8;function Sl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Sl.prototype.clear=p8;Sl.prototype.delete=g8;Sl.prototype.get=m8;Sl.prototype.has=v8;Sl.prototype.set=y8;var w8=Sl,c2=w8,b8=ih,_8=jg;function x8(){this.size=0,this.__data__={hash:new c2,map:new(_8||b8),string:new c2}}var S8=x8;function k8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var A8=k8,N8=A8;function E8(t,e){var r=t.__data__;return N8(e)?r[typeof e=="string"?"string":"hash"]:r.map}var sh=E8,O8=sh;function L8(t){var e=O8(this,t).delete(t);return this.size-=e?1:0,e}var T8=L8,P8=sh;function j8(t){return P8(this,t).get(t)}var C8=j8,R8=sh;function I8(t){return R8(this,t).has(t)}var D8=I8,M8=sh;function F8(t,e){var r=M8(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var B8=F8,q8=S8,U8=T8,z8=C8,$8=D8,H8=B8;function kl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}kl.prototype.clear=q8;kl.prototype.delete=U8;kl.prototype.get=z8;kl.prototype.has=$8;kl.prototype.set=H8;var Wb=kl,W8=ih,V8=jg,G8=Wb,K8=200;function Y8(t,e){var r=this.__data__;if(r instanceof W8){var n=r.__data__;if(!V8||n.length<K8-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new G8(n)}return r.set(t,e),this.size=r.size,this}var J8=Y8,X8=ih,Q8=FN,Z8=qN,eO=zN,tO=HN,rO=J8;function Al(t){var e=this.__data__=new X8(t);this.size=e.size}Al.prototype.clear=Q8;Al.prototype.delete=Z8;Al.prototype.get=eO;Al.prototype.has=tO;Al.prototype.set=rO;var nO=Al,iO="__lodash_hash_undefined__";function oO(t){return this.__data__.set(t,iO),this}var aO=oO;function sO(t){return this.__data__.has(t)}var lO=sO,uO=Wb,cO=aO,fO=lO;function jd(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new uO;++e<r;)this.add(t[e])}jd.prototype.add=jd.prototype.push=cO;jd.prototype.has=fO;var dO=jd;function hO(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var pO=hO;function gO(t,e){return t.has(e)}var mO=gO,vO=dO,yO=pO,wO=mO,bO=1,_O=2;function xO(t,e,r,n,i,o){var a=r&bO,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),p=o.get(e);if(c&&p)return c==e&&p==t;var h=-1,f=!0,u=r&_O?new vO:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var y=t[h],v=e[h];if(n)var b=a?n(v,y,h,e,t,o):n(y,v,h,t,e,o);if(b!==void 0){if(b)continue;f=!1;break}if(u){if(!yO(e,function(g,m){if(!wO(u,m)&&(y===g||i(y,g,r,n,o)))return u.push(m)})){f=!1;break}}else if(!(y===v||i(y,v,r,n,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var Vb=xO,SO=ko,kO=SO.Uint8Array,AO=kO;function NO(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var EO=NO;function OO(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var LO=OO,f2=Pg,d2=AO,TO=Bb,PO=Vb,jO=EO,CO=LO,RO=1,IO=2,DO="[object Boolean]",MO="[object Date]",FO="[object Error]",BO="[object Map]",qO="[object Number]",UO="[object RegExp]",zO="[object Set]",$O="[object String]",HO="[object Symbol]",WO="[object ArrayBuffer]",VO="[object DataView]",h2=f2?f2.prototype:void 0,qp=h2?h2.valueOf:void 0;function GO(t,e,r,n,i,o,a){switch(r){case VO:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case WO:return!(t.byteLength!=e.byteLength||!o(new d2(t),new d2(e)));case DO:case MO:case qO:return TO(+t,+e);case FO:return t.name==e.name&&t.message==e.message;case UO:case $O:return t==e+"";case BO:var s=jO;case zO:var l=n&RO;if(s||(s=CO),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=IO,a.set(t,e);var p=PO(s(t),s(e),n,i,o,a);return a.delete(t),p;case HO:if(qp)return qp.call(t)==qp.call(e)}return!1}var KO=GO;function YO(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var JO=YO,XO=Array.isArray,Cg=XO,QO=JO,ZO=Cg;function eL(t,e,r){var n=e(t);return ZO(t)?n:QO(n,r(t))}var tL=eL;function rL(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}var nL=rL;function iL(){return[]}var oL=iL,aL=nL,sL=oL,lL=Object.prototype,uL=lL.propertyIsEnumerable,p2=Object.getOwnPropertySymbols,cL=p2?function(t){return t==null?[]:(t=Object(t),aL(p2(t),function(e){return uL.call(t,e)}))}:sL,fL=cL;function dL(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var hL=dL;function pL(t){return t!=null&&typeof t=="object"}var lh=pL,gL=oh,mL=lh,vL="[object Arguments]";function yL(t){return mL(t)&&gL(t)==vL}var wL=yL,g2=wL,bL=lh,Gb=Object.prototype,_L=Gb.hasOwnProperty,xL=Gb.propertyIsEnumerable,SL=g2(function(){return arguments}())?g2:function(t){return bL(t)&&_L.call(t,"callee")&&!xL.call(t,"callee")},kL=SL,Cd={exports:{}};function AL(){return!1}var NL=AL;Cd.exports;(function(t,e){var r=ko,n=NL,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(Cd,Cd.exports);var Kb=Cd.exports,EL=9007199254740991,OL=/^(?:0|[1-9]\d*)$/;function LL(t,e){var r=typeof t;return e=e??EL,!!e&&(r=="number"||r!="symbol"&&OL.test(t))&&t>-1&&t%1==0&&t<e}var TL=LL,PL=9007199254740991;function jL(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=PL}var Yb=jL,CL=oh,RL=Yb,IL=lh,DL="[object Arguments]",ML="[object Array]",FL="[object Boolean]",BL="[object Date]",qL="[object Error]",UL="[object Function]",zL="[object Map]",$L="[object Number]",HL="[object Object]",WL="[object RegExp]",VL="[object Set]",GL="[object String]",KL="[object WeakMap]",YL="[object ArrayBuffer]",JL="[object DataView]",XL="[object Float32Array]",QL="[object Float64Array]",ZL="[object Int8Array]",eT="[object Int16Array]",tT="[object Int32Array]",rT="[object Uint8Array]",nT="[object Uint8ClampedArray]",iT="[object Uint16Array]",oT="[object Uint32Array]",Jt={};Jt[XL]=Jt[QL]=Jt[ZL]=Jt[eT]=Jt[tT]=Jt[rT]=Jt[nT]=Jt[iT]=Jt[oT]=!0;Jt[DL]=Jt[ML]=Jt[YL]=Jt[FL]=Jt[JL]=Jt[BL]=Jt[qL]=Jt[UL]=Jt[zL]=Jt[$L]=Jt[HL]=Jt[WL]=Jt[VL]=Jt[GL]=Jt[KL]=!1;function aT(t){return IL(t)&&RL(t.length)&&!!Jt[CL(t)]}var sT=aT;function lT(t){return function(e){return t(e)}}var uT=lT,Rd={exports:{}};Rd.exports;(function(t,e){var r=qb,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Rd,Rd.exports);var cT=Rd.exports,fT=sT,dT=uT,m2=cT,v2=m2&&m2.isTypedArray,hT=v2?dT(v2):fT,Jb=hT,pT=hL,gT=kL,mT=Cg,vT=Kb,yT=TL,wT=Jb,bT=Object.prototype,_T=bT.hasOwnProperty;function xT(t,e){var r=mT(t),n=!r&&gT(t),i=!r&&!n&&vT(t),o=!r&&!n&&!i&&wT(t),a=r||n||i||o,s=a?pT(t.length,String):[],l=s.length;for(var c in t)(e||_T.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||yT(c,l)))&&s.push(c);return s}var ST=xT,kT=Object.prototype;function AT(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||kT;return t===r}var NT=AT;function ET(t,e){return function(r){return t(e(r))}}var OT=ET,LT=OT,TT=LT(Object.keys,Object),PT=TT,jT=NT,CT=PT,RT=Object.prototype,IT=RT.hasOwnProperty;function DT(t){if(!jT(t))return CT(t);var e=[];for(var r in Object(t))IT.call(t,r)&&r!="constructor"&&e.push(r);return e}var MT=DT,FT=$b,BT=Yb;function qT(t){return t!=null&&BT(t.length)&&!FT(t)}var UT=qT,zT=ST,$T=MT,HT=UT;function WT(t){return HT(t)?zT(t):$T(t)}var VT=WT,GT=tL,KT=fL,YT=VT;function JT(t){return GT(t,YT,KT)}var XT=JT,y2=XT,QT=1,ZT=Object.prototype,eP=ZT.hasOwnProperty;function tP(t,e,r,n,i,o){var a=r&QT,s=y2(t),l=s.length,c=y2(e),p=c.length;if(l!=p&&!a)return!1;for(var h=l;h--;){var f=s[h];if(!(a?f in e:eP.call(e,f)))return!1}var u=o.get(t),y=o.get(e);if(u&&y)return u==e&&y==t;var v=!0;o.set(t,e),o.set(e,t);for(var b=a;++h<l;){f=s[h];var g=t[f],m=e[f];if(n)var _=a?n(m,g,f,e,t,o):n(g,m,f,t,e,o);if(!(_===void 0?g===m||i(g,m,r,n,o):_)){v=!1;break}b||(b=f=="constructor")}if(v&&!b){var x=t.constructor,A=e.constructor;x!=A&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof A=="function"&&A instanceof A)&&(v=!1)}return o.delete(t),o.delete(e),v}var rP=tP,nP=xl,iP=ko,oP=nP(iP,"DataView"),aP=oP,sP=xl,lP=ko,uP=sP(lP,"Promise"),cP=uP,fP=xl,dP=ko,hP=fP(dP,"Set"),pP=hP,gP=xl,mP=ko,vP=gP(mP,"WeakMap"),yP=vP,s1=aP,l1=jg,u1=cP,c1=pP,f1=yP,Xb=oh,Nl=Hb,w2="[object Map]",wP="[object Object]",b2="[object Promise]",_2="[object Set]",x2="[object WeakMap]",S2="[object DataView]",bP=Nl(s1),_P=Nl(l1),xP=Nl(u1),SP=Nl(c1),kP=Nl(f1),ja=Xb;(s1&&ja(new s1(new ArrayBuffer(1)))!=S2||l1&&ja(new l1)!=w2||u1&&ja(u1.resolve())!=b2||c1&&ja(new c1)!=_2||f1&&ja(new f1)!=x2)&&(ja=function(t){var e=Xb(t),r=e==wP?t.constructor:void 0,n=r?Nl(r):"";if(n)switch(n){case bP:return S2;case _P:return w2;case xP:return b2;case SP:return _2;case kP:return x2}return e});var AP=ja,Up=nO,NP=Vb,EP=KO,OP=rP,k2=AP,A2=Cg,N2=Kb,LP=Jb,TP=1,E2="[object Arguments]",O2="[object Array]",Tf="[object Object]",PP=Object.prototype,L2=PP.hasOwnProperty;function jP(t,e,r,n,i,o){var a=A2(t),s=A2(e),l=a?O2:k2(t),c=s?O2:k2(e);l=l==E2?Tf:l,c=c==E2?Tf:c;var p=l==Tf,h=c==Tf,f=l==c;if(f&&N2(t)){if(!N2(e))return!1;a=!0,p=!1}if(f&&!p)return o||(o=new Up),a||LP(t)?NP(t,e,r,n,i,o):EP(t,e,l,r,n,i,o);if(!(r&TP)){var u=p&&L2.call(t,"__wrapped__"),y=h&&L2.call(e,"__wrapped__");if(u||y){var v=u?t.value():t,b=y?e.value():e;return o||(o=new Up),i(v,b,r,n,o)}}return f?(o||(o=new Up),OP(t,e,r,n,i,o)):!1}var CP=jP,RP=CP,T2=lh;function Qb(t,e,r,n,i){return t===e?!0:t==null||e==null||!T2(t)&&!T2(e)?t!==t&&e!==e:RP(t,e,r,n,Qb,i)}var IP=Qb,DP=IP;function MP(t,e){return DP(t,e)}var FP=MP,Zb={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:Gn,function(){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{configurable:!1,enumerable:!0,get:s})},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),a=i(18),s=i(19),l=i(45),c=i(46),p=i(47),h=i(48),f=i(49),u=i(12),y=i(32),v=i(33),b=i(31),g=i(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:o.default,Format:a.default,Leaf:s.default,Embed:h.default,Scroll:l.default,Block:p.default,Inline:c.default,Text:f.default,Attributor:{Attribute:u.default,Class:y.default,Style:v.default,Store:b.default}};n.default=m},function(r,n,i){var o=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var _ in m)m.hasOwnProperty(_)&&(g[_]=m[_])};return function(g,m){b(g,m);function _(){this.constructor=g}g.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=function(b){o(g,b);function g(m){var _=this;return m="[Parchment] "+m,_=b.call(this,m)||this,_.message=m,_.name=_.constructor.name,_}return g}(Error);n.ParchmentError=a;var s={},l={},c={},p={};n.DATA_KEY="__blot";var h;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(h=n.Scope||(n.Scope={}));function f(b,g){var m=y(b);if(m==null)throw new a("Unable to create "+b+" blot");var _=m,x=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:_.create(g);return new _(x,g)}n.create=f;function u(b,g){return g===void 0&&(g=!1),b==null?null:b[n.DATA_KEY]!=null?b[n.DATA_KEY].blot:g?u(b.parentNode,g):null}n.find=u;function y(b,g){g===void 0&&(g=h.ANY);var m;if(typeof b=="string")m=p[b]||s[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)m=p.text;else if(typeof b=="number")b&h.LEVEL&h.BLOCK?m=p.block:b&h.LEVEL&h.INLINE&&(m=p.inline);else if(b instanceof HTMLElement){var _=(b.getAttribute("class")||"").split(/\s+/);for(var x in _)if(m=l[_[x]],m)break;m=m||c[b.tagName]}return m==null?null:g&h.LEVEL&m.scope&&g&h.TYPE&m.scope?m:null}n.query=y;function v(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];if(b.length>1)return b.map(function(x){return v(x)});var m=b[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new a("Invalid definition");if(m.blotName==="abstract")throw new a("Cannot register abstract class");if(p[m.blotName||m.attrName]=m,typeof m.keyName=="string")s[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(x){return x.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var _=Array.isArray(m.tagName)?m.tagName:[m.tagName];_.forEach(function(x){(c[x]==null||m.className==null)&&(c[x]=m)})}return m}n.register=v},function(r,n,i){var o=i(51),a=i(11),s=i(3),l=i(20),c="\0",p=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};p.prototype.insert=function(h,f){var u={};return h.length===0?this:(u.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(u.attributes=f),this.push(u))},p.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},p.prototype.retain=function(h,f){if(h<=0)return this;var u={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(u.attributes=f),this.push(u)},p.prototype.push=function(h){var f=this.ops.length,u=this.ops[f-1];if(h=s(!0,{},h),typeof u=="object"){if(typeof h.delete=="number"&&typeof u.delete=="number")return this.ops[f-1]={delete:u.delete+h.delete},this;if(typeof u.delete=="number"&&h.insert!=null&&(f-=1,u=this.ops[f-1],typeof u!="object"))return this.ops.unshift(h),this;if(a(h.attributes,u.attributes)){if(typeof h.insert=="string"&&typeof u.insert=="string")return this.ops[f-1]={insert:u.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof u.retain=="number")return this.ops[f-1]={retain:u.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this},p.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},p.prototype.filter=function(h){return this.ops.filter(h)},p.prototype.forEach=function(h){this.ops.forEach(h)},p.prototype.map=function(h){return this.ops.map(h)},p.prototype.partition=function(h){var f=[],u=[];return this.forEach(function(y){var v=h(y)?f:u;v.push(y)}),[f,u]},p.prototype.reduce=function(h,f){return this.ops.reduce(h,f)},p.prototype.changeLength=function(){return this.reduce(function(h,f){return f.insert?h+l.length(f):f.delete?h-f.delete:h},0)},p.prototype.length=function(){return this.reduce(function(h,f){return h+l.length(f)},0)},p.prototype.slice=function(h,f){h=h||0,typeof f!="number"&&(f=1/0);for(var u=[],y=l.iterator(this.ops),v=0;v<f&&y.hasNext();){var b;v<h?b=y.next(h-v):(b=y.next(f-v),u.push(b)),v+=l.length(b)}return new p(u)},p.prototype.compose=function(h){var f=l.iterator(this.ops),u=l.iterator(h.ops),y=[],v=u.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var b=v.retain;f.peekType()==="insert"&&f.peekLength()<=b;)b-=f.peekLength(),y.push(f.next());v.retain-b>0&&u.next(v.retain-b)}for(var g=new p(y);f.hasNext()||u.hasNext();)if(u.peekType()==="insert")g.push(u.next());else if(f.peekType()==="delete")g.push(f.next());else{var m=Math.min(f.peekLength(),u.peekLength()),_=f.next(m),x=u.next(m);if(typeof x.retain=="number"){var A={};typeof _.retain=="number"?A.retain=m:A.insert=_.insert;var R=l.attributes.compose(_.attributes,x.attributes,typeof _.retain=="number");if(R&&(A.attributes=R),g.push(A),!u.hasNext()&&a(g.ops[g.ops.length-1],A)){var T=new p(f.rest());return g.concat(T).chop()}}else typeof x.delete=="number"&&typeof _.retain=="number"&&g.push(x)}return g.chop()},p.prototype.concat=function(h){var f=new p(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f},p.prototype.diff=function(h,f){if(this.ops===h.ops)return new p;var u=[this,h].map(function(m){return m.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:c;var x=m===h?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),y=new p,v=o(u[0],u[1],f),b=l.iterator(this.ops),g=l.iterator(h.ops);return v.forEach(function(m){for(var _=m[1].length;_>0;){var x=0;switch(m[0]){case o.INSERT:x=Math.min(g.peekLength(),_),y.push(g.next(x));break;case o.DELETE:x=Math.min(_,b.peekLength()),b.next(x),y.delete(x);break;case o.EQUAL:x=Math.min(b.peekLength(),g.peekLength(),_);var A=b.next(x),R=g.next(x);a(A.insert,R.insert)?y.retain(x,l.attributes.diff(A.attributes,R.attributes)):y.push(R).delete(x);break}_-=x}}),y.chop()},p.prototype.eachLine=function(h,f){f=f||`
`;for(var u=l.iterator(this.ops),y=new p,v=0;u.hasNext();){if(u.peekType()!=="insert")return;var b=u.peek(),g=l.length(b)-u.peekLength(),m=typeof b.insert=="string"?b.insert.indexOf(f,g)-g:-1;if(m<0)y.push(u.next());else if(m>0)y.push(u.next(m));else{if(h(y,u.next(1).attributes||{},v)===!1)return;v+=1,y=new p}}y.length()>0&&h(y,{},v)},p.prototype.transform=function(h,f){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);for(var u=l.iterator(this.ops),y=l.iterator(h.ops),v=new p;u.hasNext()||y.hasNext();)if(u.peekType()==="insert"&&(f||y.peekType()!=="insert"))v.retain(l.length(u.next()));else if(y.peekType()==="insert")v.push(y.next());else{var b=Math.min(u.peekLength(),y.peekLength()),g=u.next(b),m=y.next(b);if(g.delete)continue;m.delete?v.push(m):v.retain(b,l.attributes.transform(g.attributes,m.attributes,f))}return v.chop()},p.prototype.transformPosition=function(h,f){f=!!f;for(var u=l.iterator(this.ops),y=0;u.hasNext()&&y<=h;){var v=u.peekLength(),b=u.peekType();if(u.next(),b==="delete"){h-=Math.min(v,h-y);continue}else b==="insert"&&(y<h||!f)&&(h+=v);y+=v}return h},r.exports=p},function(r,n){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(u){return typeof Array.isArray=="function"?Array.isArray(u):o.call(u)==="[object Array]"},c=function(u){if(!u||o.call(u)!=="[object Object]")return!1;var y=i.call(u,"constructor"),v=u.constructor&&u.constructor.prototype&&i.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!y&&!v)return!1;var b;for(b in u);return typeof b>"u"||i.call(u,b)},p=function(u,y){a&&y.name==="__proto__"?a(u,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):u[y.name]=y.newValue},h=function(u,y){if(y==="__proto__")if(i.call(u,y)){if(s)return s(u,y).value}else return;return u[y]};r.exports=function f(){var u,y,v,b,g,m,_=arguments[0],x=1,A=arguments.length,R=!1;for(typeof _=="boolean"&&(R=_,_=arguments[1]||{},x=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});x<A;++x)if(u=arguments[x],u!=null)for(y in u)v=h(_,y),b=h(u,y),_!==b&&(R&&b&&(c(b)||(g=l(b)))?(g?(g=!1,m=v&&l(v)?v:[]):m=v&&c(v)?v:{},p(_,{name:y,newValue:f(R,m,b)})):typeof b<"u"&&p(_,{name:y,newValue:b}));return _}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var o=function(){function S(N,P){for(var D=0;D<P.length;D++){var G=P[D];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(N,G.key,G)}}return function(N,P,D){return P&&S(N.prototype,P),D&&S(N,D),N}}(),a=function S(N,P,D){N===null&&(N=Function.prototype);var G=Object.getOwnPropertyDescriptor(N,P);if(G===void 0){var ee=Object.getPrototypeOf(N);return ee===null?void 0:S(ee,P,D)}else{if("value"in G)return G.value;var te=G.get;return te===void 0?void 0:te.call(D)}},s=i(3),l=_(s),c=i(2),p=_(c),h=i(0),f=_(h),u=i(16),y=_(u),v=i(6),b=_(v),g=i(7),m=_(g);function _(S){return S&&S.__esModule?S:{default:S}}function x(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function A(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function R(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var T=1,O=function(S){R(N,S);function N(){return x(this,N),A(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return o(N,[{key:"attach",value:function(){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new p.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(D,G){var ee=f.default.query(D,f.default.Scope.BLOCK_ATTRIBUTE);ee!=null&&this.attributes.attribute(ee,G)}},{key:"formatAt",value:function(D,G,ee,te){this.format(ee,te)}},{key:"insertAt",value:function(D,G,ee){if(typeof G=="string"&&G.endsWith(`
`)){var te=f.default.create(F.blotName);this.parent.insertBefore(te,D===0?this:this.next),te.insertAt(0,G.slice(0,-1))}else a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,D,G,ee)}}]),N}(f.default.Embed);O.scope=f.default.Scope.BLOCK_BLOT;var F=function(S){R(N,S);function N(P){x(this,N);var D=A(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,P));return D.cache={},D}return o(N,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(D,G){return G.length()===0?D:D.insert(G.value(),C(G))},new p.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(D,G){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,D,G),this.cache={}}},{key:"formatAt",value:function(D,G,ee,te){G<=0||(f.default.query(ee,f.default.Scope.BLOCK)?D+G===this.length()&&this.format(ee,te):a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,D,Math.min(G,this.length()-D-1),ee,te),this.cache={})}},{key:"insertAt",value:function(D,G,ee){if(ee!=null)return a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,D,G,ee);if(G.length!==0){var te=G.split(`
`),Q=te.shift();Q.length>0&&(D<this.length()-1||this.children.tail==null?a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,Math.min(D,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var Y=this;te.reduce(function(W,q){return Y=Y.split(W,!0),Y.insertAt(0,q),q.length},D+Q.length)}}},{key:"insertBefore",value:function(D,G){var ee=this.children.head;a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,D,G),ee instanceof y.default&&ee.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"length",this).call(this)+T),this.cache.length}},{key:"moveChildren",value:function(D,G){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"moveChildren",this).call(this,D,G),this.cache={}}},{key:"optimize",value:function(D){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,D),this.cache={}}},{key:"path",value:function(D){return a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,D,!0)}},{key:"removeChild",value:function(D){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"removeChild",this).call(this,D),this.cache={}}},{key:"split",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&(D===0||D>=this.length()-T)){var ee=this.clone();return D===0?(this.parent.insertBefore(ee,this),this):(this.parent.insertBefore(ee,this.next),ee)}else{var te=a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"split",this).call(this,D,G);return this.cache={},te}}}]),N}(f.default.Block);F.blotName="block",F.tagName="P",F.defaultChild="break",F.allowedChildren=[b.default,f.default.Embed,m.default];function C(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(N=(0,l.default)(N,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?N:C(S.parent,N)}n.bubbleFormats=C,n.BlockEmbed=O,n.default=F},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},a=function(){function Y(W,q){var L=[],I=!0,$=!1,H=void 0;try{for(var B=W[Symbol.iterator](),J;!(I=(J=B.next()).done)&&(L.push(J.value),!(q&&L.length===q));I=!0);}catch(re){$=!0,H=re}finally{try{!I&&B.return&&B.return()}finally{if($)throw H}}return L}return function(W,q){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function Y(W,q){for(var L=0;L<q.length;L++){var I=q[L];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(W,I.key,I)}}return function(W,q,L){return q&&Y(W.prototype,q),L&&Y(W,L),W}}();i(50);var l=i(2),c=C(l),p=i(14),h=C(p),f=i(8),u=C(f),y=i(9),v=C(y),b=i(0),g=C(b),m=i(15),_=C(m),x=i(3),A=C(x),R=i(10),T=C(R),O=i(34),F=C(O);function C(Y){return Y&&Y.__esModule?Y:{default:Y}}function S(Y,W,q){return W in Y?Object.defineProperty(Y,W,{value:q,enumerable:!0,configurable:!0,writable:!0}):Y[W]=q,Y}function N(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var P=(0,T.default)("quill"),D=function(){s(Y,null,[{key:"debug",value:function(q){q===!0&&(q="log"),T.default.level(q)}},{key:"find",value:function(q){return q.__quill||g.default.find(q)}},{key:"import",value:function(q){return this.imports[q]==null&&P.error("Cannot import "+q+". Are you sure it was registered?"),this.imports[q]}},{key:"register",value:function(q,L){var I=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof q!="string"){var H=q.attrName||q.blotName;typeof H=="string"?this.register("formats/"+H,q,L):Object.keys(q).forEach(function(B){I.register(B,q[B],L)})}else this.imports[q]!=null&&!$&&P.warn("Overwriting "+q+" with",L),this.imports[q]=L,(q.startsWith("blots/")||q.startsWith("formats/"))&&L.blotName!=="abstract"?g.default.register(L):q.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function Y(W){var q=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N(this,Y),this.options=G(W,L),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",W);this.options.debug&&Y.debug(this.options.debug);var I=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new u.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(u.default.events.EDITOR_CHANGE,function(H){H===u.default.events.TEXT_CHANGE&&q.root.classList.toggle("ql-blank",q.editor.isBlank())}),this.emitter.on(u.default.events.SCROLL_UPDATE,function(H,B){var J=q.selection.lastRange,re=J&&J.length===0?J.index:void 0;ee.call(q,function(){return q.editor.update(null,B,re)},H)});var $=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+I+"<p><br></p></div>");this.setContents($),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(Y,[{key:"addContainer",value:function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof q=="string"){var I=q;q=document.createElement("div"),q.classList.add(I)}return this.container.insertBefore(q,L),q}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(q,L,I){var $=this,H=te(q,L,I),B=a(H,4);return q=B[0],L=B[1],I=B[3],ee.call(this,function(){return $.editor.deleteText(q,L)},I,q,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(q),this.container.classList.toggle("ql-disabled",!q)}},{key:"focus",value:function(){var q=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=q,this.scrollIntoView()}},{key:"format",value:function(q,L){var I=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.default.sources.API;return ee.call(this,function(){var H=I.getSelection(!0),B=new c.default;if(H==null)return B;if(g.default.query(q,g.default.Scope.BLOCK))B=I.editor.formatLine(H.index,H.length,S({},q,L));else{if(H.length===0)return I.selection.format(q,L),B;B=I.editor.formatText(H.index,H.length,S({},q,L))}return I.setSelection(H,u.default.sources.SILENT),B},$)}},{key:"formatLine",value:function(q,L,I,$,H){var B=this,J=void 0,re=te(q,L,I,$,H),ne=a(re,4);return q=ne[0],L=ne[1],J=ne[2],H=ne[3],ee.call(this,function(){return B.editor.formatLine(q,L,J)},H,q,0)}},{key:"formatText",value:function(q,L,I,$,H){var B=this,J=void 0,re=te(q,L,I,$,H),ne=a(re,4);return q=ne[0],L=ne[1],J=ne[2],H=ne[3],ee.call(this,function(){return B.editor.formatText(q,L,J)},H,q,0)}},{key:"getBounds",value:function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=void 0;typeof q=="number"?I=this.selection.getBounds(q,L):I=this.selection.getBounds(q.index,q.length);var $=this.container.getBoundingClientRect();return{bottom:I.bottom-$.top,height:I.height,left:I.left-$.left,right:I.right-$.left,top:I.top-$.top,width:I.width}}},{key:"getContents",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,I=te(q,L),$=a(I,2);return q=$[0],L=$[1],this.editor.getContents(q,L)}},{key:"getFormat",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof q=="number"?this.editor.getFormat(q,L):this.editor.getFormat(q.index,q.length)}},{key:"getIndex",value:function(q){return q.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(q){return this.scroll.leaf(q)}},{key:"getLine",value:function(q){return this.scroll.line(q)}},{key:"getLines",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof q!="number"?this.scroll.lines(q.index,q.length):this.scroll.lines(q,L)}},{key:"getModule",value:function(q){return this.theme.modules[q]}},{key:"getSelection",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return q&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,I=te(q,L),$=a(I,2);return q=$[0],L=$[1],this.editor.getText(q,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(q,L,I){var $=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return ee.call(this,function(){return $.editor.insertEmbed(q,L,I)},H,q)}},{key:"insertText",value:function(q,L,I,$,H){var B=this,J=void 0,re=te(q,0,I,$,H),ne=a(re,4);return q=ne[0],J=ne[2],H=ne[3],ee.call(this,function(){return B.editor.insertText(q,L,J)},H,q,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(q,L,I){this.clipboard.dangerouslyPasteHTML(q,L,I)}},{key:"removeFormat",value:function(q,L,I){var $=this,H=te(q,L,I),B=a(H,4);return q=B[0],L=B[1],I=B[3],ee.call(this,function(){return $.editor.removeFormat(q,L)},I,q)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(q){var L=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API;return ee.call(this,function(){q=new c.default(q);var $=L.getLength(),H=L.editor.deleteText(0,$),B=L.editor.applyDelta(q),J=B.ops[B.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),B.delete(1));var re=H.compose(B);return re},I)}},{key:"setSelection",value:function(q,L,I){if(q==null)this.selection.setRange(null,L||Y.sources.API);else{var $=te(q,L,I),H=a($,4);q=H[0],L=H[1],I=H[3],this.selection.setRange(new m.Range(q,L),I),I!==u.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API,I=new c.default().insert(q);return this.setContents(I,L)}},{key:"update",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.default.sources.USER,L=this.scroll.update(q);return this.selection.update(q),L}},{key:"updateContents",value:function(q){var L=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API;return ee.call(this,function(){return q=new c.default(q),L.editor.applyDelta(q,I)},I,!0)}}]),Y}();D.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},D.events=u.default.events,D.sources=u.default.sources,D.version="1.3.7",D.imports={delta:c.default,parchment:g.default,"core/module":v.default,"core/theme":F.default};function G(Y,W){if(W=(0,A.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===D.DEFAULTS.theme)W.theme=F.default;else if(W.theme=D.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var q=(0,A.default)(!0,{},W.theme.DEFAULTS);[q,W].forEach(function($){$.modules=$.modules||{},Object.keys($.modules).forEach(function(H){$.modules[H]===!0&&($.modules[H]={})})});var L=Object.keys(q.modules).concat(Object.keys(W.modules)),I=L.reduce(function($,H){var B=D.import("modules/"+H);return B==null?P.error("Cannot load "+H+" module. Are you sure you registered it?"):$[H]=B.DEFAULTS||{},$},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,A.default)(!0,{},D.DEFAULTS,{modules:I},q,W),["bounds","container","scrollingContainer"].forEach(function($){typeof W[$]=="string"&&(W[$]=document.querySelector(W[$]))}),W.modules=Object.keys(W.modules).reduce(function($,H){return W.modules[H]&&($[H]=W.modules[H]),$},{}),W}function ee(Y,W,q,L){if(this.options.strict&&!this.isEnabled()&&W===u.default.sources.USER)return new c.default;var I=q==null?null:this.getSelection(),$=this.editor.delta,H=Y();if(I!=null&&(q===!0&&(q=I.index),L==null?I=Q(I,H,W):L!==0&&(I=Q(I,q,L,W)),this.setSelection(I,u.default.sources.SILENT)),H.length()>0){var B,J=[u.default.events.TEXT_CHANGE,H,$,W];if((B=this.emitter).emit.apply(B,[u.default.events.EDITOR_CHANGE].concat(J)),W!==u.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,J)}}return H}function te(Y,W,q,L,I){var $={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof W!="number"?(I=L,L=q,q=W,W=Y.length,Y=Y.index):(W=Y.length,Y=Y.index):typeof W!="number"&&(I=L,L=q,q=W,W=0),(typeof q>"u"?"undefined":o(q))==="object"?($=q,I=L):typeof q=="string"&&(L!=null?$[q]=L:I=q),I=I||u.default.sources.API,[Y,W,$,I]}function Q(Y,W,q,L){if(Y==null)return null;var I=void 0,$=void 0;if(W instanceof c.default){var H=[Y.index,Y.index+Y.length].map(function(ne){return W.transformPosition(ne,L!==u.default.sources.USER)}),B=a(H,2);I=B[0],$=B[1]}else{var J=[Y.index,Y.index+Y.length].map(function(ne){return ne<W||ne===W&&L===u.default.sources.USER?ne:q>=0?ne+q:Math.max(W,ne+q)}),re=a(J,2);I=re[0],$=re[1]}return new m.Range(I,$-I)}n.expandConfig=G,n.overload=te,n.default=D},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function b(g,m){for(var _=0;_<m.length;_++){var x=m[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,m,_){return m&&b(g.prototype,m),_&&b(g,_),g}}(),a=function b(g,m,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,m);if(x===void 0){var A=Object.getPrototypeOf(g);return A===null?void 0:b(A,m,_)}else{if("value"in x)return x.value;var R=x.get;return R===void 0?void 0:R.call(_)}},s=i(7),l=h(s),c=i(0),p=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function f(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function u(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function y(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var v=function(b){y(g,b);function g(){return f(this,g),u(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"formatAt",value:function(_,x,A,R){if(g.compare(this.statics.blotName,A)<0&&p.default.query(A,p.default.Scope.BLOT)){var T=this.isolate(_,x);R&&T.wrap(A,R)}else a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,_,x,A,R)}},{key:"optimize",value:function(_){if(a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,_),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(_,x){var A=g.order.indexOf(_),R=g.order.indexOf(x);return A>=0||R>=0?A-R:_===x?0:_<x?-1:1}}]),g}(p.default.Inline);v.allowedChildren=[v,p.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),a=s(o);function s(f){return f&&f.__esModule?f:{default:f}}function l(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function c(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:f}function p(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}var h=function(f){p(u,f);function u(){return l(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(a.default.Text);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function m(_,x){for(var A=0;A<x.length;A++){var R=x[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}return function(_,x,A){return x&&m(_.prototype,x),A&&m(_,A),_}}(),a=function m(_,x,A){_===null&&(_=Function.prototype);var R=Object.getOwnPropertyDescriptor(_,x);if(R===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:m(T,x,A)}else{if("value"in R)return R.value;var O=R.get;return O===void 0?void 0:O.call(A)}},s=i(54),l=h(s),c=i(10),p=h(c);function h(m){return m&&m.__esModule?m:{default:m}}function f(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function u(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function y(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var v=(0,p.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(m){document.addEventListener(m,function(){for(var _=arguments.length,x=Array(_),A=0;A<_;A++)x[A]=arguments[A];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var T;(T=R.__quill.emitter).handleDOM.apply(T,x)}})})});var g=function(m){y(_,m);function _(){f(this,_);var x=u(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return x.listeners={},x.on("error",v.error),x}return o(_,[{key:"emit",value:function(){v.log.apply(v,arguments),a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(A){for(var R=arguments.length,T=Array(R>1?R-1:0),O=1;O<R;O++)T[O-1]=arguments[O];(this.listeners[A.type]||[]).forEach(function(F){var C=F.node,S=F.handler;(A.target===C||C.contains(A.target))&&S.apply(void 0,[A].concat(T))})}},{key:"listenDOM",value:function(A,R,T){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push({node:R,handler:T})}}]),_}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function o(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function s(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,s),this.quill=l,this.options=c};a.DEFAULTS={},n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=["error","warn","log","info"],a="warn";function s(c){if(o.indexOf(c)<=o.indexOf(a)){for(var p,h=arguments.length,f=Array(h>1?h-1:0),u=1;u<h;u++)f[u-1]=arguments[u];(p=console)[c].apply(p,f)}}function l(c){return o.reduce(function(p,h){return p[h]=s.bind(console,h,c),p},{})}s.level=l.level=function(c){a=c},n.default=l},function(r,n,i){var o=Array.prototype.slice,a=i(52),s=i(53),l=r.exports=function(f,u,y){return y||(y={}),f===u?!0:f instanceof Date&&u instanceof Date?f.getTime()===u.getTime():!f||!u||typeof f!="object"&&typeof u!="object"?y.strict?f===u:f==u:h(f,u,y)};function c(f){return f==null}function p(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function h(f,u,y){var v,b;if(c(f)||c(u)||f.prototype!==u.prototype)return!1;if(s(f))return s(u)?(f=o.call(f),u=o.call(u),l(f,u,y)):!1;if(p(f)){if(!p(u)||f.length!==u.length)return!1;for(v=0;v<f.length;v++)if(f[v]!==u[v])return!1;return!0}try{var g=a(f),m=a(u)}catch{return!1}if(g.length!=m.length)return!1;for(g.sort(),m.sort(),v=g.length-1;v>=0;v--)if(g[v]!=m[v])return!1;for(v=g.length-1;v>=0;v--)if(b=g[v],!l(f[b],u[b],y))return!1;return typeof f==typeof u}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),a=function(){function s(l,c,p){p===void 0&&(p={}),this.attrName=l,this.keyName=c;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;p.scope!=null?this.scope=p.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,p.whitelist!=null&&(this.whitelist=p.whitelist)}return s.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},s.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},s.prototype.canAdd=function(l,c){var p=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return p==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},s.prototype.remove=function(l){l.removeAttribute(this.keyName)},s.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},s}();n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var o=function(){function O(F,C){var S=[],N=!0,P=!1,D=void 0;try{for(var G=F[Symbol.iterator](),ee;!(N=(ee=G.next()).done)&&(S.push(ee.value),!(C&&S.length===C));N=!0);}catch(te){P=!0,D=te}finally{try{!N&&G.return&&G.return()}finally{if(P)throw D}}return S}return function(F,C){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return O(F,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function O(F,C){for(var S=0;S<C.length;S++){var N=C[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(F,N.key,N)}}return function(F,C,S){return C&&O(F.prototype,C),S&&O(F,S),F}}(),s=function O(F,C,S){F===null&&(F=Function.prototype);var N=Object.getOwnPropertyDescriptor(F,C);if(N===void 0){var P=Object.getPrototypeOf(F);return P===null?void 0:O(P,C,S)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(S)}},l=i(2),c=m(l),p=i(0),h=m(p),f=i(4),u=m(f),y=i(6),v=m(y),b=i(7),g=m(b);function m(O){return O&&O.__esModule?O:{default:O}}function _(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}function x(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:O}function A(O,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);O.prototype=Object.create(F&&F.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(O,F):O.__proto__=F)}var R=function(O){A(F,O);function F(){return _(this,F),x(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return F}(v.default);R.blotName="code",R.tagName="CODE";var T=function(O){A(F,O);function F(){return _(this,F),x(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return a(F,[{key:"delta",value:function(){var S=this,N=this.domNode.textContent;return N.endsWith(`
`)&&(N=N.slice(0,-1)),N.split(`
`).reduce(function(P,D){return P.insert(D).insert(`
`,S.formats())},new c.default)}},{key:"format",value:function(S,N){if(!(S===this.statics.blotName&&N)){var P=this.descendant(g.default,this.length()-1),D=o(P,1),G=D[0];G!=null&&G.deleteAt(G.length()-1,1),s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"format",this).call(this,S,N)}}},{key:"formatAt",value:function(S,N,P,D){if(N!==0&&!(h.default.query(P,h.default.Scope.BLOCK)==null||P===this.statics.blotName&&D===this.statics.formats(this.domNode))){var G=this.newlineIndex(S);if(!(G<0||G>=S+N)){var ee=this.newlineIndex(S,!0)+1,te=G-ee+1,Q=this.isolate(ee,te),Y=Q.next;Q.format(P,D),Y instanceof F&&Y.formatAt(0,S-ee+N-te,P,D)}}}},{key:"insertAt",value:function(S,N,P){if(P==null){var D=this.descendant(g.default,S),G=o(D,2),ee=G[0],te=G[1];ee.insertAt(te,N)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var P=this.domNode.textContent.slice(S).indexOf(`
`);return P>-1?S+P:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"optimize",this).call(this,S);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===N.statics.formats(N.domNode)&&(N.optimize(S),N.moveChildren(this),N.remove())}},{key:"replace",value:function(S){s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(N){var P=h.default.find(N);P==null?N.parentNode.removeChild(N):P instanceof h.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(S){var N=s(F.__proto__||Object.getPrototypeOf(F),"create",this).call(this,S);return N.setAttribute("spellcheck",!1),N}},{key:"formats",value:function(){return!0}}]),F}(u.default);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",n.Code=R,n.default=T},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},a=function(){function Y(W,q){var L=[],I=!0,$=!1,H=void 0;try{for(var B=W[Symbol.iterator](),J;!(I=(J=B.next()).done)&&(L.push(J.value),!(q&&L.length===q));I=!0);}catch(re){$=!0,H=re}finally{try{!I&&B.return&&B.return()}finally{if($)throw H}}return L}return function(W,q){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function Y(W,q){for(var L=0;L<q.length;L++){var I=q[L];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(W,I.key,I)}}return function(W,q,L){return q&&Y(W.prototype,q),L&&Y(W,L),W}}(),l=i(2),c=N(l),p=i(20),h=N(p),f=i(0),u=N(f),y=i(13),v=N(y),b=i(24),g=N(b),m=i(4),_=N(m),x=i(16),A=N(x),R=i(21),T=N(R),O=i(11),F=N(O),C=i(3),S=N(C);function N(Y){return Y&&Y.__esModule?Y:{default:Y}}function P(Y,W,q){return W in Y?Object.defineProperty(Y,W,{value:q,enumerable:!0,configurable:!0,writable:!0}):Y[W]=q,Y}function D(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,ee=function(){function Y(W){D(this,Y),this.scroll=W,this.delta=this.getDelta()}return s(Y,[{key:"applyDelta",value:function(q){var L=this,I=!1;this.scroll.update();var $=this.scroll.length();return this.scroll.batchStart(),q=Q(q),q.reduce(function(H,B){var J=B.retain||B.delete||B.insert.length||1,re=B.attributes||{};if(B.insert!=null){if(typeof B.insert=="string"){var ne=B.insert;ne.endsWith(`
`)&&I&&(I=!1,ne=ne.slice(0,-1)),H>=$&&!ne.endsWith(`
`)&&(I=!0),L.scroll.insertAt(H,ne);var de=L.scroll.line(H),me=a(de,2),Oe=me[0],Ne=me[1],Me=(0,S.default)({},(0,m.bubbleFormats)(Oe));if(Oe instanceof _.default){var we=Oe.descendant(u.default.Leaf,Ne),ae=a(we,1),Ke=ae[0];Me=(0,S.default)(Me,(0,m.bubbleFormats)(Ke))}re=h.default.attributes.diff(Me,re)||{}}else if(o(B.insert)==="object"){var he=Object.keys(B.insert)[0];if(he==null)return H;L.scroll.insertAt(H,he,B.insert[he])}$+=J}return Object.keys(re).forEach(function(se){L.scroll.formatAt(H,J,se,re[se])}),H+J},0),q.reduce(function(H,B){return typeof B.delete=="number"?(L.scroll.deleteAt(H,B.delete),H):H+(B.retain||B.insert.length||1)},0),this.scroll.batchEnd(),this.update(q)}},{key:"deleteText",value:function(q,L){return this.scroll.deleteAt(q,L),this.update(new c.default().retain(q).delete(L))}},{key:"formatLine",value:function(q,L){var I=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys($).forEach(function(H){if(!(I.scroll.whitelist!=null&&!I.scroll.whitelist[H])){var B=I.scroll.lines(q,Math.max(L,1)),J=L;B.forEach(function(re){var ne=re.length();if(!(re instanceof v.default))re.format(H,$[H]);else{var de=q-re.offset(I.scroll),me=re.newlineIndex(de+J)-de+1;re.formatAt(de,me,H,$[H])}J-=ne})}}),this.scroll.optimize(),this.update(new c.default().retain(q).retain(L,(0,T.default)($)))}},{key:"formatText",value:function(q,L){var I=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys($).forEach(function(H){I.scroll.formatAt(q,L,H,$[H])}),this.update(new c.default().retain(q).retain(L,(0,T.default)($)))}},{key:"getContents",value:function(q,L){return this.delta.slice(q,q+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(q,L){return q.concat(L.delta())},new c.default)}},{key:"getFormat",value:function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=[],$=[];L===0?this.scroll.path(q).forEach(function(B){var J=a(B,1),re=J[0];re instanceof _.default?I.push(re):re instanceof u.default.Leaf&&$.push(re)}):(I=this.scroll.lines(q,L),$=this.scroll.descendants(u.default.Leaf,q,L));var H=[I,$].map(function(B){if(B.length===0)return{};for(var J=(0,m.bubbleFormats)(B.shift());Object.keys(J).length>0;){var re=B.shift();if(re==null)return J;J=te((0,m.bubbleFormats)(re),J)}return J});return S.default.apply(S.default,H)}},{key:"getText",value:function(q,L){return this.getContents(q,L).filter(function(I){return typeof I.insert=="string"}).map(function(I){return I.insert}).join("")}},{key:"insertEmbed",value:function(q,L,I){return this.scroll.insertAt(q,L,I),this.update(new c.default().retain(q).insert(P({},L,I)))}},{key:"insertText",value:function(q,L){var I=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(q,L),Object.keys($).forEach(function(H){I.scroll.formatAt(q,L.length,H,$[H])}),this.update(new c.default().retain(q).insert(L,(0,T.default)($)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var q=this.scroll.children.head;return q.statics.blotName!==_.default.blotName||q.children.length>1?!1:q.children.head instanceof A.default}},{key:"removeFormat",value:function(q,L){var I=this.getText(q,L),$=this.scroll.line(q+L),H=a($,2),B=H[0],J=H[1],re=0,ne=new c.default;B!=null&&(B instanceof v.default?re=B.newlineIndex(J)-J+1:re=B.length()-J,ne=B.delta().slice(J,J+re-1).insert(`
`));var de=this.getContents(q,L+re),me=de.diff(new c.default().insert(I).concat(ne)),Oe=new c.default().retain(q).concat(me);return this.applyDelta(Oe)}},{key:"update",value:function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,$=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(G)&&u.default.find(L[0].target)){var H=u.default.find(L[0].target),B=(0,m.bubbleFormats)(H),J=H.offset(this.scroll),re=L[0].oldValue.replace(g.default.CONTENTS,""),ne=new c.default().insert(re),de=new c.default().insert(H.value()),me=new c.default().retain(J).concat(ne.diff(de,I));q=me.reduce(function(Oe,Ne){return Ne.insert?Oe.insert(Ne.insert,B):Oe.push(Ne)},new c.default),this.delta=$.compose(q)}else this.delta=this.getDelta(),(!q||!(0,F.default)($.compose(q),this.delta))&&(q=$.diff(this.delta,I));return q}}]),Y}();function te(Y,W){return Object.keys(W).reduce(function(q,L){return Y[L]==null||(W[L]===Y[L]?q[L]=W[L]:Array.isArray(W[L])?W[L].indexOf(Y[L])<0&&(q[L]=W[L].concat([Y[L]])):q[L]=[W[L],Y[L]]),q},{})}function Q(Y){return Y.reduce(function(W,q){if(q.insert===1){var L=(0,T.default)(q.attributes);return delete L.image,W.insert({image:q.attributes.image},L)}if(q.attributes!=null&&(q.attributes.list===!0||q.attributes.bullet===!0)&&(q=(0,T.default)(q),q.attributes.list?q.attributes.list="ordered":(q.attributes.list="bullet",delete q.attributes.bullet)),typeof q.insert=="string"){var I=q.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(I,q.attributes)}return W.push(q)},new c.default)}n.default=ee},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var o=function(){function O(F,C){var S=[],N=!0,P=!1,D=void 0;try{for(var G=F[Symbol.iterator](),ee;!(N=(ee=G.next()).done)&&(S.push(ee.value),!(C&&S.length===C));N=!0);}catch(te){P=!0,D=te}finally{try{!N&&G.return&&G.return()}finally{if(P)throw D}}return S}return function(F,C){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return O(F,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function O(F,C){for(var S=0;S<C.length;S++){var N=C[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(F,N.key,N)}}return function(F,C,S){return C&&O(F.prototype,C),S&&O(F,S),F}}(),s=i(0),l=g(s),c=i(21),p=g(c),h=i(11),f=g(h),u=i(8),y=g(u),v=i(10),b=g(v);function g(O){return O&&O.__esModule?O:{default:O}}function m(O){if(Array.isArray(O)){for(var F=0,C=Array(O.length);F<O.length;F++)C[F]=O[F];return C}else return Array.from(O)}function _(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}var x=(0,b.default)("quill:selection"),A=function O(F){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,O),this.index=F,this.length=C},R=function(){function O(F,C){var S=this;_(this,O),this.emitter=C,this.scroll=F,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new A(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(N,P){N===y.default.events.TEXT_CHANGE&&P.length()>0&&S.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var N=S.getNativeRange();N!=null&&N.start.node!==S.cursor.textNode&&S.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(N,P){if(P.range){var D=P.range,G=D.startNode,ee=D.startOffset,te=D.endNode,Q=D.endOffset;S.setNativeRange(G,ee,te,Q)}}),this.update(y.default.sources.SILENT)}return a(O,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var S=C.cursor.restore();if(!S)return;setTimeout(function(){C.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var N=this.getNativeRange();if(!(N==null||!N.native.collapsed||l.default.query(C,l.default.Scope.BLOCK))){if(N.start.node!==this.cursor.textNode){var P=l.default.find(N.start.node,!1);if(P==null)return;if(P instanceof l.default.Leaf){var D=P.split(N.start.offset);P.parent.insertBefore(this.cursor,D)}else P.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(C,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();C=Math.min(C,N-1),S=Math.min(C+S,N-1)-C;var P=void 0,D=this.scroll.leaf(C),G=o(D,2),ee=G[0],te=G[1];if(ee==null)return null;var Q=ee.position(te,!0),Y=o(Q,2);P=Y[0],te=Y[1];var W=document.createRange();if(S>0){W.setStart(P,te);var q=this.scroll.leaf(C+S),L=o(q,2);if(ee=L[0],te=L[1],ee==null)return null;var I=ee.position(te,!0),$=o(I,2);return P=$[0],te=$[1],W.setEnd(P,te),W.getBoundingClientRect()}else{var H="left",B=void 0;return P instanceof Text?(te<P.data.length?(W.setStart(P,te),W.setEnd(P,te+1)):(W.setStart(P,te-1),W.setEnd(P,te),H="right"),B=W.getBoundingClientRect()):(B=ee.domNode.getBoundingClientRect(),te>0&&(H="right")),{bottom:B.top+B.height,height:B.height,left:B[H],right:B[H],top:B.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var S=C.getRangeAt(0);if(S==null)return null;var N=this.normalizeNative(S);return x.info("getNativeRange",N),N}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var S=this.normalizedToRange(C);return[S,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var S=this,N=[[C.start.node,C.start.offset]];C.native.collapsed||N.push([C.end.node,C.end.offset]);var P=N.map(function(ee){var te=o(ee,2),Q=te[0],Y=te[1],W=l.default.find(Q,!0),q=W.offset(S.scroll);return Y===0?q:W instanceof l.default.Container?q+W.length():q+W.index(Q,Y)}),D=Math.min(Math.max.apply(Math,m(P)),this.scroll.length()-1),G=Math.min.apply(Math,[D].concat(m(P)));return new A(G,D-G)}},{key:"normalizeNative",value:function(C){if(!T(this.root,C.startContainer)||!C.collapsed&&!T(this.root,C.endContainer))return null;var S={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[S.start,S.end].forEach(function(N){for(var P=N.node,D=N.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>D)P=P.childNodes[D],D=0;else if(P.childNodes.length===D)P=P.lastChild,D=P instanceof Text?P.data.length:P.childNodes.length+1;else break;N.node=P,N.offset=D}),S}},{key:"rangeToNative",value:function(C){var S=this,N=C.collapsed?[C.index]:[C.index,C.index+C.length],P=[],D=this.scroll.length();return N.forEach(function(G,ee){G=Math.min(D-1,G);var te=void 0,Q=S.scroll.leaf(G),Y=o(Q,2),W=Y[0],q=Y[1],L=W.position(q,ee!==0),I=o(L,2);te=I[0],q=I[1],P.push(te,q)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(C){var S=this.lastRange;if(S!=null){var N=this.getBounds(S.index,S.length);if(N!=null){var P=this.scroll.length()-1,D=this.scroll.line(Math.min(S.index,P)),G=o(D,1),ee=G[0],te=ee;if(S.length>0){var Q=this.scroll.line(Math.min(S.index+S.length,P)),Y=o(Q,1);te=Y[0]}if(!(ee==null||te==null)){var W=C.getBoundingClientRect();N.top<W.top?C.scrollTop-=W.top-N.top:N.bottom>W.bottom&&(C.scrollTop+=N.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(C,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",C,S,N,P),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||N.parentNode==null))){var G=document.getSelection();if(G!=null)if(C!=null){this.hasFocus()||this.root.focus();var ee=(this.getNativeRange()||{}).native;if(ee==null||D||C!==ee.startContainer||S!==ee.startOffset||N!==ee.endContainer||P!==ee.endOffset){C.tagName=="BR"&&(S=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),N.tagName=="BR"&&(P=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var te=document.createRange();te.setStart(C,S),te.setEnd(N,P),G.removeAllRanges(),G.addRange(te)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof S=="string"&&(N=S,S=!1),x.info("setRange",C),C!=null){var P=this.rangeToNative(C);this.setNativeRange.apply(this,m(P).concat([S]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,S=this.lastRange,N=this.getRange(),P=o(N,2),D=P[0],G=P[1];if(this.lastRange=D,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(S,this.lastRange)){var ee;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var te=[y.default.events.SELECTION_CHANGE,(0,p.default)(this.lastRange),(0,p.default)(S),C];if((ee=this.emitter).emit.apply(ee,[y.default.events.EDITOR_CHANGE].concat(te)),C!==y.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,te)}}}}]),O}();function T(O,F){try{F.parentNode}catch{return!1}return F instanceof Text&&(F=F.parentNode),O.contains(F)}n.Range=A,n.default=R},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function y(v,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,b,g){return b&&y(v.prototype,b),g&&y(v,g),v}}(),a=function y(v,b,g){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,b);if(m===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,b,g)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(g)}},s=i(0),l=c(s);function c(y){return y&&y.__esModule?y:{default:y}}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var u=function(y){f(v,y);function v(){return p(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(g,m){g.children.length===0?a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,g,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);u.blotName="break",u.tagName="BR",n.default=u},function(r,n,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var y in u)u.hasOwnProperty(y)&&(f[y]=u[y])};return function(f,u){h(f,u);function y(){this.constructor=f}f.prototype=u===null?Object.create(u):(y.prototype=u.prototype,new y)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(44),s=i(30),l=i(1),c=function(h){o(f,h);function f(u){var y=h.call(this,u)||this;return y.build(),y}return f.prototype.appendChild=function(u){this.insertBefore(u)},f.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(u){u.attach()})},f.prototype.build=function(){var u=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var v=p(y);u.insertBefore(v,u.children.head||void 0)}catch(b){if(b instanceof l.ParchmentError)return;throw b}})},f.prototype.deleteAt=function(u,y){if(u===0&&y===this.length())return this.remove();this.children.forEachAt(u,y,function(v,b,g){v.deleteAt(b,g)})},f.prototype.descendant=function(u,y){var v=this.children.find(y),b=v[0],g=v[1];return u.blotName==null&&u(b)||u.blotName!=null&&b instanceof u?[b,g]:b instanceof f?b.descendant(u,g):[null,-1]},f.prototype.descendants=function(u,y,v){y===void 0&&(y=0),v===void 0&&(v=Number.MAX_VALUE);var b=[],g=v;return this.children.forEachAt(y,v,function(m,_,x){(u.blotName==null&&u(m)||u.blotName!=null&&m instanceof u)&&b.push(m),m instanceof f&&(b=b.concat(m.descendants(u,_,g))),g-=x}),b},f.prototype.detach=function(){this.children.forEach(function(u){u.detach()}),h.prototype.detach.call(this)},f.prototype.formatAt=function(u,y,v,b){this.children.forEachAt(u,y,function(g,m,_){g.formatAt(m,_,v,b)})},f.prototype.insertAt=function(u,y,v){var b=this.children.find(u),g=b[0],m=b[1];if(g)g.insertAt(m,y,v);else{var _=v==null?l.create("text",y):l.create(y,v);this.appendChild(_)}},f.prototype.insertBefore=function(u,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return u instanceof v}))throw new l.ParchmentError("Cannot insert "+u.statics.blotName+" into "+this.statics.blotName);u.insertInto(this,y)},f.prototype.length=function(){return this.children.reduce(function(u,y){return u+y.length()},0)},f.prototype.moveChildren=function(u,y){this.children.forEach(function(v){u.insertBefore(v,y)})},f.prototype.optimize=function(u){if(h.prototype.optimize.call(this,u),this.children.length===0)if(this.statics.defaultChild!=null){var y=l.create(this.statics.defaultChild);this.appendChild(y),y.optimize(u)}else this.remove()},f.prototype.path=function(u,y){y===void 0&&(y=!1);var v=this.children.find(u,y),b=v[0],g=v[1],m=[[this,u]];return b instanceof f?m.concat(b.path(g,y)):(b!=null&&m.push([b,g]),m)},f.prototype.removeChild=function(u){this.children.remove(u)},f.prototype.replace=function(u){u instanceof f&&u.moveChildren(this),h.prototype.replace.call(this,u)},f.prototype.split=function(u,y){if(y===void 0&&(y=!1),!y){if(u===0)return this;if(u===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(u,this.length(),function(b,g,m){b=b.split(g,y),v.appendChild(b)}),v},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(u,y){var v=this,b=[],g=[];u.forEach(function(m){m.target===v.domNode&&m.type==="childList"&&(b.push.apply(b,m.addedNodes),g.push.apply(g,m.removedNodes))}),g.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(m);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===v.domNode)&&_.detach()}}),b.filter(function(m){return m.parentNode==v.domNode}).sort(function(m,_){return m===_?0:m.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var _=null;m.nextSibling!=null&&(_=l.find(m.nextSibling));var x=p(m);(x.next!=_||x.next==null)&&(x.parent!=null&&x.parent.removeChild(v),v.insertBefore(x,_||void 0))})},f}(s.default);function p(h){var f=l.find(h);if(f==null)try{f=l.create(h)}catch{f=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(y){f.domNode.appendChild(y)}),h.parentNode&&h.parentNode.replaceChild(f.domNode,h),f.attach()}return f}n.default=c},function(r,n,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var y in u)u.hasOwnProperty(y)&&(f[y]=u[y])};return function(f,u){h(f,u);function y(){this.constructor=f}f.prototype=u===null?Object.create(u):(y.prototype=u.prototype,new y)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),s=i(31),l=i(17),c=i(1),p=function(h){o(f,h);function f(u){var y=h.call(this,u)||this;return y.attributes=new s.default(y.domNode),y}return f.formats=function(u){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return u.tagName.toLowerCase()},f.prototype.format=function(u,y){var v=c.query(u);v instanceof a.default?this.attributes.attribute(v,y):y&&v!=null&&(u!==this.statics.blotName||this.formats()[u]!==y)&&this.replaceWith(u,y)},f.prototype.formats=function(){var u=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(u[this.statics.blotName]=y),u},f.prototype.replaceWith=function(u,y){var v=h.prototype.replaceWith.call(this,u,y);return this.attributes.copy(v),v},f.prototype.update=function(u,y){var v=this;h.prototype.update.call(this,u,y),u.some(function(b){return b.target===v.domNode&&b.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(u,y){var v=h.prototype.wrap.call(this,u,y);return v instanceof f&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},f}(l.default);n.default=p},function(r,n,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var f in h)h.hasOwnProperty(f)&&(p[f]=h[f])};return function(p,h){c(p,h);function f(){this.constructor=p}p.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(30),s=i(1),l=function(c){o(p,c);function p(){return c!==null&&c.apply(this,arguments)||this}return p.value=function(h){return!0},p.prototype.index=function(h,f){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},p.prototype.position=function(h,f){var u=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(u+=1),[this.parent.domNode,u]},p.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},p.scope=s.Scope.INLINE_BLOT,p}(a.default);n.default=l},function(r,n,i){var o=i(11),a=i(3),s={attributes:{compose:function(c,p,h){typeof c!="object"&&(c={}),typeof p!="object"&&(p={});var f=a(!0,{},p);h||(f=Object.keys(f).reduce(function(y,v){return f[v]!=null&&(y[v]=f[v]),y},{}));for(var u in c)c[u]!==void 0&&p[u]===void 0&&(f[u]=c[u]);return Object.keys(f).length>0?f:void 0},diff:function(c,p){typeof c!="object"&&(c={}),typeof p!="object"&&(p={});var h=Object.keys(c).concat(Object.keys(p)).reduce(function(f,u){return o(c[u],p[u])||(f[u]=p[u]===void 0?null:p[u]),f},{});return Object.keys(h).length>0?h:void 0},transform:function(c,p,h){if(typeof c!="object")return p;if(typeof p=="object"){if(!h)return p;var f=Object.keys(p).reduce(function(u,y){return c[y]===void 0&&(u[y]=p[y]),u},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var p=this.ops[this.index];if(p){var h=this.offset,f=s.length(p);if(c>=f-h?(c=f-h,this.index+=1,this.offset=0):this.offset+=c,typeof p.delete=="number")return{delete:c};var u={};return p.attributes&&(u.attributes=p.attributes),typeof p.retain=="number"?u.retain=c:typeof p.insert=="string"?u.insert=p.insert.substr(h,c):u.insert=p.insert,u}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,p=this.index,h=this.next(),f=this.ops.slice(this.index);return this.offset=c,this.index=p,[h].concat(f)}else return[]},r.exports=s},function(r,n){var i=function(){function o(v,b){return b!=null&&v instanceof b}var a;try{a=Map}catch{a=function(){}}var s;try{s=Set}catch{s=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(v,b,g,m,_){typeof b=="object"&&(g=b.depth,m=b.prototype,_=b.includeNonEnumerable,b=b.circular);var x=[],A=[],R=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof g>"u"&&(g=1/0);function T(O,F){if(O===null)return null;if(F===0)return O;var C,S;if(typeof O!="object")return O;if(o(O,a))C=new a;else if(o(O,s))C=new s;else if(o(O,l))C=new l(function(W,q){O.then(function(L){W(T(L,F-1))},function(L){q(T(L,F-1))})});else if(c.__isArray(O))C=[];else if(c.__isRegExp(O))C=new RegExp(O.source,y(O)),O.lastIndex&&(C.lastIndex=O.lastIndex);else if(c.__isDate(O))C=new Date(O.getTime());else{if(R&&Buffer.isBuffer(O))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(O.length):C=new Buffer(O.length),O.copy(C),C;o(O,Error)?C=Object.create(O):typeof m>"u"?(S=Object.getPrototypeOf(O),C=Object.create(S)):(C=Object.create(m),S=m)}if(b){var N=x.indexOf(O);if(N!=-1)return A[N];x.push(O),A.push(C)}o(O,a)&&O.forEach(function(W,q){var L=T(q,F-1),I=T(W,F-1);C.set(L,I)}),o(O,s)&&O.forEach(function(W){var q=T(W,F-1);C.add(q)});for(var P in O){var D;S&&(D=Object.getOwnPropertyDescriptor(S,P)),!(D&&D.set==null)&&(C[P]=T(O[P],F-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(O),P=0;P<G.length;P++){var ee=G[P],te=Object.getOwnPropertyDescriptor(O,ee);te&&!te.enumerable&&!_||(C[ee]=T(O[ee],F-1),te.enumerable||Object.defineProperty(C,ee,{enumerable:!1}))}if(_)for(var Q=Object.getOwnPropertyNames(O),P=0;P<Q.length;P++){var Y=Q[P],te=Object.getOwnPropertyDescriptor(O,Y);te&&te.enumerable||(C[Y]=T(O[Y],F-1),Object.defineProperty(C,Y,{enumerable:!1}))}return C}return T(v,g)}c.clonePrototype=function(b){if(b===null)return null;var g=function(){};return g.prototype=b,new g};function p(v){return Object.prototype.toString.call(v)}c.__objToStr=p;function h(v){return typeof v=="object"&&p(v)==="[object Date]"}c.__isDate=h;function f(v){return typeof v=="object"&&p(v)==="[object Array]"}c.__isArray=f;function u(v){return typeof v=="object"&&p(v)==="[object RegExp]"}c.__isRegExp=u;function y(v){var b="";return v.global&&(b+="g"),v.ignoreCase&&(b+="i"),v.multiline&&(b+="m"),b}return c.__getRegExpFlags=y,c}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function C(S,N){var P=[],D=!0,G=!1,ee=void 0;try{for(var te=S[Symbol.iterator](),Q;!(D=(Q=te.next()).done)&&(P.push(Q.value),!(N&&P.length===N));D=!0);}catch(Y){G=!0,ee=Y}finally{try{!D&&te.return&&te.return()}finally{if(G)throw ee}}return P}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return C(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function C(S,N){for(var P=0;P<N.length;P++){var D=N[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}return function(S,N,P){return N&&C(S.prototype,N),P&&C(S,P),S}}(),s=function C(S,N,P){S===null&&(S=Function.prototype);var D=Object.getOwnPropertyDescriptor(S,N);if(D===void 0){var G=Object.getPrototypeOf(S);return G===null?void 0:C(G,N,P)}else{if("value"in D)return D.value;var ee=D.get;return ee===void 0?void 0:ee.call(P)}},l=i(0),c=x(l),p=i(8),h=x(p),f=i(4),u=x(f),y=i(16),v=x(y),b=i(13),g=x(b),m=i(25),_=x(m);function x(C){return C&&C.__esModule?C:{default:C}}function A(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function R(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function T(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}function O(C){return C instanceof u.default||C instanceof f.BlockEmbed}var F=function(C){T(S,C);function S(N,P){A(this,S);var D=R(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N));return D.emitter=P.emitter,Array.isArray(P.whitelist)&&(D.whitelist=P.whitelist.reduce(function(G,ee){return G[ee]=!0,G},{})),D.domNode.addEventListener("DOMNodeInserted",function(){}),D.optimize(),D.enable(),D}return a(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,D){var G=this.line(P),ee=o(G,2),te=ee[0],Q=ee[1],Y=this.line(P+D),W=o(Y,1),q=W[0];if(s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,P,D),q!=null&&te!==q&&Q>0){if(te instanceof f.BlockEmbed||q instanceof f.BlockEmbed){this.optimize();return}if(te instanceof g.default){var L=te.newlineIndex(te.length(),!0);if(L>-1&&(te=te.split(L+1),te===q)){this.optimize();return}}else if(q instanceof g.default){var I=q.newlineIndex(0);I>-1&&q.split(I+1)}var $=q.children.head instanceof v.default?null:q.children.head;te.moveChildren(q,$),te.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,D,G,ee){this.whitelist!=null&&!this.whitelist[G]||(s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,P,D,G,ee),this.optimize())}},{key:"insertAt",value:function(P,D,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[D])){if(P>=this.length())if(G==null||c.default.query(D,c.default.Scope.BLOCK)==null){var ee=c.default.create(this.statics.defaultChild);this.appendChild(ee),G==null&&D.endsWith(`
`)&&(D=D.slice(0,-1)),ee.insertAt(0,D,G)}else{var te=c.default.create(D,G);this.appendChild(te)}else s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,P,D,G);this.optimize()}}},{key:"insertBefore",value:function(P,D){if(P.statics.scope===c.default.Scope.INLINE_BLOT){var G=c.default.create(this.statics.defaultChild);G.appendChild(P),P=G}s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,P,D)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(O,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function ee(te,Q,Y){var W=[],q=Y;return te.children.forEachAt(Q,Y,function(L,I,$){O(L)?W.push(L):L instanceof c.default.Container&&(W=W.concat(ee(L,I,q))),q-=$}),W};return G(this,P,D)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,P,D),P.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,P,D))}},{key:"path",value:function(P){return s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var D=h.default.sources.USER;typeof P=="string"&&(D=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,D,P),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,D,P)}}}]),S}(c.default.Scroll);F.blotName="scroll",F.className="ql-editor",F.tagName="DIV",F.defaultChild="block",F.allowedChildren=[u.default,f.BlockEmbed,_.default],n.default=F},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},a=function(){function B(J,re){var ne=[],de=!0,me=!1,Oe=void 0;try{for(var Ne=J[Symbol.iterator](),Me;!(de=(Me=Ne.next()).done)&&(ne.push(Me.value),!(re&&ne.length===re));de=!0);}catch(we){me=!0,Oe=we}finally{try{!de&&Ne.return&&Ne.return()}finally{if(me)throw Oe}}return ne}return function(J,re){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return B(J,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function B(J,re){for(var ne=0;ne<re.length;ne++){var de=re[ne];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(J,de.key,de)}}return function(J,re,ne){return re&&B(J.prototype,re),ne&&B(J,ne),J}}(),l=i(21),c=C(l),p=i(11),h=C(p),f=i(3),u=C(f),y=i(2),v=C(y),b=i(20),g=C(b),m=i(0),_=C(m),x=i(5),A=C(x),R=i(10),T=C(R),O=i(9),F=C(O);function C(B){return B&&B.__esModule?B:{default:B}}function S(B,J,re){return J in B?Object.defineProperty(B,J,{value:re,enumerable:!0,configurable:!0,writable:!0}):B[J]=re,B}function N(B,J){if(!(B instanceof J))throw new TypeError("Cannot call a class as a function")}function P(B,J){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:B}function D(B,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);B.prototype=Object.create(J&&J.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(B,J):B.__proto__=J)}var G=(0,T.default)("quill:keyboard"),ee=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",te=function(B){D(J,B),s(J,null,[{key:"match",value:function(ne,de){return de=H(de),["altKey","ctrlKey","metaKey","shiftKey"].some(function(me){return!!de[me]!==ne[me]&&de[me]!==null})?!1:de.key===(ne.which||ne.keyCode)}}]);function J(re,ne){N(this,J);var de=P(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,re,ne));return de.bindings={},Object.keys(de.options.bindings).forEach(function(me){me==="list autofill"&&re.scroll.whitelist!=null&&!re.scroll.whitelist.list||de.options.bindings[me]&&de.addBinding(de.options.bindings[me])}),de.addBinding({key:J.keys.ENTER,shiftKey:null},L),de.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(de.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},Y),de.addBinding({key:J.keys.DELETE},{collapsed:!0},W)):(de.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),de.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),de.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},q),de.addBinding({key:J.keys.DELETE},{collapsed:!1},q),de.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),de.listen(),de}return s(J,[{key:"addBinding",value:function(ne){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Oe=H(ne);if(Oe==null||Oe.key==null)return G.warn("Attempted to add invalid keyboard binding",Oe);typeof de=="function"&&(de={handler:de}),typeof me=="function"&&(me={handler:me}),Oe=(0,u.default)(Oe,de,me),this.bindings[Oe.key]=this.bindings[Oe.key]||[],this.bindings[Oe.key].push(Oe)}},{key:"listen",value:function(){var ne=this;this.quill.root.addEventListener("keydown",function(de){if(!de.defaultPrevented){var me=de.which||de.keyCode,Oe=(ne.bindings[me]||[]).filter(function(Qe){return J.match(de,Qe)});if(Oe.length!==0){var Ne=ne.quill.getSelection();if(!(Ne==null||!ne.quill.hasFocus())){var Me=ne.quill.getLine(Ne.index),we=a(Me,2),ae=we[0],Ke=we[1],he=ne.quill.getLeaf(Ne.index),se=a(he,2),be=se[0],Se=se[1],ve=Ne.length===0?[be,Se]:ne.quill.getLeaf(Ne.index+Ne.length),Ie=a(ve,2),Be=Ie[0],Ue=Ie[1],et=be instanceof _.default.Text?be.value().slice(0,Se):"",lt=Be instanceof _.default.Text?Be.value().slice(Ue):"",rt={collapsed:Ne.length===0,empty:Ne.length===0&&ae.length()<=1,format:ne.quill.getFormat(Ne),offset:Ke,prefix:et,suffix:lt},ot=Oe.some(function(Qe){if(Qe.collapsed!=null&&Qe.collapsed!==rt.collapsed||Qe.empty!=null&&Qe.empty!==rt.empty||Qe.offset!=null&&Qe.offset!==rt.offset)return!1;if(Array.isArray(Qe.format)){if(Qe.format.every(function(ze){return rt.format[ze]==null}))return!1}else if(o(Qe.format)==="object"&&!Object.keys(Qe.format).every(function(ze){return Qe.format[ze]===!0?rt.format[ze]!=null:Qe.format[ze]===!1?rt.format[ze]==null:(0,h.default)(Qe.format[ze],rt.format[ze])}))return!1;return Qe.prefix!=null&&!Qe.prefix.test(rt.prefix)||Qe.suffix!=null&&!Qe.suffix.test(rt.suffix)?!1:Qe.handler.call(ne,Ne,rt)!==!0});ot&&de.preventDefault()}}}})}}]),J}(F.default);te.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},te.DEFAULTS={bindings:{bold:$("bold"),italic:$("italic"),underline:$("underline"),indent:{key:te.keys.TAB,format:["blockquote","indent","list"],handler:function(J,re){if(re.collapsed&&re.offset!==0)return!0;this.quill.format("indent","+1",A.default.sources.USER)}},outdent:{key:te.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,re){if(re.collapsed&&re.offset!==0)return!0;this.quill.format("indent","-1",A.default.sources.USER)}},"outdent backspace":{key:te.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,re){re.format.indent!=null?this.quill.format("indent","-1",A.default.sources.USER):re.format.list!=null&&this.quill.format("list",!1,A.default.sources.USER)}},"indent code-block":I(!0),"outdent code-block":I(!1),"remove tab":{key:te.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,A.default.sources.USER)}},tab:{key:te.keys.TAB,handler:function(J){this.quill.history.cutoff();var re=new v.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(re,A.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,A.default.sources.SILENT)}},"list empty enter":{key:te.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,re){this.quill.format("list",!1,A.default.sources.USER),re.format.indent&&this.quill.format("indent",!1,A.default.sources.USER)}},"checklist enter":{key:te.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var re=this.quill.getLine(J.index),ne=a(re,2),de=ne[0],me=ne[1],Oe=(0,u.default)({},de.formats(),{list:"checked"}),Ne=new v.default().retain(J.index).insert(`
`,Oe).retain(de.length()-me-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ne,A.default.sources.USER),this.quill.setSelection(J.index+1,A.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:te.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,re){var ne=this.quill.getLine(J.index),de=a(ne,2),me=de[0],Oe=de[1],Ne=new v.default().retain(J.index).insert(`
`,re.format).retain(me.length()-Oe-1).retain(1,{header:null});this.quill.updateContents(Ne,A.default.sources.USER),this.quill.setSelection(J.index+1,A.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,re){var ne=re.prefix.length,de=this.quill.getLine(J.index),me=a(de,2),Oe=me[0],Ne=me[1];if(Ne>ne)return!0;var Me=void 0;switch(re.prefix.trim()){case"[]":case"[ ]":Me="unchecked";break;case"[x]":Me="checked";break;case"-":case"*":Me="bullet";break;default:Me="ordered"}this.quill.insertText(J.index," ",A.default.sources.USER),this.quill.history.cutoff();var we=new v.default().retain(J.index-Ne).delete(ne+1).retain(Oe.length()-2-Ne).retain(1,{list:Me});this.quill.updateContents(we,A.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-ne,A.default.sources.SILENT)}},"code exit":{key:te.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var re=this.quill.getLine(J.index),ne=a(re,2),de=ne[0],me=ne[1],Oe=new v.default().retain(J.index+de.length()-me-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Oe,A.default.sources.USER)}},"embed left":Q(te.keys.LEFT,!1),"embed left shift":Q(te.keys.LEFT,!0),"embed right":Q(te.keys.RIGHT,!1),"embed right shift":Q(te.keys.RIGHT,!0)}};function Q(B,J){var re,ne=B===te.keys.LEFT?"prefix":"suffix";return re={key:B,shiftKey:J,altKey:null},S(re,ne,/^$/),S(re,"handler",function(me){var Oe=me.index;B===te.keys.RIGHT&&(Oe+=me.length+1);var Ne=this.quill.getLeaf(Oe),Me=a(Ne,1),we=Me[0];return we instanceof _.default.Embed?(B===te.keys.LEFT?J?this.quill.setSelection(me.index-1,me.length+1,A.default.sources.USER):this.quill.setSelection(me.index-1,A.default.sources.USER):J?this.quill.setSelection(me.index,me.length+1,A.default.sources.USER):this.quill.setSelection(me.index+me.length+1,A.default.sources.USER),!1):!0}),re}function Y(B,J){if(!(B.index===0||this.quill.getLength()<=1)){var re=this.quill.getLine(B.index),ne=a(re,1),de=ne[0],me={};if(J.offset===0){var Oe=this.quill.getLine(B.index-1),Ne=a(Oe,1),Me=Ne[0];if(Me!=null&&Me.length()>1){var we=de.formats(),ae=this.quill.getFormat(B.index-1,1);me=g.default.attributes.diff(we,ae)||{}}}var Ke=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText(B.index-Ke,Ke,A.default.sources.USER),Object.keys(me).length>0&&this.quill.formatLine(B.index-Ke,Ke,me,A.default.sources.USER),this.quill.focus()}}function W(B,J){var re=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!(B.index>=this.quill.getLength()-re)){var ne={},de=0,me=this.quill.getLine(B.index),Oe=a(me,1),Ne=Oe[0];if(J.offset>=Ne.length()-1){var Me=this.quill.getLine(B.index+1),we=a(Me,1),ae=we[0];if(ae){var Ke=Ne.formats(),he=this.quill.getFormat(B.index,1);ne=g.default.attributes.diff(Ke,he)||{},de=ae.length()}}this.quill.deleteText(B.index,re,A.default.sources.USER),Object.keys(ne).length>0&&this.quill.formatLine(B.index+de-1,re,ne,A.default.sources.USER)}}function q(B){var J=this.quill.getLines(B),re={};if(J.length>1){var ne=J[0].formats(),de=J[J.length-1].formats();re=g.default.attributes.diff(de,ne)||{}}this.quill.deleteText(B,A.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(B.index,1,re,A.default.sources.USER),this.quill.setSelection(B.index,A.default.sources.SILENT),this.quill.focus()}function L(B,J){var re=this;B.length>0&&this.quill.scroll.deleteAt(B.index,B.length);var ne=Object.keys(J.format).reduce(function(de,me){return _.default.query(me,_.default.Scope.BLOCK)&&!Array.isArray(J.format[me])&&(de[me]=J.format[me]),de},{});this.quill.insertText(B.index,`
`,ne,A.default.sources.USER),this.quill.setSelection(B.index+1,A.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(de){ne[de]==null&&(Array.isArray(J.format[de])||de!=="link"&&re.quill.format(de,J.format[de],A.default.sources.USER))})}function I(B){return{key:te.keys.TAB,shiftKey:!B,format:{"code-block":!0},handler:function(re){var ne=_.default.query("code-block"),de=re.index,me=re.length,Oe=this.quill.scroll.descendant(ne,de),Ne=a(Oe,2),Me=Ne[0],we=Ne[1];if(Me!=null){var ae=this.quill.getIndex(Me),Ke=Me.newlineIndex(we,!0)+1,he=Me.newlineIndex(ae+we+me),se=Me.domNode.textContent.slice(Ke,he).split(`
`);we=0,se.forEach(function(be,Se){B?(Me.insertAt(Ke+we,ne.TAB),we+=ne.TAB.length,Se===0?de+=ne.TAB.length:me+=ne.TAB.length):be.startsWith(ne.TAB)&&(Me.deleteAt(Ke+we,ne.TAB.length),we-=ne.TAB.length,Se===0?de-=ne.TAB.length:me-=ne.TAB.length),we+=be.length+1}),this.quill.update(A.default.sources.USER),this.quill.setSelection(de,me,A.default.sources.SILENT)}}}}function $(B){return{key:B[0].toUpperCase(),shortKey:!0,handler:function(re,ne){this.quill.format(B,!ne.format[B],A.default.sources.USER)}}}function H(B){if(typeof B=="string"||typeof B=="number")return H({key:B});if((typeof B>"u"?"undefined":o(B))==="object"&&(B=(0,c.default)(B,!1)),typeof B.key=="string")if(te.keys[B.key.toUpperCase()]!=null)B.key=te.keys[B.key.toUpperCase()];else if(B.key.length===1)B.key=B.key.toUpperCase().charCodeAt(0);else return null;return B.shortKey&&(B[ee]=B.shortKey,delete B.shortKey),B}n.default=te,n.SHORTKEY=ee},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(m,_){var x=[],A=!0,R=!1,T=void 0;try{for(var O=m[Symbol.iterator](),F;!(A=(F=O.next()).done)&&(x.push(F.value),!(_&&x.length===_));A=!0);}catch(C){R=!0,T=C}finally{try{!A&&O.return&&O.return()}finally{if(R)throw T}}return x}return function(m,_){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function g(m,_,x){m===null&&(m=Function.prototype);var A=Object.getOwnPropertyDescriptor(m,_);if(A===void 0){var R=Object.getPrototypeOf(m);return R===null?void 0:g(R,_,x)}else{if("value"in A)return A.value;var T=A.get;return T===void 0?void 0:T.call(x)}},s=function(){function g(m,_){for(var x=0;x<_.length;x++){var A=_[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(m,A.key,A)}}return function(m,_,x){return _&&g(m.prototype,_),x&&g(m,x),m}}(),l=i(0),c=f(l),p=i(7),h=f(p);function f(g){return g&&g.__esModule?g:{default:g}}function u(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function y(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function v(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var b=function(g){v(m,g),s(m,null,[{key:"value",value:function(){}}]);function m(_,x){u(this,m);var A=y(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return A.selection=x,A.textNode=document.createTextNode(m.CONTENTS),A.domNode.appendChild(A.textNode),A._length=0,A}return s(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,A){if(this._length!==0)return a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,x,A);for(var R=this,T=0;R!=null&&R.statics.scope!==c.default.Scope.BLOCK_BLOT;)T+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=m.CONTENTS.length,R.optimize(),R.formatAt(T,m.CONTENTS.length,x,A),this._length=0)}},{key:"index",value:function(x,A){return x===this.textNode?0:a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,x,A)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,A=this.selection.getNativeRange(),R=void 0,T=void 0,O=void 0;if(A!=null&&A.start.node===x&&A.end.node===x){var F=[x,A.start.offset,A.end.offset];R=F[0],T=F[1],O=F[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var C=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof h.default?(R=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=m.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),T!=null){var S=[T,O].map(function(P){return Math.max(0,Math.min(R.data.length,P-1))}),N=o(S,2);return T=N[0],O=N[1],{startNode:R,startOffset:T,endNode:R,endOffset:O}}}}},{key:"update",value:function(x,A){var R=this;if(x.some(function(O){return O.type==="characterData"&&O.target===R.textNode})){var T=this.restore();T&&(A.range=T)}}},{key:"value",value:function(){return""}}]),m}(c.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),a=c(o),s=i(4),l=c(s);function c(y){return y&&y.__esModule?y:{default:y}}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var u=function(y){f(v,y);function v(){return p(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(a.default.Container);u.allowedChildren=[l.default,s.BlockEmbed,u],n.default=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var o=function(){function b(g,m){for(var _=0;_<m.length;_++){var x=m[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,m,_){return m&&b(g.prototype,m),_&&b(g,_),g}}(),a=function b(g,m,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,m);if(x===void 0){var A=Object.getPrototypeOf(g);return A===null?void 0:b(A,m,_)}else{if("value"in x)return x.value;var R=x.get;return R===void 0?void 0:R.call(_)}},s=i(0),l=c(s);function c(b){return b&&b.__esModule?b:{default:b}}function p(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function h(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function f(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var u=function(b){f(g,b);function g(){return p(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(_){var x=a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,_);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(A){return("00"+parseInt(A).toString(16)).slice(-2)}).join("")):x}}]),g}(l.default.Attributor.Style),y=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new u("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=u,n.ColorClass=y,n.ColorStyle=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var o=function(){function v(b,g){for(var m=0;m<g.length;m++){var _=g[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,g,m){return g&&v(b.prototype,g),m&&v(b,m),b}}(),a=function v(b,g,m){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,g);if(_===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:v(x,g,m)}else{if("value"in _)return _.value;var A=_.get;return A===void 0?void 0:A.call(m)}},s=i(6),l=c(s);function c(v){return v&&v.__esModule?v:{default:v}}function p(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function f(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var u=function(v){f(b,v);function b(){return p(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(m,_){if(m!==this.statics.blotName||!_)return a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,m,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(m){var _=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,m);return m=this.sanitize(m),_.setAttribute("href",m),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return y(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),b}(l.default);u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(v,b){var g=document.createElement("a");g.href=v;var m=g.href.slice(0,g.href.indexOf(":"));return b.indexOf(m)>-1}n.default=u,n.sanitize=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},a=function(){function b(g,m){for(var _=0;_<m.length;_++){var x=m[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,m,_){return m&&b(g.prototype,m),_&&b(g,_),g}}(),s=i(23),l=h(s),c=i(107),p=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function f(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}var u=0;function y(b,g){b.setAttribute(g,b.getAttribute(g)!=="true")}var v=function(){function b(g){var m=this;f(this,b),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var _=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),m.hasAttribute("value")&&x.setAttribute("data-value",m.getAttribute("value")),m.textContent&&x.setAttribute("data-label",m.textContent),x.addEventListener("click",function(){_.selectItem(x,!0)}),x.addEventListener("keydown",function(A){switch(A.keyCode){case l.default.keys.ENTER:_.selectItem(x,!0),A.preventDefault();break;case l.default.keys.ESCAPE:_.escape(),A.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=p.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+u,u+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(x){var A=m.buildItem(x);_.appendChild(A),x.selected===!0&&m.selectItem(A)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(_){m.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(m!==x&&(x!=null&&x.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var A=document.createEvent("Event");A.initEvent("change",!0,!0),this.select.dispatchEvent(A)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var x=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),b}();n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),a=G(o),s=i(5),l=G(s),c=i(4),p=G(c),h=i(16),f=G(h),u=i(25),y=G(u),v=i(24),b=G(v),g=i(35),m=G(g),_=i(6),x=G(_),A=i(22),R=G(A),T=i(7),O=G(T),F=i(55),C=G(F),S=i(42),N=G(S),P=i(23),D=G(P);function G(ee){return ee&&ee.__esModule?ee:{default:ee}}l.default.register({"blots/block":p.default,"blots/block/embed":c.BlockEmbed,"blots/break":f.default,"blots/container":y.default,"blots/cursor":b.default,"blots/embed":m.default,"blots/inline":x.default,"blots/scroll":R.default,"blots/text":O.default,"modules/clipboard":C.default,"modules/history":N.default,"modules/keyboard":D.default}),a.default.register(p.default,f.default,b.default,x.default,R.default,O.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),a=function(){function s(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},s.prototype.deleteAt=function(l,c){var p=this.isolate(l,c);p.remove()},s.prototype.formatAt=function(l,c,p,h){var f=this.isolate(l,c);if(o.query(p,o.Scope.BLOT)!=null&&h)f.wrap(p,h);else if(o.query(p,o.Scope.ATTRIBUTE)!=null){var u=o.create(this.statics.scope);f.wrap(u),u.format(p,h)}},s.prototype.insertAt=function(l,c,p){var h=p==null?o.create("text",c):o.create(c,p),f=this.split(l);this.parent.insertBefore(h,f)},s.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var p=null;l.children.insertBefore(this,c),c!=null&&(p=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=p)&&l.domNode.insertBefore(this.domNode,p),this.parent=l,this.attach()},s.prototype.isolate=function(l,c){var p=this.split(l);return p.split(c),p},s.prototype.length=function(){return 1},s.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},s.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},s.prototype.replaceWith=function(l,c){var p=typeof l=="string"?o.create(l,c):l;return p.replace(this),p},s.prototype.split=function(l,c){return l===0?this:this.next},s.prototype.update=function(l,c){},s.prototype.wrap=function(l,c){var p=typeof l=="string"?o.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(p,this.next),p.appendChild(this),p},s.blotName="abstract",s}();n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),a=i(32),s=i(33),l=i(1),c=function(){function p(h){this.attributes={},this.domNode=h,this.build()}return p.prototype.attribute=function(h,f){f?h.add(this.domNode,f)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},p.prototype.build=function(){var h=this;this.attributes={};var f=o.default.keys(this.domNode),u=a.default.keys(this.domNode),y=s.default.keys(this.domNode);f.concat(u).concat(y).forEach(function(v){var b=l.query(v,l.Scope.ATTRIBUTE);b instanceof o.default&&(h.attributes[b.attrName]=b)})},p.prototype.copy=function(h){var f=this;Object.keys(this.attributes).forEach(function(u){var y=f.attributes[u].value(f.domNode);h.format(u,y)})},p.prototype.move=function(h){var f=this;this.copy(h),Object.keys(this.attributes).forEach(function(u){f.attributes[u].remove(f.domNode)}),this.attributes={}},p.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(f,u){return f[u]=h.attributes[u].value(h.domNode),f},{})},p}();n.default=c},function(r,n,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var f in h)h.hasOwnProperty(f)&&(p[f]=h[f])};return function(p,h){c(p,h);function f(){this.constructor=p}p.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12);function s(c,p){var h=c.getAttribute("class")||"";return h.split(/\s+/).filter(function(f){return f.indexOf(p+"-")===0})}var l=function(c){o(p,c);function p(){return c!==null&&c.apply(this,arguments)||this}return p.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},p.prototype.add=function(h,f){return this.canAdd(h,f)?(this.remove(h),h.classList.add(this.keyName+"-"+f),!0):!1},p.prototype.remove=function(h){var f=s(h,this.keyName);f.forEach(function(u){h.classList.remove(u)}),h.classList.length===0&&h.removeAttribute("class")},p.prototype.value=function(h){var f=s(h,this.keyName)[0]||"",u=f.slice(this.keyName.length+1);return this.canAdd(h,u)?u:""},p}(a.default);n.default=l},function(r,n,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var f in h)h.hasOwnProperty(f)&&(p[f]=h[f])};return function(p,h){c(p,h);function f(){this.constructor=p}p.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12);function s(c){var p=c.split("-"),h=p.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return p[0]+h}var l=function(c){o(p,c);function p(){return c!==null&&c.apply(this,arguments)||this}return p.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(f){var u=f.split(":");return u[0].trim()})},p.prototype.add=function(h,f){return this.canAdd(h,f)?(h.style[s(this.keyName)]=f,!0):!1},p.prototype.remove=function(h){h.style[s(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},p.prototype.value=function(h){var f=h.style[s(this.keyName)];return this.canAdd(h,f)?f:""},p}(a.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function l(c,p){for(var h=0;h<p.length;h++){var f=p[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,p,h){return p&&l(c.prototype,p),h&&l(c,h),c}}();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(c,p){a(this,l),this.quill=c,this.options=p,this.modules={}}return o(l,[{key:"init",value:function(){var p=this;Object.keys(this.options.modules).forEach(function(h){p.modules[h]==null&&p.addModule(h)})}},{key:"addModule",value:function(p){var h=this.quill.constructor.import("modules/"+p);return this.modules[p]=new h(this.quill,this.options.modules[p]||{}),this.modules[p]}}]),l}();s.DEFAULTS={modules:{}},s.themes={default:s},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(m,_){for(var x=0;x<_.length;x++){var A=_[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(m,A.key,A)}}return function(m,_,x){return _&&g(m.prototype,_),x&&g(m,x),m}}(),a=function g(m,_,x){m===null&&(m=Function.prototype);var A=Object.getOwnPropertyDescriptor(m,_);if(A===void 0){var R=Object.getPrototypeOf(m);return R===null?void 0:g(R,_,x)}else{if("value"in A)return A.value;var T=A.get;return T===void 0?void 0:T.call(x)}},s=i(0),l=h(s),c=i(7),p=h(c);function h(g){return g&&g.__esModule?g:{default:g}}function f(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function y(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var v="\uFEFF",b=function(g){y(m,g);function m(_){f(this,m);var x=u(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(A){x.contentNode.appendChild(A)}),x.leftGuard=document.createTextNode(v),x.rightGuard=document.createTextNode(v),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return o(m,[{key:"index",value:function(x,A){return x===this.leftGuard?0:x===this.rightGuard?1:a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,x,A)}},{key:"restore",value:function(x){var A=void 0,R=void 0,T=x.data.split(v).join("");if(x===this.leftGuard)if(this.prev instanceof p.default){var O=this.prev.length();this.prev.insertAt(O,T),A={startNode:this.prev.domNode,startOffset:O+T.length}}else R=document.createTextNode(T),this.parent.insertBefore(l.default.create(R),this),A={startNode:R,startOffset:T.length};else x===this.rightGuard&&(this.next instanceof p.default?(this.next.insertAt(0,T),A={startNode:this.next.domNode,startOffset:T.length}):(R=document.createTextNode(T),this.parent.insertBefore(l.default.create(R),this.next),A={startNode:R,startOffset:T.length}));return x.data=v,A}},{key:"update",value:function(x,A){var R=this;x.forEach(function(T){if(T.type==="characterData"&&(T.target===R.leftGuard||T.target===R.rightGuard)){var O=R.restore(T.target);O&&(A.range=O)}})}}]),m}(l.default.Embed);n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var o=i(0),a=s(o);function s(f){return f&&f.__esModule?f:{default:f}}var l={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new a.default.Attributor.Attribute("align","align",l),p=new a.default.Attributor.Class("align","ql-align",l),h=new a.default.Attributor.Style("align","text-align",l);n.AlignAttribute=c,n.AlignClass=p,n.AlignStyle=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var o=i(0),a=l(o),s=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var c=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),p=new s.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});n.BackgroundClass=c,n.BackgroundStyle=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var o=i(0),a=s(o);function s(f){return f&&f.__esModule?f:{default:f}}var l={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},c=new a.default.Attributor.Attribute("direction","dir",l),p=new a.default.Attributor.Class("direction","ql-direction",l),h=new a.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=c,n.DirectionClass=p,n.DirectionStyle=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var o=function(){function g(m,_){for(var x=0;x<_.length;x++){var A=_[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(m,A.key,A)}}return function(m,_,x){return _&&g(m.prototype,_),x&&g(m,x),m}}(),a=function g(m,_,x){m===null&&(m=Function.prototype);var A=Object.getOwnPropertyDescriptor(m,_);if(A===void 0){var R=Object.getPrototypeOf(m);return R===null?void 0:g(R,_,x)}else{if("value"in A)return A.value;var T=A.get;return T===void 0?void 0:T.call(x)}},s=i(0),l=c(s);function c(g){return g&&g.__esModule?g:{default:g}}function p(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function h(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var u={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new l.default.Attributor.Class("font","ql-font",u),v=function(g){f(m,g);function m(){return p(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(x){return a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),b=new v("font","font-family",u);n.FontStyle=b,n.FontClass=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var o=i(0),a=s(o);function s(p){return p&&p.__esModule?p:{default:p}}var l=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=c},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var o=function(){function _(x,A){for(var R=0;R<A.length;R++){var T=A[R];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,A,R){return A&&_(x.prototype,A),R&&_(x,R),x}}(),a=i(0),s=f(a),l=i(5),c=f(l),p=i(9),h=f(p);function f(_){return _&&_.__esModule?_:{default:_}}function u(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function y(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function v(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var b=function(_){v(x,_);function x(A,R){u(this,x);var T=y(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,A,R));return T.lastRecorded=0,T.ignoreChange=!1,T.clear(),T.quill.on(c.default.events.EDITOR_CHANGE,function(O,F,C,S){O!==c.default.events.TEXT_CHANGE||T.ignoreChange||(!T.options.userOnly||S===c.default.sources.USER?T.record(F,C):T.transform(F))}),T.quill.keyboard.addBinding({key:"Z",shortKey:!0},T.undo.bind(T)),T.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},T.redo.bind(T)),/Win/i.test(navigator.platform)&&T.quill.keyboard.addBinding({key:"Y",shortKey:!0},T.redo.bind(T)),T}return o(x,[{key:"change",value:function(R,T){if(this.stack[R].length!==0){var O=this.stack[R].pop();this.stack[T].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[R],c.default.sources.USER),this.ignoreChange=!1;var F=m(O[R]);this.quill.setSelection(F)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,T){if(R.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(T),F=Date.now();if(this.lastRecorded+this.options.delay>F&&this.stack.undo.length>0){var C=this.stack.undo.pop();O=O.compose(C.undo),R=C.redo.compose(R)}else this.lastRecorded=F;this.stack.undo.push({redo:R,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(T){T.undo=R.transform(T.undo,!0),T.redo=R.transform(T.redo,!0)}),this.stack.redo.forEach(function(T){T.undo=R.transform(T.undo,!0),T.redo=R.transform(T.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(h.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(_){var x=_.ops[_.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(A){return s.default.query(A,s.default.Scope.BLOCK)!=null}):!1}function m(_){var x=_.reduce(function(R,T){return R+=T.delete||0,R},0),A=_.length()-x;return g(_)&&(A-=1),A}n.default=b,n.getLastChangeIndex=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var o=function(){function L(I,$){for(var H=0;H<$.length;H++){var B=$[H];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(I,B.key,B)}}return function(I,$,H){return $&&L(I.prototype,$),H&&L(I,H),I}}(),a=function L(I,$,H){I===null&&(I=Function.prototype);var B=Object.getOwnPropertyDescriptor(I,$);if(B===void 0){var J=Object.getPrototypeOf(I);return J===null?void 0:L(J,$,H)}else{if("value"in B)return B.value;var re=B.get;return re===void 0?void 0:re.call(H)}},s=i(3),l=F(s),c=i(2),p=F(c),h=i(8),f=F(h),u=i(23),y=F(u),v=i(34),b=F(v),g=i(59),m=F(g),_=i(60),x=F(_),A=i(28),R=F(A),T=i(61),O=F(T);function F(L){return L&&L.__esModule?L:{default:L}}function C(L,I){if(!(L instanceof I))throw new TypeError("Cannot call a class as a function")}function S(L,I){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:L}function N(L,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);L.prototype=Object.create(I&&I.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(L,I):L.__proto__=I)}var P=[!1,"center","right","justify"],D=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],ee=["1","2","3",!1],te=["small",!1,"large","huge"],Q=function(L){N(I,L);function I($,H){C(this,I);var B=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,$,H)),J=function re(ne){if(!document.body.contains($.root))return document.body.removeEventListener("click",re);B.tooltip!=null&&!B.tooltip.root.contains(ne.target)&&document.activeElement!==B.tooltip.textbox&&!B.quill.hasFocus()&&B.tooltip.hide(),B.pickers!=null&&B.pickers.forEach(function(de){de.container.contains(ne.target)||de.close()})};return $.emitter.listenDOM("click",document.body,J),B}return o(I,[{key:"addModule",value:function(H){var B=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(B),B}},{key:"buildButtons",value:function(H,B){H.forEach(function(J){var re=J.getAttribute("class")||"";re.split(/\s+/).forEach(function(ne){if(ne.startsWith("ql-")&&(ne=ne.slice(3),B[ne]!=null))if(ne==="direction")J.innerHTML=B[ne][""]+B[ne].rtl;else if(typeof B[ne]=="string")J.innerHTML=B[ne];else{var de=J.value||"";de!=null&&B[ne][de]&&(J.innerHTML=B[ne][de])}})})}},{key:"buildPickers",value:function(H,B){var J=this;this.pickers=H.map(function(ne){if(ne.classList.contains("ql-align"))return ne.querySelector("option")==null&&q(ne,P),new x.default(ne,B.align);if(ne.classList.contains("ql-background")||ne.classList.contains("ql-color")){var de=ne.classList.contains("ql-background")?"background":"color";return ne.querySelector("option")==null&&q(ne,D,de==="background"?"#ffffff":"#000000"),new m.default(ne,B[de])}else return ne.querySelector("option")==null&&(ne.classList.contains("ql-font")?q(ne,G):ne.classList.contains("ql-header")?q(ne,ee):ne.classList.contains("ql-size")&&q(ne,te)),new R.default(ne)});var re=function(){J.pickers.forEach(function(de){de.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,re)}}]),I}(b.default);Q.DEFAULTS=(0,l.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var I=this,$=this.container.querySelector("input.ql-image[type=file]");$==null&&($=document.createElement("input"),$.setAttribute("type","file"),$.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),$.classList.add("ql-image"),$.addEventListener("change",function(){if($.files!=null&&$.files[0]!=null){var H=new FileReader;H.onload=function(B){var J=I.quill.getSelection(!0);I.quill.updateContents(new p.default().retain(J.index).delete(J.length).insert({image:B.target.result}),f.default.sources.USER),I.quill.setSelection(J.index+1,f.default.sources.SILENT),$.value=""},H.readAsDataURL($.files[0])}}),this.container.appendChild($)),$.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=function(L){N(I,L);function I($,H){C(this,I);var B=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,$,H));return B.textbox=B.root.querySelector('input[type="text"]'),B.listen(),B}return o(I,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(B){y.default.match(B,"enter")?(H.save(),B.preventDefault()):y.default.match(B,"escape")&&(H.cancel(),B.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),B!=null?this.textbox.value=B:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var B=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,f.default.sources.USER)),this.quill.root.scrollTop=B;break}case"video":H=W(H);case"formula":{if(!H)break;var J=this.quill.getSelection(!0);if(J!=null){var re=J.index+J.length;this.quill.insertEmbed(re,this.root.getAttribute("data-mode"),H,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(re+1," ",f.default.sources.USER),this.quill.setSelection(re+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),I}(O.default);function W(L){var I=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return I?(I[1]||"https")+"://www.youtube.com/embed/"+I[2]+"?showinfo=0":(I=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(I[1]||"https")+"://player.vimeo.com/video/"+I[2]+"/":L}function q(L,I){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;I.forEach(function(H){var B=document.createElement("option");H===$?B.setAttribute("selected","selected"):B.setAttribute("value",H),L.appendChild(B)})}n.BaseTooltip=Y,n.default=Q},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},a.prototype.contains=function(s){for(var l,c=this.iterator();l=c();)if(l===s)return!0;return!1},a.prototype.insertBefore=function(s,l){s&&(s.next=l,l!=null?(s.prev=l.prev,l.prev!=null&&(l.prev.next=s),l.prev=s,l===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},a.prototype.offset=function(s){for(var l=0,c=this.head;c!=null;){if(c===s)return l;l+=c.length(),c=c.next}return-1},a.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},a.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var l=s;return s!=null&&(s=s.next),l}},a.prototype.find=function(s,l){l===void 0&&(l=!1);for(var c,p=this.iterator();c=p();){var h=c.length();if(s<h||l&&s===h&&(c.next==null||c.next.length()!==0))return[c,s];s-=h}return[null,0]},a.prototype.forEach=function(s){for(var l,c=this.iterator();l=c();)s(l)},a.prototype.forEachAt=function(s,l,c){if(!(l<=0))for(var p=this.find(s),h=p[0],f=p[1],u,y=s-f,v=this.iterator(h);(u=v())&&y<s+l;){var b=u.length();s>y?c(u,s-y,Math.min(l,y+b-s)):c(u,0,Math.min(b,s+l-y)),y+=b}},a.prototype.map=function(s){return this.reduce(function(l,c){return l.push(s(c)),l},[])},a.prototype.reduce=function(s,l){for(var c,p=this.iterator();c=p();)l=s(l,c);return l},a}();n.default=o},function(r,n,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var y in u)u.hasOwnProperty(y)&&(f[y]=u[y])};return function(f,u){h(f,u);function y(){this.constructor=f}f.prototype=u===null?Object.create(u):(y.prototype=u.prototype,new y)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),s=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,p=function(h){o(f,h);function f(u){var y=h.call(this,u)||this;return y.scroll=y,y.observer=new MutationObserver(function(v){y.update(v)}),y.observer.observe(y.domNode,l),y.attach(),y}return f.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(u,y){this.update(),u===0&&y===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,u,y)},f.prototype.formatAt=function(u,y,v,b){this.update(),h.prototype.formatAt.call(this,u,y,v,b)},f.prototype.insertAt=function(u,y,v){this.update(),h.prototype.insertAt.call(this,u,y,v)},f.prototype.optimize=function(u,y){var v=this;u===void 0&&(u=[]),y===void 0&&(y={}),h.prototype.optimize.call(this,y);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)u.push(b.pop());for(var g=function(A,R){R===void 0&&(R=!0),!(A==null||A===v)&&A.domNode.parentNode!=null&&(A.domNode[s.DATA_KEY].mutations==null&&(A.domNode[s.DATA_KEY].mutations=[]),R&&g(A.parent))},m=function(A){A.domNode[s.DATA_KEY]==null||A.domNode[s.DATA_KEY].mutations==null||(A instanceof a.default&&A.children.forEach(m),A.optimize(y))},_=u,x=0;_.length>0;x+=1){if(x>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(A){var R=s.find(A.target,!0);R!=null&&(R.domNode===A.target&&(A.type==="childList"?(g(s.find(A.previousSibling,!1)),[].forEach.call(A.addedNodes,function(T){var O=s.find(T,!1);g(O,!1),O instanceof a.default&&O.children.forEach(function(F){g(F,!1)})})):A.type==="attributes"&&g(R.prev)),g(R))}),this.children.forEach(m),_=[].slice.call(this.observer.takeRecords()),b=_.slice();b.length>0;)u.push(b.pop())}},f.prototype.update=function(u,y){var v=this;y===void 0&&(y={}),u=u||this.observer.takeRecords(),u.map(function(b){var g=s.find(b.target,!0);return g==null?null:g.domNode[s.DATA_KEY].mutations==null?(g.domNode[s.DATA_KEY].mutations=[b],g):(g.domNode[s.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===v||b.domNode[s.DATA_KEY]==null||b.update(b.domNode[s.DATA_KEY].mutations||[],y)}),this.domNode[s.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,y),this.optimize(u,y)},f.blotName="scroll",f.defaultChild="block",f.scope=s.Scope.BLOCK_BLOT,f.tagName="DIV",f}(a.default);n.default=p},function(r,n,i){var o=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var u in f)f.hasOwnProperty(u)&&(h[u]=f[u])};return function(h,f){p(h,f);function u(){this.constructor=h}h.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(18),s=i(1);function l(p,h){if(Object.keys(p).length!==Object.keys(h).length)return!1;for(var f in p)if(p[f]!==h[f])return!1;return!0}var c=function(p){o(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.formats=function(f){if(f.tagName!==h.tagName)return p.formats.call(this,f)},h.prototype.format=function(f,u){var y=this;f===this.statics.blotName&&!u?(this.children.forEach(function(v){v instanceof a.default||(v=v.wrap(h.blotName,!0)),y.attributes.copy(v)}),this.unwrap()):p.prototype.format.call(this,f,u)},h.prototype.formatAt=function(f,u,y,v){if(this.formats()[y]!=null||s.query(y,s.Scope.ATTRIBUTE)){var b=this.isolate(f,u);b.format(y,v)}else p.prototype.formatAt.call(this,f,u,y,v)},h.prototype.optimize=function(f){p.prototype.optimize.call(this,f);var u=this.formats();if(Object.keys(u).length===0)return this.unwrap();var y=this.next;y instanceof h&&y.prev===this&&l(u,y.formats())&&(y.moveChildren(this),y.remove())},h.blotName="inline",h.scope=s.Scope.INLINE_BLOT,h.tagName="SPAN",h}(a.default);n.default=c},function(r,n,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var f in h)h.hasOwnProperty(f)&&(p[f]=h[f])};return function(p,h){c(p,h);function f(){this.constructor=p}p.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(18),s=i(1),l=function(c){o(p,c);function p(){return c!==null&&c.apply(this,arguments)||this}return p.formats=function(h){var f=s.query(p.blotName).tagName;if(h.tagName!==f)return c.formats.call(this,h)},p.prototype.format=function(h,f){s.query(h,s.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!f?this.replaceWith(p.blotName):c.prototype.format.call(this,h,f))},p.prototype.formatAt=function(h,f,u,y){s.query(u,s.Scope.BLOCK)!=null?this.format(u,y):c.prototype.formatAt.call(this,h,f,u,y)},p.prototype.insertAt=function(h,f,u){if(u==null||s.query(f,s.Scope.INLINE)!=null)c.prototype.insertAt.call(this,h,f,u);else{var y=this.split(h),v=s.create(f,u);y.parent.insertBefore(v,y)}},p.prototype.update=function(h,f){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,h,f)},p.blotName="block",p.scope=s.Scope.BLOCK_BLOT,p.tagName="P",p}(a.default);n.default=l},function(r,n,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var h in p)p.hasOwnProperty(h)&&(c[h]=p[h])};return function(c,p){l(c,p);function h(){this.constructor=c}c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(19),s=function(l){o(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(p){},c.prototype.format=function(p,h){l.prototype.formatAt.call(this,0,this.length(),p,h)},c.prototype.formatAt=function(p,h,f,u){p===0&&h===this.length()?this.format(f,u):l.prototype.formatAt.call(this,p,h,f,u)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(a.default);n.default=s},function(r,n,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var f in h)h.hasOwnProperty(f)&&(p[f]=h[f])};return function(p,h){c(p,h);function f(){this.constructor=p}p.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(19),s=i(1),l=function(c){o(p,c);function p(h){var f=c.call(this,h)||this;return f.text=f.statics.value(f.domNode),f}return p.create=function(h){return document.createTextNode(h)},p.value=function(h){var f=h.data;return f.normalize&&(f=f.normalize()),f},p.prototype.deleteAt=function(h,f){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+f)},p.prototype.index=function(h,f){return this.domNode===h?f:-1},p.prototype.insertAt=function(h,f,u){u==null?(this.text=this.text.slice(0,h)+f+this.text.slice(h),this.domNode.data=this.text):c.prototype.insertAt.call(this,h,f,u)},p.prototype.length=function(){return this.text.length},p.prototype.optimize=function(h){c.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof p&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},p.prototype.position=function(h,f){return[this.domNode,h]},p.prototype.split=function(h,f){if(f===void 0&&(f=!1),!f){if(h===0)return this;if(h===this.length())return this.next}var u=s.create(this.domNode.splitText(h));return this.parent.insertBefore(u,this.next),this.text=this.statics.value(this.domNode),u},p.prototype.update=function(h,f){var u=this;h.some(function(y){return y.type==="characterData"&&y.target===u.domNode})&&(this.text=this.statics.value(this.domNode))},p.prototype.value=function(){return this.text},p.blotName="text",p.scope=s.Scope.INLINE_BLOT,p}(a.default);n.default=l},function(r,n,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,l){return arguments.length>1&&!this.contains(s)==!l?l:a.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,l){return l=l||0,this.substr(l,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=s.length;var p=c.indexOf(s,l);return p!==-1&&p===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),p=c.length>>>0,h=arguments[1],f,u=0;u<p;u++)if(f=c[u],l.call(h,f,u,c))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,o=1,a=0;function s(x,A,R){if(x==A)return x?[[a,x]]:[];(R<0||x.length<R)&&(R=null);var T=h(x,A),O=x.substring(0,T);x=x.substring(T),A=A.substring(T),T=f(x,A);var F=x.substring(x.length-T);x=x.substring(0,x.length-T),A=A.substring(0,A.length-T);var C=l(x,A);return O&&C.unshift([a,O]),F&&C.push([a,F]),y(C),R!=null&&(C=g(C,R)),C=m(C),C}function l(x,A){var R;if(!x)return[[o,A]];if(!A)return[[i,x]];var T=x.length>A.length?x:A,O=x.length>A.length?A:x,F=T.indexOf(O);if(F!=-1)return R=[[o,T.substring(0,F)],[a,O],[o,T.substring(F+O.length)]],x.length>A.length&&(R[0][0]=R[2][0]=i),R;if(O.length==1)return[[i,x],[o,A]];var C=u(x,A);if(C){var S=C[0],N=C[1],P=C[2],D=C[3],G=C[4],ee=s(S,P),te=s(N,D);return ee.concat([[a,G]],te)}return c(x,A)}function c(x,A){for(var R=x.length,T=A.length,O=Math.ceil((R+T)/2),F=O,C=2*O,S=new Array(C),N=new Array(C),P=0;P<C;P++)S[P]=-1,N[P]=-1;S[F+1]=0,N[F+1]=0;for(var D=R-T,G=D%2!=0,ee=0,te=0,Q=0,Y=0,W=0;W<O;W++){for(var q=-W+ee;q<=W-te;q+=2){var L=F+q,I;q==-W||q!=W&&S[L-1]<S[L+1]?I=S[L+1]:I=S[L-1]+1;for(var $=I-q;I<R&&$<T&&x.charAt(I)==A.charAt($);)I++,$++;if(S[L]=I,I>R)te+=2;else if($>T)ee+=2;else if(G){var H=F+D-q;if(H>=0&&H<C&&N[H]!=-1){var B=R-N[H];if(I>=B)return p(x,A,I,$)}}}for(var J=-W+Q;J<=W-Y;J+=2){var H=F+J,B;J==-W||J!=W&&N[H-1]<N[H+1]?B=N[H+1]:B=N[H-1]+1;for(var re=B-J;B<R&&re<T&&x.charAt(R-B-1)==A.charAt(T-re-1);)B++,re++;if(N[H]=B,B>R)Y+=2;else if(re>T)Q+=2;else if(!G){var L=F+D-J;if(L>=0&&L<C&&S[L]!=-1){var I=S[L],$=F+I-L;if(B=R-B,I>=B)return p(x,A,I,$)}}}}return[[i,x],[o,A]]}function p(x,A,R,T){var O=x.substring(0,R),F=A.substring(0,T),C=x.substring(R),S=A.substring(T),N=s(O,F),P=s(C,S);return N.concat(P)}function h(x,A){if(!x||!A||x.charAt(0)!=A.charAt(0))return 0;for(var R=0,T=Math.min(x.length,A.length),O=T,F=0;R<O;)x.substring(F,O)==A.substring(F,O)?(R=O,F=R):T=O,O=Math.floor((T-R)/2+R);return O}function f(x,A){if(!x||!A||x.charAt(x.length-1)!=A.charAt(A.length-1))return 0;for(var R=0,T=Math.min(x.length,A.length),O=T,F=0;R<O;)x.substring(x.length-O,x.length-F)==A.substring(A.length-O,A.length-F)?(R=O,F=R):T=O,O=Math.floor((T-R)/2+R);return O}function u(x,A){var R=x.length>A.length?x:A,T=x.length>A.length?A:x;if(R.length<4||T.length*2<R.length)return null;function O(te,Q,Y){for(var W=te.substring(Y,Y+Math.floor(te.length/4)),q=-1,L="",I,$,H,B;(q=Q.indexOf(W,q+1))!=-1;){var J=h(te.substring(Y),Q.substring(q)),re=f(te.substring(0,Y),Q.substring(0,q));L.length<re+J&&(L=Q.substring(q-re,q)+Q.substring(q,q+J),I=te.substring(0,Y-re),$=te.substring(Y+J),H=Q.substring(0,q-re),B=Q.substring(q+J))}return L.length*2>=te.length?[I,$,H,B,L]:null}var F=O(R,T,Math.ceil(R.length/4)),C=O(R,T,Math.ceil(R.length/2)),S;if(!F&&!C)return null;C?F?S=F[4].length>C[4].length?F:C:S=C:S=F;var N,P,D,G;x.length>A.length?(N=S[0],P=S[1],D=S[2],G=S[3]):(D=S[0],G=S[1],N=S[2],P=S[3]);var ee=S[4];return[N,P,D,G,ee]}function y(x){x.push([a,""]);for(var A=0,R=0,T=0,O="",F="",C;A<x.length;)switch(x[A][0]){case o:T++,F+=x[A][1],A++;break;case i:R++,O+=x[A][1],A++;break;case a:R+T>1?(R!==0&&T!==0&&(C=h(F,O),C!==0&&(A-R-T>0&&x[A-R-T-1][0]==a?x[A-R-T-1][1]+=F.substring(0,C):(x.splice(0,0,[a,F.substring(0,C)]),A++),F=F.substring(C),O=O.substring(C)),C=f(F,O),C!==0&&(x[A][1]=F.substring(F.length-C)+x[A][1],F=F.substring(0,F.length-C),O=O.substring(0,O.length-C))),R===0?x.splice(A-T,R+T,[o,F]):T===0?x.splice(A-R,R+T,[i,O]):x.splice(A-R-T,R+T,[i,O],[o,F]),A=A-R-T+(R?1:0)+(T?1:0)+1):A!==0&&x[A-1][0]==a?(x[A-1][1]+=x[A][1],x.splice(A,1)):A++,T=0,R=0,O="",F="";break}x[x.length-1][1]===""&&x.pop();var S=!1;for(A=1;A<x.length-1;)x[A-1][0]==a&&x[A+1][0]==a&&(x[A][1].substring(x[A][1].length-x[A-1][1].length)==x[A-1][1]?(x[A][1]=x[A-1][1]+x[A][1].substring(0,x[A][1].length-x[A-1][1].length),x[A+1][1]=x[A-1][1]+x[A+1][1],x.splice(A-1,1),S=!0):x[A][1].substring(0,x[A+1][1].length)==x[A+1][1]&&(x[A-1][1]+=x[A+1][1],x[A][1]=x[A][1].substring(x[A+1][1].length)+x[A+1][1],x.splice(A+1,1),S=!0)),A++;S&&y(x)}var v=s;v.INSERT=o,v.DELETE=i,v.EQUAL=a,r.exports=v;function b(x,A){if(A===0)return[a,x];for(var R=0,T=0;T<x.length;T++){var O=x[T];if(O[0]===i||O[0]===a){var F=R+O[1].length;if(A===F)return[T+1,x];if(A<F){x=x.slice();var C=A-R,S=[O[0],O[1].slice(0,C)],N=[O[0],O[1].slice(C)];return x.splice(T,1,S,N),[T+1,x]}else R=F}}throw new Error("cursor_pos is out of bounds!")}function g(x,A){var R=b(x,A),T=R[1],O=R[0],F=T[O],C=T[O+1];if(F==null)return x;if(F[0]!==a)return x;if(C!=null&&F[1]+C[1]===C[1]+F[1])return T.splice(O,2,C,F),_(T,O,2);if(C!=null&&C[1].indexOf(F[1])===0){T.splice(O,2,[C[0],F[1]],[0,F[1]]);var S=C[1].slice(F[1].length);return S.length>0&&T.splice(O+2,0,[C[0],S]),_(T,O,3)}else return x}function m(x){for(var A=!1,R=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},T=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},O=2;O<x.length;O+=1)x[O-2][0]===a&&T(x[O-2][1])&&x[O-1][0]===i&&R(x[O-1][1])&&x[O][0]===o&&R(x[O][1])&&(A=!0,x[O-1][1]=x[O-2][1].slice(-1)+x[O-1][1],x[O][1]=x[O-2][1].slice(-1)+x[O][1],x[O-2][1]=x[O-2][1].slice(0,-1));if(!A)return x;for(var F=[],O=0;O<x.length;O+=1)x[O][1].length>0&&F.push(x[O]);return F}function _(x,A,R){for(var T=A+R-1;T>=0&&T>=A-1;T--)if(T+1<x.length){var O=x[T],F=x[T+1];O[0]===F[1]&&x.splice(T,2,[O[0],O[1]+F[1]])}return x}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(o){var a=[];for(var s in o)a.push(s);return a}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?o:a,n.supported=o;function o(s){return Object.prototype.toString.call(s)=="[object Arguments]"}n.unsupported=a;function a(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,o="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(o=!1));function s(c,p,h){this.fn=c,this.context=p,this.once=h||!1}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var p=[],h,f;if(this._eventsCount===0)return p;for(f in h=this._events)i.call(h,f)&&p.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(h)):p},l.prototype.listeners=function(p,h){var f=o?o+p:p,u=this._events[f];if(h)return!!u;if(!u)return[];if(u.fn)return[u.fn];for(var y=0,v=u.length,b=new Array(v);y<v;y++)b[y]=u[y].fn;return b},l.prototype.emit=function(p,h,f,u,y,v){var b=o?o+p:p;if(!this._events[b])return!1;var g=this._events[b],m=arguments.length,_,x;if(g.fn){switch(g.once&&this.removeListener(p,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,f),!0;case 4:return g.fn.call(g.context,h,f,u),!0;case 5:return g.fn.call(g.context,h,f,u,y),!0;case 6:return g.fn.call(g.context,h,f,u,y,v),!0}for(x=1,_=new Array(m-1);x<m;x++)_[x-1]=arguments[x];g.fn.apply(g.context,_)}else{var A=g.length,R;for(x=0;x<A;x++)switch(g[x].once&&this.removeListener(p,g[x].fn,void 0,!0),m){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,h);break;case 3:g[x].fn.call(g[x].context,h,f);break;case 4:g[x].fn.call(g[x].context,h,f,u);break;default:if(!_)for(R=1,_=new Array(m-1);R<m;R++)_[R-1]=arguments[R];g[x].fn.apply(g[x].context,_)}}return!0},l.prototype.on=function(p,h,f){var u=new s(h,f||this),y=o?o+p:p;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],u]:this._events[y].push(u):(this._events[y]=u,this._eventsCount++),this},l.prototype.once=function(p,h,f){var u=new s(h,f||this,!0),y=o?o+p:p;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],u]:this._events[y].push(u):(this._events[y]=u,this._eventsCount++),this},l.prototype.removeListener=function(p,h,f,u){var y=o?o+p:p;if(!this._events[y])return this;if(!h)return--this._eventsCount===0?this._events=new a:delete this._events[y],this;var v=this._events[y];if(v.fn)v.fn===h&&(!u||v.once)&&(!f||v.context===f)&&(--this._eventsCount===0?this._events=new a:delete this._events[y]);else{for(var b=0,g=[],m=v.length;b<m;b++)(v[b].fn!==h||u&&!v[b].once||f&&v[b].context!==f)&&g.push(v[b]);g.length?this._events[y]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new a:delete this._events[y]}return this},l.prototype.removeAllListeners=function(p){var h;return p?(h=o?o+p:p,this._events[h]&&(--this._eventsCount===0?this._events=new a:delete this._events[h])):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},a=function(){function he(se,be){var Se=[],ve=!0,Ie=!1,Be=void 0;try{for(var Ue=se[Symbol.iterator](),et;!(ve=(et=Ue.next()).done)&&(Se.push(et.value),!(be&&Se.length===be));ve=!0);}catch(lt){Ie=!0,Be=lt}finally{try{!ve&&Ue.return&&Ue.return()}finally{if(Ie)throw Be}}return Se}return function(se,be){if(Array.isArray(se))return se;if(Symbol.iterator in Object(se))return he(se,be);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function he(se,be){for(var Se=0;Se<be.length;Se++){var ve=be[Se];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(se,ve.key,ve)}}return function(se,be,Se){return be&&he(se.prototype,be),Se&&he(se,Se),se}}(),l=i(3),c=N(l),p=i(2),h=N(p),f=i(0),u=N(f),y=i(5),v=N(y),b=i(10),g=N(b),m=i(9),_=N(m),x=i(36),A=i(37),R=i(13),T=N(R),O=i(26),F=i(38),C=i(39),S=i(40);function N(he){return he&&he.__esModule?he:{default:he}}function P(he,se,be){return se in he?Object.defineProperty(he,se,{value:be,enumerable:!0,configurable:!0,writable:!0}):he[se]=be,he}function D(he,se){if(!(he instanceof se))throw new TypeError("Cannot call a class as a function")}function G(he,se){if(!he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se&&(typeof se=="object"||typeof se=="function")?se:he}function ee(he,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof se);he.prototype=Object.create(se&&se.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(he,se):he.__proto__=se)}var te=(0,g.default)("quill:clipboard"),Q="__ql-matcher",Y=[[Node.TEXT_NODE,Ke],[Node.TEXT_NODE,Me],["br",me],[Node.ELEMENT_NODE,Me],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,we],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,ae],["li",Ne],["b",re.bind(re,"bold")],["i",re.bind(re,"italic")],["style",Oe]],W=[x.AlignAttribute,F.DirectionAttribute].reduce(function(he,se){return he[se.keyName]=se,he},{}),q=[x.AlignStyle,A.BackgroundStyle,O.ColorStyle,F.DirectionStyle,C.FontStyle,S.SizeStyle].reduce(function(he,se){return he[se.keyName]=se,he},{}),L=function(he){ee(se,he);function se(be,Se){D(this,se);var ve=G(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,be,Se));return ve.quill.root.addEventListener("paste",ve.onPaste.bind(ve)),ve.container=ve.quill.addContainer("ql-clipboard"),ve.container.setAttribute("contenteditable",!0),ve.container.setAttribute("tabindex",-1),ve.matchers=[],Y.concat(ve.options.matchers).forEach(function(Ie){var Be=a(Ie,2),Ue=Be[0],et=Be[1];!Se.matchVisual&&et===we||ve.addMatcher(Ue,et)}),ve}return s(se,[{key:"addMatcher",value:function(Se,ve){this.matchers.push([Se,ve])}},{key:"convert",value:function(Se){if(typeof Se=="string")return this.container.innerHTML=Se.replace(/\>\r?\n +\</g,"><"),this.convert();var ve=this.quill.getFormat(this.quill.selection.savedRange.index);if(ve[T.default.blotName]){var Ie=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Ie,P({},T.default.blotName,ve[T.default.blotName]))}var Be=this.prepareMatching(),Ue=a(Be,2),et=Ue[0],lt=Ue[1],rt=J(this.container,et,lt);return H(rt,`
`)&&rt.ops[rt.ops.length-1].attributes==null&&(rt=rt.compose(new h.default().retain(rt.length()-1).delete(1))),te.log("convert",this.container.innerHTML,rt),this.container.innerHTML="",rt}},{key:"dangerouslyPasteHTML",value:function(Se,ve){var Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof Se=="string")this.quill.setContents(this.convert(Se),ve),this.quill.setSelection(0,v.default.sources.SILENT);else{var Be=this.convert(ve);this.quill.updateContents(new h.default().retain(Se).concat(Be),Ie),this.quill.setSelection(Se+Be.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(Se){var ve=this;if(!(Se.defaultPrevented||!this.quill.isEnabled())){var Ie=this.quill.getSelection(),Be=new h.default().retain(Ie.index),Ue=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){Be=Be.concat(ve.convert()).delete(Ie.length),ve.quill.updateContents(Be,v.default.sources.USER),ve.quill.setSelection(Be.length()-Ie.length,v.default.sources.SILENT),ve.quill.scrollingContainer.scrollTop=Ue,ve.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Se=this,ve=[],Ie=[];return this.matchers.forEach(function(Be){var Ue=a(Be,2),et=Ue[0],lt=Ue[1];switch(et){case Node.TEXT_NODE:Ie.push(lt);break;case Node.ELEMENT_NODE:ve.push(lt);break;default:[].forEach.call(Se.container.querySelectorAll(et),function(rt){rt[Q]=rt[Q]||[],rt[Q].push(lt)});break}}),[ve,Ie]}}]),se}(_.default);L.DEFAULTS={matchers:[],matchVisual:!0};function I(he,se,be){return(typeof se>"u"?"undefined":o(se))==="object"?Object.keys(se).reduce(function(Se,ve){return I(Se,ve,se[ve])},he):he.reduce(function(Se,ve){return ve.attributes&&ve.attributes[se]?Se.push(ve):Se.insert(ve.insert,(0,c.default)({},P({},se,be),ve.attributes))},new h.default)}function $(he){if(he.nodeType!==Node.ELEMENT_NODE)return{};var se="__ql-computed-style";return he[se]||(he[se]=window.getComputedStyle(he))}function H(he,se){for(var be="",Se=he.ops.length-1;Se>=0&&be.length<se.length;--Se){var ve=he.ops[Se];if(typeof ve.insert!="string")break;be=ve.insert+be}return be.slice(-1*se.length)===se}function B(he){if(he.childNodes.length===0)return!1;var se=$(he);return["block","list-item"].indexOf(se.display)>-1}function J(he,se,be){return he.nodeType===he.TEXT_NODE?be.reduce(function(Se,ve){return ve(he,Se)},new h.default):he.nodeType===he.ELEMENT_NODE?[].reduce.call(he.childNodes||[],function(Se,ve){var Ie=J(ve,se,be);return ve.nodeType===he.ELEMENT_NODE&&(Ie=se.reduce(function(Be,Ue){return Ue(ve,Be)},Ie),Ie=(ve[Q]||[]).reduce(function(Be,Ue){return Ue(ve,Be)},Ie)),Se.concat(Ie)},new h.default):new h.default}function re(he,se,be){return I(be,he,!0)}function ne(he,se){var be=u.default.Attributor.Attribute.keys(he),Se=u.default.Attributor.Class.keys(he),ve=u.default.Attributor.Style.keys(he),Ie={};return be.concat(Se).concat(ve).forEach(function(Be){var Ue=u.default.query(Be,u.default.Scope.ATTRIBUTE);Ue!=null&&(Ie[Ue.attrName]=Ue.value(he),Ie[Ue.attrName])||(Ue=W[Be],Ue!=null&&(Ue.attrName===Be||Ue.keyName===Be)&&(Ie[Ue.attrName]=Ue.value(he)||void 0),Ue=q[Be],Ue!=null&&(Ue.attrName===Be||Ue.keyName===Be)&&(Ue=q[Be],Ie[Ue.attrName]=Ue.value(he)||void 0))}),Object.keys(Ie).length>0&&(se=I(se,Ie)),se}function de(he,se){var be=u.default.query(he);if(be==null)return se;if(be.prototype instanceof u.default.Embed){var Se={},ve=be.value(he);ve!=null&&(Se[be.blotName]=ve,se=new h.default().insert(Se,be.formats(he)))}else typeof be.formats=="function"&&(se=I(se,be.blotName,be.formats(he)));return se}function me(he,se){return H(se,`
`)||se.insert(`
`),se}function Oe(){return new h.default}function Ne(he,se){var be=u.default.query(he);if(be==null||be.blotName!=="list-item"||!H(se,`
`))return se;for(var Se=-1,ve=he.parentNode;!ve.classList.contains("ql-clipboard");)(u.default.query(ve)||{}).blotName==="list"&&(Se+=1),ve=ve.parentNode;return Se<=0?se:se.compose(new h.default().retain(se.length()-1).retain(1,{indent:Se}))}function Me(he,se){return H(se,`
`)||(B(he)||se.length()>0&&he.nextSibling&&B(he.nextSibling))&&se.insert(`
`),se}function we(he,se){if(B(he)&&he.nextElementSibling!=null&&!H(se,`

`)){var be=he.offsetHeight+parseFloat($(he).marginTop)+parseFloat($(he).marginBottom);he.nextElementSibling.offsetTop>he.offsetTop+be*1.5&&se.insert(`
`)}return se}function ae(he,se){var be={},Se=he.style||{};return Se.fontStyle&&$(he).fontStyle==="italic"&&(be.italic=!0),Se.fontWeight&&($(he).fontWeight.startsWith("bold")||parseInt($(he).fontWeight)>=700)&&(be.bold=!0),Object.keys(be).length>0&&(se=I(se,be)),parseFloat(Se.textIndent||0)>0&&(se=new h.default().insert("	").concat(se)),se}function Ke(he,se){var be=he.data;if(he.parentNode.tagName==="O:P")return se.insert(be.trim());if(be.trim().length===0&&he.parentNode.classList.contains("ql-clipboard"))return se;if(!$(he.parentNode).whiteSpace.startsWith("pre")){var Se=function(Ie,Be){return Be=Be.replace(/[^\u00a0]/g,""),Be.length<1&&Ie?" ":Be};be=be.replace(/\r\n/g," ").replace(/\n/g," "),be=be.replace(/\s\s+/g,Se.bind(Se,!0)),(he.previousSibling==null&&B(he.parentNode)||he.previousSibling!=null&&B(he.previousSibling))&&(be=be.replace(/^\s+/,Se.bind(Se,!1))),(he.nextSibling==null&&B(he.parentNode)||he.nextSibling!=null&&B(he.nextSibling))&&(be=be.replace(/\s+$/,Se.bind(Se,!1)))}return se.insert(be)}n.default=L,n.matchAttributor=ne,n.matchBlot=de,n.matchNewline=Me,n.matchSpacing=we,n.matchText=Ke},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function y(v,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,b,g){return b&&y(v.prototype,b),g&&y(v,g),v}}(),a=function y(v,b,g){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,b);if(m===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,b,g)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(g)}},s=i(6),l=c(s);function c(y){return y&&y.__esModule?y:{default:y}}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var u=function(y){f(v,y);function v(){return p(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(g){a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);u.blotName="bold",u.tagName=["STRONG","B"],n.default=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var o=function(){function S(N,P){var D=[],G=!0,ee=!1,te=void 0;try{for(var Q=N[Symbol.iterator](),Y;!(G=(Y=Q.next()).done)&&(D.push(Y.value),!(P&&D.length===P));G=!0);}catch(W){ee=!0,te=W}finally{try{!G&&Q.return&&Q.return()}finally{if(ee)throw te}}return D}return function(N,P){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return S(N,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function S(N,P){for(var D=0;D<P.length;D++){var G=P[D];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(N,G.key,G)}}return function(N,P,D){return P&&S(N.prototype,P),D&&S(N,D),N}}(),s=i(2),l=g(s),c=i(0),p=g(c),h=i(5),f=g(h),u=i(10),y=g(u),v=i(9),b=g(v);function g(S){return S&&S.__esModule?S:{default:S}}function m(S,N,P){return N in S?Object.defineProperty(S,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[N]=P,S}function _(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function x(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function A(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var R=(0,y.default)("quill:toolbar"),T=function(S){A(N,S);function N(P,D){_(this,N);var G=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,P,D));if(Array.isArray(G.options.container)){var ee=document.createElement("div");F(ee,G.options.container),P.container.parentNode.insertBefore(ee,P.container),G.container=ee}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var te;return te=R.error("Container required for toolbar",G.options),x(G,te)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(Q){G.addHandler(Q,G.options.handlers[Q])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(Q){G.attach(Q)}),G.quill.on(f.default.events.EDITOR_CHANGE,function(Q,Y){Q===f.default.events.SELECTION_CHANGE&&G.update(Y)}),G.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var Q=G.quill.selection.getRange(),Y=o(Q,1),W=Y[0];G.update(W)}),G}return a(N,[{key:"addHandler",value:function(D,G){this.handlers[D]=G}},{key:"attach",value:function(D){var G=this,ee=[].find.call(D.classList,function(Q){return Q.indexOf("ql-")===0});if(ee){if(ee=ee.slice(3),D.tagName==="BUTTON"&&D.setAttribute("type","button"),this.handlers[ee]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[ee]==null){R.warn("ignoring attaching to disabled format",ee,D);return}if(p.default.query(ee)==null){R.warn("ignoring attaching to nonexistent format",ee,D);return}}var te=D.tagName==="SELECT"?"change":"click";D.addEventListener(te,function(Q){var Y=void 0;if(D.tagName==="SELECT"){if(D.selectedIndex<0)return;var W=D.options[D.selectedIndex];W.hasAttribute("selected")?Y=!1:Y=W.value||!1}else D.classList.contains("ql-active")?Y=!1:Y=D.value||!D.hasAttribute("value"),Q.preventDefault();G.quill.focus();var q=G.quill.selection.getRange(),L=o(q,1),I=L[0];if(G.handlers[ee]!=null)G.handlers[ee].call(G,Y);else if(p.default.query(ee).prototype instanceof p.default.Embed){if(Y=prompt("Enter "+ee),!Y)return;G.quill.updateContents(new l.default().retain(I.index).delete(I.length).insert(m({},ee,Y)),f.default.sources.USER)}else G.quill.format(ee,Y,f.default.sources.USER);G.update(I)}),this.controls.push([ee,D])}}},{key:"update",value:function(D){var G=D==null?{}:this.quill.getFormat(D);this.controls.forEach(function(ee){var te=o(ee,2),Q=te[0],Y=te[1];if(Y.tagName==="SELECT"){var W=void 0;if(D==null)W=null;else if(G[Q]==null)W=Y.querySelector("option[selected]");else if(!Array.isArray(G[Q])){var q=G[Q];typeof q=="string"&&(q=q.replace(/\"/g,'\\"')),W=Y.querySelector('option[value="'+q+'"]')}W==null?(Y.value="",Y.selectedIndex=-1):W.selected=!0}else if(D==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var L=G[Q]===Y.getAttribute("value")||G[Q]!=null&&G[Q].toString()===Y.getAttribute("value")||G[Q]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",L)}else Y.classList.toggle("ql-active",G[Q]!=null)})}}]),N}(b.default);T.DEFAULTS={};function O(S,N,P){var D=document.createElement("button");D.setAttribute("type","button"),D.classList.add("ql-"+N),P!=null&&(D.value=P),S.appendChild(D)}function F(S,N){Array.isArray(N[0])||(N=[N]),N.forEach(function(P){var D=document.createElement("span");D.classList.add("ql-formats"),P.forEach(function(G){if(typeof G=="string")O(D,G);else{var ee=Object.keys(G)[0],te=G[ee];Array.isArray(te)?C(D,ee,te):O(D,ee,te)}}),S.appendChild(D)})}function C(S,N,P){var D=document.createElement("select");D.classList.add("ql-"+N),P.forEach(function(G){var ee=document.createElement("option");G!==!1?ee.setAttribute("value",G):ee.setAttribute("selected","selected"),D.appendChild(ee)}),S.appendChild(D)}T.DEFAULTS={container:null,handlers:{clean:function(){var N=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var D=this.quill.getFormat();Object.keys(D).forEach(function(G){p.default.query(G,p.default.Scope.INLINE)!=null&&N.quill.format(G,!1)})}else this.quill.removeFormat(P,f.default.sources.USER)},direction:function(N){var P=this.quill.getFormat().align;N==="rtl"&&P==null?this.quill.format("align","right",f.default.sources.USER):!N&&P==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",N,f.default.sources.USER)},indent:function(N){var P=this.quill.getSelection(),D=this.quill.getFormat(P),G=parseInt(D.indent||0);if(N==="+1"||N==="-1"){var ee=N==="+1"?1:-1;D.direction==="rtl"&&(ee*=-1),this.quill.format("indent",G+ee,f.default.sources.USER)}},link:function(N){N===!0&&(N=prompt("Enter link URL:")),this.quill.format("link",N,f.default.sources.USER)},list:function(N){var P=this.quill.getSelection(),D=this.quill.getFormat(P);N==="check"?D.list==="checked"||D.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",N,f.default.sources.USER)}}},n.default=T,n.addControls=F},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function y(v,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,b,g){return b&&y(v.prototype,b),g&&y(v,g),v}}(),a=function y(v,b,g){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,b);if(m===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,b,g)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(g)}},s=i(28),l=c(s);function c(y){return y&&y.__esModule?y:{default:y}}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var u=function(y){f(v,y);function v(b,g){p(this,v);var m=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return m.label.innerHTML=g,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),m}return o(v,[{key:"buildItem",value:function(g){var m=a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,g);return m.style.backgroundColor=g.getAttribute("value")||"",m}},{key:"selectItem",value:function(g,m){a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,m);var _=this.label.querySelector(".ql-color-label"),x=g&&g.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=x:_.style.fill=x)}}]),v}(l.default);n.default=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function y(v,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,b,g){return b&&y(v.prototype,b),g&&y(v,g),v}}(),a=function y(v,b,g){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,b);if(m===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,b,g)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(g)}},s=i(28),l=c(s);function c(y){return y&&y.__esModule?y:{default:y}}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var u=function(y){f(v,y);function v(b,g){p(this,v);var m=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=g[_.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return o(v,[{key:"selectItem",value:function(g,m){a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,m),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),v}(l.default);n.default=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function l(c,p){for(var h=0;h<p.length;h++){var f=p[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,p,h){return p&&l(c.prototype,p),h&&l(c,h),c}}();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(c,p){var h=this;a(this,l),this.quill=c,this.boundsContainer=p||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(p){var h=p.left+p.width/2-this.root.offsetWidth/2,f=p.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var u=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),v=0;if(y.right>u.right&&(v=u.right-y.right,this.root.style.left=h+v+"px"),y.left<u.left&&(v=u.left-y.left,this.root.style.left=h+v+"px"),y.bottom>u.bottom){var b=y.bottom-y.top,g=p.bottom-p.top+b;this.root.style.top=f-g+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function C(S,N){var P=[],D=!0,G=!1,ee=void 0;try{for(var te=S[Symbol.iterator](),Q;!(D=(Q=te.next()).done)&&(P.push(Q.value),!(N&&P.length===N));D=!0);}catch(Y){G=!0,ee=Y}finally{try{!D&&te.return&&te.return()}finally{if(G)throw ee}}return P}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return C(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function C(S,N,P){S===null&&(S=Function.prototype);var D=Object.getOwnPropertyDescriptor(S,N);if(D===void 0){var G=Object.getPrototypeOf(S);return G===null?void 0:C(G,N,P)}else{if("value"in D)return D.value;var ee=D.get;return ee===void 0?void 0:ee.call(P)}},s=function(){function C(S,N){for(var P=0;P<N.length;P++){var D=N[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}return function(S,N,P){return N&&C(S.prototype,N),P&&C(S,P),S}}(),l=i(3),c=_(l),p=i(8),h=_(p),f=i(43),u=_(f),y=i(27),v=_(y),b=i(15),g=i(41),m=_(g);function _(C){return C&&C.__esModule?C:{default:C}}function x(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function A(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function R(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}var T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(C){R(S,C);function S(N,P){x(this,S),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=T);var D=A(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,P));return D.quill.container.classList.add("ql-snow"),D}return s(S,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),m.default),this.tooltip=new F(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(D,G){P.handlers.link.call(P,!G.format.link)})}}]),S}(u.default);O.DEFAULTS=(0,c.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var N=this.quill.getSelection();if(N==null||N.length==0)return;var P=this.quill.getText(N);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var D=this.quill.theme.tooltip;D.edit("link",P)}else this.quill.format("link",!1)}}}}});var F=function(C){R(S,C);function S(N,P){x(this,S);var D=A(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,P));return D.preview=D.root.querySelector("a.ql-preview"),D}return s(S,[{key:"listen",value:function(){var P=this;a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(D){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),D.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(D){if(P.linkRange!=null){var G=P.linkRange;P.restoreFocus(),P.quill.formatText(G,"link",!1,h.default.sources.USER),delete P.linkRange}D.preventDefault(),P.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(D,G,ee){if(D!=null){if(D.length===0&&ee===h.default.sources.USER){var te=P.quill.scroll.descendant(v.default,D.index),Q=o(te,2),Y=Q[0],W=Q[1];if(Y!=null){P.linkRange=new b.Range(D.index-W,Y.length());var q=v.default.formats(Y.domNode);P.preview.textContent=q,P.preview.setAttribute("href",q),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(f.BaseTooltip);F.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=O},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(29),a=ve(o),s=i(36),l=i(38),c=i(64),p=i(65),h=ve(p),f=i(66),u=ve(f),y=i(67),v=ve(y),b=i(37),g=i(26),m=i(39),_=i(40),x=i(56),A=ve(x),R=i(68),T=ve(R),O=i(27),F=ve(O),C=i(69),S=ve(C),N=i(70),P=ve(N),D=i(71),G=ve(D),ee=i(72),te=ve(ee),Q=i(73),Y=ve(Q),W=i(13),q=ve(W),L=i(74),I=ve(L),$=i(75),H=ve($),B=i(57),J=ve(B),re=i(41),ne=ve(re),de=i(28),me=ve(de),Oe=i(59),Ne=ve(Oe),Me=i(60),we=ve(Me),ae=i(61),Ke=ve(ae),he=i(108),se=ve(he),be=i(62),Se=ve(be);function ve(Ie){return Ie&&Ie.__esModule?Ie:{default:Ie}}a.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":_.SizeStyle},!0),a.default.register({"formats/align":s.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":m.FontClass,"formats/size":_.SizeClass,"formats/blockquote":h.default,"formats/code-block":q.default,"formats/header":u.default,"formats/list":v.default,"formats/bold":A.default,"formats/code":W.Code,"formats/italic":T.default,"formats/link":F.default,"formats/script":S.default,"formats/strike":P.default,"formats/underline":G.default,"formats/image":te.default,"formats/video":Y.default,"formats/list/item":y.ListItem,"modules/formula":I.default,"modules/syntax":H.default,"modules/toolbar":J.default,"themes/bubble":se.default,"themes/snow":Se.default,"ui/icons":ne.default,"ui/picker":me.default,"ui/icon-picker":we.default,"ui/color-picker":Ne.default,"ui/tooltip":Ke.default},!0),n.default=a.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var o=function(){function v(b,g){for(var m=0;m<g.length;m++){var _=g[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,g,m){return g&&v(b.prototype,g),m&&v(b,m),b}}(),a=function v(b,g,m){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,g);if(_===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:v(x,g,m)}else{if("value"in _)return _.value;var A=_.get;return A===void 0?void 0:A.call(m)}},s=i(0),l=c(s);function c(v){return v&&v.__esModule?v:{default:v}}function p(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function f(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var u=function(v){f(b,v);function b(){return p(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"add",value:function(m,_){if(_==="+1"||_==="-1"){var x=this.value(m)||0;_=_==="+1"?x+1:x-1}return _===0?(this.remove(m),!0):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,m,_)}},{key:"canAdd",value:function(m,_){return a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,m,_)||a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,m,parseInt(_))}},{key:"value",value:function(m){return parseInt(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,m))||void 0}}]),b}(l.default.Attributor.Class),y=new u("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(4),a=s(o);function s(f){return f&&f.__esModule?f:{default:f}}function l(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function c(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:f}function p(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}var h=function(f){p(u,f);function u(){return l(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(a.default);h.blotName="blockquote",h.tagName="blockquote",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function u(y,v){for(var b=0;b<v.length;b++){var g=v[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,b){return v&&u(y.prototype,v),b&&u(y,b),y}}(),a=i(4),s=l(a);function l(u){return u&&u.__esModule?u:{default:u}}function c(u,y){if(!(u instanceof y))throw new TypeError("Cannot call a class as a function")}function p(u,y){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:u}function h(u,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);u.prototype=Object.create(y&&y.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(u,y):u.__proto__=y)}var f=function(u){h(y,u);function y(){return c(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),y}(s.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var o=function(){function x(A,R){for(var T=0;T<R.length;T++){var O=R[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}return function(A,R,T){return R&&x(A.prototype,R),T&&x(A,T),A}}(),a=function x(A,R,T){A===null&&(A=Function.prototype);var O=Object.getOwnPropertyDescriptor(A,R);if(O===void 0){var F=Object.getPrototypeOf(A);return F===null?void 0:x(F,R,T)}else{if("value"in O)return O.value;var C=O.get;return C===void 0?void 0:C.call(T)}},s=i(0),l=u(s),c=i(4),p=u(c),h=i(25),f=u(h);function u(x){return x&&x.__esModule?x:{default:x}}function y(x,A,R){return A in x?Object.defineProperty(x,A,{value:R,enumerable:!0,configurable:!0,writable:!0}):x[A]=R,x}function v(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function b(x,A){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:x}function g(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}var m=function(x){g(A,x);function A(){return v(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"format",value:function(T,O){T===_.blotName&&!O?this.replaceWith(l.default.create(this.statics.scope)):a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,T,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(T,O){return this.parent.isolate(this.offset(this.parent),this.length()),T===this.parent.statics.blotName?(this.parent.replaceWith(T,O),this):(this.parent.unwrap(),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,T,O))}}],[{key:"formats",value:function(T){return T.tagName===this.tagName?void 0:a(A.__proto__||Object.getPrototypeOf(A),"formats",this).call(this,T)}}]),A}(p.default);m.blotName="list-item",m.tagName="LI";var _=function(x){g(A,x),o(A,null,[{key:"create",value:function(T){var O=T==="ordered"?"OL":"UL",F=a(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,O);return(T==="checked"||T==="unchecked")&&F.setAttribute("data-checked",T==="checked"),F}},{key:"formats",value:function(T){if(T.tagName==="OL")return"ordered";if(T.tagName==="UL")return T.hasAttribute("data-checked")?T.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function A(R){v(this,A);var T=b(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,R)),O=function(C){if(C.target.parentNode===R){var S=T.statics.formats(R),N=l.default.find(C.target);S==="checked"?N.format("list","unchecked"):S==="unchecked"&&N.format("list","checked")}};return R.addEventListener("touchstart",O),R.addEventListener("mousedown",O),T}return o(A,[{key:"format",value:function(T,O){this.children.length>0&&this.children.tail.format(T,O)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(T,O){if(T instanceof m)a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,T,O);else{var F=O==null?this.length():O.offset(this),C=this.split(F);C.parent.insertBefore(T,C)}}},{key:"optimize",value:function(T){a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,T);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(T){if(T.statics.blotName!==this.statics.blotName){var O=l.default.create(this.statics.defaultChild);T.moveChildren(O),this.appendChild(O)}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,T)}}]),A}(f.default);_.blotName="list",_.scope=l.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[m],n.ListItem=m,n.default=_},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(56),a=s(o);function s(f){return f&&f.__esModule?f:{default:f}}function l(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function c(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:f}function p(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}var h=function(f){p(u,f);function u(){return l(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(a.default);h.blotName="italic",h.tagName=["EM","I"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function y(v,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,b,g){return b&&y(v.prototype,b),g&&y(v,g),v}}(),a=function y(v,b,g){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,b);if(m===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,b,g)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(g)}},s=i(6),l=c(s);function c(y){return y&&y.__esModule?y:{default:y}}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var u=function(y){f(v,y);function v(){return p(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):a(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),v}(l.default);u.blotName="script",u.tagName=["SUB","SUP"],n.default=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),a=s(o);function s(f){return f&&f.__esModule?f:{default:f}}function l(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function c(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:f}function p(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}var h=function(f){p(u,f);function u(){return l(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(a.default);h.blotName="strike",h.tagName="S",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),a=s(o);function s(f){return f&&f.__esModule?f:{default:f}}function l(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function c(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:f}function p(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}var h=function(f){p(u,f);function u(){return l(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(a.default);h.blotName="underline",h.tagName="U",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function b(g,m){for(var _=0;_<m.length;_++){var x=m[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,m,_){return m&&b(g.prototype,m),_&&b(g,_),g}}(),a=function b(g,m,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,m);if(x===void 0){var A=Object.getPrototypeOf(g);return A===null?void 0:b(A,m,_)}else{if("value"in x)return x.value;var R=x.get;return R===void 0?void 0:R.call(_)}},s=i(0),l=p(s),c=i(27);function p(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function f(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function u(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var y=["alt","height","width"],v=function(b){u(g,b);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(_,x){y.indexOf(_)>-1?x?this.domNode.setAttribute(_,x):this.domNode.removeAttribute(_):a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,_,x)}}],[{key:"create",value:function(_){var x=a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,_);return typeof _=="string"&&x.setAttribute("src",this.sanitize(_)),x}},{key:"formats",value:function(_){return y.reduce(function(x,A){return _.hasAttribute(A)&&(x[A]=_.getAttribute(A)),x},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,c.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),g}(l.default.Embed);v.blotName="image",v.tagName="IMG",n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function b(g,m){for(var _=0;_<m.length;_++){var x=m[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,m,_){return m&&b(g.prototype,m),_&&b(g,_),g}}(),a=function b(g,m,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,m);if(x===void 0){var A=Object.getPrototypeOf(g);return A===null?void 0:b(A,m,_)}else{if("value"in x)return x.value;var R=x.get;return R===void 0?void 0:R.call(_)}},s=i(4),l=i(27),c=p(l);function p(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function f(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function u(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var y=["height","width"],v=function(b){u(g,b);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(_,x){y.indexOf(_)>-1?x?this.domNode.setAttribute(_,x):this.domNode.removeAttribute(_):a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,_,x)}}],[{key:"create",value:function(_){var x=a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,_);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(_)),x}},{key:"formats",value:function(_){return y.reduce(function(x,A){return _.hasAttribute(A)&&(x[A]=_.getAttribute(A)),x},{})}},{key:"sanitize",value:function(_){return c.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),g}(s.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var o=function(){function _(x,A){for(var R=0;R<A.length;R++){var T=A[R];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,A,R){return A&&_(x.prototype,A),R&&_(x,R),x}}(),a=function _(x,A,R){x===null&&(x=Function.prototype);var T=Object.getOwnPropertyDescriptor(x,A);if(T===void 0){var O=Object.getPrototypeOf(x);return O===null?void 0:_(O,A,R)}else{if("value"in T)return T.value;var F=T.get;return F===void 0?void 0:F.call(R)}},s=i(35),l=u(s),c=i(5),p=u(c),h=i(9),f=u(h);function u(_){return _&&_.__esModule?_:{default:_}}function y(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function v(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function b(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var g=function(_){b(x,_);function x(){return y(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,null,[{key:"create",value:function(R){var T=a(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,T,{throwOnError:!1,errorColor:"#f00"}),T.setAttribute("data-value",R)),T}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),x}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var m=function(_){b(x,_),o(x,null,[{key:"register",value:function(){p.default.register(g,!0)}}]);function x(){y(this,x);var A=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return A}return x}(f.default);n.FormulaBlot=g,n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var o=function(){function R(T,O){for(var F=0;F<O.length;F++){var C=O[F];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(T,C.key,C)}}return function(T,O,F){return O&&R(T.prototype,O),F&&R(T,F),T}}(),a=function R(T,O,F){T===null&&(T=Function.prototype);var C=Object.getOwnPropertyDescriptor(T,O);if(C===void 0){var S=Object.getPrototypeOf(T);return S===null?void 0:R(S,O,F)}else{if("value"in C)return C.value;var N=C.get;return N===void 0?void 0:N.call(F)}},s=i(0),l=v(s),c=i(5),p=v(c),h=i(9),f=v(h),u=i(13),y=v(u);function v(R){return R&&R.__esModule?R:{default:R}}function b(R,T){if(!(R instanceof T))throw new TypeError("Cannot call a class as a function")}function g(R,T){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:R}function m(R,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);R.prototype=Object.create(T&&T.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(R,T):R.__proto__=T)}var _=function(R){m(T,R);function T(){return b(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"replaceWith",value:function(F){this.domNode.textContent=this.domNode.textContent,this.attach(),a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,F)}},{key:"highlight",value:function(F){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=F(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),T}(y.default);_.className="ql-syntax";var x=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),A=function(R){m(T,R),o(T,null,[{key:"register",value:function(){p.default.register(x,!0),p.default.register(_,!0)}}]);function T(O,F){b(this,T);var C=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,F));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return C.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){C.highlight(),S=null},C.options.interval)}),C.highlight(),C}return o(T,[{key:"highlight",value:function(){var F=this;if(!this.quill.selection.composing){this.quill.update(p.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(S){S.highlight(F.options.highlight)}),this.quill.update(p.default.sources.SILENT),C!=null&&this.quill.setSelection(C,p.default.sources.SILENT)}}}]),T}(f.default);A.DEFAULTS={highlight:function(){return window.hljs==null?null:function(R){var T=window.hljs.highlightAuto(R);return T.value}}(),interval:1e3},n.CodeBlock=_,n.CodeToken=x,n.default=A},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var o=function T(O,F,C){O===null&&(O=Function.prototype);var S=Object.getOwnPropertyDescriptor(O,F);if(S===void 0){var N=Object.getPrototypeOf(O);return N===null?void 0:T(N,F,C)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(C)}},a=function(){function T(O,F){for(var C=0;C<F.length;C++){var S=F[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,S.key,S)}}return function(O,F,C){return F&&T(O.prototype,F),C&&T(O,C),O}}(),s=i(3),l=b(s),c=i(8),p=b(c),h=i(43),f=b(h),u=i(15),y=i(41),v=b(y);function b(T){return T&&T.__esModule?T:{default:T}}function g(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function m(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function _(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],A=function(T){_(O,T);function O(F,C){g(this,O),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=x);var S=m(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,F,C));return S.quill.container.classList.add("ql-bubble"),S}return a(O,[{key:"extendToolbar",value:function(C){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),v.default)}}]),O}(f.default);A.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=function(T){_(O,T);function O(F,C){g(this,O);var S=m(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,F,C));return S.quill.on(p.default.events.EDITOR_CHANGE,function(N,P,D,G){if(N===p.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&G===p.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var ee=S.quill.getLines(P.index,P.length);if(ee.length===1)S.position(S.quill.getBounds(P));else{var te=ee[ee.length-1],Q=S.quill.getIndex(te),Y=Math.min(te.length()-1,P.index+P.length-Q),W=S.quill.getBounds(new u.Range(Q,Y));S.position(W)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return a(O,[{key:"listen",value:function(){var C=this;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var S=C.quill.getSelection();S!=null&&C.position(C.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var S=o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,C),N=this.root.querySelector(".ql-tooltip-arrow");if(N.style.marginLeft="",S===0)return S;N.style.marginLeft=-1*S-N.offsetWidth/2+"px"}}]),O}(h.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=R,n.default=A},function(r,n,i){r.exports=i(63)}]).default})})(Zb);var BP=Zb.exports,qP=Gn&&Gn.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Id=Gn&&Gn.__assign||function(){return Id=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Id.apply(this,arguments)},UP=Gn&&Gn.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n},uh=Gn&&Gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},zi=uh(Pe),zP=uh(wg),yu=uh(FP),P2=uh(BP),$P=function(t){qP(e,t);function e(r){var n=t.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(o,a,s,l){var c,p,h,f;o==="text-change"?(p=(c=n).onEditorChangeText)===null||p===void 0||p.call(c,n.editor.root.innerHTML,a,l,n.unprivilegedEditor):o==="selection-change"&&((f=(h=n).onEditorChangeSelection)===null||f===void 0||f.call(h,a,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i??"",n}return e.prototype.validateProps=function(r){var n;if(zi.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(zi.default.Children.count(r.children)){var i=zi.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(r,n){var i=this,o;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var a=this.getEditorContents(),s=(o=r.value,o??"");this.isEqualValue(s,a)||this.setEditorContents(this.editor,s)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),UP(this.cleanProps,this.dirtyProps).some(function(l){return!yu.default(r[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!yu.default(r[i],n.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var o=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var s=this.regenerationSnapshot,o=s.delta,l=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(o),j2(function(){return i.setEditorSelection(c,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(r,n){var i=new P2.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(r){return r&&r.ops},e.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?yu.default(r.ops,n.ops):yu.default(r,n)},e.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var o=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),j2(function(){return i.setEditorSelection(r,o)})},e.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},e.prototype.setEditorTabIndex=function(r,n){var i,o;!((o=(i=r)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(r.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},e.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=zP.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},e.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,o=n.preserveWhitespace,a=this.state.generation,s={key:a,ref:function(l){r.editingArea=l}};return zi.default.Children.count(i)?zi.default.cloneElement(zi.default.Children.only(i),s):o?zi.default.createElement("pre",Id({},s)):zi.default.createElement("div",Id({},s))},e.prototype.render=function(){var r;return zi.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(r,n,i,o){var a,s;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(s=(a=this.props).onChange)===null||s===void 0||s.call(a,r,n,i,o))}},e.prototype.onEditorChangeSelection=function(r,n,i){var o,a,s,l,c,p;if(this.editor){var h=this.getEditorSelection(),f=!h&&r,u=h&&!r;yu.default(r,h)||(this.selection=r,(a=(o=this.props).onChangeSelection)===null||a===void 0||a.call(o,r,n,i),f?(l=(s=this.props).onFocus)===null||l===void 0||l.call(s,r,n,i):u&&((p=(c=this.props).onBlur)===null||p===void 0||p.call(c,h,n,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=P2.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(zi.default.Component);function j2(t){Promise.resolve().then(t)}var HP=$P;const e_=k1(HP),zo=e_.Quill;if(zo){const t=zo.import("formats/image"),e=t.formats;t.formats=function(s){const l=e.call(this,s);return s.style.width&&(l.width=s.style.width),s.style.float&&(l.float=s.style.float),s.style.margin&&(l.margin=s.style.margin),l};const r=zo.import("parchment"),n=new r.Attributor.Style("width","width"),i=new r.Attributor.Style("float","float"),o=new r.Attributor.Style("margin","margin");zo.register(n,!0),zo.register(i,!0),zo.register(o,!0);const a=zo.import("attributors/style/align");zo.register(a,!0)}const WP={serif:"font-serif",sans:"font-sans",mono:"font-mono"},VP=Pe.forwardRef(({entry:t,onSave:e,onWordCountChange:r,onCharacterCountChange:n,editorFont:i},o)=>{const[a,s]=Pe.useState(""),[l,c]=Pe.useState(""),[p,h]=Pe.useState(new Date),f=Pe.useRef(null),u=Pe.useRef("INITIAL_MOUNT"),{addToast:y}=Lg();Pe.useEffect(()=>{const m=(t==null?void 0:t.id)||"draft";u.current!==m&&(u.current=m,t?(s(t.title),c(t.content),h(new Date(t.created_at))):(s("Today's diary entry..."),c(""),h(new Date)))},[t]),Pe.useEffect(()=>{const m=l.replace(/<[^>]*>?/gm,""),_=m.trim().split(/\s+/).filter(Boolean),x=_.length===1&&_[0]===""?0:_.length;r(x),n(m.length)},[l,r,n]);const v=Pe.useCallback(()=>{const m=!l||l.replace(/<(.|\n)*?>/g,"").trim().length===0;if(a.trim()===""||m){y("Please provide a title and some content for your entry.","error");return}e({...t||{},title:a,content:l,created_at:p.toISOString(),tags:t==null?void 0:t.tags,mood:t==null?void 0:t.mood})},[a,l,p,t,e,y]);Pe.useImperativeHandle(o,()=>({save:v,getEditor:()=>{var m;return(m=f.current)==null?void 0:m.getEditor()}}),[v]);const b=Pe.useMemo(()=>({toolbar:!1}),[]),g=WP[i];return M.jsxs("div",{className:`h-full flex flex-col paper-canvas rounded-lg overflow-hidden ${g}`,children:[M.jsx("div",{className:"p-4 sm:p-6 md:px-8 border-b border-slate-200/50 dark:border-slate-700/50 flex-shrink-0",children:M.jsx("input",{type:"text",value:a,onChange:m=>s(m.target.value),className:"w-full text-3xl font-bold bg-transparent focus:outline-none focus:ring-0 border-none p-0 text-slate-800 dark:text-slate-100 placeholder:text-slate-400",placeholder:"Today's diary entry..."})}),M.jsx("div",{className:"flex-grow overflow-y-auto",children:M.jsx(e_,{ref:f,theme:"snow",value:l,onChange:c,className:"prose-editor",placeholder:"Start writing here...",modules:b})})]})}),C2=t=>new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().split("T")[0],GP=({entries:t,onSelectDate:e,onBack:r})=>{const[n,i]=Pe.useState(new Date),o=Pe.useMemo(()=>{const p=new Set;return t.forEach(h=>{p.add(C2(new Date(h.created_at)))}),p},[t]),a=p=>{i(h=>{const f=new Date(h);return f.setMonth(f.getMonth()+p),f})},s=()=>M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("button",{onClick:()=>a(-1),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:"<"}),M.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:n.toLocaleString("default",{month:"long",year:"numeric"})}),M.jsx("button",{onClick:()=>a(1),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:">"})]}),l=()=>{const p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return M.jsx("div",{className:"grid grid-cols-7 gap-1 text-center font-semibold text-slate-500 dark:text-slate-400 text-sm",children:p.map(h=>M.jsx("div",{children:h},h))})},c=()=>{const p=new Date(n.getFullYear(),n.getMonth(),1),h=new Date(n.getFullYear(),n.getMonth()+1,0),f=new Date(p);f.setDate(f.getDate()-p.getDay());const u=new Date(h);u.setDate(u.getDate()+(6-h.getDay()));const y=[];let v=[],b=f;for(;b<=u;){for(let g=0;g<7;g++){const m=new Date(b),_=C2(m),x=o.has(_);v.push(M.jsxs("div",{className:`p-1 h-20 flex flex-col items-center justify-center rounded-lg transition-colors ${m.getMonth()!==n.getMonth()?"text-slate-300 dark:text-slate-600":"text-slate-700 dark:text-slate-300"} ${x?"cursor-pointer bg-indigo-100 hover:bg-indigo-200 dark:bg-indigo-500/20 dark:hover:bg-indigo-500/30":""}`,onClick:x?()=>e(m):void 0,children:[M.jsx("span",{className:`text-sm ${new Date().toDateString()===m.toDateString()?"bg-indigo-500 text-white rounded-full h-6 w-6 flex items-center justify-center":""}`,children:m.getDate()}),x&&M.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 dark:bg-indigo-400 rounded-full mt-1"})]},b.toString())),b.setDate(b.getDate()+1)}y.push(M.jsx("div",{className:"grid grid-cols-7 gap-1",children:v},b.toString())),v=[]}return M.jsx("div",{className:"space-y-1",children:y})};return M.jsxs("div",{className:"animate-fade-in",children:[M.jsxs("button",{onClick:r,className:"mb-6 flex items-center text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors group",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 transform group-hover:-translate-x-1 transition-transform",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Timeline"]}),M.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-md border border-slate-200 dark:border-slate-700",children:[s(),l(),M.jsx("div",{className:"mt-2",children:c()})]})]})},KP=["","","","","","","",""],YP=({entries:t,onSelectEntry:e,onBack:r})=>{const[n,i]=Pe.useState(""),[o,a]=Pe.useState(null),[s,l]=Pe.useState([]),[c,p]=Pe.useState(""),[h,f]=Pe.useState(""),[u,y]=Pe.useState(!1),[v,b]=Pe.useState(!1),[g,m]=Pe.useState(!1),_=Pe.useRef(null),x=Pe.useRef(null),A=Pe.useRef(null);Pe.useEffect(()=>{const S=N=>{_.current&&!_.current.contains(N.target)&&y(!1),x.current&&!x.current.contains(N.target)&&b(!1),A.current&&!A.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const R=Pe.useMemo(()=>{const S=new Set;return t.forEach(N=>{var P;(P=N.tags)==null||P.forEach(D=>S.add(D))}),Array.from(S).sort()},[t]),T=S=>new DOMParser().parseFromString(S,"text/html").body.textContent||"",O=Pe.useMemo(()=>n.trim()!==""||o||s.length>0||c||h?t.filter(N=>{const P=n.toLowerCase(),D=n.trim()===""||(N.title||"").toLowerCase().includes(P)||T(N.content||"").toLowerCase().includes(P),G=!o||N.mood===o,ee=s.length===0||s.every(Q=>{var Y;return(Y=N.tags)==null?void 0:Y.includes(Q)});let te=!0;if(c||h){const Q=new Date(N.created_at);if(Q.setHours(0,0,0,0),c){const Y=new Date(c+"T00:00:00");Q<Y&&(te=!1)}if(h){const Y=new Date(h+"T00:00:00");Q>Y&&(te=!1)}}return D&&G&&ee&&te}):[],[t,n,o,s,c,h]),F=S=>{l(N=>N.includes(S)?N.filter(P=>P!==S):[...N,S])},C=n.trim()!==""||o||s.length>0||c||h;return M.jsxs("div",{className:"space-y-6 animate-fade-in",children:[M.jsxs("button",{onClick:r,className:"flex items-center text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors group",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 transform group-hover:-translate-x-1 transition-transform",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Timeline"]}),M.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md border border-slate-200 dark:border-slate-700",children:[M.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-4",children:"Search Past Entries"}),M.jsxs("div",{className:"relative",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 absolute left-4 top-1/2 -translate-y-1/2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),M.jsx("input",{type:"search",placeholder:"Search by keywords, title, or date...",value:n,onChange:S=>i(S.target.value),className:"w-full pl-11 pr-4 py-3 border border-slate-300 dark:border-slate-600 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base dark:bg-slate-700 dark:text-slate-200 dark:placeholder-slate-400","aria-label":"Search diary entries"})]}),M.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[M.jsxs("div",{className:"relative",ref:_,children:[M.jsxs("button",{onClick:()=>y(S=>!S),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-slate-100 dark:bg-slate-700 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),M.jsx("span",{children:"Date Range"})]}),u&&M.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-slate-800 p-4 rounded-lg shadow-xl border dark:border-slate-700 z-10 w-64 space-y-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"From"}),M.jsx("input",{type:"date",value:c,onChange:S=>p(S.target.value),className:"w-full mt-1 border border-slate-300 rounded-md p-1.5 text-sm dark:bg-slate-700 dark:border-slate-600 dark:[color-scheme:dark]"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"To"}),M.jsx("input",{type:"date",value:h,onChange:S=>f(S.target.value),className:"w-full mt-1 border border-slate-300 rounded-md p-1.5 text-sm dark:bg-slate-700 dark:border-slate-600 dark:[color-scheme:dark]"})]})]})]}),M.jsxs("div",{className:"relative",ref:x,children:[M.jsxs("button",{onClick:()=>b(S=>!S),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-slate-100 dark:bg-slate-700 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600",children:[o?M.jsx("span",{className:"text-lg",children:o}):M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a.5.5 S0 01.708 0 5 5 0 01-6.488 0 .5.5 0 01.708-.707A4 4 0 0013 12.5a.5.5 0 01.535.464z",clipRule:"evenodd"})}),M.jsx("span",{children:"Mood"})]}),v&&M.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-slate-800 p-2 rounded-lg shadow-xl border dark:border-slate-700 z-10 grid grid-cols-4 gap-2 w-64",children:KP.map(S=>M.jsx("button",{type:"button",onClick:()=>{a(S===o?null:S),b(!1)},className:`text-3xl p-2 rounded-md transition-all ${o===S?"bg-indigo-100 dark:bg-indigo-500/50 scale-110":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:S},S))})]}),M.jsxs("div",{className:"relative",ref:A,children:[M.jsxs("button",{onClick:()=>m(S=>!S),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-slate-100 dark:bg-slate-700 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{d:"M5.5 16a3.5 3.5 0 01-3.5-3.5V5.5A3.5 3.5 0 015.5 2h5.086a2 2 0 011.414.586l4.414 4.414a2 2 0 01.586 1.414V12.5A3.5 3.5 0 0113.5 16h-8z"})}),M.jsx("span",{children:"Tags"})]}),g&&M.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-slate-800 p-3 rounded-lg shadow-xl border dark:border-slate-700 z-10 w-64 max-h-60 overflow-y-auto",children:R.length>0?M.jsx("div",{className:"flex flex-col gap-2",children:R.map(S=>M.jsxs("label",{className:"flex items-center gap-2 p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 cursor-pointer",children:[M.jsx("input",{type:"checkbox",checked:s.includes(S),onChange:()=>F(S),className:"h-4 w-4 rounded text-indigo-600 focus:ring-indigo-500 border-slate-300 dark:border-slate-600 dark:bg-slate-900 dark:checked:bg-indigo-500"}),M.jsx("span",{className:"text-sm",children:S})]},S))}):M.jsx("p",{className:"text-sm text-slate-500",children:"No tags found."})})]})]})]}),M.jsxs("div",{children:[M.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-4",children:"Search Results"}),n.length>0&&M.jsx("p",{className:"text-xs text-slate-500 mb-4 bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded border border-yellow-200 dark:border-yellow-800",children:"Note: Text search only searches entries that have been viewed (decrypted) in this session. Tags and Moods search all entries."}),C?O.length>0?M.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(S=>M.jsxs("div",{onClick:()=>e(S.id),className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow-sm hover:shadow-lg transition-shadow duration-300 cursor-pointer border border-slate-200 dark:border-slate-700 flex flex-col",children:[M.jsxs("div",{className:"flex justify-between items-start gap-3",children:[S.isDecrypted?M.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 line-clamp-1",children:S.title}):M.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-3/4 animate-pulse"}),S.mood&&M.jsx("span",{className:"text-2xl","aria-label":`Mood: ${S.mood}`,children:S.mood})]}),M.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1 mb-3",title:new Date(S.created_at).toLocaleString(),children:Rb(S.created_at)}),M.jsx("div",{className:"flex-grow",children:S.isDecrypted?M.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 line-clamp-3",children:T(S.content)}):M.jsxs("div",{className:"space-y-2 animate-pulse",children:[M.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-full"}),M.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]})})]},S.id))}):M.jsxs("div",{className:"text-center py-16",children:[M.jsx("h3",{className:"text-xl font-semibold text-slate-600 dark:text-slate-300",children:"No Entries Found"}),M.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Try adjusting your search or filter criteria."})]}):M.jsx("div",{className:"text-center py-16",children:M.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Use the search bar or filters above to find your entries."})})]})]})},JP="modulepreload",XP=function(t){return"/"+t},R2={},d1=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=XP(l),l in R2)return;R2[l]=!0;const c=l.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":JP,c||(h.as="script"),h.crossOrigin="",h.href=l,s&&h.setAttribute("nonce",s),document.head.appendChild(h),c)return new Promise((f,u)=>{h.addEventListener("load",f),h.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};function Mt(t){"@babel/helpers - typeof";return Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(t)}var on=Uint8Array,Yn=Uint16Array,Rg=Int32Array,ch=new on([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fh=new on([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),h1=new on([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t_=function(t,e){for(var r=new Yn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Rg(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return{b:r,r:i}},r_=t_(ch,2),n_=r_.b,p1=r_.r;n_[28]=258,p1[258]=28;var i_=t_(fh,0),QP=i_.b,I2=i_.r,g1=new Yn(32768);for(var Xt=0;Xt<32768;++Xt){var $o=(Xt&43690)>>1|(Xt&21845)<<1;$o=($o&52428)>>2|($o&13107)<<2,$o=($o&61680)>>4|($o&3855)<<4,g1[Xt]=(($o&65280)>>8|($o&255)<<8)>>1}var Yi=function(t,e,r){for(var n=t.length,i=0,o=new Yn(e);i<n;++i)t[i]&&++o[t[i]-1];var a=new Yn(e);for(i=1;i<e;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(r){s=new Yn(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],p=e-t[i],h=a[t[i]-1]++<<p,f=h|(1<<p)-1;h<=f;++h)s[g1[h]>>l]=c}else for(s=new Yn(n),i=0;i<n;++i)t[i]&&(s[i]=g1[a[t[i]-1]++]>>15-t[i]);return s},ua=new on(288);for(var Xt=0;Xt<144;++Xt)ua[Xt]=8;for(var Xt=144;Xt<256;++Xt)ua[Xt]=9;for(var Xt=256;Xt<280;++Xt)ua[Xt]=7;for(var Xt=280;Xt<288;++Xt)ua[Xt]=8;var oc=new on(32);for(var Xt=0;Xt<32;++Xt)oc[Xt]=5;var ZP=Yi(ua,9,0),e7=Yi(ua,9,1),t7=Yi(oc,5,0),r7=Yi(oc,5,1),zp=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},xi=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},$p=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Ig=function(t){return(t+7)/8|0},o_=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new on(t.subarray(e,r))},n7=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Oi=function(t,e,r){var n=new Error(e||n7[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Oi),!r)throw n;return n},i7=function(t,e,r,n){var i=t.length,o=0;if(!i||e.f&&!e.l)return r||new on(0);var a=!r,s=a||e.i!=2,l=e.i;a&&(r=new on(i*3));var c=function(me){var Oe=r.length;if(me>Oe){var Ne=new on(Math.max(Oe*2,me));Ne.set(r),r=Ne}},p=e.f||0,h=e.p||0,f=e.b||0,u=e.l,y=e.d,v=e.m,b=e.n,g=i*8;do{if(!u){p=xi(t,h,1);var m=xi(t,h+1,3);if(h+=3,m)if(m==1)u=e7,y=r7,v=9,b=5;else if(m==2){var R=xi(t,h,31)+257,T=xi(t,h+10,15)+4,O=R+xi(t,h+5,31)+1;h+=14;for(var F=new on(O),C=new on(19),S=0;S<T;++S)C[h1[S]]=xi(t,h+S*3,7);h+=T*3;for(var N=zp(C),P=(1<<N)-1,D=Yi(C,N,1),S=0;S<O;){var G=D[xi(t,h,P)];h+=G&15;var _=G>>4;if(_<16)F[S++]=_;else{var ee=0,te=0;for(_==16?(te=3+xi(t,h,3),h+=2,ee=F[S-1]):_==17?(te=3+xi(t,h,7),h+=3):_==18&&(te=11+xi(t,h,127),h+=7);te--;)F[S++]=ee}}var Q=F.subarray(0,R),Y=F.subarray(R);v=zp(Q),b=zp(Y),u=Yi(Q,v,1),y=Yi(Y,b,1)}else Oi(1);else{var _=Ig(h)+4,x=t[_-4]|t[_-3]<<8,A=_+x;if(A>i){l&&Oi(0);break}s&&c(f+x),r.set(t.subarray(_,A),f),e.b=f+=x,e.p=h=A*8,e.f=p;continue}if(h>g){l&&Oi(0);break}}s&&c(f+131072);for(var W=(1<<v)-1,q=(1<<b)-1,L=h;;L=h){var ee=u[$p(t,h)&W],I=ee>>4;if(h+=ee&15,h>g){l&&Oi(0);break}if(ee||Oi(2),I<256)r[f++]=I;else if(I==256){L=h,u=null;break}else{var $=I-254;if(I>264){var S=I-257,H=ch[S];$=xi(t,h,(1<<H)-1)+n_[S],h+=H}var B=y[$p(t,h)&q],J=B>>4;B||Oi(3),h+=B&15;var Y=QP[J];if(J>3){var H=fh[J];Y+=$p(t,h)&(1<<H)-1,h+=H}if(h>g){l&&Oi(0);break}s&&c(f+131072);var re=f+$;if(f<Y){var ne=o-Y,de=Math.min(Y,re);for(ne+f<0&&Oi(3);f<de;++f)r[f]=n[ne+f]}for(;f<re;++f)r[f]=r[f-Y]}}e.l=u,e.p=L,e.b=f,e.f=p,u&&(p=1,e.m=v,e.d=y,e.n=b)}while(!p);return f!=r.length&&a?o_(r,0,f):r.subarray(0,f)},uo=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},wu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Hp=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,o=r.slice();if(!i)return{t:s_,l:0};if(i==1){var a=new on(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(A,R){return A.f-R.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],c=0,p=1,h=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};p!=i-1;)s=r[r[c].f<r[h].f?c++:h++],l=r[c!=p&&r[c].f<r[h].f?c++:h++],r[p++]={s:-1,f:s.f+l.f,l:s,r:l};for(var f=o[0].s,n=1;n<i;++n)o[n].s>f&&(f=o[n].s);var u=new Yn(f+1),y=m1(r[p-1],u,0);if(y>e){var n=0,v=0,b=y-e,g=1<<b;for(o.sort(function(R,T){return u[T.s]-u[R.s]||R.f-T.f});n<i;++n){var m=o[n].s;if(u[m]>e)v+=g-(1<<y-u[m]),u[m]=e;else break}for(v>>=b;v>0;){var _=o[n].s;u[_]<e?v-=1<<e-u[_]++-1:++n}for(;n>=0&&v;--n){var x=o[n].s;u[x]==e&&(--u[x],++v)}y=e}return{t:new on(u),l:y}},m1=function(t,e,r){return t.s==-1?Math.max(m1(t.l,e,r+1),m1(t.r,e,r+1)):e[t.s]=r},D2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Yn(++e),n=0,i=t[0],o=1,a=function(l){r[n++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=t[s]}return{c:r.subarray(0,n),n:e}},bu=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},a_=function(t,e,r){var n=r.length,i=Ig(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<n;++o)t[i+o+4]=r[o];return(i+4+n)*8},M2=function(t,e,r,n,i,o,a,s,l,c,p){uo(e,p++,r),++i[256];for(var h=Hp(i,15),f=h.t,u=h.l,y=Hp(o,15),v=y.t,b=y.l,g=D2(f),m=g.c,_=g.n,x=D2(v),A=x.c,R=x.n,T=new Yn(19),O=0;O<m.length;++O)++T[m[O]&31];for(var O=0;O<A.length;++O)++T[A[O]&31];for(var F=Hp(T,7),C=F.t,S=F.l,N=19;N>4&&!C[h1[N-1]];--N);var P=c+5<<3,D=bu(i,ua)+bu(o,oc)+a,G=bu(i,f)+bu(o,v)+a+14+3*N+bu(T,C)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&P<=D&&P<=G)return a_(e,p,t.subarray(l,l+c));var ee,te,Q,Y;if(uo(e,p,1+(G<D)),p+=2,G<D){ee=Yi(f,u,0),te=f,Q=Yi(v,b,0),Y=v;var W=Yi(C,S,0);uo(e,p,_-257),uo(e,p+5,R-1),uo(e,p+10,N-4),p+=14;for(var O=0;O<N;++O)uo(e,p+3*O,C[h1[O]]);p+=3*N;for(var q=[m,A],L=0;L<2;++L)for(var I=q[L],O=0;O<I.length;++O){var $=I[O]&31;uo(e,p,W[$]),p+=C[$],$>15&&(uo(e,p,I[O]>>5&127),p+=I[O]>>12)}}else ee=ZP,te=ua,Q=t7,Y=oc;for(var O=0;O<s;++O){var H=n[O];if(H>255){var $=H>>18&31;wu(e,p,ee[$+257]),p+=te[$+257],$>7&&(uo(e,p,H>>23&31),p+=ch[$]);var B=H&31;wu(e,p,Q[B]),p+=Y[B],B>3&&(wu(e,p,H>>5&8191),p+=fh[B])}else wu(e,p,ee[H]),p+=te[H]}return wu(e,p,ee[256]),p+te[256]},o7=new Rg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),s_=new on(0),a7=function(t,e,r,n,i,o){var a=o.z||t.length,s=new on(n+a+5*(1+Math.ceil(a/7e3))+i),l=s.subarray(n,s.length-i),c=o.l,p=(o.r||0)&7;if(e){p&&(l[0]=o.r>>3);for(var h=o7[e-1],f=h>>13,u=h&8191,y=(1<<r)-1,v=o.p||new Yn(32768),b=o.h||new Yn(y+1),g=Math.ceil(r/3),m=2*g,_=function(Me){return(t[Me]^t[Me+1]<<g^t[Me+2]<<m)&y},x=new Rg(25e3),A=new Yn(288),R=new Yn(32),T=0,O=0,F=o.i||0,C=0,S=o.w||0,N=0;F+2<a;++F){var P=_(F),D=F&32767,G=b[P];if(v[D]=G,b[P]=D,S<=F){var ee=a-F;if((T>7e3||C>24576)&&(ee>423||!c)){p=M2(t,l,0,x,A,R,O,C,N,F-N,p),C=T=O=0,N=F;for(var te=0;te<286;++te)A[te]=0;for(var te=0;te<30;++te)R[te]=0}var Q=2,Y=0,W=u,q=D-G&32767;if(ee>2&&P==_(F-q))for(var L=Math.min(f,ee)-1,I=Math.min(32767,F),$=Math.min(258,ee);q<=I&&--W&&D!=G;){if(t[F+Q]==t[F+Q-q]){for(var H=0;H<$&&t[F+H]==t[F+H-q];++H);if(H>Q){if(Q=H,Y=q,H>L)break;for(var B=Math.min(q,H-2),J=0,te=0;te<B;++te){var re=F-q+te&32767,ne=v[re],de=re-ne&32767;de>J&&(J=de,G=re)}}}D=G,G=v[D],q+=D-G&32767}if(Y){x[C++]=268435456|p1[Q]<<18|I2[Y];var me=p1[Q]&31,Oe=I2[Y]&31;O+=ch[me]+fh[Oe],++A[257+me],++R[Oe],S=F+Q,++T}else x[C++]=t[F],++A[t[F]]}}for(F=Math.max(F,S);F<a;++F)x[C++]=t[F],++A[t[F]];p=M2(t,l,c,x,A,R,O,C,N,F-N,p),c||(o.r=p&7|l[p/8|0]<<3,p-=7,o.h=b,o.p=v,o.i=F,o.w=S)}else{for(var F=o.w||0;F<a+c;F+=65535){var Ne=F+65535;Ne>=a&&(l[p/8|0]=c,Ne=a),p=a_(l,p+1,t.subarray(F,Ne))}o.i=a}return o_(s,0,n+Ig(p)+i)},l_=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,o=r.length|0,a=0;a!=o;){for(var s=Math.min(a+2655,o);a<s;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},s7=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),a=new on(o.length+t.length);a.set(o),a.set(t,o.length),t=a,i.w=o.length}return a7(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},u_=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},l7=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=l_();i.p(e.dictionary),u_(t,2,i.d())}},u7=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Oi(6,"invalid zlib data"),(t[1]>>5&1)==1&&Oi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function v1(t,e){e||(e={});var r=l_();r.p(t);var n=s7(t,e,e.dictionary?6:2,4);return l7(n,e),u_(n,n.length-4,r.d()),n}function c7(t,e){return i7(t.subarray(u7(t),-4),{i:2},e,e)}var f7=typeof TextDecoder<"u"&&new TextDecoder,d7=0;try{f7.decode(s_,{stream:!0}),d7=1}catch{}var ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Wp(){ht.console&&typeof ht.console.log=="function"&&ht.console.log.apply(ht.console,arguments)}var Ht={log:Wp,warn:function(t){ht.console&&(typeof ht.console.warn=="function"?ht.console.warn.apply(ht.console,arguments):Wp.call(null,arguments))},error:function(t){ht.console&&(typeof ht.console.error=="function"?ht.console.error.apply(ht.console,arguments):Wp(t))}};function Vp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ca(n.response,e,r)},n.onerror=function(){Ht.error("could not download file")},n.send()}function F2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Pf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Mu,y1,Ca=ht.saveAs||((typeof window>"u"?"undefined":Mt(window))!=="object"||window!==ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ht.URL||ht.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?F2(i.href)?Vp(t,e,r):Pf(i,i.target="_blank"):Pf(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Pf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(F2(t))Vp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Pf(n)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:Mt(o)!=="object"&&(Ht.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Vp(t,e,r);var i=t.type==="application/octet-stream",o=/constructor/i.test(ht.HTMLElement)||ht.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o)&&(typeof FileReader>"u"?"undefined":Mt(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var p=s.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},s.readAsDataURL(t)}else{var l=ht.URL||ht.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function c_(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,o=r[n].process,a=i.exec(t);a&&(e=o(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+s+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Gp(t,e){var r=t[0],n=t[1],i=t[2],o=t[3];r=Zr(r,n,i,o,e[0],7,-680876936),o=Zr(o,r,n,i,e[1],12,-389564586),i=Zr(i,o,r,n,e[2],17,606105819),n=Zr(n,i,o,r,e[3],22,-1044525330),r=Zr(r,n,i,o,e[4],7,-176418897),o=Zr(o,r,n,i,e[5],12,1200080426),i=Zr(i,o,r,n,e[6],17,-1473231341),n=Zr(n,i,o,r,e[7],22,-45705983),r=Zr(r,n,i,o,e[8],7,1770035416),o=Zr(o,r,n,i,e[9],12,-1958414417),i=Zr(i,o,r,n,e[10],17,-42063),n=Zr(n,i,o,r,e[11],22,-1990404162),r=Zr(r,n,i,o,e[12],7,1804603682),o=Zr(o,r,n,i,e[13],12,-40341101),i=Zr(i,o,r,n,e[14],17,-1502002290),r=en(r,n=Zr(n,i,o,r,e[15],22,1236535329),i,o,e[1],5,-165796510),o=en(o,r,n,i,e[6],9,-1069501632),i=en(i,o,r,n,e[11],14,643717713),n=en(n,i,o,r,e[0],20,-373897302),r=en(r,n,i,o,e[5],5,-701558691),o=en(o,r,n,i,e[10],9,38016083),i=en(i,o,r,n,e[15],14,-660478335),n=en(n,i,o,r,e[4],20,-405537848),r=en(r,n,i,o,e[9],5,568446438),o=en(o,r,n,i,e[14],9,-1019803690),i=en(i,o,r,n,e[3],14,-187363961),n=en(n,i,o,r,e[8],20,1163531501),r=en(r,n,i,o,e[13],5,-1444681467),o=en(o,r,n,i,e[2],9,-51403784),i=en(i,o,r,n,e[7],14,1735328473),r=tn(r,n=en(n,i,o,r,e[12],20,-1926607734),i,o,e[5],4,-378558),o=tn(o,r,n,i,e[8],11,-2022574463),i=tn(i,o,r,n,e[11],16,1839030562),n=tn(n,i,o,r,e[14],23,-35309556),r=tn(r,n,i,o,e[1],4,-1530992060),o=tn(o,r,n,i,e[4],11,1272893353),i=tn(i,o,r,n,e[7],16,-155497632),n=tn(n,i,o,r,e[10],23,-1094730640),r=tn(r,n,i,o,e[13],4,681279174),o=tn(o,r,n,i,e[0],11,-358537222),i=tn(i,o,r,n,e[3],16,-722521979),n=tn(n,i,o,r,e[6],23,76029189),r=tn(r,n,i,o,e[9],4,-640364487),o=tn(o,r,n,i,e[12],11,-421815835),i=tn(i,o,r,n,e[15],16,530742520),r=rn(r,n=tn(n,i,o,r,e[2],23,-995338651),i,o,e[0],6,-198630844),o=rn(o,r,n,i,e[7],10,1126891415),i=rn(i,o,r,n,e[14],15,-1416354905),n=rn(n,i,o,r,e[5],21,-57434055),r=rn(r,n,i,o,e[12],6,1700485571),o=rn(o,r,n,i,e[3],10,-1894986606),i=rn(i,o,r,n,e[10],15,-1051523),n=rn(n,i,o,r,e[1],21,-2054922799),r=rn(r,n,i,o,e[8],6,1873313359),o=rn(o,r,n,i,e[15],10,-30611744),i=rn(i,o,r,n,e[6],15,-1560198380),n=rn(n,i,o,r,e[13],21,1309151649),r=rn(r,n,i,o,e[4],6,-145523070),o=rn(o,r,n,i,e[11],10,-1120210379),i=rn(i,o,r,n,e[2],15,718787259),n=rn(n,i,o,r,e[9],21,-343485551),t[0]=Qo(r,t[0]),t[1]=Qo(n,t[1]),t[2]=Qo(i,t[2]),t[3]=Qo(o,t[3])}function dh(t,e,r,n,i,o){return e=Qo(Qo(e,t),Qo(n,o)),Qo(e<<i|e>>>32-i,r)}function Zr(t,e,r,n,i,o,a){return dh(e&r|~e&n,t,e,i,o,a)}function en(t,e,r,n,i,o,a){return dh(e&n|r&~n,t,e,i,o,a)}function tn(t,e,r,n,i,o,a){return dh(e^r^n,t,e,i,o,a)}function rn(t,e,r,n,i,o,a){return dh(r^(e|~n),t,e,i,o,a)}function f_(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Gp(n,h7(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Gp(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Gp(n,i),n}function h7(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Mu=ht.atob.bind(ht),y1=ht.btoa.bind(ht);var B2="0123456789abcdef".split("");function p7(t){for(var e="",r=0;r<4;r++)e+=B2[t>>8*r+4&15]+B2[t>>8*r&15];return e}function g7(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function w1(t){return f_(t).map(g7).join("")}var m7=function(t){for(var e=0;e<t.length;e++)t[e]=p7(t[e]);return t.join("")}(f_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qo(t,e){if(m7){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function b1(t,e){var r,n,i,o;if(t!==r){for(var a=(i=t,o=1+(256/t.length>>0),new Array(o+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var p=s[l];c=(c+p+a.charCodeAt(l))%256,s[l]=s[c],s[c]=p}r=t,n=s}else s=n;var h=e.length,f=0,u=0,y="";for(l=0;l<h;l++)u=(u+(p=s[f=(f+1)%256]))%256,s[f]=s[u],s[u]=p,a=s[(s[f]+s[u])%256],y+=String.fromCharCode(e.charCodeAt(l)^a);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var q2={print:4,modify:8,copy:16,"annot-forms":32};function Is(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(q2.perm!==void 0)throw new Error("Invalid permission: "+s);i+=q2[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^i)),this.encryptionKey=w1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=b1(this.encryptionKey,this.padding)}function Ds(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function U2(t){if(Mt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[n,!!i],o},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[r]){var a=e[r][o];try{a[0].apply(t,n)}catch(s){ht.console&&Ht.error("jsPDF PubSub Error",s.message,s)}a[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Dd(t){if(!(this instanceof Dd))return new Dd(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function d_(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ma(t,e,r,n,i){if(!(this instanceof Ma))return new Ma(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,d_.call(this,n,i)}function Ys(t,e,r,n,i){if(!(this instanceof Ys))return new Ys(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,d_.call(this,n,i)}function dt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],o=arguments[3],a=[],s=1,l=16,c="S",p=null;Mt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,o=t.compress||t.compressPdf||o,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(o===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,f={},u={internal:{},__private__:{}};u.__private__.PubSub=U2;var y="1.3",v=u.__private__.getPdfVersion=function(){return y};u.__private__.setPdfVersion=function(k){y=k};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};u.__private__.getPageFormats=function(){return b};var g=u.__private__.getPageFormat=function(k){return b[k]};i=i||"a4";var m={COMPAT:"compat",ADVANCED:"advanced"},_=m.COMPAT;function x(){this.saveGraphicsState(),ae(new st(ze,0,0,-ze,0,Eo()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),c="n",_=m.ADVANCED}function A(){this.restoreGraphicsState(),c="S",_=m.COMPAT}var R=u.__private__.combineFontStyleAndFontWeight=function(k,z){if(k=="bold"&&z=="normal"||k=="bold"&&z==400||k=="normal"&&z=="italic"||k=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(k=z==400||z==="normal"?k==="italic"?"italic":"normal":z!=700&&z!=="bold"||k!=="normal"?(z==700?"bold":z)+""+k:"bold"),k};u.advancedAPI=function(k){var z=_===m.COMPAT;return z&&x.call(this),typeof k!="function"||(k(this),z&&A.call(this)),this},u.compatAPI=function(k){var z=_===m.ADVANCED;return z&&A.call(this),typeof k!="function"||(k(this),z&&x.call(this)),this},u.isAdvancedAPI=function(){return _===m.ADVANCED};var T,O=function(k){if(_!==m.ADVANCED)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=u.roundToPrecision=u.__private__.roundToPrecision=function(k,z){var oe=e||z;if(isNaN(k)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(oe).replace(/0+$/,"")};T=u.hpf=u.__private__.hpf=typeof l=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return F(k,l)}:l==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return F(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return F(k,16)};var C=u.f2=u.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return F(k,2)},S=u.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return F(k,3)},N=u.scale=u.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return _===m.COMPAT?k*ze:_===m.ADVANCED?k:void 0},P=function(k){return _===m.COMPAT?Eo()-k:_===m.ADVANCED?k:void 0},D=function(k){return N(P(k))};u.__private__.setPrecision=u.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var G,ee="00000000000000000000000000000000",te=u.__private__.getFileId=function(){return ee},Q=u.__private__.setFileId=function(k){return ee=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Yr=new Is(p.userPermissions,p.userPassword,p.ownerPassword,ee)),ee};u.setFileId=function(k){return Q(k),this},u.getFileId=function(){return te()};var Y=u.__private__.convertDateToPDFDate=function(k){var z=k.getTimezoneOffset(),oe=z<0?"+":"-",le=Math.floor(Math.abs(z/60)),ye=Math.abs(z%60),Ee=[oe,$(le),"'",$(ye),"'"].join("");return["D:",k.getFullYear(),$(k.getMonth()+1),$(k.getDate()),$(k.getHours()),$(k.getMinutes()),$(k.getSeconds()),Ee].join("")},W=u.__private__.convertPDFDateToDate=function(k){var z=parseInt(k.substr(2,4),10),oe=parseInt(k.substr(6,2),10)-1,le=parseInt(k.substr(8,2),10),ye=parseInt(k.substr(10,2),10),Ee=parseInt(k.substr(12,2),10),Re=parseInt(k.substr(14,2),10);return new Date(z,oe,le,ye,Ee,Re,0)},q=u.__private__.setCreationDate=function(k){var z;if(k===void 0&&(k=new Date),k instanceof Date)z=Y(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=k}return G=z},L=u.__private__.getCreationDate=function(k){var z=G;return k==="jsDate"&&(z=W(G)),z};u.setCreationDate=function(k){return q(k),this},u.getCreationDate=function(k){return L(k)};var I,$=u.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},H=u.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},B=0,J=[],re=[],ne=0,de=[],me=[],Oe=!1,Ne=re,Me=function(){B=0,ne=0,re=[],J=[],de=[],Dn=qt(),bn=qt()};u.__private__.setCustomOutputDestination=function(k){Oe=!0,Ne=k};var we=function(k){Oe||(Ne=k)};u.__private__.resetCustomOutputDestination=function(){Oe=!1,Ne=re};var ae=u.__private__.out=function(k){return k=k.toString(),ne+=k.length+1,Ne.push(k),Ne},Ke=u.__private__.write=function(k){return ae(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},he=u.__private__.getArrayBuffer=function(k){for(var z=k.length,oe=new ArrayBuffer(z),le=new Uint8Array(oe);z--;)le[z]=k.charCodeAt(z);return oe},se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];u.__private__.getStandardFonts=function(){return se};var be=t.fontSize||16;u.__private__.setFontSize=u.setFontSize=function(k){return be=_===m.ADVANCED?k/ze:k,this};var Se,ve=u.__private__.getFontSize=u.getFontSize=function(){return _===m.COMPAT?be:be*ze},Ie=t.R2L||!1;u.__private__.setR2L=u.setR2L=function(k){return Ie=k,this},u.__private__.getR2L=u.getR2L=function(){return Ie};var Be,Ue=u.__private__.setZoomMode=function(k){var z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))Se=k;else if(isNaN(k)){if(z.indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');Se=k}else Se=parseInt(k,10)};u.__private__.getZoomMode=function(){return Se};var et,lt=u.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');Be=k};u.__private__.getPageMode=function(){return Be};var rt=u.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');et=k};u.__private__.getLayoutMode=function(){return et},u.__private__.setDisplayMode=u.setDisplayMode=function(k,z,oe){return Ue(k),rt(z),lt(oe),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};u.__private__.getDocumentProperty=function(k){if(Object.keys(ot).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[k]},u.__private__.getDocumentProperties=function(){return ot},u.__private__.setDocumentProperties=u.setProperties=u.setDocumentProperties=function(k){for(var z in ot)ot.hasOwnProperty(z)&&k[z]&&(ot[z]=k[z]);return this},u.__private__.setDocumentProperty=function(k,z){if(Object.keys(ot).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[k]=z};var Qe,ze,hr,_t,pr,ke={},qe={},it=[],We={},xt={},gt={},Pt={},rr=null,bt=0,ct=[],Nt=new U2(u),Bt=t.hotfixes||[],Zt={},ei={},Rn=[],st=function k(z,oe,le,ye,Ee,Re){if(!(this instanceof k))return new k(z,oe,le,ye,Ee,Re);isNaN(z)&&(z=1),isNaN(oe)&&(oe=0),isNaN(le)&&(le=0),isNaN(ye)&&(ye=1),isNaN(Ee)&&(Ee=0),isNaN(Re)&&(Re=0),this._matrix=[z,oe,le,ye,Ee,Re]};Object.defineProperty(st.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(st.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(st.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(st.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(st.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(st.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(st.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(st.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(st.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(st.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(st.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(st.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(st.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(st.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(st.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(st.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),st.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(k)},st.prototype.multiply=function(k){var z=k.sx*this.sx+k.shy*this.shx,oe=k.sx*this.shy+k.shy*this.sy,le=k.shx*this.sx+k.sy*this.shx,ye=k.shx*this.shy+k.sy*this.sy,Ee=k.tx*this.sx+k.ty*this.shx+this.tx,Re=k.tx*this.shy+k.ty*this.sy+this.ty;return new st(z,oe,le,ye,Ee,Re)},st.prototype.decompose=function(){var k=this.sx,z=this.shy,oe=this.shx,le=this.sy,ye=this.tx,Ee=this.ty,Re=Math.sqrt(k*k+z*z),Ve=(k/=Re)*oe+(z/=Re)*le;oe-=k*Ve,le-=z*Ve;var at=Math.sqrt(oe*oe+le*le);return Ve/=at,k*(le/=at)<z*(oe/=at)&&(k=-k,z=-z,Ve=-Ve,Re=-Re),{scale:new st(Re,0,0,at,0,0),translate:new st(1,0,0,1,ye,Ee),rotate:new st(k,z,-z,k,0,0),skew:new st(1,0,Ve,1,0,0)}},st.prototype.toString=function(k){return this.join(" ")},st.prototype.inversed=function(){var k=this.sx,z=this.shy,oe=this.shx,le=this.sy,ye=this.tx,Ee=this.ty,Re=1/(k*le-z*oe),Ve=le*Re,at=-z*Re,yt=-oe*Re,mt=k*Re;return new st(Ve,at,yt,mt,-Ve*ye-yt*Ee,-at*ye-mt*Ee)},st.prototype.applyToPoint=function(k){var z=k.x*this.sx+k.y*this.shx+this.tx,oe=k.x*this.shy+k.y*this.sy+this.ty;return new ls(z,oe)},st.prototype.applyToRectangle=function(k){var z=this.applyToPoint(k),oe=this.applyToPoint(new ls(k.x+k.w,k.y+k.h));return new Dl(z.x,z.y,oe.x-z.x,oe.y-z.y)},st.prototype.clone=function(){var k=this.sx,z=this.shy,oe=this.shx,le=this.sy,ye=this.tx,Ee=this.ty;return new st(k,z,oe,le,ye,Ee)},u.Matrix=st;var wn=u.matrixMult=function(k,z){return z.multiply(k)},In=new st(1,0,0,1,0,0);u.unitMatrix=u.identityMatrix=In;var Gr=function(k,z){if(!xt[k]){var oe=(z instanceof Ma?"Sh":"P")+(Object.keys(We).length+1).toString(10);z.id=oe,xt[k]=oe,We[oe]=z,Nt.publish("addPattern",z)}};u.ShadingPattern=Ma,u.TilingPattern=Ys,u.addShadingPattern=function(k,z){return O("addShadingPattern()"),Gr(k,z),this},u.beginTilingPattern=function(k){O("beginTilingPattern()"),Oc(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},u.endTilingPattern=function(k,z){O("endTilingPattern()"),z.stream=me[I].join(`
`),Gr(k,z),Nt.publish("endTilingPattern",z),Rn.pop().restore()};var jt=u.__private__.newObject=function(){var k=qt();return Kr(k,!0),k},qt=u.__private__.newObjectDeferred=function(){return B++,J[B]=function(){return ne},B},Kr=function(k,z){return z=typeof z=="boolean"&&z,J[k]=ne,z&&ae(k+" 0 obj"),k},Xi=u.__private__.newAdditionalObject=function(){var k={objId:qt(),content:""};return de.push(k),k},Dn=qt(),bn=qt(),gr=u.__private__.decodeColorString=function(k){var z=k.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length===5&&(z[4]==="k"||z[4]==="K")&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var oe=parseFloat(z[0]);z=[oe,oe,oe,"r"]}for(var le="#",ye=0;ye<3;ye++)le+=("0"+Math.floor(255*parseFloat(z[ye])).toString(16)).slice(-2);return le},_n=u.__private__.encodeColorString=function(k){var z;typeof k=="string"&&(k={ch1:k});var oe=k.ch1,le=k.ch2,ye=k.ch3,Ee=k.ch4,Re=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var Ve=new c_(oe);if(Ve.ok)oe=Ve.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var at=parseInt(oe.substr(1),16);oe=at>>16&255,le=at>>8&255,ye=255&at}if(le===void 0||Ee===void 0&&oe===le&&le===ye)if(typeof oe=="string")z=oe+" "+Re[0];else switch(k.precision){case 2:z=C(oe/255)+" "+Re[0];break;case 3:default:z=S(oe/255)+" "+Re[0]}else if(Ee===void 0||Mt(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return z=["1.","1.","1.",Re[1]].join(" ");if(typeof oe=="string")z=[oe,le,ye,Re[1]].join(" ");else switch(k.precision){case 2:z=[C(oe/255),C(le/255),C(ye/255),Re[1]].join(" ");break;default:case 3:z=[S(oe/255),S(le/255),S(ye/255),Re[1]].join(" ")}}else if(typeof oe=="string")z=[oe,le,ye,Ee,Re[2]].join(" ");else switch(k.precision){case 2:z=[C(oe),C(le),C(ye),C(Ee),Re[2]].join(" ");break;case 3:default:z=[S(oe),S(le),S(ye),S(Ee),Re[2]].join(" ")}return z},Mn=u.__private__.getFilters=function(){return a},sn=u.__private__.putStream=function(k){var z=(k=k||{}).data||"",oe=k.filters||Mn(),le=k.alreadyAppliedFilters||[],ye=k.addLength1||!1,Ee=z.length,Re=k.objectId,Ve=function(Jr){return Jr};if(p!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Ve=Yr.encryptor(Re,0));var at={};oe===!0&&(oe=["FlateEncode"]);var yt=k.additionalKeyValues||[],mt=(at=dt.API.processDataByFilters!==void 0?dt.API.processDataByFilters(z,oe):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(at.data.length!==0&&(yt.push({key:"Length",value:at.data.length}),ye===!0&&yt.push({key:"Length1",value:Ee})),mt.length!=0)if(mt.split("/").length-1==1)yt.push({key:"Filter",value:mt});else{yt.push({key:"Filter",value:"["+mt+"]"});for(var Et=0;Et<yt.length;Et+=1)if(yt[Et].key==="DecodeParms"){for(var nr=[],lr=0;lr<at.reverseChain.split("/").length-1;lr+=1)nr.push("null");nr.push(yt[Et].value),yt[Et].value="["+nr.join(" ")+"]"}}ae("<<");for(var Nr=0;Nr<yt.length;Nr++)ae("/"+yt[Nr].key+" "+yt[Nr].value);ae(">>"),at.data.length!==0&&(ae("stream"),ae(Ve(at.data)),ae("endstream"))},Fn=u.__private__.putPage=function(k){var z=k.number,oe=k.data,le=k.objId,ye=k.contentsObjId;Kr(le,!0),ae("<</Type /Page"),ae("/Parent "+k.rootDictionaryObjId+" 0 R"),ae("/Resources "+k.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(T(k.mediaBox.bottomLeftX))+" "+parseFloat(T(k.mediaBox.bottomLeftY))+" "+T(k.mediaBox.topRightX)+" "+T(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&ae("/CropBox ["+T(k.cropBox.bottomLeftX)+" "+T(k.cropBox.bottomLeftY)+" "+T(k.cropBox.topRightX)+" "+T(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&ae("/BleedBox ["+T(k.bleedBox.bottomLeftX)+" "+T(k.bleedBox.bottomLeftY)+" "+T(k.bleedBox.topRightX)+" "+T(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&ae("/TrimBox ["+T(k.trimBox.bottomLeftX)+" "+T(k.trimBox.bottomLeftY)+" "+T(k.trimBox.topRightX)+" "+T(k.trimBox.topRightY)+"]"),k.artBox!==null&&ae("/ArtBox ["+T(k.artBox.bottomLeftX)+" "+T(k.artBox.bottomLeftY)+" "+T(k.artBox.topRightX)+" "+T(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&ae("/UserUnit "+k.userUnit),Nt.publish("putPage",{objId:le,pageContext:ct[z],pageNumber:z,page:oe}),ae("/Contents "+ye+" 0 R"),ae(">>"),ae("endobj");var Ee=oe.join(`
`);return _===m.ADVANCED&&(Ee+=`
Q`),Kr(ye,!0),sn({data:Ee,filters:Mn(),objectId:ye}),ae("endobj"),le},Qi=u.__private__.putPages=function(){var k,z,oe=[];for(k=1;k<=bt;k++)ct[k].objId=qt(),ct[k].contentsObjId=qt();for(k=1;k<=bt;k++)oe.push(Fn({number:k,data:me[k],objId:ct[k].objId,contentsObjId:ct[k].contentsObjId,mediaBox:ct[k].mediaBox,cropBox:ct[k].cropBox,bleedBox:ct[k].bleedBox,trimBox:ct[k].trimBox,artBox:ct[k].artBox,userUnit:ct[k].userUnit,rootDictionaryObjId:Dn,resourceDictionaryObjId:bn}));Kr(Dn,!0),ae("<</Type /Pages");var le="/Kids [";for(z=0;z<bt;z++)le+=oe[z]+" 0 R ";ae(le+"]"),ae("/Count "+bt),ae(">>"),ae("endobj"),Nt.publish("postPutPages")},Ze=function(k){Nt.publish("putFont",{font:k,out:ae,newObject:jt,putStream:sn}),k.isAlreadyPutted!==!0&&(k.objectNumber=jt(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Ds(k.postScriptName)),ae("/Subtype /Type1"),typeof k.encoding=="string"&&ae("/Encoding /"+k.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},ue=function(){for(var k in ke)ke.hasOwnProperty(k)&&(h===!1||h===!0&&f.hasOwnProperty(k))&&Ze(ke[k])},De=function(k){k.objectNumber=jt();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[T(k.x),T(k.y),T(k.x+k.width),T(k.y+k.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var oe=k.pages[1].join(`
`);sn({data:oe,additionalKeyValues:z,objectId:k.objectNumber}),ae("endobj")},Ye=function(){for(var k in Zt)Zt.hasOwnProperty(k)&&De(Zt[k])},Ct=function(k,z){var oe,le=[],ye=1/(z-1);for(oe=0;oe<1;oe+=ye)le.push(oe);if(le.push(1),k[0].offset!=0){var Ee={offset:0,color:k[0].color};k.unshift(Ee)}if(k[k.length-1].offset!=1){var Re={offset:1,color:k[k.length-1].color};k.push(Re)}for(var Ve="",at=0,yt=0;yt<le.length;yt++){for(oe=le[yt];oe>k[at+1].offset;)at++;var mt=k[at].offset,Et=(oe-mt)/(k[at+1].offset-mt),nr=k[at].color,lr=k[at+1].color;Ve+=H(Math.round((1-Et)*nr[0]+Et*lr[0]).toString(16))+H(Math.round((1-Et)*nr[1]+Et*lr[1]).toString(16))+H(Math.round((1-Et)*nr[2]+Et*lr[2]).toString(16))}return Ve.trim()},Ar=function(k,z){z||(z=21);var oe=jt(),le=Ct(k.colors,z),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+z+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),sn({data:le,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),ae("endobj"),k.objectNumber=jt(),ae("<< /ShadingType "+k.type),ae("/ColorSpace /DeviceRGB");var Ee="/Coords ["+T(parseFloat(k.coords[0]))+" "+T(parseFloat(k.coords[1]))+" ";k.type===2?Ee+=T(parseFloat(k.coords[2]))+" "+T(parseFloat(k.coords[3])):Ee+=T(parseFloat(k.coords[2]))+" "+T(parseFloat(k.coords[3]))+" "+T(parseFloat(k.coords[4]))+" "+T(parseFloat(k.coords[5])),ae(Ee+="]"),k.matrix&&ae("/Matrix ["+k.matrix.toString()+"]"),ae("/Function "+oe+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},er=function(k,z){var oe=qt(),le=jt();z.push({resourcesOid:oe,objectOid:le}),k.objectNumber=le;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+k.boundingBox.map(T).join(" ")+"]"}),ye.push({key:"XStep",value:T(k.xStep)}),ye.push({key:"YStep",value:T(k.yStep)}),ye.push({key:"Resources",value:oe+" 0 R"}),k.matrix&&ye.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),sn({data:k.stream,additionalKeyValues:ye,objectId:k.objectNumber}),ae("endobj")},mr=function(k){var z;for(z in We)We.hasOwnProperty(z)&&(We[z]instanceof Ma?Ar(We[z]):We[z]instanceof Ys&&er(We[z],k))},xn=function(k){for(var z in k.objectNumber=jt(),ae("<<"),k)switch(z){case"opacity":ae("/ca "+C(k[z]));break;case"stroke-opacity":ae("/CA "+C(k[z]))}ae(">>"),ae("endobj")},Di=function(){var k;for(k in gt)gt.hasOwnProperty(k)&&xn(gt[k])},Zi=function(){for(var k in ae("/XObject <<"),Zt)Zt.hasOwnProperty(k)&&Zt[k].objectNumber>=0&&ae("/"+k+" "+Zt[k].objectNumber+" 0 R");Nt.publish("putXobjectDict"),ae(">>")},vr=function(){Yr.oid=jt(),ae("<<"),ae("/Filter /Standard"),ae("/V "+Yr.v),ae("/R "+Yr.r),ae("/U <"+Yr.toHexString(Yr.U)+">"),ae("/O <"+Yr.toHexString(Yr.O)+">"),ae("/P "+Yr.P),ae(">>"),ae("endobj")},ga=function(){for(var k in ae("/Font <<"),ke)ke.hasOwnProperty(k)&&(h===!1||h===!0&&f.hasOwnProperty(k))&&ae("/"+k+" "+ke[k].objectNumber+" 0 R");ae(">>")},es=function(){if(Object.keys(We).length>0){for(var k in ae("/Shading <<"),We)We.hasOwnProperty(k)&&We[k]instanceof Ma&&We[k].objectNumber>=0&&ae("/"+k+" "+We[k].objectNumber+" 0 R");Nt.publish("putShadingPatternDict"),ae(">>")}},ts=function(k){if(Object.keys(We).length>0){for(var z in ae("/Pattern <<"),We)We.hasOwnProperty(z)&&We[z]instanceof u.TilingPattern&&We[z].objectNumber>=0&&We[z].objectNumber<k&&ae("/"+z+" "+We[z].objectNumber+" 0 R");Nt.publish("putTilingPatternDict"),ae(">>")}},hh=function(){if(Object.keys(gt).length>0){var k;for(k in ae("/ExtGState <<"),gt)gt.hasOwnProperty(k)&&gt[k].objectNumber>=0&&ae("/"+k+" "+gt[k].objectNumber+" 0 R");Nt.publish("putGStateDict"),ae(">>")}},yr=function(k){Kr(k.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ga(),es(),ts(k.objectOid),hh(),Zi(),ae(">>"),ae("endobj")},hc=function(){var k=[];ue(),Di(),Ye(),mr(k),Nt.publish("putResources"),k.forEach(yr),yr({resourcesOid:bn,objectOid:Number.MAX_SAFE_INTEGER}),Nt.publish("postPutResources")},pc=function(){Nt.publish("putAdditionalObjects");for(var k=0;k<de.length;k++){var z=de[k];Kr(z.objId,!0),ae(z.content),ae("endobj")}Nt.publish("postPutAdditionalObjects")},gc=function(k){qe[k.fontName]=qe[k.fontName]||{},qe[k.fontName][k.fontStyle]=k.id},El=function(k,z,oe,le,ye){var Ee={id:"F"+(Object.keys(ke).length+1).toString(10),postScriptName:k,fontName:z,fontStyle:oe,encoding:le,isStandardFont:ye||!1,metadata:{}};return Nt.publish("addFont",{font:Ee,instance:this}),ke[Ee.id]=Ee,gc(Ee),Ee.id},ph=function(k){for(var z=0,oe=se.length;z<oe;z++){var le=El.call(this,k[z][0],k[z][1],k[z][2],se[z][3],!0);h===!1&&(f[le]=!0);var ye=k[z][0].split("-");gc({id:le,fontName:ye[0],fontStyle:ye[1]||""})}Nt.publish("addFonts",{fonts:ke,dictionary:qe})},mi=function(k){return k.foo=function(){try{return k.apply(this,arguments)}catch(le){var z=le.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var oe="Error in function "+z.split(`
`)[0].split("<")[0]+": "+le.message;if(!ht.console)throw new Error(oe);ht.console.error(oe,le),ht.alert&&alert(oe)}},k.foo.bar=k,k.foo},rs=function(k,z){var oe,le,ye,Ee,Re,Ve,at,yt,mt;if(ye=(z=z||{}).sourceEncoding||"Unicode",Re=z.outputEncoding,(z.autoencode||Re)&&ke[Qe].metadata&&ke[Qe].metadata[ye]&&ke[Qe].metadata[ye].encoding&&(Ee=ke[Qe].metadata[ye].encoding,!Re&&ke[Qe].encoding&&(Re=ke[Qe].encoding),!Re&&Ee.codePages&&(Re=Ee.codePages[0]),typeof Re=="string"&&(Re=Ee[Re]),Re)){for(at=!1,Ve=[],oe=0,le=k.length;oe<le;oe++)(yt=Re[k.charCodeAt(oe)])?Ve.push(String.fromCharCode(yt)):Ve.push(k[oe]),Ve[oe].charCodeAt(0)>>8&&(at=!0);k=Ve.join("")}for(oe=k.length;at===void 0&&oe!==0;)k.charCodeAt(oe-1)>>8&&(at=!0),oe--;if(!at)return k;for(Ve=z.noBOM?[]:[254,255],oe=0,le=k.length;oe<le;oe++){if((mt=(yt=k.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+k+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ve.push(mt),Ve.push(yt-(mt<<8))}return String.fromCharCode.apply(void 0,Ve)},Sn=u.__private__.pdfEscape=u.pdfEscape=function(k,z){return rs(k,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ol=u.__private__.beginPage=function(k){me[++bt]=[],ct[bt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},vc(bt),we(me[I])},mc=function(k,z){var oe,le,ye;switch(r=z||r,typeof k=="string"&&(oe=g(k.toLowerCase()),Array.isArray(oe)&&(le=oe[0],ye=oe[1])),Array.isArray(k)&&(le=k[0]*ze,ye=k[1]*ze),isNaN(le)&&(le=i[0],ye=i[1]),(le>14400||ye>14400)&&(Ht.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),ye=Math.min(14400,ye)),i=[le,ye],r.substr(0,1)){case"l":ye>le&&(i=[ye,le]);break;case"p":le>ye&&(i=[ye,le])}Ol(i),Sc(jl),ae(vi),Rl!==0&&ae(Rl+" J"),Il!==0&&ae(Il+" j"),Nt.publish("addPage",{pageNumber:bt})},gh=function(k){k>0&&k<=bt&&(me.splice(k,1),ct.splice(k,1),bt--,I>bt&&(I=bt),this.setPage(I))},vc=function(k){k>0&&k<=bt&&(I=k)},mh=u.__private__.getNumberOfPages=u.getNumberOfPages=function(){return me.length-1},yc=function(k,z,oe){var le,ye=void 0;return oe=oe||{},k=k!==void 0?k:ke[Qe].fontName,z=z!==void 0?z:ke[Qe].fontStyle,le=k.toLowerCase(),qe[le]!==void 0&&qe[le][z]!==void 0?ye=qe[le][z]:qe[k]!==void 0&&qe[k][z]!==void 0?ye=qe[k][z]:oe.disableWarning===!1&&Ht.warn("Unable to look up font label for font '"+k+"', '"+z+"'. Refer to getFontList() for available fonts."),ye||oe.noFallback||(ye=qe.times[z])==null&&(ye=qe.times.normal),ye},vh=u.__private__.putInfo=function(){var k=jt(),z=function(le){return le};for(var oe in p!==null&&(z=Yr.encryptor(k,0)),ae("<<"),ae("/Producer ("+Sn(z("jsPDF "+dt.version))+")"),ot)ot.hasOwnProperty(oe)&&ot[oe]&&ae("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+Sn(z(ot[oe]))+")");ae("/CreationDate ("+Sn(z(G))+")"),ae(">>"),ae("endobj")},Ll=u.__private__.putCatalog=function(k){var z=(k=k||{}).rootDictionaryObjId||Dn;switch(jt(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+z+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+Se;oe.substr(oe.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+C(Se)+"]")}switch(et||(et="continuous"),et){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Be&&ae("/PageMode /"+Be),Nt.publish("putCatalog"),ae(">>"),ae("endobj")},yh=u.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(B+1)),ae("/Root "+B+" 0 R"),ae("/Info "+(B-1)+" 0 R"),p!==null&&ae("/Encrypt "+Yr.oid+" 0 R"),ae("/ID [ <"+ee+"> <"+ee+"> ]"),ae(">>")},wh=u.__private__.putHeader=function(){ae("%PDF-"+y),ae("%")},bh=u.__private__.putXRef=function(){var k="0000000000";ae("xref"),ae("0 "+(B+1)),ae("0000000000 65535 f ");for(var z=1;z<=B;z++)typeof J[z]=="function"?ae((k+J[z]()).slice(-10)+" 00000 n "):J[z]!==void 0?ae((k+J[z]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},eo=u.__private__.buildDocument=function(){Me(),we(re),Nt.publish("buildDocument"),wh(),Qi(),pc(),hc(),p!==null&&vr(),vh(),Ll();var k=ne;return bh(),yh(),ae("startxref"),ae(""+k),ae("%%EOF"),we(me[I]),re.join(`
`)},ns=u.__private__.getBlob=function(k){return new Blob([he(k)],{type:"application/pdf"})},is=u.output=u.__private__.output=mi(function(k,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",k){case void 0:return eo();case"save":u.save(z.filename);break;case"arraybuffer":return he(eo());case"blob":return ns(eo());case"bloburi":case"bloburl":if(ht.URL!==void 0&&typeof ht.URL.createObjectURL=="function")return ht.URL&&ht.URL.createObjectURL(ns(eo()))||void 0;Ht.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",le=eo();try{oe=y1(le)}catch{oe=y1(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+z.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(ye=z.pdfObjectUrl,Ee="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",Ve=ht.open();return Ve!==null&&Ve.document.write(Re),Ve}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',yt=ht.open();if(yt!==null){yt.document.write(at);var mt=this;yt.document.documentElement.querySelector("#pdfViewer").onload=function(){yt.document.title=z.filename,yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mt.output("bloburl"))}}return yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',nr=ht.open();if(nr!==null&&(nr.document.write(Et),nr.document.title=z.filename),nr||typeof safari>"u")return nr;break;case"datauri":case"dataurl":return ht.document.location.href=this.output("datauristring",z);default:return null}}),wc=function(k){return Array.isArray(Bt)===!0&&Bt.indexOf(k)>-1};switch(n){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=wc("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ze=n}var Yr=null;q(),Q();var _h=function(k){return p!==null?Yr.encryptor(k,0):function(z){return z}},bc=u.__private__.getPageInfo=u.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[k].objId,pageNumber:k,pageContext:ct[k]}},pt=u.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in ct)if(ct[z].objId===k)break;return bc(z)},xh=u.__private__.getCurrentPageInfo=u.getCurrentPageInfo=function(){return{objId:ct[I].objId,pageNumber:I,pageContext:ct[I]}};u.addPage=function(){return mc.apply(this,arguments),this},u.setPage=function(){return vc.apply(this,arguments),we.call(this,me[I]),this},u.insertPage=function(k){return this.addPage(),this.movePage(I,k),this},u.movePage=function(k,z){var oe,le;if(k>z){oe=me[k],le=ct[k];for(var ye=k;ye>z;ye--)me[ye]=me[ye-1],ct[ye]=ct[ye-1];me[z]=oe,ct[z]=le,this.setPage(z)}else if(k<z){oe=me[k],le=ct[k];for(var Ee=k;Ee<z;Ee++)me[Ee]=me[Ee+1],ct[Ee]=ct[Ee+1];me[z]=oe,ct[z]=le,this.setPage(z)}return this},u.deletePage=function(){return gh.apply(this,arguments),this},u.__private__.text=u.text=function(k,z,oe,le,ye){var Ee,Re,Ve,at,yt,mt,Et,nr,lr,Nr=(le=le||{}).scope||this;if(typeof k=="number"&&typeof z=="number"&&(typeof oe=="string"||Array.isArray(oe))){var Jr=oe;oe=z,z=k,k=Jr}if(arguments[3]instanceof st?(O("The transform parameter of text() with a Matrix value"),lr=ye):(Ve=arguments[4],at=arguments[5],Mt(Et=arguments[3])==="object"&&Et!==null||(typeof Ve=="string"&&(at=Ve,Ve=null),typeof Et=="string"&&(at=Et,Et=null),typeof Et=="number"&&(Ve=Et,Et=null),le={flags:Et,angle:Ve,align:at})),isNaN(z)||isNaN(oe)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return Nr;var Ir="",yi=!1,Bn=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:va,Bi=Nr.internal.scaleFactor;function Lc(Wt){return Wt=Wt.split("	").join(Array(le.TabLen||9).join(" ")),Sn(Wt,Et)}function ql(Wt){for(var Vt,br=Wt.concat(),Pr=[],oo=br.length;oo--;)typeof(Vt=br.shift())=="string"?Pr.push(Vt):Array.isArray(Wt)&&(Vt.length===1||Vt[1]===void 0&&Vt[2]===void 0)?Pr.push(Vt[0]):Pr.push([Vt[0],Vt[1],Vt[2]]);return Pr}function Ul(Wt,Vt){var br;if(typeof Wt=="string")br=Vt(Wt)[0];else if(Array.isArray(Wt)){for(var Pr,oo,Yl=Wt.concat(),ws=[],Rc=Yl.length;Rc--;)typeof(Pr=Yl.shift())=="string"?ws.push(Vt(Pr)[0]):Array.isArray(Pr)&&typeof Pr[0]=="string"&&(oo=Vt(Pr[0],Pr[1],Pr[2]),ws.push([oo[0],oo[1],oo[2]]));br=ws}return br}var cs=!1,zl=!0;if(typeof k=="string")cs=!0;else if(Array.isArray(k)){var $l=k.concat();Re=[];for(var fs,Ur=$l.length;Ur--;)(typeof(fs=$l.shift())!="string"||Array.isArray(fs)&&typeof fs[0]!="string")&&(zl=!1);cs=zl}if(cs===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var ds=be/Nr.internal.scaleFactor,hs=ds*(Bn-1);switch(le.baseline){case"bottom":oe-=hs;break;case"top":oe+=ds-hs;break;case"hanging":oe+=ds-2*hs;break;case"middle":oe+=ds/2-hs}if((mt=le.maxWidth||0)>0&&(typeof k=="string"?k=Nr.splitTextToSize(k,mt):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(Wt,Vt){return Wt.concat(Nr.splitTextToSize(Vt,mt))},[]))),Ee={text:k,x:z,y:oe,options:le,mutex:{pdfEscape:Sn,activeFontKey:Qe,fonts:ke,activeFontSize:be}},Nt.publish("preProcessText",Ee),k=Ee.text,Ve=(le=Ee.options).angle,!(lr instanceof st)&&Ve&&typeof Ve=="number"){Ve*=Math.PI/180,le.rotationDirection===0&&(Ve=-Ve),_===m.ADVANCED&&(Ve=-Ve);var ps=Math.cos(Ve),Hl=Math.sin(Ve);lr=new st(ps,Hl,-Hl,ps,0,0)}else Ve&&Ve instanceof st&&(lr=Ve);_!==m.ADVANCED||lr||(lr=In),(yt=le.charSpace||ss)!==void 0&&(Ir+=T(N(yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(nr=le.horizontalScale)!==void 0&&(Ir+=T(100*nr)+` Tz
`),le.lang;var kn=-1,jh=le.renderingMode!==void 0?le.renderingMode:le.stroke,Wl=Nr.internal.getCurrentPageInfo().pageContext;switch(jh){case 0:case!1:case"fill":kn=0;break;case 1:case!0:case"stroke":kn=1;break;case 2:case"fillThenStroke":kn=2;break;case 3:case"invisible":kn=3;break;case 4:case"fillAndAddForClipping":kn=4;break;case 5:case"strokeAndAddPathForClipping":kn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":kn=6;break;case 7:case"addToPathForClipping":kn=7}var Tc=Wl.usedRenderingMode!==void 0?Wl.usedRenderingMode:-1;kn!==-1?Ir+=kn+` Tr
`:Tc!==-1&&(Ir+=`0 Tr
`),kn!==-1&&(Wl.usedRenderingMode=kn),at=le.align||"left";var ti,gs=be*Bn,Pc=Nr.internal.pageSize.getWidth(),jc=ke[Qe];yt=le.charSpace||ss,mt=le.maxWidth||0,Et=Object.assign({autoencode:!0,noBOM:!0},le.flags);var Oo=[],ba=function(Wt){return Nr.getStringUnitWidth(Wt,{font:jc,charSpace:yt,fontSize:be,doKerning:!1})*be/Bi};if(Object.prototype.toString.call(k)==="[object Array]"){var An;Re=ql(k),at!=="left"&&(ti=Re.map(ba));var ln,Lo=0;if(at==="right"){z-=ti[0],k=[],Ur=Re.length;for(var ro=0;ro<Ur;ro++)ro===0?(ln=Fi(z),An=to(oe)):(ln=N(Lo-ti[ro]),An=-gs),k.push([Re[ro],ln,An]),Lo=ti[ro]}else if(at==="center"){z-=ti[0]/2,k=[],Ur=Re.length;for(var no=0;no<Ur;no++)no===0?(ln=Fi(z),An=to(oe)):(ln=N((Lo-ti[no])/2),An=-gs),k.push([Re[no],ln,An]),Lo=ti[no]}else if(at==="left"){k=[],Ur=Re.length;for(var ms=0;ms<Ur;ms++)k.push(Re[ms])}else if(at==="justify"&&jc.encoding==="Identity-H"){k=[],Ur=Re.length,mt=mt!==0?mt:Pc;for(var io=0,wr=0;wr<Ur;wr++)if(An=wr===0?to(oe):-gs,ln=wr===0?Fi(z):io,wr<Ur-1){var Vl=N((mt-ti[wr])/(Re[wr].split(" ").length-1)),un=Re[wr].split(" ");k.push([un[0]+" ",ln,An]),io=0;for(var ri=1;ri<un.length;ri++){var vs=(ba(un[ri-1]+" "+un[ri])-ba(un[ri]))*Bi+Vl;ri==un.length-1?k.push([un[ri],vs,0]):k.push([un[ri]+" ",vs,0]),io-=vs}}else k.push([Re[wr],ln,An]);k.push(["",io,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],Ur=Re.length,mt=mt!==0?mt:Pc,wr=0;wr<Ur;wr++)An=wr===0?to(oe):-gs,ln=wr===0?Fi(z):0,wr<Ur-1?Oo.push(T(N((mt-ti[wr])/(Re[wr].split(" ").length-1)))):Oo.push(0),k.push([Re[wr],ln,An])}}var Cc=typeof le.R2L=="boolean"?le.R2L:Ie;Cc===!0&&(k=Ul(k,function(Wt,Vt,br){return[Wt.split("").reverse().join(""),Vt,br]})),Ee={text:k,x:z,y:oe,options:le,mutex:{pdfEscape:Sn,activeFontKey:Qe,fonts:ke,activeFontSize:be}},Nt.publish("postProcessText",Ee),k=Ee.text,yi=Ee.mutex.isHex||!1;var Gl=ke[Qe].encoding;Gl!=="WinAnsiEncoding"&&Gl!=="StandardEncoding"||(k=Ul(k,function(Wt,Vt,br){return[Lc(Wt),Vt,br]})),Re=ql(k),k=[];for(var _a,xa,To,Sa=0,ys=1,ka=Array.isArray(Re[0])?ys:Sa,Po="",Kl=function(Wt,Vt,br){var Pr="";return br instanceof st?(br=typeof le.angle=="number"?wn(br,new st(1,0,0,1,Wt,Vt)):wn(new st(1,0,0,1,Wt,Vt),br),_===m.ADVANCED&&(br=wn(new st(1,0,0,-1,0,0),br)),Pr=br.join(" ")+` Tm
`):Pr=T(Wt)+" "+T(Vt)+` Td
`,Pr},ni=0;ni<Re.length;ni++){switch(Po="",ka){case ys:To=(yi?"<":"(")+Re[ni][0]+(yi?">":")"),_a=parseFloat(Re[ni][1]),xa=parseFloat(Re[ni][2]);break;case Sa:To=(yi?"<":"(")+Re[ni]+(yi?">":")"),_a=Fi(z),xa=to(oe)}Oo!==void 0&&Oo[ni]!==void 0&&(Po=Oo[ni]+` Tw
`),ni===0?k.push(Po+Kl(_a,xa,lr)+To):ka===Sa?k.push(Po+To):ka===ys&&k.push(Po+Kl(_a,xa,lr)+To)}k=ka===Sa?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var ii=`BT
/`;return ii+=Qe+" "+be+` Tf
`,ii+=T(be*Bn)+` TL
`,ii+=ya+`
`,ii+=Ir,ii+=k,ae(ii+="ET"),f[Qe]=!0,Nr};var Sh=u.__private__.clip=u.clip=function(k){return ae(k==="evenodd"?"W*":"W"),this};u.clipEvenOdd=function(){return Sh("evenodd")},u.__private__.discardPath=u.discardPath=function(){return ae("n"),this};var Mi=u.__private__.isValidStyle=function(k){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(z=!0),z};u.__private__.setDefaultPathOperation=u.setDefaultPathOperation=function(k){return Mi(k)&&(c=k),this};var _c=u.__private__.getStyle=u.getStyle=function(k){var z=c;switch(k){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=k}return z},xc=u.close=function(){return ae("h"),this};u.stroke=function(){return ae("S"),this},u.fill=function(k){return os("f",k),this},u.fillEvenOdd=function(k){return os("f*",k),this},u.fillStroke=function(k){return os("B",k),this},u.fillStrokeEvenOdd=function(k){return os("B*",k),this};var os=function(k,z){Mt(z)==="object"?Ah(z,k):ae(k)},Tl=function(k){k===null||_===m.ADVANCED&&k===void 0||(k=_c(k),ae(k))};function kh(k,z,oe,le,ye){var Ee=new Ys(z||this.boundingBox,oe||this.xStep,le||this.yStep,this.gState,ye||this.matrix);Ee.stream=this.stream;var Re=k+"$$"+this.cloneIndex+++"$$";return Gr(Re,Ee),Ee}var Ah=function(k,z){var oe=xt[k.key],le=We[oe];if(le instanceof Ma)ae("q"),ae(Nh(z)),le.gState&&u.setGState(le.gState),ae(k.matrix.toString()+" cm"),ae("/"+oe+" sh"),ae("Q");else if(le instanceof Ys){var ye=new st(1,0,0,-1,0,Eo());k.matrix&&(ye=ye.multiply(k.matrix||In),oe=kh.call(le,k.key,k.boundingBox,k.xStep,k.yStep,ye).id),ae("q"),ae("/Pattern cs"),ae("/"+oe+" scn"),le.gState&&u.setGState(le.gState),ae(z),ae("Q")}},Nh=function(k){switch(k){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Pl=u.moveTo=function(k,z){return ae(T(N(k))+" "+T(D(z))+" m"),this},ma=u.lineTo=function(k,z){return ae(T(N(k))+" "+T(D(z))+" l"),this},Ao=u.curveTo=function(k,z,oe,le,ye,Ee){return ae([T(N(k)),T(D(z)),T(N(oe)),T(D(le)),T(N(ye)),T(D(Ee)),"c"].join(" ")),this};u.__private__.line=u.line=function(k,z,oe,le,ye){if(isNaN(k)||isNaN(z)||isNaN(oe)||isNaN(le)||!Mi(ye))throw new Error("Invalid arguments passed to jsPDF.line");return _===m.COMPAT?this.lines([[oe-k,le-z]],k,z,[1,1],ye||"S"):this.lines([[oe-k,le-z]],k,z,[1,1]).stroke()},u.__private__.lines=u.lines=function(k,z,oe,le,ye,Ee){var Re,Ve,at,yt,mt,Et,nr,lr,Nr,Jr,Ir,yi;if(typeof k=="number"&&(yi=oe,oe=z,z=k,k=yi),le=le||[1,1],Ee=Ee||!1,isNaN(z)||isNaN(oe)||!Array.isArray(k)||!Array.isArray(le)||!Mi(ye)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pl(z,oe),Re=le[0],Ve=le[1],yt=k.length,Jr=z,Ir=oe,at=0;at<yt;at++)(mt=k[at]).length===2?(Jr=mt[0]*Re+Jr,Ir=mt[1]*Ve+Ir,ma(Jr,Ir)):(Et=mt[0]*Re+Jr,nr=mt[1]*Ve+Ir,lr=mt[2]*Re+Jr,Nr=mt[3]*Ve+Ir,Jr=mt[4]*Re+Jr,Ir=mt[5]*Ve+Ir,Ao(Et,nr,lr,Nr,Jr,Ir));return Ee&&xc(),Tl(ye),this},u.path=function(k){for(var z=0;z<k.length;z++){var oe=k[z],le=oe.c;switch(oe.op){case"m":Pl(le[0],le[1]);break;case"l":ma(le[0],le[1]);break;case"c":Ao.apply(this,le);break;case"h":xc()}}return this},u.__private__.rect=u.rect=function(k,z,oe,le,ye){if(isNaN(k)||isNaN(z)||isNaN(oe)||isNaN(le)||!Mi(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return _===m.COMPAT&&(le=-le),ae([T(N(k)),T(D(z)),T(N(oe)),T(N(le)),"re"].join(" ")),Tl(ye),this},u.__private__.triangle=u.triangle=function(k,z,oe,le,ye,Ee,Re){if(isNaN(k)||isNaN(z)||isNaN(oe)||isNaN(le)||isNaN(ye)||isNaN(Ee)||!Mi(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-k,le-z],[ye-oe,Ee-le],[k-ye,z-Ee]],k,z,[1,1],Re,!0),this},u.__private__.roundedRect=u.roundedRect=function(k,z,oe,le,ye,Ee,Re){if(isNaN(k)||isNaN(z)||isNaN(oe)||isNaN(le)||isNaN(ye)||isNaN(Ee)||!Mi(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ve=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*oe),Ee=Math.min(Ee,.5*le),this.lines([[oe-2*ye,0],[ye*Ve,0,ye,Ee-Ee*Ve,ye,Ee],[0,le-2*Ee],[0,Ee*Ve,-ye*Ve,Ee,-ye,Ee],[2*ye-oe,0],[-ye*Ve,0,-ye,-Ee*Ve,-ye,-Ee],[0,2*Ee-le],[0,-Ee*Ve,ye*Ve,-Ee,ye,-Ee]],k+ye,z,[1,1],Re,!0),this},u.__private__.ellipse=u.ellipse=function(k,z,oe,le,ye){if(isNaN(k)||isNaN(z)||isNaN(oe)||isNaN(le)||!Mi(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*oe,Re=4/3*(Math.SQRT2-1)*le;return Pl(k+oe,z),Ao(k+oe,z-Re,k+Ee,z-le,k,z-le),Ao(k-Ee,z-le,k-oe,z-Re,k-oe,z),Ao(k-oe,z+Re,k-Ee,z+le,k,z+le),Ao(k+Ee,z+le,k+oe,z+Re,k+oe,z),Tl(ye),this},u.__private__.circle=u.circle=function(k,z,oe,le){if(isNaN(k)||isNaN(z)||isNaN(oe)||!Mi(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,z,oe,oe,le)},u.setFont=function(k,z,oe){return oe&&(z=R(z,oe)),Qe=yc(k,z,{disableWarning:!1}),this};var Eh=u.__private__.getFont=u.getFont=function(){return ke[yc.apply(u,arguments)]};u.__private__.getFontList=u.getFontList=function(){var k,z,oe={};for(k in qe)if(qe.hasOwnProperty(k))for(z in oe[k]=[],qe[k])qe[k].hasOwnProperty(z)&&oe[k].push(z);return oe},u.addFont=function(k,z,oe,le,ye){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(oe=R(oe,le)),ye=ye||"Identity-H",El.call(this,k,z,oe,ye)};var va,jl=t.lineWidth||.200025,as=u.__private__.getLineWidth=u.getLineWidth=function(){return jl},Sc=u.__private__.setLineWidth=u.setLineWidth=function(k){return jl=k,ae(T(N(k))+" w"),this};u.__private__.setLineDash=dt.API.setLineDash=dt.API.setLineDashPattern=function(k,z){if(k=k||[],z=z||0,isNaN(z)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(oe){return T(N(oe))}).join(" "),z=T(N(z)),ae("["+k+"] "+z+" d"),this};var kc=u.__private__.getLineHeight=u.getLineHeight=function(){return be*va};u.__private__.getLineHeight=u.getLineHeight=function(){return be*va};var Ac=u.__private__.setLineHeightFactor=u.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(va=k),this},Nc=u.__private__.getLineHeightFactor=u.getLineHeightFactor=function(){return va};Ac(t.lineHeight);var Fi=u.__private__.getHorizontalCoordinate=function(k){return N(k)},to=u.__private__.getVerticalCoordinate=function(k){return _===m.ADVANCED?k:ct[I].mediaBox.topRightY-ct[I].mediaBox.bottomLeftY-N(k)},Oh=u.__private__.getHorizontalCoordinateString=u.getHorizontalCoordinateString=function(k){return T(Fi(k))},No=u.__private__.getVerticalCoordinateString=u.getVerticalCoordinateString=function(k){return T(to(k))},vi=t.strokeColor||"0 G";u.__private__.getStrokeColor=u.getDrawColor=function(){return gr(vi)},u.__private__.setStrokeColor=u.setDrawColor=function(k,z,oe,le){return vi=_n({ch1:k,ch2:z,ch3:oe,ch4:le,pdfColorType:"draw",precision:2}),ae(vi),this};var Cl=t.fillColor||"0 g";u.__private__.getFillColor=u.getFillColor=function(){return gr(Cl)},u.__private__.setFillColor=u.setFillColor=function(k,z,oe,le){return Cl=_n({ch1:k,ch2:z,ch3:oe,ch4:le,pdfColorType:"fill",precision:2}),ae(Cl),this};var ya=t.textColor||"0 g",Lh=u.__private__.getTextColor=u.getTextColor=function(){return gr(ya)};u.__private__.setTextColor=u.setTextColor=function(k,z,oe,le){return ya=_n({ch1:k,ch2:z,ch3:oe,ch4:le,pdfColorType:"text",precision:3}),this};var ss=t.charSpace,Th=u.__private__.getCharSpace=u.getCharSpace=function(){return parseFloat(ss||0)};u.__private__.setCharSpace=u.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ss=k,this};var Rl=0;u.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},u.__private__.setLineCap=u.setLineCap=function(k){var z=u.CapJoinStyles[k];if(z===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rl=z,ae(z+" J"),this};var Il=0;u.__private__.setLineJoin=u.setLineJoin=function(k){var z=u.CapJoinStyles[k];if(z===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=z,ae(z+" j"),this},u.__private__.setLineMiterLimit=u.__private__.setMiterLimit=u.setLineMiterLimit=u.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(T(N(k))+" M"),this},u.GState=Dd,u.setGState=function(k){(k=typeof k=="string"?gt[Pt[k]]:Ec(null,k)).equals(rr)||(ae("/"+k.id+" gs"),rr=k)};var Ec=function(k,z){if(!k||!Pt[k]){var oe=!1;for(var le in gt)if(gt.hasOwnProperty(le)&&gt[le].equals(z)){oe=!0;break}if(oe)z=gt[le];else{var ye="GS"+(Object.keys(gt).length+1).toString(10);gt[ye]=z,z.id=ye}return k&&(Pt[k]=z.id),Nt.publish("addGState",z),z}};u.addGState=function(k,z){return Ec(k,z),this},u.saveGraphicsState=function(){return ae("q"),it.push({key:Qe,size:be,color:ya}),this},u.restoreGraphicsState=function(){ae("Q");var k=it.pop();return Qe=k.key,be=k.size,ya=k.color,rr=null,this},u.setCurrentTransformationMatrix=function(k){return ae(k.toString()+" cm"),this},u.comment=function(k){return ae("#"+k),this};var ls=function(k,z){var oe=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Ee){isNaN(Ee)||(oe=parseFloat(Ee))}});var le=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Ee){isNaN(Ee)||(le=parseFloat(Ee))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Ee){ye=Ee.toString()}}),this},Dl=function(k,z,oe,le){ls.call(this,k,z),this.type="rect";var ye=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Re){isNaN(Re)||(ye=parseFloat(Re))}});var Ee=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(Re){isNaN(Re)||(Ee=parseFloat(Re))}}),this},Ml=function(){this.page=bt,this.currentPage=I,this.pages=me.slice(0),this.pagesContext=ct.slice(0),this.x=hr,this.y=_t,this.matrix=pr,this.width=wa(I),this.height=Eo(I),this.outputDestination=Ne,this.id="",this.objectNumber=-1};Ml.prototype.restore=function(){bt=this.page,I=this.currentPage,ct=this.pagesContext,me=this.pages,hr=this.x,_t=this.y,pr=this.matrix,Fl(I,this.width),Bl(I,this.height),Ne=this.outputDestination};var Oc=function(k,z,oe,le,ye){Rn.push(new Ml),bt=I=0,me=[],hr=k,_t=z,pr=ye,Ol([oe,le])},Ph=function(k){if(ei[k])Rn.pop().restore();else{var z=new Ml,oe="Xo"+(Object.keys(Zt).length+1).toString(10);z.id=oe,ei[k]=oe,Zt[oe]=z,Nt.publish("addFormObject",z),Rn.pop().restore()}};for(var us in u.beginFormObject=function(k,z,oe,le,ye){return Oc(k,z,oe,le,ye),this},u.endFormObject=function(k){return Ph(k),this},u.doFormObject=function(k,z){var oe=Zt[ei[k]];return ae("q"),ae(z.toString()+" cm"),ae("/"+oe.id+" Do"),ae("Q"),this},u.getFormObject=function(k){var z=Zt[ei[k]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},u.save=function(k,z){return k=k||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Ca(ns(eo()),k),typeof Ca.unload=="function"&&ht.setTimeout&&setTimeout(Ca.unload,911),this):new Promise(function(oe,le){try{var ye=Ca(ns(eo()),k);typeof Ca.unload=="function"&&ht.setTimeout&&setTimeout(Ca.unload,911),oe(ye)}catch(Ee){le(Ee.message)}})},dt.API)dt.API.hasOwnProperty(us)&&(us==="events"&&dt.API.events.length?function(k,z){var oe,le,ye;for(ye=z.length-1;ye!==-1;ye--)oe=z[ye][0],le=z[ye][1],k.subscribe.apply(k,[oe].concat(typeof le=="function"?[le]:le))}(Nt,dt.API.events):u[us]=dt.API[us]);var wa=u.getPageWidth=function(k){return(ct[k=k||I].mediaBox.topRightX-ct[k].mediaBox.bottomLeftX)/ze},Fl=u.setPageWidth=function(k,z){ct[k].mediaBox.topRightX=z*ze+ct[k].mediaBox.bottomLeftX},Eo=u.getPageHeight=function(k){return(ct[k=k||I].mediaBox.topRightY-ct[k].mediaBox.bottomLeftY)/ze},Bl=u.setPageHeight=function(k,z){ct[k].mediaBox.topRightY=z*ze+ct[k].mediaBox.bottomLeftY};return u.internal={pdfEscape:Sn,getStyle:_c,getFont:Eh,getFontSize:ve,getCharSpace:Th,getTextColor:Lh,getLineHeight:kc,getLineHeightFactor:Nc,getLineWidth:as,write:Ke,getHorizontalCoordinate:Fi,getVerticalCoordinate:to,getCoordinateString:Oh,getVerticalCoordinateString:No,collections:{},newObject:jt,newAdditionalObject:Xi,newObjectDeferred:qt,newObjectDeferredBegin:Kr,getFilters:Mn,putStream:sn,events:Nt,scaleFactor:ze,pageSize:{getWidth:function(){return wa(I)},setWidth:function(k){Fl(I,k)},getHeight:function(){return Eo(I)},setHeight:function(k){Bl(I,k)}},encryptionOptions:p,encryption:Yr,getEncryptor:_h,output:is,getNumberOfPages:mh,pages:me,out:ae,f2:C,f3:S,getPageInfo:bc,getPageInfoByObjId:pt,getCurrentPageInfo:xh,getPDFVersion:v,Point:ls,Rectangle:Dl,Matrix:st,hasHotfix:wc},Object.defineProperty(u.internal.pageSize,"width",{get:function(){return wa(I)},set:function(k){Fl(I,k)},enumerable:!0,configurable:!0}),Object.defineProperty(u.internal.pageSize,"height",{get:function(){return Eo(I)},set:function(k){Bl(I,k)},enumerable:!0,configurable:!0}),ph.call(u,se),Qe="F1",mc(i,r),Nt.publish("initialized"),u}Is.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Is.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Is.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Is.prototype.processOwnerPassword=function(t,e){return b1(w1(e).substr(0,5),t)},Is.prototype.encryptor=function(t,e){var r=w1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return b1(r,n)}},Dd.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Mt(t)!==Mt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},dt.API={events:[]},dt.version="2.5.2";var fr=dt.API,Dg=1,Za=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ps=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vt=function(t){return t.toFixed(2)},Ho=function(t){return t.toFixed(5)};fr.__acroform__={};var Cn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},z2=function(t){return t*Dg},$i=function(t){var e=new p_,r=Xe.internal.getHeight(t)||0,n=Xe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(vt(n)),Number(vt(r))],e},v7=fr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},y7=fr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},w7=fr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},xr=fr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return w7(t,e-1)},Sr=fr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return v7(t,e-1)},kr=fr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return y7(t,e-1)},b7=fr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],o=t[1],a=t[2],s=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(o+s)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(o)||0,[Number(vt(l.lowerLeft_X)),Number(vt(l.lowerLeft_Y)),Number(vt(l.upperRight_X)),Number(vt(l.upperRight_Y))]},_7=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=_1(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+vt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=$i(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},_1=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var o=r,a=Xe.internal.getHeight(t)||0;a=a<0?-a:a;var s=Xe.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(S,N,P){if(S+1<i.length){var D=N+" "+i[S+1][0];return jf(D,t,P).width<=s-4}return!1};o++;e:for(;o>0;){e="",o--;var c,p,h=jf("3",t,o).height,f=t.multiline?a-o:(a-h)/2,u=f+=2,y=0,v=0,b=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+jf(e,t,o=12).width+", FieldWidth:"+s+`
`;break}for(var g="",m=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var x=!1;if(i[_].length!==1&&b!==i[_].length-1){if((h+2)*(m+2)+2>a)continue e;g+=i[_][b],x=!0,v=_,_--}else{g=(g+=i[_][b]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var A=parseInt(_),R=l(A,g,o),T=_>=i.length-1;if(R&&!T){g+=" ",b=0;continue}if(R||T){if(T)v=A;else if(t.multiline&&(h+2)*(m+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(m+2)+2>a)continue e;v=A}}for(var O="",F=y;F<=v;F++){var C=i[F];if(t.multiline){if(F===v){O+=C[b]+" ",b=(b+1)%C.length;continue}if(F===y){O+=C[C.length-1]+" ";continue}}O+=C[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,p=jf(O,t,o).width,t.textAlign){case"right":c=s-p-2;break;case"center":c=(s-p)/2;break;case"left":default:c=2}e+=vt(c)+" "+vt(u)+` Td
`,e+="("+Za(O)+`) Tj
`,e+=-vt(c)+` 0 Td
`,u=-(o+2),p=0,y=x?v:v+1,m++,g=""}break}return n.text=e,n.fontSize=o,n},jf=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},x7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},S7=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},k7=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),Mt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},A7=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ri.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(x7)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Dg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new g_,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];o.objId=void 0,o.hasAnnotation&&S7(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var o=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var s=n[a],l=[],c=s.Rect;if(s.Rect&&(s.Rect=b7(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Xe.createDefaultAppearanceStream(s),Mt(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=c,s.hasAppearanceStream&&!s.appearanceStreamContent){var p=_7(s);l.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(s.appearanceStreamContent){var h="";for(var f in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(f)){var u=s.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var a in u)if(u.hasOwnProperty(a)){var y=u[a];typeof y=="function"&&(y=y.call(i,s)),h+="/"+a+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=u)=="function"&&(y=y.call(i,s)),h+="/"+a+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}o&&k7(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},h_=fr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Mt(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Za(n(t[o].toString()))+")"):i+=t[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Kp=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Za(n(t))+")"},Vi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vi.prototype.toString=function(){return this.objId+" 0 R"},Vi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Vi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:h_(i,this.objId,this.scope)}):i instanceof Vi?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var p_=function(){Vi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Cn(p_,Vi);var g_=function(){Vi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Za(r(t))+")"}},set:function(r){t=r}})};Cn(g_,Vi);var Ri=function t(){Vi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xr(e,3)},set:function(g){g?this.F=Sr(e,3):this.F=kr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Md)return;o="FieldObject"+t.FieldNum++}var g=function(m){return m};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Za(g(o))+")"},set:function(g){o=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(g){o=g}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Dg:c},set:function(g){c=g}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(g){p=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Md||this instanceof Ha))return Kp(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Br?f:Kp(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=this instanceof Br?g:g.substr(0,1)==="("?Ps(g.substr(1,g.length-2)):Ps(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br?Ps(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof Br?"/"+g:g}});var u=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(u)return u},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof Br?u:Kp(u,this.objId,this.scope)},set:function(g){g=g.toString(),u=this instanceof Br?g:g.substr(0,1)==="("?Ps(g.substr(1,g.length-2)):Ps(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br?Ps(u.substr(1,u.length-1)):u},set:function(g){g=g.toString(),u=this instanceof Br?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(g){g=!!g,v=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(g){y=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,1)},set:function(g){g?this.Ff=Sr(this.Ff,1):this.Ff=kr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,2)},set:function(g){g?this.Ff=Sr(this.Ff,2):this.Ff=kr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,3)},set:function(g){g?this.Ff=Sr(this.Ff,3):this.Ff=kr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');b=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(b){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};Cn(Ri,Vi);var nl=function(){Ri.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return h_(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(o,a,s){s||(s=1);for(var l,c=[];l=a.exec(o);)c.push(l[s]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,18)},set:function(r){r?this.Ff=Sr(this.Ff,18):this.Ff=kr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Sr(this.Ff,19):this.Ff=kr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,20)},set:function(r){r?(this.Ff=Sr(this.Ff,20),e.sort()):this.Ff=kr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,22)},set:function(r){r?this.Ff=Sr(this.Ff,22):this.Ff=kr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,23)},set:function(r){r?this.Ff=Sr(this.Ff,23):this.Ff=kr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,27)},set:function(r){r?this.Ff=Sr(this.Ff,27):this.Ff=kr(this.Ff,27)}}),this.hasAppearanceStream=!1};Cn(nl,Ri);var il=function(){nl.call(this),this.fontName="helvetica",this.combo=!1};Cn(il,nl);var ol=function(){il.call(this),this.combo=!0};Cn(ol,il);var Yf=function(){ol.call(this),this.edit=!0};Cn(Yf,ol);var Br=function(){Ri.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,15)},set:function(r){r?this.Ff=Sr(this.Ff,15):this.Ff=kr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,16)},set:function(r){r?this.Ff=Sr(this.Ff,16):this.Ff=kr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,17)},set:function(r){r?this.Ff=Sr(this.Ff,17):this.Ff=kr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,26)},set:function(r){r?this.Ff=Sr(this.Ff,26):this.Ff=kr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Za(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Mt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Cn(Br,Ri);var Jf=function(){Br.call(this),this.pushButton=!0};Cn(Jf,Br);var al=function(){Br.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Cn(al,Br);var Md=function(){var t,e;Ri.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,a=[];for(o in a.push("<<"),n)a.push("/"+o+" ("+Za(i(n[o]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Mt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Cn(Md,Ri),al.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},al.prototype.createOption=function(t){var e=new Md;return e.Parent=this,e.optionName=t,this.Kids.push(e),N7.call(this.scope,e),e};var Xf=function(){Br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xe.CheckBox.createAppearanceStream()};Cn(Xf,Br);var Ha=function(){Ri.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,13)},set:function(e){e?this.Ff=Sr(this.Ff,13):this.Ff=kr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,21)},set:function(e){e?this.Ff=Sr(this.Ff,21):this.Ff=kr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,23)},set:function(e){e?this.Ff=Sr(this.Ff,23):this.Ff=kr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,24)},set:function(e){e?this.Ff=Sr(this.Ff,24):this.Ff=kr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,25)},set:function(e){e?this.Ff=Sr(this.Ff,25):this.Ff=kr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,26)},set:function(e){e?this.Ff=Sr(this.Ff,26):this.Ff=kr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Cn(Ha,Ri);var Qf=function(){Ha.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,14)},set:function(t){t?this.Ff=Sr(this.Ff,14):this.Ff=kr(this.Ff,14)}}),this.password=!0};Cn(Qf,Ha);var Xe={CheckBox:{createAppearanceStream:function(){return{N:{On:Xe.CheckBox.YesNormal},D:{On:Xe.CheckBox.YesPushDown,Off:Xe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=_1(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+vt(Xe.internal.getWidth(t))+" "+vt(Xe.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+vt(o.fontSize)+" Tf "+i),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=$i(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],o=Xe.internal.getHeight(t),a=Xe.internal.getWidth(t),s=_1(t,t.caption);return i.push("1 g"),i.push("0 0 "+vt(a)+" "+vt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+vt(a-1)+" "+vt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+vt(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vt(Xe.internal.getWidth(t))+" "+vt(Xe.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Xe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Xe.RadioButton.Circle.YesNormal,e.D[t]=Xe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=$i(t);e.scope=t.scope;var r=[],n=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Xe.internal.Bezier_C,o=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ho(Xe.internal.getWidth(t)/2)+" "+Ho(Xe.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=[],n=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*Xe.internal.Bezier_C).toFixed(5)),a=Number((n*Xe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ho(Xe.internal.getWidth(t)/2)+" "+Ho(Xe.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ho(Xe.internal.getWidth(t)/2)+" "+Ho(Xe.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=[],n=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*Xe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ho(Xe.internal.getWidth(t)/2)+" "+Ho(Xe.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Xe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Xe.RadioButton.Cross.YesNormal,e.D[t]=Xe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=$i(t);e.scope=t.scope;var r=[],n=Xe.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+vt(Xe.internal.getWidth(t)-2)+" "+vt(Xe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(vt(n.x1.x)+" "+vt(n.x1.y)+" m"),r.push(vt(n.x2.x)+" "+vt(n.x2.y)+" l"),r.push(vt(n.x4.x)+" "+vt(n.x4.y)+" m"),r.push(vt(n.x3.x)+" "+vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=Xe.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+vt(Xe.internal.getWidth(t))+" "+vt(Xe.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+vt(Xe.internal.getWidth(t)-2)+" "+vt(Xe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(vt(r.x1.x)+" "+vt(r.x1.y)+" m"),n.push(vt(r.x2.x)+" "+vt(r.x2.y)+" l"),n.push(vt(r.x4.x)+" "+vt(r.x4.y)+" m"),n.push(vt(r.x3.x)+" "+vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vt(Xe.internal.getWidth(t))+" "+vt(Xe.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Xe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Xe.internal.getWidth(t),r=Xe.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Xe.internal.getWidth=function(t){var e=0;return Mt(t)==="object"&&(e=z2(t.Rect[2])),e},Xe.internal.getHeight=function(t){var e=0;return Mt(t)==="object"&&(e=z2(t.Rect[3])),e};var N7=fr.addField=function(t){if(A7(this,t),!(t instanceof Ri))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};fr.AcroFormChoiceField=nl,fr.AcroFormListBox=il,fr.AcroFormComboBox=ol,fr.AcroFormEditBox=Yf,fr.AcroFormButton=Br,fr.AcroFormPushButton=Jf,fr.AcroFormRadioButton=al,fr.AcroFormCheckBox=Xf,fr.AcroFormTextField=Ha,fr.AcroFormPasswordField=Qf,fr.AcroFormAppearance=Xe,fr.AcroForm={ChoiceField:nl,ListBox:il,ComboBox:ol,EditBox:Yf,Button:Br,PushButton:Jf,RadioButton:al,CheckBox:Xf,TextField:Ha,PasswordField:Qf,Appearance:Xe},dt.AcroForm={ChoiceField:nl,ListBox:il,ComboBox:ol,EditBox:Yf,Button:Br,PushButton:Jf,RadioButton:al,CheckBox:Xf,TextField:Ha,PasswordField:Qf,Appearance:Xe};dt.AcroForm;function m_(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(S,N){var P,D,G,ee,te,Q=e;if((N=N||e)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(R(S))for(te in r)for(G=r[te],P=0;P<G.length;P+=1){for(ee=!0,D=0;D<G[P].length;D+=1)if(G[P][D]!==void 0&&G[P][D]!==S[D]){ee=!1;break}if(ee===!0){Q=te;break}}else for(te in r)for(G=r[te],P=0;P<G.length;P+=1){for(ee=!0,D=0;D<G[P].length;D+=1)if(G[P][D]!==void 0&&G[P][D]!==S.charCodeAt(D)){ee=!1;break}if(ee===!0){Q=te;break}}return Q===e&&N!==e&&(Q=N),Q},i=function S(N){for(var P=this.internal.write,D=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:N.width}),ee.push({key:"Height",value:N.height}),N.colorSpace===b.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===b.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var te="",Q=0,Y=N.transparency.length;Q<Y;Q++)te+=N.transparency[Q]+" "+N.transparency[Q]+" ";ee.push({key:"Mask",value:"["+te+"]"})}N.sMask!==void 0&&ee.push({key:"SMask",value:N.objectId+1+" 0 R"});var W=N.filter!==void 0?["/"+N.filter]:void 0;if(D({data:N.data,additionalKeyValues:ee,alreadyAppliedFilters:W,objectId:N.objectId}),P("endobj"),"sMask"in N&&N.sMask!==void 0){var q="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,L={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:q,data:N.sMask};"filter"in N&&(L.filter=N.filter),S.call(this,L)}if(N.colorSpace===b.INDEXED){var I=this.internal.newObject();D({data:O(new Uint8Array(N.palette)),objectId:I}),P("endobj")}},o=function(){var S=this.internal.collections.addImage_images;for(var N in S)i.call(this,S[N])},a=function(){var S,N=this.internal.collections.addImage_images,P=this.internal.write;for(var D in N)P("/I"+(S=N[D]).index,S.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var S=this.internal.collections.addImage_images;return s.call(this),S},c=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(S){return typeof t["process"+S.toUpperCase()]=="function"},h=function(S){return Mt(S)==="object"&&S.nodeType===1},f=function(S,N){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var P=""+S.getAttribute("src");if(P.indexOf("data:image/")===0)return Mu(unescape(P).split("base64,").pop());var D=t.loadFile(P,!0);if(D!==void 0)return D}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var G;switch(N){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return Mu(S.toDataURL(G,1).split("base64,").pop())}},u=function(S){var N=this.internal.collections.addImage_images;if(N){for(var P in N)if(S===N[P].alias)return N[P]}},y=function(S,N,P){return S||N||(S=-96,N=-96),S<0&&(S=-1*P.width*72/S/this.internal.scaleFactor),N<0&&(N=-1*P.height*72/N/this.internal.scaleFactor),S===0&&(S=N*P.width/P.height),N===0&&(N=S*P.height/P.width),[S,N]},v=function(S,N,P,D,G,ee){var te=y.call(this,P,D,G),Q=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,W=l.call(this);if(P=te[0],D=te[1],W[G.index]=G,ee){ee*=Math.PI/180;var q=Math.cos(ee),L=Math.sin(ee),I=function(H){return H.toFixed(4)},$=[I(q),I(L),I(-1*L),I(q),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,Q(S),Y(N+D),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([Q(P),"0","0",Q(D),"0","0","cm"].join(" "))):this.internal.write([Q(P),"0","0",Q(D),Q(S),Y(N+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},m=t.__addimage__.sHashCode=function(S){var N,P,D=0;if(typeof S=="string")for(P=S.length,N=0;N<P;N++)D=(D<<5)-D+S.charCodeAt(N),D|=0;else if(R(S))for(P=S.byteLength/2,N=0;N<P;N++)D=(D<<5)-D+S[N],D|=0;return D},_=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var N=!0;return S.length===0&&(N=!1),S.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(N=!1),N},x=t.__addimage__.extractImageFromDataUrl=function(S){var N=(S=S||"").split("base64,"),P=null;if(N.length===2){var D=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(N[0]);Array.isArray(D)&&(P={mimeType:D[1],charset:D[2],data:N[1]})}return P},A=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(S){return A()&&S instanceof ArrayBuffer};var R=t.__addimage__.isArrayBufferView=function(S){return A()&&typeof Uint32Array<"u"&&(S instanceof Int8Array||S instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array)},T=t.__addimage__.binaryStringToUint8Array=function(S){for(var N=S.length,P=new Uint8Array(N),D=0;D<N;D++)P[D]=S.charCodeAt(D);return P},O=t.__addimage__.arrayBufferToBinaryString=function(S){for(var N="",P=R(S)?S:new Uint8Array(S),D=0;D<P.length;D+=8192)N+=String.fromCharCode.apply(null,P.subarray(D,D+8192));return N};t.addImage=function(){var S,N,P,D,G,ee,te,Q,Y;if(typeof arguments[1]=="number"?(N=e,P=arguments[1],D=arguments[2],G=arguments[3],ee=arguments[4],te=arguments[5],Q=arguments[6],Y=arguments[7]):(N=arguments[1],P=arguments[2],D=arguments[3],G=arguments[4],ee=arguments[5],te=arguments[6],Q=arguments[7],Y=arguments[8]),Mt(S=arguments[0])==="object"&&!h(S)&&"imageData"in S){var W=S;S=W.imageData,N=W.format||N||e,P=W.x||P||0,D=W.y||D||0,G=W.w||W.width||G,ee=W.h||W.height||ee,te=W.alias||te,Q=W.compression||Q,Y=W.rotation||W.angle||Y}var q=this.internal.getFilters();if(Q===void 0&&q.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(P)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var L=F.call(this,S,N,te,Q);return v.call(this,P,D,G,ee,L,Y),this};var F=function(S,N,P,D){var G,ee,te;if(typeof S=="string"&&n(S)===e){S=unescape(S);var Q=C(S,!1);(Q!==""||(Q=t.loadFile(S,!0))!==void 0)&&(S=Q)}if(h(S)&&(S=f(S,N)),N=n(S,N),!p(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((te=P)==null||te.length===0)&&(P=function(Y){return typeof Y=="string"||R(Y)?m(Y):R(Y.data)?m(Y.data):null}(S)),(G=u.call(this,P))||(A()&&(S instanceof Uint8Array||N==="RGBA"||(ee=S,S=T(S))),G=this["process"+N.toUpperCase()](S,c.call(this),P,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:g.NONE}(D),ee)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},C=t.__addimage__.convertBase64ToBinaryString=function(S,N){var P;N=typeof N!="boolean"||N;var D,G="";if(typeof S=="string"){D=(P=x(S))!==null?P.data:S;try{G=Mu(D)}catch(ee){if(N)throw _(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(S){var N,P,D="";if(h(S)&&(S=f(S)),typeof S=="string"&&n(S)===e&&((D=C(S,!1))===""&&(D=t.loadFile(S)||""),S=D),P=n(S),!p(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(!A()||S instanceof Uint8Array||(S=T(S)),!(N=this["process"+P.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=P,N}})(dt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};dt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,o,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,p=!1,h=0;h<c.length&&!p;h++)switch((n=c[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){n=c[f];var u=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(v.objId),m=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+u(g(n.contents))+")",o+=" /Popup "+b.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+u(g(m))+") >>",v.content=o;var _=v.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(o+=" /Open true"),o+=" >>",b.content=o,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+s(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var x=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+u(y(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var A=this.annotations._nameMap[n.options.name];n.options.pageNumber=A.page,n.options.top=A.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+u(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var R=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+R+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,o,a){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+o)},options:a,type:"link"})},t.textWithLink=function(r,n,i,o){var a,s,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){s=o.maxWidth;var p=this.splitTextToSize(r,s).length;a=Math.ceil(c*p)}else s=l,a=c;return this.text(r,n,i,o),i+=.2*c,o.align==="center"&&(n-=l/2),o.align==="right"&&(n-=l),this.link(n,i-c,s,a,o),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(dt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},s=t.__arabicParser__.isArabicEndLetter=function(v){return a(v)&&o(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return a(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return a(v)&&o(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return a(v)&&o(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return a(v)&&o(v)&&e[v.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return a(v)&&o(v)&&e[v.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(v){var b=0,g=r,m="",_=0;for(b=0;b<v.length;b+=1)g[v.charCodeAt(b)]!==void 0?(_++,typeof(g=g[v.charCodeAt(b)])=="number"&&(m+=String.fromCharCode(g),g=r,_=0),b===v.length-1&&(g=r,m+=v.charAt(b-(_-1)),b-=_-1,_=0)):(g=r,m+=v.charAt(b-_),b-=_,_=0);return m};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(v,b,g){return a(v)?o(v)===!1?-1:!c(v)||!a(b)&&!a(g)||!a(g)&&s(b)||s(v)&&!a(b)||s(v)&&l(b)||s(v)&&s(b)?0:p(v)&&a(b)&&!s(b)&&a(g)&&c(g)?3:s(v)||!a(g)?1:2:-1},u=function(v){var b=0,g=0,m=0,_="",x="",A="",R=(v=v||"").split("\\s+"),T=[];for(b=0;b<R.length;b+=1){for(T.push(""),g=0;g<R[b].length;g+=1)_=R[b][g],x=R[b][g-1],A=R[b][g+1],a(_)?(m=f(_,x,A),T[b]+=m!==-1?String.fromCharCode(e[_.charCodeAt(0)][m]):_):T[b]+=_;T[b]=h(T[b])}return T.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(b)){var m=0;for(g=[],m=0;m<b.length;m+=1)Array.isArray(b[m])?g.push([u(b[m][0]),b[m][1],b[m][2]]):g.push([u(b[m])]);v=g}else v=u(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",y])}(dt.API),dt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(s){o=s}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(s){a=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(dt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var u=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var p=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,u=0,y=0,v=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,x){return _.concat(b.splitTextToSize(x,g))},[])):l=Array.isArray(l)?l:[l];for(var m=0;m<l.length;m++)u<(v=this.getStringUnitWidth(l[m],{font:h})*p)&&(u=v);return u!==0&&(y=l.length),{w:u/=f,h:Math.max((y*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,u&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-p,l.y+p,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+p,{align:"center",baseline:"top",maxWidth:l.width-p-p}):this.text(l.text,l.x+p,l.y+p,{align:"left",baseline:"top",maxWidth:l.width-p-p})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,p,h,f){if(n.call(this),!p)throw new Error("No data for PDF table.");var u,y,v,b,g=[],m=[],_=[],x={},A={},R=[],T=[],O=(f=f||{}).autoSize||!1,F=f.printHeaders!==!1,C=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,S=f.margins||Object.assign({width:this.getPageWidth()},e),N=typeof f.padding=="number"?f.padding:3,P=f.headerBackgroundColor||"#c8c8c8",D=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=C,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=D,this.setFontSize(C),h==null)m=g=Object.keys(p[0]),_=g.map(function(){return"left"});else if(Array.isArray(h)&&Mt(h[0])==="object")for(g=h.map(function(W){return W.name}),m=h.map(function(W){return W.prompt||W.name||""}),_=h.map(function(W){return W.align||"left"}),u=0;u<h.length;u+=1)A[h[u].name]=h[u].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(m=g=h,_=g.map(function(){return"left"}));if(O||Array.isArray(h)&&typeof h[0]=="string")for(u=0;u<g.length;u+=1){for(x[b=g[u]]=p.map(function(W){return W[b]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(m[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=x[b],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)R.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[b]=Math.max.apply(null,R)+N+N,R=[]}if(F){var G={};for(u=0;u<g.length;u+=1)G[g[u]]={},G[g[u]].text=m[u],G[g[u]].align=_[u];var ee=s.call(this,G,A);T=g.map(function(W){return new o(l,c,A[W],ee,G[W].text,void 0,G[W].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var te=h.reduce(function(W,q){return W[q.name]=q.align,W},{});for(u=0;u<p.length;u+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:u,data:p[u]},this);var Q=s.call(this,p[u],A);for(v=0;v<g.length;v+=1){var Y=p[u][g[v]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:u,col:v,data:Y},this),a.call(this,new o(l,c,A[g[v]],Q,Y,u+2,te[g[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var s=function(l,c){var p=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(u){var y=l[u];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[u]-p-p)},this).map(function(u){return this.getLineHeightFactor()*u.length*h/f+p+p},this).reduce(function(u,y){return Math.max(u,y)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){p=this.internal.__cell__.tableHeaderRow[u].clone(),c&&(p.y=this.internal.__cell__.margins.top||0,f.push(p)),p.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(y)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(dt.API);var v_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},y_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],x1=m_(y_),w_=[100,200,300,400,500,600,700,800,900],E7=m_(w_);function S1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(o){return v_[o=o||"normal"]?o:"normal"}(t.style),n=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(o){return typeof x1[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function $2(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var O7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},H2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function W2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function L7(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},O7,r.genericFontFamilies||{}),o=null,a=null,s=0;s<e.length;++s)if(i[(o=S1(e[s])).family]&&(o.family=i[o.family]),t.hasOwnProperty(o.family)){a=t[o.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+W2(o)+"' and default family '"+n+"'.");if(a=function(l,c){if(c[l])return c[l];var p=x1[l],h=p<=x1.normal?-1:1,f=$2(c,y_,p,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(o.stretch,a),a=function(l,c){if(c[l])return c[l];for(var p=v_[l],h=0;h<p.length;++h)if(c[p[h]])return c[p[h]];throw new Error("Could not find a matching font-style for "+l)}(o.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var p=E7[l],h=$2(c,w_,p,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+W2(o)+"'.");return a}function V2(t){return t.trimLeft()}function T7(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function P7(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Cf,G2,K2,Yp=["times"];(function(t){var e,r,n,i,o,a,s,l,c,p=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new a,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new a,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new p}]);var h=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=L;Object.defineProperty(this,"pdf",{get:function(){return I}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(we){$=!!we}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(we){H=!!we}});var B=0;Object.defineProperty(this,"posX",{get:function(){return B},set:function(we){isNaN(we)||(B=we)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(we){isNaN(we)||(J=we)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(we){var ae;typeof we=="number"?ae=[we,we,we,we]:((ae=new Array(4))[0]=we[0],ae[1]=we.length>=2?we[1]:ae[0],ae[2]=we.length>=3?we[2]:ae[0],ae[3]=we.length>=4?we[3]:ae[1]),c.margin=ae}});var re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return re},set:function(we){re=we}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(we){ne=we}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(we){de=we}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(we){we instanceof p&&(c=we)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(we){c.path=we}});var me=[];Object.defineProperty(this,"ctxStack",{get:function(){return me},set:function(we){me=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var ae;ae=f(we),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var ae=f(we);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var Oe=null;function Ne(we,ae){if(Oe===null){var Ke=function(he){var se=[];return Object.keys(he).forEach(function(be){he[be].forEach(function(Se){var ve=null;switch(Se){case"bold":ve={family:be,weight:"bold"};break;case"italic":ve={family:be,style:"italic"};break;case"bolditalic":ve={family:be,weight:"bold",style:"italic"};break;case"":case"normal":ve={family:be}}ve!==null&&(ve.ref={name:be,style:Se},se.push(ve))})}),se}(we.getFontList());Oe=function(he){for(var se={},be=0;be<he.length;++be){var Se=S1(he[be]),ve=Se.family,Ie=Se.stretch,Be=Se.style,Ue=Se.weight;se[ve]=se[ve]||{},se[ve][Ie]=se[ve][Ie]||{},se[ve][Ie][Be]=se[ve][Ie][Be]||{},se[ve][Ie][Be][Ue]=Se}return se}(Ke.concat(ae))}return Oe}var Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(we){Oe=null,Me=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var ae;if(this.ctx.font=we,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var Ke=ae[1],he=(ae[2],ae[3]),se=ae[4],be=(ae[5],ae[6]),Se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(se)[2];se=Math.floor(Se==="px"?parseFloat(se)*this.pdf.internal.scaleFactor:Se==="em"?parseFloat(se)*this.pdf.getFontSize():parseFloat(se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(se);var ve=function(ot){var Qe,ze,hr=[],_t=ot.trim();if(_t==="")return Yp;if(_t in H2)return[H2[_t]];for(;_t!=="";){switch(ze=null,Qe=(_t=V2(_t)).charAt(0)){case'"':case"'":ze=T7(_t.substring(1),Qe);break;default:ze=P7(_t)}if(ze===null||(hr.push(ze[0]),(_t=V2(ze[1]))!==""&&_t.charAt(0)!==","))return Yp;_t=_t.replace(/^,/,"")}return hr}(be);if(this.fontFaces){var Ie=L7(Ne(this.pdf,this.fontFaces),ve.map(function(ot){return{family:ot,stretch:"normal",weight:he,style:Ke}}));this.pdf.setFont(Ie.ref.name,Ie.ref.style)}else{var Be="";(he==="bold"||parseInt(he,10)>=700||Ke==="bold")&&(Be="bold"),Ke==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var Ue="",et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<ve.length;lt++){if(this.pdf.internal.getFont(ve[lt],Be,{noFallback:!0,disableWarning:!0})!==void 0){Ue=ve[lt];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(ve[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ue=ve[lt],Be="bold";else if(this.pdf.internal.getFont(ve[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ue=ve[lt],Be="normal";break}}if(Ue===""){for(var rt=0;rt<ve.length;rt++)if(et[ve[rt]]){Ue=et[ve[rt]];break}}Ue=Ue===""?"Times":Ue,this.pdf.setFont(Ue,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};h.prototype.setLineDash=function(L){this.lineDash=L},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){x.call(this,"fill",!1)},h.prototype.stroke=function(){x.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(L,I){if(isNaN(L)||isNaN(I))throw Ht.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new a(L,I));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new a(L,I)},h.prototype.closePath=function(){var L=new a(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&Mt(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){L=new a(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(L.x,L.y)},h.prototype.lineTo=function(L,I){if(isNaN(L)||isNaN(I))throw Ht.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new a(L,I));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new a($.x,$.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},h.prototype.quadraticCurveTo=function(L,I,$,H){if(isNaN($)||isNaN(H)||isNaN(L)||isNaN(I))throw Ht.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var B=this.ctx.transform.applyToPoint(new a($,H)),J=this.ctx.transform.applyToPoint(new a(L,I));this.path.push({type:"qct",x1:J.x,y1:J.y,x:B.x,y:B.y}),this.ctx.lastPoint=new a(B.x,B.y)},h.prototype.bezierCurveTo=function(L,I,$,H,B,J){if(isNaN(B)||isNaN(J)||isNaN(L)||isNaN(I)||isNaN($)||isNaN(H))throw Ht.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var re=this.ctx.transform.applyToPoint(new a(B,J)),ne=this.ctx.transform.applyToPoint(new a(L,I)),de=this.ctx.transform.applyToPoint(new a($,H));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:de.x,y2:de.y,x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},h.prototype.arc=function(L,I,$,H,B,J){if(isNaN(L)||isNaN(I)||isNaN($)||isNaN(H)||isNaN(B))throw Ht.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var re=this.ctx.transform.applyToPoint(new a(L,I));L=re.x,I=re.y;var ne=this.ctx.transform.applyToPoint(new a(0,$)),de=this.ctx.transform.applyToPoint(new a(0,0));$=Math.sqrt(Math.pow(ne.x-de.x,2)+Math.pow(ne.y-de.y,2))}Math.abs(B-H)>=2*Math.PI&&(H=0,B=2*Math.PI),this.path.push({type:"arc",x:L,y:I,radius:$,startAngle:H,endAngle:B,counterclockwise:J})},h.prototype.arcTo=function(L,I,$,H,B){throw new Error("arcTo not implemented.")},h.prototype.rect=function(L,I,$,H){if(isNaN(L)||isNaN(I)||isNaN($)||isNaN(H))throw Ht.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,I),this.lineTo(L+$,I),this.lineTo(L+$,I+H),this.lineTo(L,I+H),this.lineTo(L,I),this.lineTo(L+$,I),this.lineTo(L,I)},h.prototype.fillRect=function(L,I,$,H){if(isNaN(L)||isNaN(I)||isNaN($)||isNaN(H))throw Ht.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!u.call(this)){var B={};this.lineCap!=="butt"&&(B.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(B.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,I,$,H),this.fill(),B.hasOwnProperty("lineCap")&&(this.lineCap=B.lineCap),B.hasOwnProperty("lineJoin")&&(this.lineJoin=B.lineJoin)}},h.prototype.strokeRect=function(L,I,$,H){if(isNaN(L)||isNaN(I)||isNaN($)||isNaN(H))throw Ht.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(L,I,$,H),this.stroke())},h.prototype.clearRect=function(L,I,$,H){if(isNaN(L)||isNaN(I)||isNaN($)||isNaN(H))throw Ht.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,I,$,H))},h.prototype.save=function(L){L=typeof L!="boolean"||L;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},h.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(I),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(L){var I,$,H,B;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))I=0,$=0,H=0,B=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(J!==null)I=parseInt(J[1]),$=parseInt(J[2]),H=parseInt(J[3]),B=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)I=parseInt(J[1]),$=parseInt(J[2]),H=parseInt(J[3]),B=parseFloat(J[4]);else{if(B=1,typeof L=="string"&&L.charAt(0)!=="#"){var re=new c_(L);L=re.ok?re.toHex():"#000000"}L.length===4?(I=L.substring(1,2),I+=I,$=L.substring(2,3),$+=$,H=L.substring(3,4),H+=H):(I=L.substring(1,3),$=L.substring(3,5),H=L.substring(5,7)),I=parseInt(I,16),$=parseInt($,16),H=parseInt(H,16)}}return{r:I,g:$,b:H,a:B,style:L}},u=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(L,I,$,H){if(isNaN(I)||isNaN($)||typeof L!="string")throw Ht.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!u.call(this)){var B=Q(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;N.call(this,{text:L,x:I,y:$,scale:J,angle:B,align:this.textAlign,maxWidth:H})}},h.prototype.strokeText=function(L,I,$,H){if(isNaN(I)||isNaN($)||typeof L!="string")throw Ht.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){H=isNaN(H)?void 0:H;var B=Q(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;N.call(this,{text:L,x:I,y:$,scale:J,renderingMode:"stroke",angle:B,align:this.textAlign,maxWidth:H})}},h.prototype.measureText=function(L){if(typeof L!="string")throw Ht.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,$=this.pdf.internal.scaleFactor,H=I.internal.getFontSize(),B=I.getStringUnitWidth(L)*H/I.internal.scaleFactor,J=function(re){var ne=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new J({width:B*=Math.round(96*$/72*1e4)/1e4})},h.prototype.scale=function(L,I){if(isNaN(L)||isNaN(I))throw Ht.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new l(L,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.rotate=function(L){if(isNaN(L))throw Ht.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},h.prototype.translate=function(L,I){if(isNaN(L)||isNaN(I))throw Ht.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new l(1,0,0,1,L,I);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.transform=function(L,I,$,H,B,J){if(isNaN(L)||isNaN(I)||isNaN($)||isNaN(H)||isNaN(B)||isNaN(J))throw Ht.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var re=new l(L,I,$,H,B,J);this.ctx.transform=this.ctx.transform.multiply(re)},h.prototype.setTransform=function(L,I,$,H,B,J){L=isNaN(L)?1:L,I=isNaN(I)?0:I,$=isNaN($)?0:$,H=isNaN(H)?1:H,B=isNaN(B)?0:B,J=isNaN(J)?0:J,this.ctx.transform=new l(L,I,$,H,B,J)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(L,I,$,H,B,J,re,ne,de){var me=this.pdf.getImageProperties(L),Oe=1,Ne=1,Me=1,we=1;H!==void 0&&ne!==void 0&&(Me=ne/H,we=de/B,Oe=me.width/H*ne/H,Ne=me.height/B*de/B),J===void 0&&(J=I,re=$,I=0,$=0),H!==void 0&&ne===void 0&&(ne=H,de=B),H===void 0&&ne===void 0&&(ne=me.width,de=me.height);for(var ae,Ke=this.ctx.transform.decompose(),he=Q(Ke.rotate.shx),se=new l,be=(se=(se=(se=se.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new s(J-I*Me,re-$*we,H*Oe,B*Ne)),Se=b.call(this,be),ve=[],Ie=0;Ie<Se.length;Ie+=1)ve.indexOf(Se[Ie])===-1&&ve.push(Se[Ie]);if(_(ve),this.autoPaging)for(var Be=ve[0],Ue=ve[ve.length-1],et=Be;et<Ue+1;et++){this.pdf.setPage(et);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=et===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=et===1?0:ot+(et-2)*Qe;if(this.ctx.clip_path.length!==0){var hr=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(ae,this.posX+this.margin[3],-ze+rt+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=hr}var _t=JSON.parse(JSON.stringify(be));_t=m([_t],this.posX+this.margin[3],-ze+rt+this.ctx.prevPageLastElemOffset)[0];var pr=(et>Be||et<Ue)&&v.call(this);pr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Qe,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,he),pr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",be.x,be.y,be.w,be.h,null,null,he)};var b=function(L,I,$){var H=[];I=I||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var B=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":H.push(Math.floor((L.y+B)/$)+1);break;case"arc":H.push(Math.floor((L.y+B-L.radius)/$)+1),H.push(Math.floor((L.y+B+L.radius)/$)+1);break;case"qct":var J=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);H.push(Math.floor((J.y+B)/$)+1),H.push(Math.floor((J.y+J.h+B)/$)+1);break;case"bct":var re=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);H.push(Math.floor((re.y+B)/$)+1),H.push(Math.floor((re.y+re.h+B)/$)+1);break;case"rect":H.push(Math.floor((L.y+B)/$)+1),H.push(Math.floor((L.y+L.h+B)/$)+1)}for(var ne=0;ne<H.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<H[ne];)g.call(this);return H},g=function(){var L=this.fillStyle,I=this.strokeStyle,$=this.font,H=this.lineCap,B=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=I,this.font=$,this.lineCap=H,this.lineWidth=B,this.lineJoin=J},m=function(L,I,$){for(var H=0;H<L.length;H++)switch(L[H].type){case"bct":L[H].x2+=I,L[H].y2+=$;case"qct":L[H].x1+=I,L[H].y1+=$;case"mt":case"lt":case"arc":default:L[H].x+=I,L[H].y+=$}return L},_=function(L){return L.sort(function(I,$){return I-$})},x=function(L,I){for(var $,H,B=this.fillStyle,J=this.strokeStyle,re=this.lineCap,ne=this.lineWidth,de=Math.abs(ne*this.ctx.transform.scaleX),me=this.lineJoin,Oe=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),Me=[],we=0;we<Ne.length;we++)if(Ne[we].x!==void 0)for(var ae=b.call(this,Ne[we]),Ke=0;Ke<ae.length;Ke+=1)Me.indexOf(ae[Ke])===-1&&Me.push(ae[Ke]);for(var he=0;he<Me.length;he++)for(;this.pdf.internal.getNumberOfPages()<Me[he];)g.call(this);if(_(Me),this.autoPaging)for(var se=Me[0],be=Me[Me.length-1],Se=se;Se<be+1;Se++){this.pdf.setPage(Se),this.fillStyle=B,this.strokeStyle=J,this.lineCap=re,this.lineWidth=de,this.lineJoin=me;var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ie=Se===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=Se===1?0:Be+(Se-2)*Ue;if(this.ctx.clip_path.length!==0){var lt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m($,this.posX+this.margin[3],-et+Ie+this.ctx.prevPageLastElemOffset),A.call(this,L,!0),this.path=lt}if(H=JSON.parse(JSON.stringify(Oe)),this.path=m(H,this.posX+this.margin[3],-et+Ie+this.ctx.prevPageLastElemOffset),I===!1||Se===0){var rt=(Se>se||Se<be)&&v.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,Ue,null).clip().discardPath()),A.call(this,L,I),rt&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=de,A.call(this,L,I),this.lineWidth=ne;this.path=Oe},A=function(L,I){if((L!=="stroke"||I||!y.call(this))&&(L==="stroke"||I||!u.call(this))){for(var $,H,B=[],J=this.path,re=0;re<J.length;re++){var ne=J[re];switch(ne.type){case"begin":B.push({begin:!0});break;case"close":B.push({close:!0});break;case"mt":B.push({start:ne,deltas:[],abs:[]});break;case"lt":var de=B.length;if(J[re-1]&&!isNaN(J[re-1].x)&&($=[ne.x-J[re-1].x,ne.y-J[re-1].y],de>0)){for(;de>=0;de--)if(B[de-1].close!==!0&&B[de-1].begin!==!0){B[de-1].deltas.push($),B[de-1].abs.push(ne);break}}break;case"bct":$=[ne.x1-J[re-1].x,ne.y1-J[re-1].y,ne.x2-J[re-1].x,ne.y2-J[re-1].y,ne.x-J[re-1].x,ne.y-J[re-1].y],B[B.length-1].deltas.push($);break;case"qct":var me=J[re-1].x+2/3*(ne.x1-J[re-1].x),Oe=J[re-1].y+2/3*(ne.y1-J[re-1].y),Ne=ne.x+2/3*(ne.x1-ne.x),Me=ne.y+2/3*(ne.y1-ne.y),we=ne.x,ae=ne.y;$=[me-J[re-1].x,Oe-J[re-1].y,Ne-J[re-1].x,Me-J[re-1].y,we-J[re-1].x,ae-J[re-1].y],B[B.length-1].deltas.push($);break;case"arc":B.push({deltas:[],abs:[],arc:!0}),Array.isArray(B[B.length-1].abs)&&B[B.length-1].abs.push(ne)}}H=I?null:L==="stroke"?"stroke":"fill";for(var Ke=!1,he=0;he<B.length;he++)if(B[he].arc)for(var se=B[he].abs,be=0;be<se.length;be++){var Se=se[be];Se.type==="arc"?O.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,I,!Ke):P.call(this,Se.x,Se.y),Ke=!0}else if(B[he].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(B[he].begin!==!0){var ve=B[he].start.x,Ie=B[he].start.y;D.call(this,B[he].deltas,ve,Ie),Ke=!0}H&&F.call(this,H),I&&C.call(this)}},R=function(L){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-$;case"top":return L+I-$;case"hanging":return L+I-2*$;case"middle":return L+I/2-$;case"ideographic":return L;case"alphabetic":default:return L}},T=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(I,$){this.colorStops.push([I,$])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(L,I,$,H,B,J,re,ne,de){for(var me=ee.call(this,$,H,B,J),Oe=0;Oe<me.length;Oe++){var Ne=me[Oe];Oe===0&&(de?S.call(this,Ne.x1+L,Ne.y1+I):P.call(this,Ne.x1+L,Ne.y1+I)),G.call(this,L,I,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}ne?C.call(this):F.call(this,re)},F=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(L,I){this.pdf.internal.out(r(L)+" "+n(I)+" m")},N=function(L){var I;switch(L.align){case"right":case"end":I="right";break;case"center":I="center";break;case"left":case"start":default:I="left"}var $=this.pdf.getTextDimensions(L.text),H=R.call(this,L.y),B=T.call(this,H)-$.h,J=this.ctx.transform.applyToPoint(new a(L.x,H)),re=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(re.translate)).multiply(re.skew)).multiply(re.scale);for(var de,me,Oe,Ne=this.ctx.transform.applyToRectangle(new s(L.x,H,$.w,$.h)),Me=ne.applyToRectangle(new s(L.x,B,$.w,$.h)),we=b.call(this,Me),ae=[],Ke=0;Ke<we.length;Ke+=1)ae.indexOf(we[Ke])===-1&&ae.push(we[Ke]);if(_(ae),this.autoPaging)for(var he=ae[0],se=ae[ae.length-1],be=he;be<se+1;be++){this.pdf.setPage(be);var Se=be===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[2],Be=Ie-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],et=Ue-this.margin[3],lt=be===1?0:ve+(be-2)*Be;if(this.ctx.clip_path.length!==0){var rt=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(de,this.posX+this.margin[3],-1*lt+Se),A.call(this,"fill",!0),this.path=rt}var ot=m([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-lt+Se+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*L.scale),Oe=this.lineWidth,this.lineWidth=Oe*L.scale);var Qe=this.autoPaging!=="text";if(Qe||ot.y+ot.h<=Ie){if(Qe||ot.y>=Se&&ot.x<=Ue){var ze=Qe?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ue-ot.x)[0],hr=m([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-lt+Se+this.ctx.prevPageLastElemOffset)[0],_t=Qe&&(be>he||be<se)&&v.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Be,null).clip().discardPath()),this.pdf.text(ze,hr.x,hr.y,{angle:L.angle,align:I,renderingMode:L.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else ot.y<Ie&&(this.ctx.prevPageLastElemOffset+=Ie-ot.y);L.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=Oe)}else L.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*L.scale),Oe=this.lineWidth,this.lineWidth=Oe*L.scale),this.pdf.text(L.text,J.x+this.posX,J.y+this.posY,{angle:L.angle,align:I,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=Oe)},P=function(L,I,$,H){$=$||0,H=H||0,this.pdf.internal.out(r(L+$)+" "+n(I+H)+" l")},D=function(L,I,$){return this.pdf.lines(L,I,$,null,null)},G=function(L,I,$,H,B,J,re,ne){this.pdf.internal.out([e(i($+L)),e(o(H+I)),e(i(B+L)),e(o(J+I)),e(i(re+L)),e(o(ne+I)),"c"].join(" "))},ee=function(L,I,$,H){for(var B=2*Math.PI,J=Math.PI/2;I>$;)I-=B;var re=Math.abs($-I);re<B&&H&&(re=B-re);for(var ne=[],de=H?-1:1,me=I;re>1e-5;){var Oe=me+de*Math.min(re,J);ne.push(te.call(this,L,me,Oe)),re-=Math.abs(Oe-me),me=Oe}return ne},te=function(L,I,$){var H=($-I)/2,B=L*Math.cos(H),J=L*Math.sin(H),re=B,ne=-J,de=re*re+ne*ne,me=de+re*B+ne*J,Oe=4/3*(Math.sqrt(2*de*me)-me)/(re*J-ne*B),Ne=re-Oe*ne,Me=ne+Oe*re,we=Ne,ae=-Me,Ke=H+I,he=Math.cos(Ke),se=Math.sin(Ke);return{x1:L*Math.cos(I),y1:L*Math.sin(I),x2:Ne*he-Me*se,y2:Ne*se+Me*he,x3:we*he-ae*se,y3:we*se+ae*he,x4:L*Math.cos($),y4:L*Math.sin($)}},Q=function(L){return 180*L/Math.PI},Y=function(L,I,$,H,B,J){var re=L+.5*($-L),ne=I+.5*(H-I),de=B+.5*($-B),me=J+.5*(H-J),Oe=Math.min(L,B,re,de),Ne=Math.max(L,B,re,de),Me=Math.min(I,J,ne,me),we=Math.max(I,J,ne,me);return new s(Oe,Me,Ne-Oe,we-Me)},W=function(L,I,$,H,B,J,re,ne){var de,me,Oe,Ne,Me,we,ae,Ke,he,se,be,Se,ve,Ie,Be=$-L,Ue=H-I,et=B-$,lt=J-H,rt=re-B,ot=ne-J;for(me=0;me<41;me++)he=(ae=(Oe=L+(de=me/40)*Be)+de*((Me=$+de*et)-Oe))+de*(Me+de*(B+de*rt-Me)-ae),se=(Ke=(Ne=I+de*Ue)+de*((we=H+de*lt)-Ne))+de*(we+de*(J+de*ot-we)-Ke),me==0?(be=he,Se=se,ve=he,Ie=se):(be=Math.min(be,he),Se=Math.min(Se,se),ve=Math.max(ve,he),Ie=Math.max(Ie,se));return new s(Math.round(be),Math.round(Se),Math.round(ve-be),Math.round(Ie-Se))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,I,$=(L=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:I}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(dt.API),function(t){var e=function(o){var a,s,l,c,p,h,f,u,y,v;for(s=[],l=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(p=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(h=(p=((p=((p=((p=(p-(v=p%85))/85)-(y=p%85))/85)-(u=p%85))/85)-(f=p%85))/85)%85,s.push(h+33,f+33,u+33,y+33,v+33)):s.push(122);return function(b,g){for(var m=g;m>0;m--)b.pop()}(s,a.length),String.fromCharCode.apply(String,s)+"~>"},r=function(o){var a,s,l,c,p,h=String,f="length",u=255,y="charCodeAt",v="slice",b="replace";for(o[v](-2),o=o[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],c=0,p=(o+=a="uuuuu"[v](o[f]%5||5))[f];p>c;c+=5)s=52200625*(o[y](c)-33)+614125*(o[y](c+1)-33)+7225*(o[y](c+2)-33)+85*(o[y](c+3)-33)+(o[y](c+4)-33),l.push(u&s>>24,u&s>>16,u&s>>8,u&s);return function(g,m){for(var _=m;_>0;_--)g.pop()}(l,a[f]),h.fromCharCode.apply(h,l)},n=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var s="",l=0;l<o.length;l+=2)s+=String.fromCharCode("0x"+(o[l]+o[l+1]));return s},i=function(o){for(var a=new Uint8Array(o.length),s=o.length;s--;)a[s]=o.charCodeAt(s);return o=(a=v1(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,a){var s=0,l=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),s=0;s<a.length;s+=1)switch(a[s]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[s]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(dt.API),function(t){t.loadFile=function(e,r,n){return function(i,o,a){o=o!==!1,a=typeof a=="function"?a:function(){};var s=void 0;try{s=function(l,c,p){var h=new XMLHttpRequest,f=0,u=function(y){var v=y.length,b=[],g=String.fromCharCode;for(f=0;f<v;f+=1)b.push(g(255&y.charCodeAt(f)));return b.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?p(u(this.responseText)):p(void 0)}),h.send(null),c&&h.status===200)return u(h.responseText)}(i,o,a)}catch{}return s}(e,r,n)},t.loadImageFile=t.loadFile}(dt.API),function(t){function e(){return(ht.html2canvas?Promise.resolve(ht.html2canvas):d1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(ht.DOMPurify?Promise.resolve(ht.DOMPurify):d1(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var s=Mt(a);return s==="undefined"?"undefined":s==="string"||a instanceof String?"string":s==="number"||a instanceof Number?"number":s==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(a,s){var l=document.createElement(a);for(var c in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[c]=s.style[c];return l},o=function a(s){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(s)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,s){return a.__proto__=s||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,s){return this.then(function(){switch(s=s||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(c,p){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)p!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(l(f,p));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(s){var l=this.opt.jsPDF,c=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var u=c[f],y=u.src.find(function(v){return v.format==="truetype"});y&&l.addFont(y.url,u.ref.name,u.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),s(this.prop.container,h)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,s):this.outputPdf(a,s)},o.prototype.outputPdf=function(a,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,s)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(n(a)!=="object")return this;var s=Object.keys(a||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(s)})},o.prototype.get=function(a,s){return this.then(function(){var l=a in o.template.prop?this.prop[a]:this.opt[a];return s?s(l):l})},o.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function s(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:s(a.inner.width,a.k),height:s(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,s,l,c){return a!=null&&(this.progress.val=a),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,s,l,c){return this.setProgress(a?this.progress.val+a:null,s||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,s){var l=this;return this.thenCore(a,s,function(c,p){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,p).then(function(h){return l.updateProgress(1),h})})},o.prototype.thenCore=function(a,s,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),s&&(s=s.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),p=l.call(c,a,s);return o.convert(p,this.__proto__)},o.prototype.thenExternal=function(a,s){return Promise.prototype.then.call(this,a,s)},o.prototype.thenList=function(a){var s=this;return a.forEach(function(l){s=s.thenCore(l)}),s},o.prototype.catch=function(a){a&&(a=a.bind(this));var s=Promise.prototype.catch.call(this,a);return o.convert(s,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,dt.getPageSize=function(a,s,l){if(Mt(a)==="object"){var c=a;a=c.orientation,s=c.unit||s,l=c.format||l}s=s||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var p,h=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+s}var u,y=0,v=0;if(f.hasOwnProperty(h))y=f[h][1]/p,v=f[h][0]/p;else try{y=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",v>y&&(u=v,v=y,y=u);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>v&&(u=v,v=y,y=u)}return{width:v,height:y,unit:s,k:p,orientation:a}},t.html=function(a,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(S1):null;var l=new o(s);return s.worker?l:l.from(a).doCallback()}}(dt.API),dt.API.addJS=function(t){return K2=t,this.internal.events.subscribe("postPutResources",function(){Cf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Cf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),G2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+K2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Cf!==void 0&&G2!==void 0&&this.internal.out("/Names <</JavaScript "+Cf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),o=0;o<i.length;o++){var a=i[o],s=n.exec(a);if(s!=null){var l=s[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,p=[];for(o=0;o<c;o++){var h=r.internal.newObject();p.push(h);var f=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var u=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<p.length;o++)r.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+u+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,o){var a={title:i,options:o,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var a=n.children[o];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var o=0;o<i.children.length;o++)n.count++,this.count_r(n,i.children[o]);return n.count}}])}(dt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,o,a,s){var l,c=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(h){for(var f,u=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,v={width:0,height:0,numcomponents:1},b=4;b<y;b+=2){if(b+=u,e.indexOf(h.charCodeAt(b+1))!==-1){f=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),v={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:f,numcomponents:h.charCodeAt(b+9)};break}u=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}p={data:r,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:c,index:n,alias:i}}return p}}(dt.API);var js,Rf,Y2,J2,X2,j7=function(){var t,e,r;function n(o){var a,s,l,c,p,h,f,u,y,v,b,g,m,_;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),y=(function(){var x,A;for(A=[],x=0;x<4;++x)A.push(String.fromCharCode(this.data[this.pos++]));return A}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*p/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,a-=4),o=(h!=null?h.data:void 0)||this.imgData,g=0;0<=a?g<a:g>a;0<=a?++g:--g)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(m=0;0<=v?m<v:m>v;0<=v?++m:--m)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(b=this.read(a)).indexOf(0),u=String.fromCharCode.apply(String,b.slice(0,f)),this.text[u]=String.fromCharCode.apply(String,b.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(o){var a,s;for(s=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(o){var a=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*a),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function p(h,f,u,y){var v,b,g,m,_,x,A,R,T,O,F,C,S,N,P,D,G,ee,te,Q,Y,W=Math.ceil((c.width-h)/u),q=Math.ceil((c.height-f)/y),L=c.width==W&&c.height==q;for(N=a*W,C=L?s:new Uint8Array(N*q),x=o.length,S=0,b=0;S<q&&l<x;){switch(o[l++]){case 0:for(m=G=0;G<N;m=G+=1)C[b++]=o[l++];break;case 1:for(m=ee=0;ee<N;m=ee+=1)v=o[l++],_=m<a?0:C[b-a],C[b++]=(v+_)%256;break;case 2:for(m=te=0;te<N;m=te+=1)v=o[l++],g=(m-m%a)/a,P=S&&C[(S-1)*N+g*a+m%a],C[b++]=(P+v)%256;break;case 3:for(m=Q=0;Q<N;m=Q+=1)v=o[l++],g=(m-m%a)/a,_=m<a?0:C[b-a],P=S&&C[(S-1)*N+g*a+m%a],C[b++]=(v+Math.floor((_+P)/2))%256;break;case 4:for(m=Y=0;Y<N;m=Y+=1)v=o[l++],g=(m-m%a)/a,_=m<a?0:C[b-a],S===0?P=D=0:(P=C[(S-1)*N+g*a+m%a],D=g&&C[(S-1)*N+(g-1)*a+m%a]),A=_+P-D,R=Math.abs(A-_),O=Math.abs(A-P),F=Math.abs(A-D),T=R<=O&&R<=F?_:O<=F?P:D,C[b++]=(v+T)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!L){var I=((f+S*y)*c.width+h)*a,$=S*N;for(m=0;m<W;m+=1){for(var H=0;H<a;H+=1)s[I++]=C[$++];I+=(u-1)*a}}S++}}return o=c7(o),c.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),s},n.prototype.decodePalette=function(){var o,a,s,l,c,p,h,f,u;for(s=this.palette,p=this.transparency.indexed||[],c=new Uint8Array((p.length||0)+s.length),l=0,o=0,a=h=0,f=s.length;h<f;a=h+=3)c[l++]=s[a],c[l++]=s[a+1],c[l++]=s[a+2],c[l++]=(u=p[o++])!=null?u:255;return c},n.prototype.copyToImageData=function(o,a){var s,l,c,p,h,f,u,y,v,b,g;if(l=this.colors,v=null,s=this.hasAlphaChannel,this.palette.length&&(v=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),l=4,s=!0),y=(c=o.data||o).length,h=v||a,p=f=0,l===1)for(;p<y;)u=v?4*a[p/4]:f,b=h[u++],c[p++]=b,c[p++]=b,c[p++]=b,c[p++]=s?h[u++]:255,f=u;else for(;p<y;)u=v?4*a[p/4]:f,c[p++]=h[u++],c[p++]=h[u++],c[p++]=h[u++],c[p++]=s?h[u++]:255,f=u},n.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(ht)==="[object Window]"){try{e=ht.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(o){var a;if(i()===!0)return r.width=o.width,r.height=o.height,r.clearRect(0,0,o.width,o.height),r.putImageData(o,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(o){var a,s,l,c,p,h,f,u;if(this.animation){for(u=[],s=p=0,h=(f=this.animation.frames).length;p<h;s=++p)a=f[s],l=o.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,u.push(a.image=t(l));return u}},n.prototype.renderFrame=function(o,a){var s,l,c;return s=(l=this.animation.frames)[a],c=l[a-1],a===0&&o.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),s.blendOp===0&&o.clearRect(s.xOffset,s.yOffset,s.width,s.height),o.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(o){var a,s,l,c,p,h,f=this;return s=0,h=this.animation,c=h.numFrames,l=h.frames,p=h.numPlays,(a=function(){var u,y;if(u=s++%c,y=l[u],f.renderFrame(o,u),c>1&&s/c<p)return f.animation._timeout=setTimeout(a,y.delay)})()},n.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},n.prototype.render=function(o){var a,s;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,a=o.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(s=a.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),a.putImageData(s,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function C7(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var s=null,l=null;o&&(s=e,l=a,e+=3*a);var c=!0,p=[],h=0,f=null,u=0,y=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],!(1&v)&&(f=null),u=v>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,x=t[e++],A=x>>6&1,R=1<<(7&x)+1,T=s,O=l,F=!1;x>>7&&(F=!0,T=e,O=R,e+=3*R);var C=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}p.push({x:b,y:g,width:m,height:_,has_local_palette:F,palette_offset:T,palette_size:O,data_offset:C,data_length:e-C,transparent_index:f,interlaced:!!A,delay:h,disposal:u});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return y},this.frameInfo=function(N){if(N<0||N>=p.length)throw new Error("Frame index out of range.");return p[N]},this.decodeAndBlitFrameBGRA=function(N,P){var D=this.frameInfo(N),G=D.width*D.height,ee=new Uint8Array(G);Q2(t,D.data_offset,ee,G);var te=D.palette_offset,Q=D.transparent_index;Q===null&&(Q=256);var Y=D.width,W=r-Y,q=Y,L=4*(D.y*r+D.x),I=4*((D.y+D.height)*r+D.x),$=L,H=4*W;D.interlaced===!0&&(H+=4*r*7);for(var B=8,J=0,re=ee.length;J<re;++J){var ne=ee[J];if(q===0&&(q=Y,($+=H)>=I&&(H=4*W+4*r*(B-1),$=L+(Y+W)*(B<<1),B>>=1)),ne===Q)$+=4;else{var de=t[te+3*ne],me=t[te+3*ne+1],Oe=t[te+3*ne+2];P[$++]=Oe,P[$++]=me,P[$++]=de,P[$++]=255}--q}},this.decodeAndBlitFrameRGBA=function(N,P){var D=this.frameInfo(N),G=D.width*D.height,ee=new Uint8Array(G);Q2(t,D.data_offset,ee,G);var te=D.palette_offset,Q=D.transparent_index;Q===null&&(Q=256);var Y=D.width,W=r-Y,q=Y,L=4*(D.y*r+D.x),I=4*((D.y+D.height)*r+D.x),$=L,H=4*W;D.interlaced===!0&&(H+=4*r*7);for(var B=8,J=0,re=ee.length;J<re;++J){var ne=ee[J];if(q===0&&(q=Y,($+=H)>=I&&(H=4*W+4*r*(B-1),$=L+(Y+W)*(B<<1),B>>=1)),ne===Q)$+=4;else{var de=t[te+3*ne],me=t[te+3*ne+1],Oe=t[te+3*ne+2];P[$++]=de,P[$++]=me,P[$++]=Oe,P[$++]=255}--q}}}function Q2(t,e,r,n){for(var i=t[e++],o=1<<i,a=o+1,s=a+1,l=i+1,c=(1<<l)-1,p=0,h=0,f=0,u=t[e++],y=new Int32Array(4096),v=null;;){for(;p<16&&u!==0;)h|=t[e++]<<p,p+=8,u===1?u=t[e++]:--u;if(p<l)break;var b=h&c;if(h>>=l,p-=l,b!==o){if(b===a)break;for(var g=b<s?b:v,m=0,_=g;_>o;)_=y[_]>>8,++m;var x=_;if(f+m+(g!==b?1:0)>n)return void Ht.log("Warning, gif stream longer than expected.");r[f++]=x;var A=f+=m;for(g!==b&&(r[f++]=x),_=g;m--;)_=y[_],r[--A]=255&_,_>>=8;v!==null&&s<4096&&(y[s++]=v<<8|x,s>=c+1&&l<12&&(++l,c=c<<1|1)),v=b}else s=a+1,c=(1<<(l=i+1))-1,v=null}return f!==n&&Ht.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Jp(t){var e,r,n,i,o,a=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),p=new Array(64),h=new Array(65535),f=new Array(65535),u=new Array(64),y=new Array(64),v=[],b=0,g=7,m=new Array(64),_=new Array(64),x=new Array(64),A=new Array(256),R=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(L,I){for(var $=0,H=0,B=new Array,J=1;J<=16;J++){for(var re=1;re<=L[J];re++)B[I[H]]=[],B[I[H]][0]=$,B[I[H]][1]=J,H++,$++;$*=2}return B}function te(L){for(var I=L[0],$=L[1]-1;$>=0;)I&1<<$&&(b|=1<<g),$--,--g<0&&(b==255?(Q(255),Q(0)):Q(b),g=7,b=0)}function Q(L){v.push(L)}function Y(L){Q(L>>8&255),Q(255&L)}function W(L,I,$,H,B){for(var J,re=B[0],ne=B[240],de=function(se,be){var Se,ve,Ie,Be,Ue,et,lt,rt,ot,Qe,ze=0;for(ot=0;ot<8;++ot){Se=se[ze],ve=se[ze+1],Ie=se[ze+2],Be=se[ze+3],Ue=se[ze+4],et=se[ze+5],lt=se[ze+6];var hr=Se+(rt=se[ze+7]),_t=Se-rt,pr=ve+lt,ke=ve-lt,qe=Ie+et,it=Ie-et,We=Be+Ue,xt=Be-Ue,gt=hr+We,Pt=hr-We,rr=pr+qe,bt=pr-qe;se[ze]=gt+rr,se[ze+4]=gt-rr;var ct=.707106781*(bt+Pt);se[ze+2]=Pt+ct,se[ze+6]=Pt-ct;var Nt=.382683433*((gt=xt+it)-(bt=ke+_t)),Bt=.5411961*gt+Nt,Zt=1.306562965*bt+Nt,ei=.707106781*(rr=it+ke),Rn=_t+ei,st=_t-ei;se[ze+5]=st+Bt,se[ze+3]=st-Bt,se[ze+1]=Rn+Zt,se[ze+7]=Rn-Zt,ze+=8}for(ze=0,ot=0;ot<8;++ot){Se=se[ze],ve=se[ze+8],Ie=se[ze+16],Be=se[ze+24],Ue=se[ze+32],et=se[ze+40],lt=se[ze+48];var wn=Se+(rt=se[ze+56]),In=Se-rt,Gr=ve+lt,jt=ve-lt,qt=Ie+et,Kr=Ie-et,Xi=Be+Ue,Dn=Be-Ue,bn=wn+Xi,gr=wn-Xi,_n=Gr+qt,Mn=Gr-qt;se[ze]=bn+_n,se[ze+32]=bn-_n;var sn=.707106781*(Mn+gr);se[ze+16]=gr+sn,se[ze+48]=gr-sn;var Fn=.382683433*((bn=Dn+Kr)-(Mn=jt+In)),Qi=.5411961*bn+Fn,Ze=1.306562965*Mn+Fn,ue=.707106781*(_n=Kr+jt),De=In+ue,Ye=In-ue;se[ze+40]=Ye+Qi,se[ze+24]=Ye-Qi,se[ze+8]=De+Ze,se[ze+56]=De-Ze,ze++}for(ot=0;ot<64;++ot)Qe=se[ot]*be[ot],u[ot]=Qe>0?Qe+.5|0:Qe-.5|0;return u}(L,I),me=0;me<64;++me)y[T[me]]=de[me];var Oe=y[0]-$;$=y[0],Oe==0?te(H[0]):(te(H[f[J=32767+Oe]]),te(h[J]));for(var Ne=63;Ne>0&&y[Ne]==0;)Ne--;if(Ne==0)return te(re),$;for(var Me,we=1;we<=Ne;){for(var ae=we;y[we]==0&&we<=Ne;)++we;var Ke=we-ae;if(Ke>=16){Me=Ke>>4;for(var he=1;he<=Me;++he)te(ne);Ke&=15}J=32767+y[we],te(B[(Ke<<4)+f[J]]),te(h[J]),we++}return Ne!=63&&te(re),$}function q(L){L=Math.min(Math.max(L,1),100),o!=L&&(function(I){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var B=a(($[H]*I+50)/100);B=Math.min(Math.max(B,1),255),s[T[H]]=B}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],re=0;re<64;re++){var ne=a((J[re]*I+50)/100);ne=Math.min(Math.max(ne,1),255),l[T[re]]=ne}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],me=0,Oe=0;Oe<8;Oe++)for(var Ne=0;Ne<8;Ne++)c[me]=1/(s[T[me]]*de[Oe]*de[Ne]*8),p[me]=1/(l[T[me]]*de[Oe]*de[Ne]*8),me++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,I){I&&q(I),v=new Array,b=0,g=7,Y(65496),Y(65504),Y(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),Y(1),Y(1),Q(0),Q(0),function(){Y(65499),Y(132),Q(0);for(var ve=0;ve<64;ve++)Q(s[ve]);Q(1);for(var Ie=0;Ie<64;Ie++)Q(l[Ie])}(),function(ve,Ie){Y(65472),Y(17),Q(8),Y(Ie),Y(ve),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(L.width,L.height),function(){Y(65476),Y(418),Q(0);for(var ve=0;ve<16;ve++)Q(O[ve+1]);for(var Ie=0;Ie<=11;Ie++)Q(F[Ie]);Q(16);for(var Be=0;Be<16;Be++)Q(C[Be+1]);for(var Ue=0;Ue<=161;Ue++)Q(S[Ue]);Q(1);for(var et=0;et<16;et++)Q(N[et+1]);for(var lt=0;lt<=11;lt++)Q(P[lt]);Q(17);for(var rt=0;rt<16;rt++)Q(D[rt+1]);for(var ot=0;ot<=161;ot++)Q(G[ot])}(),Y(65498),Y(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var $=0,H=0,B=0;b=0,g=7,this.encode.displayName="_encode_";for(var J,re,ne,de,me,Oe,Ne,Me,we,ae=L.data,Ke=L.width,he=L.height,se=4*Ke,be=0;be<he;){for(J=0;J<se;){for(me=se*be+J,Ne=-1,Me=0,we=0;we<64;we++)Oe=me+(Me=we>>3)*se+(Ne=4*(7&we)),be+Me>=he&&(Oe-=se*(be+1+Me-he)),J+Ne>=se&&(Oe-=J+Ne-se+4),re=ae[Oe++],ne=ae[Oe++],de=ae[Oe++],m[we]=(R[re]+R[ne+256>>0]+R[de+512>>0]>>16)-128,_[we]=(R[re+768>>0]+R[ne+1024>>0]+R[de+1280>>0]>>16)-128,x[we]=(R[re+1280>>0]+R[ne+1536>>0]+R[de+1792>>0]>>16)-128;$=W(m,c,$,e,n),H=W(_,p,H,r,i),B=W(x,p,B,r,i),J+=32}be+=8}if(g>=0){var Se=[];Se[1]=g+1,Se[0]=(1<<g+1)-1,te(Se)}return Y(65497),new Uint8Array(v)},t=t||50,function(){for(var L=String.fromCharCode,I=0;I<256;I++)A[I]=L(I)}(),e=ee(O,F),r=ee(N,P),n=ee(C,S),i=ee(D,G),function(){for(var L=1,I=2,$=1;$<=15;$++){for(var H=L;H<I;H++)f[32767+H]=$,h[32767+H]=[],h[32767+H][1]=$,h[32767+H][0]=H;for(var B=-(I-1);B<=-L;B++)f[32767+B]=$,h[32767+B]=[],h[32767+B][1]=$,h[32767+B][0]=I-1+B;L<<=1,I<<=1}}(),function(){for(var L=0;L<256;L++)R[L]=19595*L,R[L+256>>0]=38470*L,R[L+512>>0]=7471*L+32768,R[L+768>>0]=-11059*L,R[L+1024>>0]=-21709*L,R[L+1280>>0]=32768*L+8421375,R[L+1536>>0]=-27439*L,R[L+1792>>0]=-5329*L}(),q(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Si(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Z2(t){function e(O){if(!O)throw Error("assert :P")}function r(O,F,C){for(var S=0;4>S;S++)if(O[F+S]!=C.charCodeAt(S))return!0;return!1}function n(O,F,C,S,N){for(var P=0;P<N;P++)O[F+P]=C[S+P]}function i(O,F,C,S){for(var N=0;N<S;N++)O[F+N]=C}function o(O){return new Int32Array(O)}function a(O,F){for(var C=[],S=0;S<O;S++)C.push(new F);return C}function s(O,F){var C=[];return function S(N,P,D){for(var G=D[P],ee=0;ee<G&&(N.push(D.length>P+1?[]:new F),!(D.length<P+1));ee++)S(N[ee],P+1,D)}(C,0,O),C}var l=function(){var O=this;function F(d,w){for(var E=1<<w-1>>>0;d&E;)E>>>=1;return E?(d&E-1)+E:d}function C(d,w,E,j,U){e(!(j%E));do d[w+(j-=E)]=U;while(0<j)}function S(d,w,E,j,U){if(e(2328>=U),512>=U)var V=o(512);else if((V=o(U))==null)return 0;return function(K,X,Z,ie,ce,_e){var xe,ge,je=X,Ae=1<<Z,fe=o(16),pe=o(16);for(e(ce!=0),e(ie!=null),e(K!=null),e(0<Z),ge=0;ge<ce;++ge){if(15<ie[ge])return 0;++fe[ie[ge]]}if(fe[0]==ce)return 0;for(pe[1]=0,xe=1;15>xe;++xe){if(fe[xe]>1<<xe)return 0;pe[xe+1]=pe[xe]+fe[xe]}for(ge=0;ge<ce;++ge)xe=ie[ge],0<ie[ge]&&(_e[pe[xe]++]=ge);if(pe[15]==1)return(ie=new N).g=0,ie.value=_e[0],C(K,je,1,Ae,ie),Ae;var Le,Ce=-1,Te=Ae-1,Ge=0,$e=1,ut=1,He=1<<Z;for(ge=0,xe=1,ce=2;xe<=Z;++xe,ce<<=1){if($e+=ut<<=1,0>(ut-=fe[xe]))return 0;for(;0<fe[xe];--fe[xe])(ie=new N).g=xe,ie.value=_e[ge++],C(K,je+Ge,ce,He,ie),Ge=F(Ge,xe)}for(xe=Z+1,ce=2;15>=xe;++xe,ce<<=1){if($e+=ut<<=1,0>(ut-=fe[xe]))return 0;for(;0<fe[xe];--fe[xe]){if(ie=new N,(Ge&Te)!=Ce){for(je+=He,Le=1<<(Ce=xe)-Z;15>Ce&&!(0>=(Le-=fe[Ce]));)++Ce,Le<<=1;Ae+=He=1<<(Le=Ce-Z),K[X+(Ce=Ge&Te)].g=Le+Z,K[X+Ce].value=je-X-Ce}ie.g=xe-Z,ie.value=_e[ge++],C(K,je+(Ge>>Z),ce,He,ie),Ge=F(Ge,xe)}}return $e!=2*pe[15]-1?0:Ae}(d,w,E,j,U,V)}function N(){this.value=this.g=0}function P(){this.value=this.g=0}function D(){this.G=a(5,N),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ur,P)}function G(d,w,E,j){e(d!=null),e(w!=null),e(2147483648>j),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=w,d.pa=E,d.Jd=w,d.Yc=E+j,d.Zc=4<=j?E+j-4+1:E,J(d)}function ee(d,w){for(var E=0;0<w--;)E|=ne(d,128)<<w;return E}function te(d,w){var E=ee(d,w);return re(d)?-E:E}function Q(d,w,E,j){var U,V=0;for(e(d!=null),e(w!=null),e(4294967288>j),d.Sb=j,d.Ra=0,d.u=0,d.h=0,4<j&&(j=4),U=0;U<j;++U)V+=w[E+U]<<8*U;d.Ra=V,d.bb=j,d.oa=w,d.pa=E}function Y(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<ps-8>>>0,++d.bb,d.u-=8;$(d)&&(d.h=1,d.u=0)}function W(d,w){if(e(0<=w),!d.h&&w<=hs){var E=I(d)&ds[w];return d.u+=w,Y(d),E}return d.h=1,d.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function I(d){return d.Ra>>>(d.u&ps-1)>>>0}function $(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>ps}function H(d,w){d.u=w,d.h=$(d)}function B(d){d.u>=Hl&&(e(d.u>=Hl),Y(d))}function J(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function re(d){return ee(d,1)}function ne(d,w){var E=d.Ca;0>d.b&&J(d);var j=d.b,U=E*w>>>8,V=(d.I>>>j>U)+0;for(V?(E-=U,d.I-=U+1<<j>>>0):E=U+1,j=E,U=0;256<=j;)U+=8,j>>=8;return j=7^U+kn[j],d.b-=j,d.Ca=(E<<j)-1,V}function de(d,w,E){d[w+0]=E>>24&255,d[w+1]=E>>16&255,d[w+2]=E>>8&255,d[w+3]=E>>0&255}function me(d,w){return d[w+0]<<0|d[w+1]<<8}function Oe(d,w){return me(d,w)|d[w+2]<<16}function Ne(d,w){return me(d,w)|me(d,w+2)<<16}function Me(d,w){var E=1<<w;return e(d!=null),e(0<w),d.X=o(E),d.X==null?0:(d.Mb=32-w,d.Xa=w,1)}function we(d,w){e(d!=null),e(w!=null),e(d.Xa==w.Xa),n(w.X,0,d.X,0,1<<w.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function Ke(d,w,E,j){e(E!=null),e(j!=null);var U=E[0],V=j[0];return U==0&&(U=(d*V+w/2)/w),V==0&&(V=(w*U+d/2)/d),0>=U||0>=V?0:(E[0]=U,j[0]=V,1)}function he(d,w){return d+(1<<w)-1>>>w}function se(d,w){return((4278255360&d)+(4278255360&w)>>>0&4278255360)+((16711935&d)+(16711935&w)>>>0&16711935)>>>0}function be(d,w){O[w]=function(E,j,U,V,K,X,Z){var ie;for(ie=0;ie<K;++ie){var ce=O[d](X[Z+ie-1],U,V+ie);X[Z+ie]=se(E[j+ie],ce)}}}function Se(){this.ud=this.hd=this.jd=0}function ve(d,w){return((4278124286&(d^w))>>>1)+(d&w)>>>0}function Ie(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Be(d,w){return Ie(d+(d-w+.5>>1))}function Ue(d,w,E){return Math.abs(w-E)-Math.abs(d-E)}function et(d,w,E,j,U,V,K){for(j=V[K-1],E=0;E<U;++E)V[K+E]=j=se(d[w+E],j)}function lt(d,w,E,j,U){var V;for(V=0;V<E;++V){var K=d[w+V],X=K>>8&255,Z=16711935&(Z=(Z=16711935&K)+((X<<16)+X));j[U+V]=(4278255360&K)+Z>>>0}}function rt(d,w){w.jd=d>>0&255,w.hd=d>>8&255,w.ud=d>>16&255}function ot(d,w,E,j,U,V){var K;for(K=0;K<j;++K){var X=w[E+K],Z=X>>>8,ie=X,ce=255&(ce=(ce=X>>>16)+((d.jd<<24>>24)*(Z<<24>>24)>>>5));ie=255&(ie=(ie=ie+((d.hd<<24>>24)*(Z<<24>>24)>>>5))+((d.ud<<24>>24)*(ce<<24>>24)>>>5)),U[V+K]=(4278255360&X)+(ce<<16)+ie}}function Qe(d,w,E,j,U){O[w]=function(V,K,X,Z,ie,ce,_e,xe,ge){for(Z=_e;Z<xe;++Z)for(_e=0;_e<ge;++_e)ie[ce++]=U(X[j(V[K++])])},O[d]=function(V,K,X,Z,ie,ce,_e){var xe=8>>V.b,ge=V.Ea,je=V.K[0],Ae=V.w;if(8>xe)for(V=(1<<V.b)-1,Ae=(1<<xe)-1;K<X;++K){var fe,pe=0;for(fe=0;fe<ge;++fe)fe&V||(pe=j(Z[ie++])),ce[_e++]=U(je[pe&Ae]),pe>>=xe}else O["VP8LMapColor"+E](Z,ie,je,Ae,ce,_e,K,X,ge)}}function ze(d,w,E,j,U){for(E=w+E;w<E;){var V=d[w++];j[U++]=V>>16&255,j[U++]=V>>8&255,j[U++]=V>>0&255}}function hr(d,w,E,j,U){for(E=w+E;w<E;){var V=d[w++];j[U++]=V>>16&255,j[U++]=V>>8&255,j[U++]=V>>0&255,j[U++]=V>>24&255}}function _t(d,w,E,j,U){for(E=w+E;w<E;){var V=(K=d[w++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;j[U++]=V,j[U++]=K}}function pr(d,w,E,j,U){for(E=w+E;w<E;){var V=(K=d[w++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;j[U++]=V,j[U++]=K}}function ke(d,w,E,j,U){for(E=w+E;w<E;){var V=d[w++];j[U++]=V>>0&255,j[U++]=V>>8&255,j[U++]=V>>16&255}}function qe(d,w,E,j,U,V){if(V==0)for(E=w+E;w<E;)de(j,((V=d[w++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),U+=32;else n(j,U,d,w,E)}function it(d,w){O[w][0]=O[d+"0"],O[w][1]=O[d+"1"],O[w][2]=O[d+"2"],O[w][3]=O[d+"3"],O[w][4]=O[d+"4"],O[w][5]=O[d+"5"],O[w][6]=O[d+"6"],O[w][7]=O[d+"7"],O[w][8]=O[d+"8"],O[w][9]=O[d+"9"],O[w][10]=O[d+"10"],O[w][11]=O[d+"11"],O[w][12]=O[d+"12"],O[w][13]=O[d+"13"],O[w][14]=O[d+"0"],O[w][15]=O[d+"0"]}function We(d){return d==Ih||d==Dh||d==qc||d==Mh}function xt(){this.eb=[],this.size=this.A=this.fb=0}function gt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xt,this.f.kb=new gt,this.sd=null}function rr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Nt(d,w){var E=d.T,j=w.ba.f.RGBA,U=j.eb,V=j.fb+d.ka*j.A,K=ai[w.ba.S],X=d.y,Z=d.O,ie=d.f,ce=d.N,_e=d.ea,xe=d.W,ge=w.cc,je=w.dc,Ae=w.Mc,fe=w.Nc,pe=d.ka,Le=d.ka+d.T,Ce=d.U,Te=Ce+1>>1;for(pe==0?K(X,Z,null,null,ie,ce,_e,xe,ie,ce,_e,xe,U,V,null,null,Ce):(K(w.ec,w.fc,X,Z,ge,je,Ae,fe,ie,ce,_e,xe,U,V-j.A,U,V,Ce),++E);pe+2<Le;pe+=2)ge=ie,je=ce,Ae=_e,fe=xe,ce+=d.Rc,xe+=d.Rc,V+=2*j.A,K(X,(Z+=2*d.fa)-d.fa,X,Z,ge,je,Ae,fe,ie,ce,_e,xe,U,V-j.A,U,V,Ce);return Z+=d.fa,d.j+Le<d.o?(n(w.ec,w.fc,X,Z,Ce),n(w.cc,w.dc,ie,ce,Te),n(w.Mc,w.Nc,_e,xe,Te),E--):1&Le||K(X,Z,null,null,ie,ce,_e,xe,ie,ce,_e,xe,U,V+j.A,null,null,Ce),E}function Bt(d,w,E){var j=d.F,U=[d.J];if(j!=null){var V=d.U,K=w.ba.S,X=K==Bc||K==qc;w=w.ba.f.RGBA;var Z=[0],ie=d.ka;Z[0]=d.T,d.Kb&&(ie==0?--Z[0]:(--ie,U[0]-=d.width),d.j+d.ka+d.T==d.o&&(Z[0]=d.o-d.j-ie));var ce=w.eb;ie=w.fb+ie*w.A,d=Vt(j,U[0],d.width,V,Z,ce,ie+(X?0:3),w.A),e(E==Z),d&&We(K)&&ii(ce,ie,X,V,Z,w.A)}return 0}function Zt(d){var w=d.ma,E=w.ba.S,j=11>E,U=E==Mc||E==Fc||E==Bc||E==Rh||E==12||We(E);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!zl(w.Oa,d,U?11:12))return 0;if(U&&We(E)&&Re(),d.da)alert("todo:use_scaling");else{if(j){if(w.Ib=ct,d.Kb){if(E=d.U+1>>1,w.memory=o(d.U+2*E),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+d.U,w.Mc=w.cc,w.Nc=w.dc+E,w.Ib=Nt,Re()}}else alert("todo:EmitYUV");U&&(w.Jb=Bt,j&&ye())}if(j&&!Vg){for(d=0;256>d;++d)z_[d]=89858*(d-128)+zc>>Uc,W_[d]=-22014*(d-128)+zc,H_[d]=-45773*(d-128),$_[d]=113618*(d-128)+zc>>Uc;for(d=Xl;d<qh;++d)w=76283*(d-16)+zc>>Uc,V_[d-Xl]=Bn(w,255),G_[d-Xl]=Bn(w+8>>4,15);Vg=1}return 1}function ei(d){var w=d.ma,E=d.U,j=d.T;return e(!(1&d.ka)),0>=E||0>=j?0:(E=w.Ib(d,w),w.Jb!=null&&w.Jb(d,w,E),w.Dc+=E,1)}function Rn(d){d.ma.memory=null}function st(d,w,E,j){return W(d,8)!=47?0:(w[0]=W(d,14)+1,E[0]=W(d,14)+1,j[0]=W(d,1),W(d,3)!=0?0:!d.h)}function wn(d,w){if(4>d)return d+1;var E=d-2>>1;return(2+(1&d)<<E)+W(w,E)+1}function In(d,w){return 120<w?w-120:1<=(E=((E=O_[w-1])>>4)*d+(8-(15&E)))?E:1;var E}function Gr(d,w,E){var j=I(E),U=d[w+=255&j].g-8;return 0<U&&(H(E,E.u+8),j=I(E),w+=d[w].value,w+=j&(1<<U)-1),H(E,E.u+d[w].g),d[w].value}function jt(d,w,E){return E.g+=d.g,E.value+=d.value<<w>>>0,e(8>=E.g),d.g}function qt(d,w,E){var j=d.xc;return e((w=j==0?0:d.vc[d.md*(E>>j)+(w>>j)])<d.Wb),d.Ya[w]}function Kr(d,w,E,j){var U=d.ab,V=d.c*w,K=d.C;w=K+w;var X=E,Z=j;for(j=d.Ta,E=d.Ua;0<U--;){var ie=d.gc[U],ce=K,_e=w,xe=X,ge=Z,je=(Z=j,X=E,ie.Ea);switch(e(ce<_e),e(_e<=ie.nc),ie.hc){case 2:Tc(xe,ge,(_e-ce)*je,Z,X);break;case 0:var Ae=ce,fe=_e,pe=Z,Le=X,Ce=(He=ie).Ea;Ae==0&&(jh(xe,ge,null,null,1,pe,Le),et(xe,ge+1,0,0,Ce-1,pe,Le+1),ge+=Ce,Le+=Ce,++Ae);for(var Te=1<<He.b,Ge=Te-1,$e=he(Ce,He.b),ut=He.K,He=He.w+(Ae>>He.b)*$e;Ae<fe;){var Tt=ut,Rt=He,Ot=1;for(Wl(xe,ge,pe,Le-Ce,1,pe,Le);Ot<Ce;){var At=(Ot&~Ge)+Te;At>Ce&&(At=Ce),(0,Oo[Tt[Rt++]>>8&15])(xe,ge+ +Ot,pe,Le+Ot-Ce,At-Ot,pe,Le+Ot),Ot=At}ge+=Ce,Le+=Ce,++Ae&Ge||(He+=$e)}_e!=ie.nc&&n(Z,X-je,Z,X+(_e-ce-1)*je,je);break;case 1:for(je=xe,fe=ge,Ce=(xe=ie.Ea)-(Le=xe&~(pe=(ge=1<<ie.b)-1)),Ae=he(xe,ie.b),Te=ie.K,ie=ie.w+(ce>>ie.b)*Ae;ce<_e;){for(Ge=Te,$e=ie,ut=new Se,He=fe+Le,Tt=fe+xe;fe<He;)rt(Ge[$e++],ut),ba(ut,je,fe,ge,Z,X),fe+=ge,X+=ge;fe<Tt&&(rt(Ge[$e++],ut),ba(ut,je,fe,Ce,Z,X),fe+=Ce,X+=Ce),++ce&pe||(ie+=Ae)}break;case 3:if(xe==Z&&ge==X&&0<ie.b){for(fe=Z,xe=je=X+(_e-ce)*je-(Le=(_e-ce)*he(ie.Ea,ie.b)),ge=Z,pe=X,Ae=[],Le=(Ce=Le)-1;0<=Le;--Le)Ae[Le]=ge[pe+Le];for(Le=Ce-1;0<=Le;--Le)fe[xe+Le]=Ae[Le];ti(ie,ce,_e,Z,je,Z,X)}else ti(ie,ce,_e,xe,ge,Z,X)}X=j,Z=E}Z!=E&&n(j,E,X,Z,V)}function Xi(d,w){var E=d.V,j=d.Ba+d.c*d.C,U=w-d.C;if(e(w<=d.l.o),e(16>=U),0<U){var V=d.l,K=d.Ta,X=d.Ua,Z=V.width;if(Kr(d,U,E,j),U=X=[X],e((E=d.C)<(j=w)),e(V.v<V.va),j>V.o&&(j=V.o),E<V.j){var ie=V.j-E;E=V.j,U[0]+=ie*Z}if(E>=j?E=0:(U[0]+=4*V.v,V.ka=E-V.j,V.U=V.va-V.v,V.T=j-E,E=1),E){if(X=X[0],11>(E=d.ca).S){var ce=E.f.RGBA,_e=(j=E.S,U=V.U,V=V.T,ie=ce.eb,ce.A),xe=V;for(ce=ce.fb+d.Ma*ce.A;0<xe--;){var ge=K,je=X,Ae=U,fe=ie,pe=ce;switch(j){case Dc:An(ge,je,Ae,fe,pe);break;case Mc:ln(ge,je,Ae,fe,pe);break;case Ih:ln(ge,je,Ae,fe,pe),ii(fe,pe,0,Ae,1,0);break;case Mg:no(ge,je,Ae,fe,pe);break;case Fc:qe(ge,je,Ae,fe,pe,1);break;case Dh:qe(ge,je,Ae,fe,pe,1),ii(fe,pe,0,Ae,1,0);break;case Bc:qe(ge,je,Ae,fe,pe,0);break;case qc:qe(ge,je,Ae,fe,pe,0),ii(fe,pe,1,Ae,1,0);break;case Rh:Lo(ge,je,Ae,fe,pe);break;case Mh:Lo(ge,je,Ae,fe,pe),Wt(fe,pe,Ae,1,0);break;case Fg:ro(ge,je,Ae,fe,pe);break;default:e(0)}X+=Z,ce+=_e}d.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=E.height)}}d.C=w,e(d.C<=d.i)}function Dn(d){var w;if(0<d.ua)return 0;for(w=0;w<d.Wb;++w){var E=d.Ya[w].G,j=d.Ya[w].H;if(0<E[1][j[1]+0].g||0<E[2][j[2]+0].g||0<E[3][j[3]+0].g)return 0}return 1}function bn(d,w,E,j,U,V){if(d.Z!=0){var K=d.qd,X=d.rd;for(e(Co[d.Z]!=null);w<E;++w)Co[d.Z](K,X,j,U,j,U,V),K=j,X=U,U+=V;d.qd=K,d.rd=X}}function gr(d,w){var E=d.l.ma,j=E.Z==0||E.Z==1?d.l.j:d.C;if(j=d.C<j?j:d.C,e(w<=d.l.o),w>j){var U=d.l.width,V=E.ca,K=E.tb+U*j,X=d.V,Z=d.Ba+d.c*j,ie=d.gc;e(d.ab==1),e(ie[0].hc==3),Pc(ie[0],j,w,X,Z,V,K),bn(E,j,w,V,K,U)}d.C=d.Ma=w}function _n(d,w,E,j,U,V,K){var X=d.$/j,Z=d.$%j,ie=d.m,ce=d.s,_e=E+d.$,xe=_e;U=E+j*U;var ge=E+j*V,je=280+ce.ua,Ae=d.Pb?X:16777216,fe=0<ce.ua?ce.Wa:null,pe=ce.wc,Le=_e<ge?qt(ce,Z,X):null;e(d.C<V),e(ge<=U);var Ce=!1;e:for(;;){for(;Ce||_e<ge;){var Te=0;if(X>=Ae){var Ge=_e-E;e((Ae=d).Pb),Ae.wd=Ae.m,Ae.xd=Ge,0<Ae.s.ua&&we(Ae.s.Wa,Ae.s.vb),Ae=X+T_}if(Z&pe||(Le=qt(ce,Z,X)),e(Le!=null),Le.Qb&&(w[_e]=Le.qb,Ce=!0),!Ce)if(B(ie),Le.jc){Te=ie,Ge=w;var $e=_e,ut=Le.pd[I(Te)&Ur-1];e(Le.jc),256>ut.g?(H(Te,Te.u+ut.g),Ge[$e]=ut.value,Te=0):(H(Te,Te.u+ut.g-256),e(256<=ut.value),Te=ut.value),Te==0&&(Ce=!0)}else Te=Gr(Le.G[0],Le.H[0],ie);if(ie.h)break;if(Ce||256>Te){if(!Ce)if(Le.nd)w[_e]=(Le.qb|Te<<8)>>>0;else{if(B(ie),Ce=Gr(Le.G[1],Le.H[1],ie),B(ie),Ge=Gr(Le.G[2],Le.H[2],ie),$e=Gr(Le.G[3],Le.H[3],ie),ie.h)break;w[_e]=($e<<24|Ce<<16|Te<<8|Ge)>>>0}if(Ce=!1,++_e,++Z>=j&&(Z=0,++X,K!=null&&X<=V&&!(X%16)&&K(d,X),fe!=null))for(;xe<_e;)Te=w[xe++],fe.X[(506832829*Te&4294967295)>>>fe.Mb]=Te}else if(280>Te){if(Te=wn(Te-256,ie),Ge=Gr(Le.G[4],Le.H[4],ie),B(ie),Ge=In(j,Ge=wn(Ge,ie)),ie.h)break;if(_e-E<Ge||U-_e<Te)break e;for($e=0;$e<Te;++$e)w[_e+$e]=w[_e+$e-Ge];for(_e+=Te,Z+=Te;Z>=j;)Z-=j,++X,K!=null&&X<=V&&!(X%16)&&K(d,X);if(e(_e<=U),Z&pe&&(Le=qt(ce,Z,X)),fe!=null)for(;xe<_e;)Te=w[xe++],fe.X[(506832829*Te&4294967295)>>>fe.Mb]=Te}else{if(!(Te<je))break e;for(Ce=Te-280,e(fe!=null);xe<_e;)Te=w[xe++],fe.X[(506832829*Te&4294967295)>>>fe.Mb]=Te;Te=_e,e(!(Ce>>>(Ge=fe).Xa)),w[Te]=Ge.X[Ce],Ce=!0}Ce||e(ie.h==$(ie))}if(d.Pb&&ie.h&&_e<U)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&we(d.s.vb,d.s.Wa);else{if(ie.h)break e;K!=null&&K(d,X>V?V:X),d.a=0,d.$=_e-E}return 1}return d.a=3,0}function Mn(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var w=d.Wa;w!=null&&(w.X=null),d.vb=null,e(d!=null)}function sn(){var d=new Ph;return d==null?null:(d.a=0,d.xb=Ug,it("Predictor","VP8LPredictors"),it("Predictor","VP8LPredictors_C"),it("PredictorAdd","VP8LPredictorsAdd"),it("PredictorAdd","VP8LPredictorsAdd_C"),Tc=lt,ba=ot,An=ze,ln=hr,Lo=_t,ro=pr,no=ke,O.VP8LMapColor32b=gs,O.VP8LMapColor8b=jc,d)}function Fn(d,w,E,j,U){var V=1,K=[d],X=[w],Z=j.m,ie=j.s,ce=null,_e=0;e:for(;;){if(E)for(;V&&W(Z,1);){var xe=K,ge=X,je=j,Ae=1,fe=je.m,pe=je.gc[je.ab],Le=W(fe,2);if(je.Oc&1<<Le)V=0;else{switch(je.Oc|=1<<Le,pe.hc=Le,pe.Ea=xe[0],pe.nc=ge[0],pe.K=[null],++je.ab,e(4>=je.ab),Le){case 0:case 1:pe.b=W(fe,3)+2,Ae=Fn(he(pe.Ea,pe.b),he(pe.nc,pe.b),0,je,pe.K),pe.K=pe.K[0];break;case 3:var Ce,Te=W(fe,8)+1,Ge=16<Te?0:4<Te?1:2<Te?2:3;if(xe[0]=he(pe.Ea,Ge),pe.b=Ge,Ce=Ae=Fn(Te,1,0,je,pe.K)){var $e,ut=Te,He=pe,Tt=1<<(8>>He.b),Rt=o(Tt);if(Rt==null)Ce=0;else{var Ot=He.K[0],At=He.w;for(Rt[0]=He.K[0][0],$e=1;$e<1*ut;++$e)Rt[$e]=se(Ot[At+$e],Rt[$e-1]);for(;$e<4*Tt;++$e)Rt[$e]=0;He.K[0]=null,He.K[0]=Rt,Ce=1}}Ae=Ce;break;case 2:break;default:e(0)}V=Ae}}if(K=K[0],X=X[0],V&&W(Z,1)&&!(V=1<=(_e=W(Z,4))&&11>=_e)){j.a=3;break e}var $t;if($t=V)t:{var Ut,wt,Er,Nn=j,Or=K,En=X,It=_e,Un=E,zn=Nn.m,Dr=Nn.s,zr=[null],cn=1,si=0,qi=L_[It];r:for(;;){if(Un&&W(zn,1)){var Mr=W(zn,3)+2,so=he(Or,Mr),Aa=he(En,Mr),bs=so*Aa;if(!Fn(so,Aa,0,Nn,zr))break r;for(zr=zr[0],Dr.xc=Mr,Ut=0;Ut<bs;++Ut){var Ro=zr[Ut]>>8&65535;zr[Ut]=Ro,Ro>=cn&&(cn=Ro+1)}}if(zn.h)break r;for(wt=0;5>wt;++wt){var ur=Bg[wt];!wt&&0<It&&(ur+=1<<It),si<ur&&(si=ur)}var Uh=a(cn*qi,N),Yg=cn,Jg=a(Yg,D);if(Jg==null)var Hc=null;else e(65536>=Yg),Hc=Jg;var Ql=o(si);if(Hc==null||Ql==null||Uh==null){Nn.a=1;break r}var Wc=Uh;for(Ut=Er=0;Ut<cn;++Ut){var bi=Hc[Ut],_s=bi.G,xs=bi.H,Xg=0,Vc=1,Qg=0;for(wt=0;5>wt;++wt){ur=Bg[wt],_s[wt]=Wc,xs[wt]=Er,!wt&&0<It&&(ur+=1<<It);i:{var Gc,zh=ur,Kc=Nn,Zl=Ql,J_=Wc,X_=Er,$h=0,Io=Kc.m,Q_=W(Io,1);if(i(Zl,0,0,zh),Q_){var Z_=W(Io,1)+1,e4=W(Io,1),Zg=W(Io,e4==0?1:8);Zl[Zg]=1,Z_==2&&(Zl[Zg=W(Io,8)]=1);var Yc=1}else{var em=o(19),tm=W(Io,4)+4;if(19<tm){Kc.a=3;var Jc=0;break i}for(Gc=0;Gc<tm;++Gc)em[E_[Gc]]=W(Io,3);var Hh=void 0,eu=void 0,rm=Kc,t4=em,Xc=zh,nm=Zl,Wh=0,Do=rm.m,im=8,om=a(128,N);n:for(;S(om,0,7,t4,19);){if(W(Do,1)){var r4=2+2*W(Do,3);if((Hh=2+W(Do,r4))>Xc)break n}else Hh=Xc;for(eu=0;eu<Xc&&Hh--;){B(Do);var am=om[0+(127&I(Do))];H(Do,Do.u+am.g);var Ss=am.value;if(16>Ss)nm[eu++]=Ss,Ss!=0&&(im=Ss);else{var n4=Ss==16,sm=Ss-16,i4=A_[sm],lm=W(Do,k_[sm])+i4;if(eu+lm>Xc)break n;for(var o4=n4?im:0;0<lm--;)nm[eu++]=o4}}Wh=1;break n}Wh||(rm.a=3),Yc=Wh}(Yc=Yc&&!Io.h)&&($h=S(J_,X_,8,Zl,zh)),Yc&&$h!=0?Jc=$h:(Kc.a=3,Jc=0)}if(Jc==0)break r;if(Vc&&N_[wt]==1&&(Vc=Wc[Er].g==0),Xg+=Wc[Er].g,Er+=Jc,3>=wt){var tu,Vh=Ql[0];for(tu=1;tu<ur;++tu)Ql[tu]>Vh&&(Vh=Ql[tu]);Qg+=Vh}}if(bi.nd=Vc,bi.Qb=0,Vc&&(bi.qb=(_s[3][xs[3]+0].value<<24|_s[1][xs[1]+0].value<<16|_s[2][xs[2]+0].value)>>>0,Xg==0&&256>_s[0][xs[0]+0].value&&(bi.Qb=1,bi.qb+=_s[0][xs[0]+0].value<<8)),bi.jc=!bi.Qb&&6>Qg,bi.jc){var Qc,lo=bi;for(Qc=0;Qc<Ur;++Qc){var Mo=Qc,Fo=lo.pd[Mo],Zc=lo.G[0][lo.H[0]+Mo];256<=Zc.value?(Fo.g=Zc.g+256,Fo.value=Zc.value):(Fo.g=0,Fo.value=0,Mo>>=jt(Zc,8,Fo),Mo>>=jt(lo.G[1][lo.H[1]+Mo],16,Fo),Mo>>=jt(lo.G[2][lo.H[2]+Mo],0,Fo),jt(lo.G[3][lo.H[3]+Mo],24,Fo))}}}Dr.vc=zr,Dr.Wb=cn,Dr.Ya=Hc,Dr.yc=Uh,$t=1;break t}$t=0}if(!(V=$t)){j.a=3;break e}if(0<_e){if(ie.ua=1<<_e,!Me(ie.Wa,_e)){j.a=1,V=0;break e}}else ie.ua=0;var Gh=j,um=K,a4=X,Kh=Gh.s,Yh=Kh.xc;if(Gh.c=um,Gh.i=a4,Kh.md=he(um,Yh),Kh.wc=Yh==0?-1:(1<<Yh)-1,E){j.xb=M_;break e}if((ce=o(K*X))==null){j.a=1,V=0;break e}V=(V=_n(j,ce,0,K,X,X,null))&&!Z.h;break e}return V?(U!=null?U[0]=ce:(e(ce==null),e(E)),j.$=0,E||Mn(ie)):Mn(ie),V}function Qi(d,w){var E=d.c*d.i,j=E+w+16*w;return e(d.c<=w),d.V=o(j),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+E+w,1)}function Ze(d,w){var E=d.C,j=w-E,U=d.V,V=d.Ba+d.c*E;for(e(w<=d.l.o);0<j;){var K=16<j?16:j,X=d.l.ma,Z=d.l.width,ie=Z*K,ce=X.ca,_e=X.tb+Z*E,xe=d.Ta,ge=d.Ua;Kr(d,K,U,V),br(xe,ge,ce,_e,ie),bn(X,E,E+K,ce,_e,Z),j-=K,U+=K*d.c,E+=K}e(E==w),d.C=d.Ma=w}function ue(){this.ub=this.yd=this.td=this.Rb=0}function De(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ye(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ct(){this.Yb=function(){var d=[];return function w(E,j,U){for(var V=U[j],K=0;K<V&&(E.push(U.length>j+1?[]:0),!(U.length<j+1));K++)w(E[K],j+1,U)}(d,0,[3,11]),d}()}function Ar(){this.jb=o(3),this.Wc=s([4,8],Ct),this.Xc=s([4,17],Ct)}function er(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function mr(){this.ld=this.La=this.dd=this.tc=0}function xn(){this.Na=this.la=0}function Di(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vr(){this.uc=this.M=this.Nb=0,this.wa=Array(new mr),this.Y=0,this.ya=Array(new Zi),this.aa=0,this.l=new ts}function ga(){this.y=o(16),this.f=o(8),this.ea=o(8)}function es(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new ue,this.Kc=new De,this.ed=new er,this.Qa=new Ye,this.Ic=this.$c=this.Aa=0,this.D=new vr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,q),this.ia=0,this.pb=a(4,Di),this.Pa=new Ar,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ga),this.Hd=0,this.rb=Array(new xn),this.sb=0,this.wa=Array(new mr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zi),this.L=this.aa=0,this.gd=s([4,2],mr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ts(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function hh(){var d=new es;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Jl||(Jl=gc)),d}function yr(d,w,E){return d.a==0&&(d.a=w,d.sc=E,d.cb=0),0}function hc(d,w,E){return 3<=E&&d[w+0]==157&&d[w+1]==1&&d[w+2]==42}function pc(d,w){if(d==null)return 0;if(d.a=0,d.sc="OK",w==null)return yr(d,2,"null VP8Io passed to VP8GetHeaders()");var E=w.data,j=w.w,U=w.ha;if(4>U)return yr(d,7,"Truncated header.");var V=E[j+0]|E[j+1]<<8|E[j+2]<<16,K=d.Od;if(K.Rb=!(1&V),K.td=V>>1&7,K.yd=V>>4&1,K.ub=V>>5,3<K.td)return yr(d,3,"Incorrect keyframe parameters.");if(!K.yd)return yr(d,4,"Frame not displayable.");j+=3,U-=3;var X=d.Kc;if(K.Rb){if(7>U)return yr(d,7,"cannot parse picture header");if(!hc(E,j,U))return yr(d,3,"Bad code word");X.c=16383&(E[j+4]<<8|E[j+3]),X.Td=E[j+4]>>6,X.i=16383&(E[j+6]<<8|E[j+5]),X.Ud=E[j+6]>>6,j+=7,U-=7,d.za=X.c+15>>4,d.Ub=X.i+15>>4,w.width=X.c,w.height=X.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((V=d.Pa).jb,0,255,V.jb.length),e((V=d.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(K.ub>U)return yr(d,7,"bad partition length");G(V=d.m,E,j,K.ub),j+=K.ub,U-=K.ub,K.Rb&&(X.Ld=re(V),X.Kd=re(V)),X=d.Qa;var Z,ie=d.Pa;if(e(V!=null),e(X!=null),X.Cb=re(V),X.Cb){if(X.Bb=re(V),re(V)){for(X.Fb=re(V),Z=0;4>Z;++Z)X.Zb[Z]=re(V)?te(V,7):0;for(Z=0;4>Z;++Z)X.Lb[Z]=re(V)?te(V,6):0}if(X.Bb)for(Z=0;3>Z;++Z)ie.jb[Z]=re(V)?ee(V,8):255}else X.Bb=0;if(V.Ka)return yr(d,3,"cannot parse segment header");if((X=d.ed).zd=re(V),X.Tb=ee(V,6),X.wb=ee(V,3),X.Pc=re(V),X.Pc&&re(V)){for(ie=0;4>ie;++ie)re(V)&&(X.vd[ie]=te(V,6));for(ie=0;4>ie;++ie)re(V)&&(X.od[ie]=te(V,6))}if(d.L=X.Tb==0?0:X.zd?1:2,V.Ka)return yr(d,3,"cannot parse filter header");var ce=U;if(U=Z=j,j=Z+ce,X=ce,d.Xb=(1<<ee(d.m,2))-1,ce<3*(ie=d.Xb))E=7;else{for(Z+=3*ie,X-=3*ie,ce=0;ce<ie;++ce){var _e=E[U+0]|E[U+1]<<8|E[U+2]<<16;_e>X&&(_e=X),G(d.Jc[+ce],E,Z,_e),Z+=_e,X-=_e,U+=3}G(d.Jc[+ie],E,Z,X),E=Z<j?0:5}if(E!=0)return yr(d,E,"cannot parse partitions");for(E=ee(Z=d.m,7),U=re(Z)?te(Z,4):0,j=re(Z)?te(Z,4):0,X=re(Z)?te(Z,4):0,ie=re(Z)?te(Z,4):0,Z=re(Z)?te(Z,4):0,ce=d.Qa,_e=0;4>_e;++_e){if(ce.Cb){var xe=ce.Zb[_e];ce.Fb||(xe+=E)}else{if(0<_e){d.pb[_e]=d.pb[0];continue}xe=E}var ge=d.pb[_e];ge.Sc[0]=Fh[Bn(xe+U,127)],ge.Sc[1]=Bh[Bn(xe+0,127)],ge.Eb[0]=2*Fh[Bn(xe+j,127)],ge.Eb[1]=101581*Bh[Bn(xe+X,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=Fh[Bn(xe+ie,117)],ge.Qc[1]=Bh[Bn(xe+Z,127)],ge.lc=xe+Z}if(!K.Rb)return yr(d,4,"Not a key frame.");for(re(V),K=d.Pa,E=0;4>E;++E){for(U=0;8>U;++U)for(j=0;3>j;++j)for(X=0;11>X;++X)ie=ne(V,I_[E][U][j][X])?ee(V,8):C_[E][U][j][X],K.Wc[E][U].Yb[j][X]=ie;for(U=0;17>U;++U)K.Xc[E][U]=K.Wc[E][D_[U]]}return d.kc=re(V),d.kc&&(d.Bd=ee(V,8)),d.cb=1}function gc(d,w,E,j,U,V,K){var X=w[U].Yb[E];for(E=0;16>U;++U){if(!ne(d,X[E+0]))return U;for(;!ne(d,X[E+1]);)if(X=w[++U].Yb[0],E=0,U==16)return 16;var Z=w[U+1].Yb;if(ne(d,X[E+2])){var ie=d,ce=0;if(ne(ie,(xe=X)[(_e=E)+3]))if(ne(ie,xe[_e+6])){for(X=0,_e=2*(ce=ne(ie,xe[_e+8]))+(xe=ne(ie,xe[_e+9+ce])),ce=0,xe=P_[_e];xe[X];++X)ce+=ce+ne(ie,xe[X]);ce+=3+(8<<_e)}else ne(ie,xe[_e+7])?(ce=7+2*ne(ie,165),ce+=ne(ie,145)):ce=5+ne(ie,159);else ce=ne(ie,xe[_e+4])?3+ne(ie,xe[_e+5]):2;X=Z[2]}else ce=1,X=Z[1];Z=K+j_[U],0>(ie=d).b&&J(ie);var _e,xe=ie.b,ge=(_e=ie.Ca>>1)-(ie.I>>xe)>>31;--ie.b,ie.Ca+=ge,ie.Ca|=1,ie.I-=(_e+1&ge)<<xe,V[Z]=((ce^ge)-ge)*j[(0<U)+0]}return 16}function El(d){var w=d.rb[d.sb-1];w.la=0,w.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function ph(d,w){if(d==null)return 0;if(w==null)return yr(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!pc(d,w))return 0;if(e(d.cb),w.ac==null||w.ac(w)){w.ob&&(d.L=0);var E=$c[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=w.v-E>>4,d.zb=w.j-E>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=w.o+15+E>>4,d.Hb=w.va+15+E>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var j=d.ed;for(E=0;4>E;++E){var U;if(d.Qa.Cb){var V=d.Qa.Lb[E];d.Qa.Fb||(V+=j.Tb)}else V=j.Tb;for(U=0;1>=U;++U){var K=d.gd[E][U],X=V;if(j.Pc&&(X+=j.vd[0],U&&(X+=j.od[0])),0<(X=0>X?0:63<X?63:X)){var Z=X;0<j.wb&&(Z=4<j.wb?Z>>2:Z>>1)>9-j.wb&&(Z=9-j.wb),1>Z&&(Z=1),K.dd=Z,K.tc=2*X+Z,K.ld=40<=X?2:15<=X?1:0}else K.tc=0;K.La=U}}}E=0}else yr(d,6,"Frame setup failed"),E=d.a;if(E=E==0){if(E){d.$c=0,0<d.Aa||(d.Ic=Y_);e:{E=d.Ic,j=4*(Z=d.za);var ie=32*Z,ce=Z+1,_e=0<d.L?Z*(0<d.Aa?2:1):0,xe=(d.Aa==2?2:1)*Z;if((K=j+832+(U=3*(16*E+$c[d.L])/2*ie)+(V=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=K)E=0;else{if(K>d.Vb){if(d.Vb=0,d.Ec=o(K),d.Fc=0,d.Ec==null){E=yr(d,1,"no memory during frame initialization.");break e}d.Vb=K}K=d.Ec,X=d.Fc,d.Ac=K,d.Bc=X,X+=j,d.Gd=a(ie,ga),d.Hd=0,d.rb=a(ce+1,xn),d.sb=1,d.wa=_e?a(_e,mr):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=Z),e(!0),d.oc=K,d.pc=X,X+=832,d.ya=a(xe,Zi),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=Z),d.R=16*Z,d.B=8*Z,Z=(ie=$c[d.L])*d.R,ie=ie/2*d.B,d.sa=K,d.ta=X+Z,d.qa=d.sa,d.ra=d.ta+16*E*d.R+ie,d.Ha=d.qa,d.Ia=d.ra+8*E*d.B+ie,d.$c=0,X+=U,d.mb=V?K:null,d.nb=V?X:null,e(X+V<=d.Fc+d.Vb),El(d),i(d.Ac,d.Bc,0,j),E=1}}if(E){if(w.ka=0,w.y=d.sa,w.O=d.ta,w.f=d.qa,w.N=d.ra,w.ea=d.Ha,w.Vd=d.Ia,w.fa=d.R,w.Rc=d.B,w.F=null,w.J=0,!Rc){for(E=-255;255>=E;++E)Pr[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)oo[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)Yl[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)ws[255+E]=0>E?0:255<E?255:E;Rc=1}ms=vh,io=gh,Vl=vc,un=mh,ri=yc,wr=mc,vs=Cl,Cc=ya,Gl=Th,_a=Rl,xa=Lh,To=ss,Sa=Il,ys=Ec,ka=Nc,Po=Fi,Kl=to,ni=Oh,wi[0]=Mi,wi[1]=yh,wi[2]=xh,wi[3]=Sh,wi[4]=_c,wi[5]=os,wi[6]=xc,wi[7]=Tl,wi[8]=Ah,wi[9]=kh,jo[0]=wc,jo[1]=bh,jo[2]=eo,jo[3]=ns,jo[4]=Yr,jo[5]=_h,jo[6]=bc,ao[0]=Ao,ao[1]=wh,ao[2]=Nh,ao[3]=Pl,ao[4]=va,ao[5]=Eh,ao[6]=jl,E=1}else E=0}E&&(E=function(ge,je){for(ge.M=0;ge.M<ge.Va;++ge.M){var Ae,fe=ge.Jc[ge.M&ge.Xb],pe=ge.m,Le=ge;for(Ae=0;Ae<Le.za;++Ae){var Ce=pe,Te=Le,Ge=Te.Ac,$e=Te.Bc+4*Ae,ut=Te.zc,He=Te.ya[Te.aa+Ae];if(Te.Qa.Bb?He.$b=ne(Ce,Te.Pa.jb[0])?2+ne(Ce,Te.Pa.jb[2]):ne(Ce,Te.Pa.jb[1]):He.$b=0,Te.kc&&(He.Ad=ne(Ce,Te.Bd)),He.Za=!ne(Ce,145)+0,He.Za){var Tt=He.Ob,Rt=0;for(Te=0;4>Te;++Te){var Ot,At=ut[0+Te];for(Ot=0;4>Ot;++Ot){At=R_[Ge[$e+Ot]][At];for(var $t=qg[ne(Ce,At[0])];0<$t;)$t=qg[2*$t+ne(Ce,At[$t])];At=-$t,Ge[$e+Ot]=At}n(Tt,Rt,Ge,$e,4),Rt+=4,ut[0+Te]=At}}else At=ne(Ce,156)?ne(Ce,128)?1:3:ne(Ce,163)?2:0,He.Ob[0]=At,i(Ge,$e,At,4),i(ut,0,At,4);He.Dd=ne(Ce,142)?ne(Ce,114)?ne(Ce,183)?1:3:2:0}if(Le.m.Ka)return yr(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(Le=fe,Ce=(pe=ge).rb[pe.sb-1],Ge=pe.rb[pe.sb+pe.ja],Ae=pe.ya[pe.aa+pe.ja],$e=pe.kc?Ae.Ad:0)Ce.la=Ge.la=0,Ae.Za||(Ce.Na=Ge.Na=0),Ae.Hc=0,Ae.Gc=0,Ae.ia=0;else{var Ut,wt;if(Ce=Ge,Ge=Le,$e=pe.Pa.Xc,ut=pe.ya[pe.aa+pe.ja],He=pe.pb[ut.$b],Te=ut.ad,Tt=0,Rt=pe.rb[pe.sb-1],At=Ot=0,i(Te,Tt,0,384),ut.Za)var Er=0,Nn=$e[3];else{$t=o(16);var Or=Ce.Na+Rt.Na;if(Or=Jl(Ge,$e[1],Or,He.Eb,0,$t,0),Ce.Na=Rt.Na=(0<Or)+0,1<Or)ms($t,0,Te,Tt);else{var En=$t[0]+3>>3;for($t=0;256>$t;$t+=16)Te[Tt+$t]=En}Er=1,Nn=$e[0]}var It=15&Ce.la,Un=15&Rt.la;for($t=0;4>$t;++$t){var zn=1&Un;for(En=wt=0;4>En;++En)It=It>>1|(zn=(Or=Jl(Ge,Nn,Or=zn+(1&It),He.Sc,Er,Te,Tt))>Er)<<7,wt=wt<<2|(3<Or?3:1<Or?2:Te[Tt+0]!=0),Tt+=16;It>>=4,Un=Un>>1|zn<<7,Ot=(Ot<<8|wt)>>>0}for(Nn=It,Er=Un>>4,Ut=0;4>Ut;Ut+=2){for(wt=0,It=Ce.la>>4+Ut,Un=Rt.la>>4+Ut,$t=0;2>$t;++$t){for(zn=1&Un,En=0;2>En;++En)Or=zn+(1&It),It=It>>1|(zn=0<(Or=Jl(Ge,$e[2],Or,He.Qc,0,Te,Tt)))<<3,wt=wt<<2|(3<Or?3:1<Or?2:Te[Tt+0]!=0),Tt+=16;It>>=2,Un=Un>>1|zn<<5}At|=wt<<4*Ut,Nn|=It<<4<<Ut,Er|=(240&Un)<<Ut}Ce.la=Nn,Rt.la=Er,ut.Hc=Ot,ut.Gc=At,ut.ia=43690&At?0:He.ia,$e=!(Ot|At)}if(0<pe.L&&(pe.wa[pe.Y+pe.ja]=pe.gd[Ae.$b][Ae.Za],pe.wa[pe.Y+pe.ja].La|=!$e),Le.Ka)return yr(ge,7,"Premature end-of-file encountered.")}if(El(ge),pe=je,Le=1,Ae=(fe=ge).D,Ce=0<fe.L&&fe.M>=fe.zb&&fe.M<=fe.Va,fe.Aa==0)e:{if(Ae.M=fe.M,Ae.uc=Ce,Ul(fe,Ae),Le=1,Ae=(wt=fe.D).Nb,Ce=(At=$c[fe.L])*fe.R,Ge=At/2*fe.B,$t=16*Ae*fe.R,En=8*Ae*fe.B,$e=fe.sa,ut=fe.ta-Ce+$t,He=fe.qa,Te=fe.ra-Ge+En,Tt=fe.Ha,Rt=fe.Ia-Ge+En,Un=(It=wt.M)==0,Ot=It>=fe.Va-1,fe.Aa==2&&Ul(fe,wt),wt.uc)for(zn=(Or=fe).D.M,e(Or.D.uc),wt=Or.yb;wt<Or.Hb;++wt){Er=wt,Nn=zn;var Dr=(zr=(ur=Or).D).Nb;Ut=ur.R;var zr=zr.wa[zr.Y+Er],cn=ur.sa,si=ur.ta+16*Dr*Ut+16*Er,qi=zr.dd,Mr=zr.tc;if(Mr!=0)if(e(3<=Mr),ur.L==1)0<Er&&Po(cn,si,Ut,Mr+4),zr.La&&ni(cn,si,Ut,Mr),0<Nn&&ka(cn,si,Ut,Mr+4),zr.La&&Kl(cn,si,Ut,Mr);else{var so=ur.B,Aa=ur.qa,bs=ur.ra+8*Dr*so+8*Er,Ro=ur.Ha,ur=ur.Ia+8*Dr*so+8*Er;Dr=zr.ld,0<Er&&(Cc(cn,si,Ut,Mr+4,qi,Dr),_a(Aa,bs,Ro,ur,so,Mr+4,qi,Dr)),zr.La&&(To(cn,si,Ut,Mr,qi,Dr),ys(Aa,bs,Ro,ur,so,Mr,qi,Dr)),0<Nn&&(vs(cn,si,Ut,Mr+4,qi,Dr),Gl(Aa,bs,Ro,ur,so,Mr+4,qi,Dr)),zr.La&&(xa(cn,si,Ut,Mr,qi,Dr),Sa(Aa,bs,Ro,ur,so,Mr,qi,Dr))}}if(fe.ia&&alert("todo:DitherRow"),pe.put!=null){if(wt=16*It,It=16*(It+1),Un?(pe.y=fe.sa,pe.O=fe.ta+$t,pe.f=fe.qa,pe.N=fe.ra+En,pe.ea=fe.Ha,pe.W=fe.Ia+En):(wt-=At,pe.y=$e,pe.O=ut,pe.f=He,pe.N=Te,pe.ea=Tt,pe.W=Rt),Ot||(It-=At),It>pe.o&&(It=pe.o),pe.F=null,pe.J=null,fe.Fa!=null&&0<fe.Fa.length&&wt<It&&(pe.J=Bl(fe,pe,wt,It-wt),pe.F=fe.mb,pe.F==null&&pe.F.length==0)){Le=yr(fe,3,"Could not decode alpha data.");break e}wt<pe.j&&(At=pe.j-wt,wt=pe.j,e(!(1&At)),pe.O+=fe.R*At,pe.N+=fe.B*(At>>1),pe.W+=fe.B*(At>>1),pe.F!=null&&(pe.J+=pe.width*At)),wt<It&&(pe.O+=pe.v,pe.N+=pe.v>>1,pe.W+=pe.v>>1,pe.F!=null&&(pe.J+=pe.v),pe.ka=wt-pe.j,pe.U=pe.va-pe.v,pe.T=It-wt,Le=pe.put(pe))}Ae+1!=fe.Ic||Ot||(n(fe.sa,fe.ta-Ce,$e,ut+16*fe.R,Ce),n(fe.qa,fe.ra-Ge,He,Te+8*fe.B,Ge),n(fe.Ha,fe.Ia-Ge,Tt,Rt+8*fe.B,Ge))}if(!Le)return yr(ge,6,"Output aborted.")}return 1}(d,w)),w.bc!=null&&w.bc(w),E&=1}return E?(d.cb=0,E):0}function mi(d,w,E,j,U){U=d[w+E+32*j]+(U>>3),d[w+E+32*j]=-256&U?0>U?0:255:U}function rs(d,w,E,j,U,V){mi(d,w,0,E,j+U),mi(d,w,1,E,j+V),mi(d,w,2,E,j-V),mi(d,w,3,E,j-U)}function Sn(d){return(20091*d>>16)+d}function Ol(d,w,E,j){var U,V=0,K=o(16);for(U=0;4>U;++U){var X=d[w+0]+d[w+8],Z=d[w+0]-d[w+8],ie=(35468*d[w+4]>>16)-Sn(d[w+12]),ce=Sn(d[w+4])+(35468*d[w+12]>>16);K[V+0]=X+ce,K[V+1]=Z+ie,K[V+2]=Z-ie,K[V+3]=X-ce,V+=4,w++}for(U=V=0;4>U;++U)X=(d=K[V+0]+4)+K[V+8],Z=d-K[V+8],ie=(35468*K[V+4]>>16)-Sn(K[V+12]),mi(E,j,0,0,X+(ce=Sn(K[V+4])+(35468*K[V+12]>>16))),mi(E,j,1,0,Z+ie),mi(E,j,2,0,Z-ie),mi(E,j,3,0,X-ce),V++,j+=32}function mc(d,w,E,j){var U=d[w+0]+4,V=35468*d[w+4]>>16,K=Sn(d[w+4]),X=35468*d[w+1]>>16;rs(E,j,0,U+K,d=Sn(d[w+1]),X),rs(E,j,1,U+V,d,X),rs(E,j,2,U-V,d,X),rs(E,j,3,U-K,d,X)}function gh(d,w,E,j,U){Ol(d,w,E,j),U&&Ol(d,w+16,E,j+4)}function vc(d,w,E,j){io(d,w+0,E,j,1),io(d,w+32,E,j+128,1)}function mh(d,w,E,j){var U;for(d=d[w+0]+4,U=0;4>U;++U)for(w=0;4>w;++w)mi(E,j,w,U,d)}function yc(d,w,E,j){d[w+0]&&un(d,w+0,E,j),d[w+16]&&un(d,w+16,E,j+4),d[w+32]&&un(d,w+32,E,j+128),d[w+48]&&un(d,w+48,E,j+128+4)}function vh(d,w,E,j){var U,V=o(16);for(U=0;4>U;++U){var K=d[w+0+U]+d[w+12+U],X=d[w+4+U]+d[w+8+U],Z=d[w+4+U]-d[w+8+U],ie=d[w+0+U]-d[w+12+U];V[0+U]=K+X,V[8+U]=K-X,V[4+U]=ie+Z,V[12+U]=ie-Z}for(U=0;4>U;++U)K=(d=V[0+4*U]+3)+V[3+4*U],X=V[1+4*U]+V[2+4*U],Z=V[1+4*U]-V[2+4*U],ie=d-V[3+4*U],E[j+0]=K+X>>3,E[j+16]=ie+Z>>3,E[j+32]=K-X>>3,E[j+48]=ie-Z>>3,j+=64}function Ll(d,w,E){var j,U=w-32,V=qn,K=255-d[U-1];for(j=0;j<E;++j){var X,Z=V,ie=K+d[w-1];for(X=0;X<E;++X)d[w+X]=Z[ie+d[U+X]];w+=32}}function yh(d,w){Ll(d,w,4)}function wh(d,w){Ll(d,w,8)}function bh(d,w){Ll(d,w,16)}function eo(d,w){var E;for(E=0;16>E;++E)n(d,w+32*E,d,w-32,16)}function ns(d,w){var E;for(E=16;0<E;--E)i(d,w,d[w-1],16),w+=32}function is(d,w,E){var j;for(j=0;16>j;++j)i(w,E+32*j,d,16)}function wc(d,w){var E,j=16;for(E=0;16>E;++E)j+=d[w-1+32*E]+d[w+E-32];is(j>>5,d,w)}function Yr(d,w){var E,j=8;for(E=0;16>E;++E)j+=d[w-1+32*E];is(j>>4,d,w)}function _h(d,w){var E,j=8;for(E=0;16>E;++E)j+=d[w+E-32];is(j>>4,d,w)}function bc(d,w){is(128,d,w)}function pt(d,w,E){return d+2*w+E+2>>2}function xh(d,w){var E,j=w-32;for(j=new Uint8Array([pt(d[j-1],d[j+0],d[j+1]),pt(d[j+0],d[j+1],d[j+2]),pt(d[j+1],d[j+2],d[j+3]),pt(d[j+2],d[j+3],d[j+4])]),E=0;4>E;++E)n(d,w+32*E,j,0,j.length)}function Sh(d,w){var E=d[w-1],j=d[w-1+32],U=d[w-1+64],V=d[w-1+96];de(d,w+0,16843009*pt(d[w-1-32],E,j)),de(d,w+32,16843009*pt(E,j,U)),de(d,w+64,16843009*pt(j,U,V)),de(d,w+96,16843009*pt(U,V,V))}function Mi(d,w){var E,j=4;for(E=0;4>E;++E)j+=d[w+E-32]+d[w-1+32*E];for(j>>=3,E=0;4>E;++E)i(d,w+32*E,j,4)}function _c(d,w){var E=d[w-1+0],j=d[w-1+32],U=d[w-1+64],V=d[w-1-32],K=d[w+0-32],X=d[w+1-32],Z=d[w+2-32],ie=d[w+3-32];d[w+0+96]=pt(j,U,d[w-1+96]),d[w+1+96]=d[w+0+64]=pt(E,j,U),d[w+2+96]=d[w+1+64]=d[w+0+32]=pt(V,E,j),d[w+3+96]=d[w+2+64]=d[w+1+32]=d[w+0+0]=pt(K,V,E),d[w+3+64]=d[w+2+32]=d[w+1+0]=pt(X,K,V),d[w+3+32]=d[w+2+0]=pt(Z,X,K),d[w+3+0]=pt(ie,Z,X)}function xc(d,w){var E=d[w+1-32],j=d[w+2-32],U=d[w+3-32],V=d[w+4-32],K=d[w+5-32],X=d[w+6-32],Z=d[w+7-32];d[w+0+0]=pt(d[w+0-32],E,j),d[w+1+0]=d[w+0+32]=pt(E,j,U),d[w+2+0]=d[w+1+32]=d[w+0+64]=pt(j,U,V),d[w+3+0]=d[w+2+32]=d[w+1+64]=d[w+0+96]=pt(U,V,K),d[w+3+32]=d[w+2+64]=d[w+1+96]=pt(V,K,X),d[w+3+64]=d[w+2+96]=pt(K,X,Z),d[w+3+96]=pt(X,Z,Z)}function os(d,w){var E=d[w-1+0],j=d[w-1+32],U=d[w-1+64],V=d[w-1-32],K=d[w+0-32],X=d[w+1-32],Z=d[w+2-32],ie=d[w+3-32];d[w+0+0]=d[w+1+64]=V+K+1>>1,d[w+1+0]=d[w+2+64]=K+X+1>>1,d[w+2+0]=d[w+3+64]=X+Z+1>>1,d[w+3+0]=Z+ie+1>>1,d[w+0+96]=pt(U,j,E),d[w+0+64]=pt(j,E,V),d[w+0+32]=d[w+1+96]=pt(E,V,K),d[w+1+32]=d[w+2+96]=pt(V,K,X),d[w+2+32]=d[w+3+96]=pt(K,X,Z),d[w+3+32]=pt(X,Z,ie)}function Tl(d,w){var E=d[w+0-32],j=d[w+1-32],U=d[w+2-32],V=d[w+3-32],K=d[w+4-32],X=d[w+5-32],Z=d[w+6-32],ie=d[w+7-32];d[w+0+0]=E+j+1>>1,d[w+1+0]=d[w+0+64]=j+U+1>>1,d[w+2+0]=d[w+1+64]=U+V+1>>1,d[w+3+0]=d[w+2+64]=V+K+1>>1,d[w+0+32]=pt(E,j,U),d[w+1+32]=d[w+0+96]=pt(j,U,V),d[w+2+32]=d[w+1+96]=pt(U,V,K),d[w+3+32]=d[w+2+96]=pt(V,K,X),d[w+3+64]=pt(K,X,Z),d[w+3+96]=pt(X,Z,ie)}function kh(d,w){var E=d[w-1+0],j=d[w-1+32],U=d[w-1+64],V=d[w-1+96];d[w+0+0]=E+j+1>>1,d[w+2+0]=d[w+0+32]=j+U+1>>1,d[w+2+32]=d[w+0+64]=U+V+1>>1,d[w+1+0]=pt(E,j,U),d[w+3+0]=d[w+1+32]=pt(j,U,V),d[w+3+32]=d[w+1+64]=pt(U,V,V),d[w+3+64]=d[w+2+64]=d[w+0+96]=d[w+1+96]=d[w+2+96]=d[w+3+96]=V}function Ah(d,w){var E=d[w-1+0],j=d[w-1+32],U=d[w-1+64],V=d[w-1+96],K=d[w-1-32],X=d[w+0-32],Z=d[w+1-32],ie=d[w+2-32];d[w+0+0]=d[w+2+32]=E+K+1>>1,d[w+0+32]=d[w+2+64]=j+E+1>>1,d[w+0+64]=d[w+2+96]=U+j+1>>1,d[w+0+96]=V+U+1>>1,d[w+3+0]=pt(X,Z,ie),d[w+2+0]=pt(K,X,Z),d[w+1+0]=d[w+3+32]=pt(E,K,X),d[w+1+32]=d[w+3+64]=pt(j,E,K),d[w+1+64]=d[w+3+96]=pt(U,j,E),d[w+1+96]=pt(V,U,j)}function Nh(d,w){var E;for(E=0;8>E;++E)n(d,w+32*E,d,w-32,8)}function Pl(d,w){var E;for(E=0;8>E;++E)i(d,w,d[w-1],8),w+=32}function ma(d,w,E){var j;for(j=0;8>j;++j)i(w,E+32*j,d,8)}function Ao(d,w){var E,j=8;for(E=0;8>E;++E)j+=d[w+E-32]+d[w-1+32*E];ma(j>>4,d,w)}function Eh(d,w){var E,j=4;for(E=0;8>E;++E)j+=d[w+E-32];ma(j>>3,d,w)}function va(d,w){var E,j=4;for(E=0;8>E;++E)j+=d[w-1+32*E];ma(j>>3,d,w)}function jl(d,w){ma(128,d,w)}function as(d,w,E){var j=d[w-E],U=d[w+0],V=3*(U-j)+Ch[1020+d[w-2*E]-d[w+E]],K=Ic[112+(V+4>>3)];d[w-E]=qn[255+j+Ic[112+(V+3>>3)]],d[w+0]=qn[255+U-K]}function Sc(d,w,E,j){var U=d[w+0],V=d[w+E];return oi[255+d[w-2*E]-d[w-E]]>j||oi[255+V-U]>j}function kc(d,w,E,j){return 4*oi[255+d[w-E]-d[w+0]]+oi[255+d[w-2*E]-d[w+E]]<=j}function Ac(d,w,E,j,U){var V=d[w-3*E],K=d[w-2*E],X=d[w-E],Z=d[w+0],ie=d[w+E],ce=d[w+2*E],_e=d[w+3*E];return 4*oi[255+X-Z]+oi[255+K-ie]>j?0:oi[255+d[w-4*E]-V]<=U&&oi[255+V-K]<=U&&oi[255+K-X]<=U&&oi[255+_e-ce]<=U&&oi[255+ce-ie]<=U&&oi[255+ie-Z]<=U}function Nc(d,w,E,j){var U=2*j+1;for(j=0;16>j;++j)kc(d,w+j,E,U)&&as(d,w+j,E)}function Fi(d,w,E,j){var U=2*j+1;for(j=0;16>j;++j)kc(d,w+j*E,1,U)&&as(d,w+j*E,1)}function to(d,w,E,j){var U;for(U=3;0<U;--U)Nc(d,w+=4*E,E,j)}function Oh(d,w,E,j){var U;for(U=3;0<U;--U)Fi(d,w+=4,E,j)}function No(d,w,E,j,U,V,K,X){for(V=2*V+1;0<U--;){if(Ac(d,w,E,V,K))if(Sc(d,w,E,X))as(d,w,E);else{var Z=d,ie=w,ce=E,_e=Z[ie-2*ce],xe=Z[ie-ce],ge=Z[ie+0],je=Z[ie+ce],Ae=Z[ie+2*ce],fe=27*(Le=Ch[1020+3*(ge-xe)+Ch[1020+_e-je]])+63>>7,pe=18*Le+63>>7,Le=9*Le+63>>7;Z[ie-3*ce]=qn[255+Z[ie-3*ce]+Le],Z[ie-2*ce]=qn[255+_e+pe],Z[ie-ce]=qn[255+xe+fe],Z[ie+0]=qn[255+ge-fe],Z[ie+ce]=qn[255+je-pe],Z[ie+2*ce]=qn[255+Ae-Le]}w+=j}}function vi(d,w,E,j,U,V,K,X){for(V=2*V+1;0<U--;){if(Ac(d,w,E,V,K))if(Sc(d,w,E,X))as(d,w,E);else{var Z=d,ie=w,ce=E,_e=Z[ie-ce],xe=Z[ie+0],ge=Z[ie+ce],je=Ic[112+((Ae=3*(xe-_e))+4>>3)],Ae=Ic[112+(Ae+3>>3)],fe=je+1>>1;Z[ie-2*ce]=qn[255+Z[ie-2*ce]+fe],Z[ie-ce]=qn[255+_e+Ae],Z[ie+0]=qn[255+xe-je],Z[ie+ce]=qn[255+ge-fe]}w+=j}}function Cl(d,w,E,j,U,V){No(d,w,E,1,16,j,U,V)}function ya(d,w,E,j,U,V){No(d,w,1,E,16,j,U,V)}function Lh(d,w,E,j,U,V){var K;for(K=3;0<K;--K)vi(d,w+=4*E,E,1,16,j,U,V)}function ss(d,w,E,j,U,V){var K;for(K=3;0<K;--K)vi(d,w+=4,1,E,16,j,U,V)}function Th(d,w,E,j,U,V,K,X){No(d,w,U,1,8,V,K,X),No(E,j,U,1,8,V,K,X)}function Rl(d,w,E,j,U,V,K,X){No(d,w,1,U,8,V,K,X),No(E,j,1,U,8,V,K,X)}function Il(d,w,E,j,U,V,K,X){vi(d,w+4*U,U,1,8,V,K,X),vi(E,j+4*U,U,1,8,V,K,X)}function Ec(d,w,E,j,U,V,K,X){vi(d,w+4,1,U,8,V,K,X),vi(E,j+4,1,U,8,V,K,X)}function ls(){this.ba=new Pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Dl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ml(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Oc(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new D,this.yc=new N}function Ph(){this.xb=this.a=0,this.l=new ts,this.ca=new Pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Oc,this.ab=0,this.gc=a(4,Ml),this.Oc=0}function us(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ts,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wa(d,w,E,j,U,V,K){for(d=d==null?0:d[w+0],w=0;w<K;++w)U[V+w]=d+E[j+w]&255,d=U[V+w]}function Fl(d,w,E,j,U,V,K){var X;if(d==null)wa(null,null,E,j,U,V,K);else for(X=0;X<K;++X)U[V+X]=d[w+X]+E[j+X]&255}function Eo(d,w,E,j,U,V,K){if(d==null)wa(null,null,E,j,U,V,K);else{var X,Z=d[w+0],ie=Z,ce=Z;for(X=0;X<K;++X)ie=ce+(Z=d[w+X])-ie,ce=E[j+X]+(-256&ie?0>ie?0:255:ie)&255,ie=Z,U[V+X]=ce}}function Bl(d,w,E,j){var U=w.width,V=w.o;if(e(d!=null&&w!=null),0>E||0>=j||E+j>V)return null;if(!d.Cc){if(d.ga==null){var K;if(d.ga=new us,(K=d.ga==null)||(K=w.width*w.o,e(d.Gb.length==0),d.Gb=o(K),d.Uc=0,d.Gb==null?K=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,K=1),K=!K),!K){K=d.ga;var X=d.Fa,Z=d.P,ie=d.qc,ce=d.mb,_e=d.nb,xe=Z+1,ge=ie-1,je=K.l;if(e(X!=null&&ce!=null&&w!=null),Co[0]=null,Co[1]=wa,Co[2]=Fl,Co[3]=Eo,K.ca=ce,K.tb=_e,K.c=w.width,K.i=w.height,e(0<K.c&&0<K.i),1>=ie)w=0;else if(K.$a=X[Z+0]>>0&3,K.Z=X[Z+0]>>2&3,K.Lc=X[Z+0]>>4&3,Z=X[Z+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||Z)w=0;else if(je.put=ei,je.ac=Zt,je.bc=Rn,je.ma=K,je.width=w.width,je.height=w.height,je.Da=w.Da,je.v=w.v,je.va=w.va,je.j=w.j,je.o=w.o,K.$a)e:{e(K.$a==1),w=sn();t:for(;;){if(w==null){w=0;break e}if(e(K!=null),K.mc=w,w.c=K.c,w.i=K.i,w.l=K.l,w.l.ma=K,w.l.width=K.c,w.l.height=K.i,w.a=0,Q(w.m,X,xe,ge),!Fn(K.c,K.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Dn(w.s)?(K.ic=1,X=w.c*w.i,w.Ta=null,w.Ua=0,w.V=o(X),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(K.ic=0,w=Qi(w,K.c)),!w))break t;w=1;break e}K.mc=null,w=0}else w=ge>=K.c*K.i;K=!w}if(K)return null;d.ga.Lc!=1?d.Ga=0:j=V-E}e(d.ga!=null),e(E+j<=V);e:{if(w=(X=d.ga).c,V=X.l.o,X.$a==0){if(xe=d.rc,ge=d.Vc,je=d.Fa,Z=d.P+1+E*w,ie=d.mb,ce=d.nb+E*w,e(Z<=d.P+d.qc),X.Z!=0)for(e(Co[X.Z]!=null),K=0;K<j;++K)Co[X.Z](xe,ge,je,Z,ie,ce,w),xe=ie,ge=ce,ce+=w,Z+=w;else for(K=0;K<j;++K)n(ie,ce,je,Z,w),xe=ie,ge=ce,ce+=w,Z+=w;d.rc=xe,d.Vc=ge}else{if(e(X.mc!=null),w=E+j,e((K=X.mc)!=null),e(w<=K.i),K.C>=w)w=1;else if(X.ic||ye(),X.ic){X=K.V,xe=K.Ba,ge=K.c;var Ae=K.i,fe=(je=1,Z=K.$/ge,ie=K.$%ge,ce=K.m,_e=K.s,K.$),pe=ge*Ae,Le=ge*w,Ce=_e.wc,Te=fe<Le?qt(_e,ie,Z):null;e(fe<=pe),e(w<=Ae),e(Dn(_e));t:for(;;){for(;!ce.h&&fe<Le;){if(ie&Ce||(Te=qt(_e,ie,Z)),e(Te!=null),B(ce),256>(Ae=Gr(Te.G[0],Te.H[0],ce)))X[xe+fe]=Ae,++fe,++ie>=ge&&(ie=0,++Z<=w&&!(Z%16)&&gr(K,Z));else{if(!(280>Ae)){je=0;break t}Ae=wn(Ae-256,ce);var Ge,$e=Gr(Te.G[4],Te.H[4],ce);if(B(ce),!(fe>=($e=In(ge,$e=wn($e,ce)))&&pe-fe>=Ae)){je=0;break t}for(Ge=0;Ge<Ae;++Ge)X[xe+fe+Ge]=X[xe+fe+Ge-$e];for(fe+=Ae,ie+=Ae;ie>=ge;)ie-=ge,++Z<=w&&!(Z%16)&&gr(K,Z);fe<Le&&ie&Ce&&(Te=qt(_e,ie,Z))}e(ce.h==$(ce))}gr(K,Z>w?w:Z);break t}!je||ce.h&&fe<pe?(je=0,K.a=ce.h?5:3):K.$=fe,w=je}else w=_n(K,K.V,K.Ba,K.c,K.i,w,Ze);if(!w){j=0;break e}}E+j>=V&&(d.Cc=1),j=1}if(!j)return null;if(d.Cc&&((j=d.ga)!=null&&(j.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+E*U}function k(d,w,E,j,U,V){for(;0<U--;){var K,X=d,Z=w+(E?1:0),ie=d,ce=w+(E?0:3);for(K=0;K<j;++K){var _e=ie[ce+4*K];_e!=255&&(_e*=32897,X[Z+4*K+0]=X[Z+4*K+0]*_e>>23,X[Z+4*K+1]=X[Z+4*K+1]*_e>>23,X[Z+4*K+2]=X[Z+4*K+2]*_e>>23)}w+=V}}function z(d,w,E,j,U){for(;0<j--;){var V;for(V=0;V<E;++V){var K=d[w+2*V+0],X=15&(ie=d[w+2*V+1]),Z=4369*X,ie=(240&ie|ie>>4)*Z>>16;d[w+2*V+0]=(240&K|K>>4)*Z>>16&240|(15&K|K<<4)*Z>>16>>4&15,d[w+2*V+1]=240&ie|X}w+=U}}function oe(d,w,E,j,U,V,K,X){var Z,ie,ce=255;for(ie=0;ie<U;++ie){for(Z=0;Z<j;++Z){var _e=d[w+Z];V[K+4*Z]=_e,ce&=_e}w+=E,K+=X}return ce!=255}function le(d,w,E,j,U){var V;for(V=0;V<U;++V)E[j+V]=d[w+V]>>8}function ye(){ii=k,Wt=z,Vt=oe,br=le}function Ee(d,w,E){O[d]=function(j,U,V,K,X,Z,ie,ce,_e,xe,ge,je,Ae,fe,pe,Le,Ce){var Te,Ge=Ce-1>>1,$e=X[Z+0]|ie[ce+0]<<16,ut=_e[xe+0]|ge[je+0]<<16;e(j!=null);var He=3*$e+ut+131074>>2;for(w(j[U+0],255&He,He>>16,Ae,fe),V!=null&&(He=3*ut+$e+131074>>2,w(V[K+0],255&He,He>>16,pe,Le)),Te=1;Te<=Ge;++Te){var Tt=X[Z+Te]|ie[ce+Te]<<16,Rt=_e[xe+Te]|ge[je+Te]<<16,Ot=$e+Tt+ut+Rt+524296,At=Ot+2*(Tt+ut)>>3;He=At+$e>>1,$e=(Ot=Ot+2*($e+Rt)>>3)+Tt>>1,w(j[U+2*Te-1],255&He,He>>16,Ae,fe+(2*Te-1)*E),w(j[U+2*Te-0],255&$e,$e>>16,Ae,fe+(2*Te-0)*E),V!=null&&(He=Ot+ut>>1,$e=At+Rt>>1,w(V[K+2*Te-1],255&He,He>>16,pe,Le+(2*Te-1)*E),w(V[K+2*Te+0],255&$e,$e>>16,pe,Le+(2*Te+0)*E)),$e=Tt,ut=Rt}1&Ce||(He=3*$e+ut+131074>>2,w(j[U+Ce-1],255&He,He>>16,Ae,fe+(Ce-1)*E),V!=null&&(He=3*ut+$e+131074>>2,w(V[K+Ce-1],255&He,He>>16,pe,Le+(Ce-1)*E)))}}function Re(){ai[Dc]=F_,ai[Mc]=zg,ai[Mg]=B_,ai[Fc]=$g,ai[Bc]=Hg,ai[Rh]=Wg,ai[Fg]=q_,ai[Ih]=zg,ai[Dh]=$g,ai[qc]=Hg,ai[Mh]=Wg}function Ve(d){return d&-16384?0>d?0:255:d>>U_}function at(d,w){return Ve((19077*d>>8)+(26149*w>>8)-14234)}function yt(d,w,E){return Ve((19077*d>>8)-(6419*w>>8)-(13320*E>>8)+8708)}function mt(d,w){return Ve((19077*d>>8)+(33050*w>>8)-17685)}function Et(d,w,E,j,U){j[U+0]=at(d,E),j[U+1]=yt(d,w,E),j[U+2]=mt(d,w)}function nr(d,w,E,j,U){j[U+0]=mt(d,w),j[U+1]=yt(d,w,E),j[U+2]=at(d,E)}function lr(d,w,E,j,U){var V=yt(d,w,E);w=V<<3&224|mt(d,w)>>3,j[U+0]=248&at(d,E)|V>>5,j[U+1]=w}function Nr(d,w,E,j,U){var V=240&mt(d,w)|15;j[U+0]=240&at(d,E)|yt(d,w,E)>>4,j[U+1]=V}function Jr(d,w,E,j,U){j[U+0]=255,Et(d,w,E,j,U+1)}function Ir(d,w,E,j,U){nr(d,w,E,j,U),j[U+3]=255}function yi(d,w,E,j,U){Et(d,w,E,j,U),j[U+3]=255}function Bn(d,w){return 0>d?0:d>w?w:d}function Bi(d,w,E){O[d]=function(j,U,V,K,X,Z,ie,ce,_e){for(var xe=ce+(-2&_e)*E;ce!=xe;)w(j[U+0],V[K+0],X[Z+0],ie,ce),w(j[U+1],V[K+0],X[Z+0],ie,ce+E),U+=2,++K,++Z,ce+=2*E;1&_e&&w(j[U+0],V[K+0],X[Z+0],ie,ce)}}function Lc(d,w,E){return E==0?d==0?w==0?6:5:w==0?4:0:E}function ql(d,w,E,j,U){switch(d>>>30){case 3:io(w,E,j,U,0);break;case 2:wr(w,E,j,U);break;case 1:un(w,E,j,U)}}function Ul(d,w){var E,j,U=w.M,V=w.Nb,K=d.oc,X=d.pc+40,Z=d.oc,ie=d.pc+584,ce=d.oc,_e=d.pc+600;for(E=0;16>E;++E)K[X+32*E-1]=129;for(E=0;8>E;++E)Z[ie+32*E-1]=129,ce[_e+32*E-1]=129;for(0<U?K[X-1-32]=Z[ie-1-32]=ce[_e-1-32]=129:(i(K,X-32-1,127,21),i(Z,ie-32-1,127,9),i(ce,_e-32-1,127,9)),j=0;j<d.za;++j){var xe=w.ya[w.aa+j];if(0<j){for(E=-1;16>E;++E)n(K,X+32*E-4,K,X+32*E+12,4);for(E=-1;8>E;++E)n(Z,ie+32*E-4,Z,ie+32*E+4,4),n(ce,_e+32*E-4,ce,_e+32*E+4,4)}var ge=d.Gd,je=d.Hd+j,Ae=xe.ad,fe=xe.Hc;if(0<U&&(n(K,X-32,ge[je].y,0,16),n(Z,ie-32,ge[je].f,0,8),n(ce,_e-32,ge[je].ea,0,8)),xe.Za){var pe=K,Le=X-32+16;for(0<U&&(j>=d.za-1?i(pe,Le,ge[je].y[15],4):n(pe,Le,ge[je+1].y,0,4)),E=0;4>E;E++)pe[Le+128+E]=pe[Le+256+E]=pe[Le+384+E]=pe[Le+0+E];for(E=0;16>E;++E,fe<<=2)pe=K,Le=X+Gg[E],wi[xe.Ob[E]](pe,Le),ql(fe,Ae,16*+E,pe,Le)}else if(pe=Lc(j,U,xe.Ob[0]),jo[pe](K,X),fe!=0)for(E=0;16>E;++E,fe<<=2)ql(fe,Ae,16*+E,K,X+Gg[E]);for(E=xe.Gc,pe=Lc(j,U,xe.Dd),ao[pe](Z,ie),ao[pe](ce,_e),fe=Ae,pe=Z,Le=ie,255&(xe=E>>0)&&(170&xe?Vl(fe,256,pe,Le):ri(fe,256,pe,Le)),xe=ce,fe=_e,255&(E>>=8)&&(170&E?Vl(Ae,320,xe,fe):ri(Ae,320,xe,fe)),U<d.Ub-1&&(n(ge[je].y,0,K,X+480,16),n(ge[je].f,0,Z,ie+224,8),n(ge[je].ea,0,ce,_e+224,8)),E=8*V*d.B,ge=d.sa,je=d.ta+16*j+16*V*d.R,Ae=d.qa,xe=d.ra+8*j+E,fe=d.Ha,pe=d.Ia+8*j+E,E=0;16>E;++E)n(ge,je+E*d.R,K,X+32*E,16);for(E=0;8>E;++E)n(Ae,xe+E*d.B,Z,ie+32*E,8),n(fe,pe+E*d.B,ce,_e+32*E,8)}}function cs(d,w,E,j,U,V,K,X,Z){var ie=[0],ce=[0],_e=0,xe=Z!=null?Z.kd:0,ge=Z??new Dl;if(d==null||12>E)return 7;ge.data=d,ge.w=w,ge.ha=E,w=[w],E=[E],ge.gb=[ge.gb];e:{var je=w,Ae=E,fe=ge.gb;if(e(d!=null),e(Ae!=null),e(fe!=null),fe[0]=0,12<=Ae[0]&&!r(d,je[0],"RIFF")){if(r(d,je[0]+8,"WEBP")){fe=3;break e}var pe=Ne(d,je[0]+4);if(12>pe||4294967286<pe){fe=3;break e}if(xe&&pe>Ae[0]-8){fe=7;break e}fe[0]=pe,je[0]+=12,Ae[0]-=12}fe=0}if(fe!=0)return fe;for(pe=0<ge.gb[0],E=E[0];;){e:{var Le=d;Ae=w,fe=E;var Ce=ie,Te=ce,Ge=je=[0];if((He=_e=[_e])[0]=0,8>fe[0])fe=7;else{if(!r(Le,Ae[0],"VP8X")){if(Ne(Le,Ae[0]+4)!=10){fe=3;break e}if(18>fe[0]){fe=7;break e}var $e=Ne(Le,Ae[0]+8),ut=1+Oe(Le,Ae[0]+12);if(2147483648<=ut*(Le=1+Oe(Le,Ae[0]+15))){fe=3;break e}Ge!=null&&(Ge[0]=$e),Ce!=null&&(Ce[0]=ut),Te!=null&&(Te[0]=Le),Ae[0]+=18,fe[0]-=18,He[0]=1}fe=0}}if(_e=_e[0],je=je[0],fe!=0)return fe;if(Ae=!!(2&je),!pe&&_e)return 3;if(V!=null&&(V[0]=!!(16&je)),K!=null&&(K[0]=Ae),X!=null&&(X[0]=0),K=ie[0],je=ce[0],_e&&Ae&&Z==null){fe=0;break}if(4>E){fe=7;break}if(pe&&_e||!pe&&!_e&&!r(d,w[0],"ALPH")){E=[E],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{$e=d,fe=w,pe=E;var He=ge.gb;Ce=ge.na,Te=ge.P,Ge=ge.Sa,ut=22,e($e!=null),e(pe!=null),Le=fe[0];var Tt=pe[0];for(e(Ce!=null),e(Ge!=null),Ce[0]=null,Te[0]=null,Ge[0]=0;;){if(fe[0]=Le,pe[0]=Tt,8>Tt){fe=7;break e}var Rt=Ne($e,Le+4);if(4294967286<Rt){fe=3;break e}var Ot=8+Rt+1&-2;if(ut+=Ot,0<He&&ut>He){fe=3;break e}if(!r($e,Le,"VP8 ")||!r($e,Le,"VP8L")){fe=0;break e}if(Tt[0]<Ot){fe=7;break e}r($e,Le,"ALPH")||(Ce[0]=$e,Te[0]=Le+8,Ge[0]=Rt),Le+=Ot,Tt-=Ot}}if(E=E[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],fe!=0)break}E=[E],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(He=d,fe=w,pe=E,Ce=ge.gb[0],Te=ge.Ja,Ge=ge.xa,$e=fe[0],Le=!r(He,$e,"VP8 "),ut=!r(He,$e,"VP8L"),e(He!=null),e(pe!=null),e(Te!=null),e(Ge!=null),8>pe[0])fe=7;else{if(Le||ut){if(He=Ne(He,$e+4),12<=Ce&&He>Ce-12){fe=3;break e}if(xe&&He>pe[0]-8){fe=7;break e}Te[0]=He,fe[0]+=8,pe[0]-=8,Ge[0]=ut}else Ge[0]=5<=pe[0]&&He[$e+0]==47&&!(He[$e+4]>>5),Te[0]=pe[0];fe=0}if(E=E[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],w=w[0],fe!=0)break;if(4294967286<ge.Ja)return 3;if(X==null||Ae||(X[0]=ge.xa?2:1),K=[K],je=[je],ge.xa){if(5>E){fe=7;break}X=K,xe=je,Ae=V,d==null||5>E?d=0:5<=E&&d[w+0]==47&&!(d[w+4]>>5)?(pe=[0],He=[0],Ce=[0],Q(Te=new L,d,w,E),st(Te,pe,He,Ce)?(X!=null&&(X[0]=pe[0]),xe!=null&&(xe[0]=He[0]),Ae!=null&&(Ae[0]=Ce[0]),d=1):d=0):d=0}else{if(10>E){fe=7;break}X=je,d==null||10>E||!hc(d,w+3,E-3)?d=0:(xe=d[w+0]|d[w+1]<<8|d[w+2]<<16,Ae=16383&(d[w+7]<<8|d[w+6]),d=16383&(d[w+9]<<8|d[w+8]),1&xe||3<(xe>>1&7)||!(xe>>4&1)||xe>>5>=ge.Ja||!Ae||!d?d=0:(K&&(K[0]=Ae),X&&(X[0]=d),d=1))}if(!d||(K=K[0],je=je[0],_e&&(ie[0]!=K||ce[0]!=je)))return 3;Z!=null&&(Z[0]=ge,Z.offset=w-Z.w,e(4294967286>w-Z.w),e(Z.offset==Z.ha-E));break}return fe==0||fe==7&&_e&&Z==null?(V!=null&&(V[0]|=ge.na!=null&&0<ge.na.length),j!=null&&(j[0]=K),U!=null&&(U[0]=je),0):fe}function zl(d,w,E){var j=w.width,U=w.height,V=0,K=0,X=j,Z=U;if(w.Da=d!=null&&0<d.Da,w.Da&&(X=d.cd,Z=d.bd,V=d.v,K=d.j,11>E||(V&=-2,K&=-2),0>V||0>K||0>=X||0>=Z||V+X>j||K+Z>U))return 0;if(w.v=V,w.j=K,w.va=V+X,w.o=K+Z,w.U=X,w.T=Z,w.da=d!=null&&0<d.da,w.da){if(!Ke(X,Z,E=[d.ib],V=[d.hb]))return 0;w.ib=E[0],w.hb=V[0]}return w.ob=d!=null&&d.ob,w.Kb=d==null||!d.Sd,w.da&&(w.ob=w.ib<3*j/4&&w.hb<3*U/4,w.Kb=0),1}function $l(d){if(d==null)return 2;if(11>d.S){var w=d.f.RGBA;w.fb+=(d.height-1)*w.A,w.A=-w.A}else w=d.f.kb,d=d.height,w.O+=(d-1)*w.fa,w.fa=-w.fa,w.N+=(d-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(d-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(d-1)*w.lb,w.lb=-w.lb);return 0}function fs(d,w,E,j){if(j==null||0>=d||0>=w)return 2;if(E!=null){if(E.Da){var U=E.cd,V=E.bd,K=-2&E.v,X=-2&E.j;if(0>K||0>X||0>=U||0>=V||K+U>d||X+V>w)return 2;d=U,w=V}if(E.da){if(!Ke(d,w,U=[E.ib],V=[E.hb]))return 2;d=U[0],w=V[0]}}j.width=d,j.height=w;e:{var Z=j.width,ie=j.height;if(d=j.S,0>=Z||0>=ie||!(d>=Dc&&13>d))d=2;else{if(0>=j.Rd&&j.sd==null){K=V=U=w=0;var ce=(X=Z*Kg[d])*ie;if(11>d||(V=(ie+1)/2*(w=(Z+1)/2),d==12&&(K=(U=Z)*ie)),(ie=o(ce+2*V+K))==null){d=1;break e}j.sd=ie,11>d?((Z=j.f.RGBA).eb=ie,Z.fb=0,Z.A=X,Z.size=ce):((Z=j.f.kb).y=ie,Z.O=0,Z.fa=X,Z.Fd=ce,Z.f=ie,Z.N=0+ce,Z.Ab=w,Z.Cd=V,Z.ea=ie,Z.W=0+ce+V,Z.Db=w,Z.Ed=V,d==12&&(Z.F=ie,Z.J=0+ce+2*V),Z.Tc=K,Z.lb=U)}if(w=1,U=j.S,V=j.width,K=j.height,U>=Dc&&13>U)if(11>U)d=j.f.RGBA,w&=(X=Math.abs(d.A))*(K-1)+V<=d.size,w&=X>=V*Kg[U],w&=d.eb!=null;else{d=j.f.kb,X=(V+1)/2,ce=(K+1)/2,Z=Math.abs(d.fa),ie=Math.abs(d.Ab);var _e=Math.abs(d.Db),xe=Math.abs(d.lb),ge=xe*(K-1)+V;w&=Z*(K-1)+V<=d.Fd,w&=ie*(ce-1)+X<=d.Cd,w=(w&=_e*(ce-1)+X<=d.Ed)&Z>=V&ie>=X&_e>=X,w&=d.y!=null,w&=d.f!=null,w&=d.ea!=null,U==12&&(w&=xe>=V,w&=ge<=d.Tc,w&=d.F!=null)}else w=0;d=w?0:2}}return d!=0||E!=null&&E.fd&&(d=$l(j)),d}var Ur=64,ds=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hs=24,ps=32,Hl=8,kn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];be("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(d){return d},O.Predictor2=function(d,w,E){return w[E+0]},O.Predictor3=function(d,w,E){return w[E+1]},O.Predictor4=function(d,w,E){return w[E-1]},O.Predictor5=function(d,w,E){return ve(ve(d,w[E+1]),w[E+0])},O.Predictor6=function(d,w,E){return ve(d,w[E-1])},O.Predictor7=function(d,w,E){return ve(d,w[E+0])},O.Predictor8=function(d,w,E){return ve(w[E-1],w[E+0])},O.Predictor9=function(d,w,E){return ve(w[E+0],w[E+1])},O.Predictor10=function(d,w,E){return ve(ve(d,w[E-1]),ve(w[E+0],w[E+1]))},O.Predictor11=function(d,w,E){var j=w[E+0];return 0>=Ue(j>>24&255,d>>24&255,(w=w[E-1])>>24&255)+Ue(j>>16&255,d>>16&255,w>>16&255)+Ue(j>>8&255,d>>8&255,w>>8&255)+Ue(255&j,255&d,255&w)?j:d},O.Predictor12=function(d,w,E){var j=w[E+0];return(Ie((d>>24&255)+(j>>24&255)-((w=w[E-1])>>24&255))<<24|Ie((d>>16&255)+(j>>16&255)-(w>>16&255))<<16|Ie((d>>8&255)+(j>>8&255)-(w>>8&255))<<8|Ie((255&d)+(255&j)-(255&w)))>>>0},O.Predictor13=function(d,w,E){var j=w[E-1];return(Be((d=ve(d,w[E+0]))>>24&255,j>>24&255)<<24|Be(d>>16&255,j>>16&255)<<16|Be(d>>8&255,j>>8&255)<<8|Be(d>>0&255,j>>0&255))>>>0};var jh=O.PredictorAdd0;O.PredictorAdd1=et,be("Predictor2","PredictorAdd2"),be("Predictor3","PredictorAdd3"),be("Predictor4","PredictorAdd4"),be("Predictor5","PredictorAdd5"),be("Predictor6","PredictorAdd6"),be("Predictor7","PredictorAdd7"),be("Predictor8","PredictorAdd8"),be("Predictor9","PredictorAdd9"),be("Predictor10","PredictorAdd10"),be("Predictor11","PredictorAdd11"),be("Predictor12","PredictorAdd12"),be("Predictor13","PredictorAdd13");var Wl=O.PredictorAdd2;Qe("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),Qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Tc,ti=O.ColorIndexInverseTransform,gs=O.MapARGB,Pc=O.VP8LColorIndexInverseTransformAlpha,jc=O.MapAlpha,Oo=O.VP8LPredictorsAdd=[];Oo.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var ba,An,ln,Lo,ro,no,ms,io,wr,Vl,un,ri,vs,Cc,Gl,_a,xa,To,Sa,ys,ka,Po,Kl,ni,ii,Wt,Vt,br,Pr=o(511),oo=o(2041),Yl=o(225),ws=o(767),Rc=0,Ch=oo,Ic=Yl,qn=ws,oi=Pr,Dc=0,Mc=1,Mg=2,Fc=3,Bc=4,Rh=5,Fg=6,Ih=7,Dh=8,qc=9,Mh=10,k_=[2,3,7],A_=[3,3,11],Bg=[280,256,256,256,40],N_=[0,1,1,1,0],E_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],O_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],L_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],T_=8,Fh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jl=null,P_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],j_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],C_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],R_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],I_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],D_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],jo=[],wi=[],ao=[],M_=1,Ug=2,Co=[],ai=[];Ee("UpsampleRgbLinePair",Et,3),Ee("UpsampleBgrLinePair",nr,3),Ee("UpsampleRgbaLinePair",yi,4),Ee("UpsampleBgraLinePair",Ir,4),Ee("UpsampleArgbLinePair",Jr,4),Ee("UpsampleRgba4444LinePair",Nr,2),Ee("UpsampleRgb565LinePair",lr,2);var F_=O.UpsampleRgbLinePair,B_=O.UpsampleBgrLinePair,zg=O.UpsampleRgbaLinePair,$g=O.UpsampleBgraLinePair,Hg=O.UpsampleArgbLinePair,Wg=O.UpsampleRgba4444LinePair,q_=O.UpsampleRgb565LinePair,Uc=16,zc=1<<Uc-1,Xl=-227,qh=482,U_=6,Vg=0,z_=o(256),$_=o(256),H_=o(256),W_=o(256),V_=o(qh-Xl),G_=o(qh-Xl);Bi("YuvToRgbRow",Et,3),Bi("YuvToBgrRow",nr,3),Bi("YuvToRgbaRow",yi,4),Bi("YuvToBgraRow",Ir,4),Bi("YuvToArgbRow",Jr,4),Bi("YuvToRgba4444Row",Nr,2),Bi("YuvToRgb565Row",lr,2);var Gg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$c=[0,2,8],K_=[8,7,6,4,4,2,2,2,1,1,1,1],Y_=1;this.WebPDecodeRGBA=function(d,w,E,j,U){var V=Mc,K=new ls,X=new Pt;K.ba=X,X.S=V,X.width=[X.width],X.height=[X.height];var Z=X.width,ie=X.height,ce=new rr;if(ce==null||d==null)var _e=2;else e(ce!=null),_e=cs(d,w,E,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(_e!=0?Z=0:(Z!=null&&(Z[0]=ce.width[0]),ie!=null&&(ie[0]=ce.height[0]),Z=1),Z){X.width=X.width[0],X.height=X.height[0],j!=null&&(j[0]=X.width),U!=null&&(U[0]=X.height);e:{if(j=new ts,(U=new Dl).data=d,U.w=w,U.ha=E,U.kd=1,w=[0],e(U!=null),((d=cs(U.data,U.w,U.ha,null,null,null,w,null,U))==0||d==7)&&w[0]&&(d=4),(w=d)==0){if(e(K!=null),j.data=U.data,j.w=U.w+U.offset,j.ha=U.ha-U.offset,j.put=ei,j.ac=Zt,j.bc=Rn,j.ma=K,U.xa){if((d=sn())==null){K=1;break e}if(function(xe,ge){var je=[0],Ae=[0],fe=[0];t:for(;;){if(xe==null)return 0;if(ge==null)return xe.a=2,0;if(xe.l=ge,xe.a=0,Q(xe.m,ge.data,ge.w,ge.ha),!st(xe.m,je,Ae,fe)){xe.a=3;break t}if(xe.xb=Ug,ge.width=je[0],ge.height=Ae[0],!Fn(je[0],Ae[0],1,xe,null))break t;return 1}return e(xe.a!=0),0}(d,j)){if(j=(w=fs(j.width,j.height,K.Oa,K.ba))==0){t:{j=d;r:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((E=j.l)!=null),e((U=E.ma)!=null),j.xb!=0){if(j.ca=U.ba,j.tb=U.tb,e(j.ca!=null),!zl(U.Oa,E,Fc)){j.a=2;break r}if(!Qi(j,E.width)||E.da)break r;if((E.da||We(j.ca.S))&&ye(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ye()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Me(j.s.vb,j.s.Wa.Xa)){j.a=1;break r}j.xb=0}if(!_n(j,j.V,j.Ba,j.c,j.i,E.o,Xi))break r;U.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(w=d.a)}else w=d.a}else{if((d=new hh)==null){K=1;break e}if(d.Fa=U.na,d.P=U.P,d.qc=U.Sa,pc(d,j)){if((w=fs(j.width,j.height,K.Oa,K.ba))==0){if(d.Aa=0,E=K.Oa,e((U=d)!=null),E!=null){if(0<(Z=0>(Z=E.Md)?0:100<Z?255:255*Z/100)){for(ie=ce=0;4>ie;++ie)12>(_e=U.pb[ie]).lc&&(_e.ia=Z*K_[0>_e.lc?0:_e.lc]>>3),ce|=_e.ia;ce&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=E.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}ph(d,j)||(w=d.a)}}else w=d.a}w==0&&K.Oa!=null&&K.Oa.fd&&(w=$l(K.ba))}K=w}V=K!=0?null:11>V?X.f.RGBA.eb:X.f.kb.y}else V=null;return V};var Kg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(O,F){for(var C="",S=0;S<4;S++)C+=String.fromCharCode(O[F++]);return C}function p(O,F){return(O[F+0]<<0|O[F+1]<<8|O[F+2]<<16)>>>0}function h(O,F){return(O[F+0]<<0|O[F+1]<<8|O[F+2]<<16|O[F+3]<<24)>>>0}new l;var f=[0],u=[0],y=[],v=new l,b=t,g=function(O,F){var C={},S=0,N=!1,P=0,D=0;if(C.frames=[],!function(I,$,H,B){for(var J=0;J<B;J++)if(I[$+J]!=H.charCodeAt(J))return!0;return!1}(O,F,"RIFF",4)){var G,ee;for(h(O,F+=4),F+=8;F<O.length;){var te=c(O,F),Q=h(O,F+=4);F+=4;var Y=Q+(1&Q);switch(te){case"VP8 ":case"VP8L":C.frames[S]===void 0&&(C.frames[S]={}),(L=C.frames[S]).src_off=N?D:F-8,L.src_size=P+Q+8,S++,N&&(N=!1,P=0,D=0);break;case"VP8X":(L=C.header={}).feature_flags=O[F];var W=F+4;L.canvas_width=1+p(O,W),W+=3,L.canvas_height=1+p(O,W),W+=3;break;case"ALPH":N=!0,P=Y+8,D=F-8;break;case"ANIM":(L=C.header).bgcolor=h(O,F),W=F+4,L.loop_count=(G=O)[(ee=W)+0]<<0|G[ee+1]<<8,W+=2;break;case"ANMF":var q,L;(L=C.frames[S]={}).offset_x=2*p(O,F),F+=3,L.offset_y=2*p(O,F),F+=3,L.width=1+p(O,F),F+=3,L.height=1+p(O,F),F+=3,L.duration=p(O,F),F+=3,q=O[F++],L.dispose=1&q,L.blend=q>>1&1}te!="ANMF"&&(F+=Y)}return C}}(b,0);g.response=b,g.rgbaoutput=!0,g.dataurl=!1;var m=g.header?g.header:null,_=g.frames?g.frames:null;if(m){m.loop_counter=m.loop_count,f=[m.canvas_height],u=[m.canvas_width];for(var x=0;x<_.length&&_[x].blend!=0;x++);}var A=_[0],R=v.WebPDecodeRGBA(b,A.src_off,A.src_size,u,f);A.rgba=R,A.imgwidth=u[0],A.imgheight=f[0];for(var T=0;T<u[0]*f[0]*4;T++)y[T]=R[T];return this.width=u,this.height=f,this.data=y,this}(function(t){var e=function(){return typeof v1=="function"},r=function(f,u,y,v){var b=4,g=a;switch(v){case t.image_compression.FAST:b=1,g=o;break;case t.image_compression.MEDIUM:b=6,g=s;break;case t.image_compression.SLOW:b=9,g=l}f=n(f,u,y,g);var m=v1(f,{level:b});return t.__addimage__.arrayBufferToBinaryString(m)},n=function(f,u,y,v){for(var b,g,m,_=f.length/u,x=new Uint8Array(f.length+_),A=p(),R=0;R<_;R+=1){if(m=R*u,b=f.subarray(m,m+u),v)x.set(v(b,y,g),m+R);else{for(var T,O=A.length,F=[];T<O;T+=1)F[T]=A[T](b,y,g);var C=h(F.concat());x.set(F[C],m+R)}g=b}return x},i=function(f){var u=Array.apply([],f);return u.unshift(0),u},o=function(f,u){var y,v=[],b=f.length;v[0]=1;for(var g=0;g<b;g+=1)y=f[g-u]||0,v[g+1]=f[g]-y+256&255;return v},a=function(f,u,y){var v,b=[],g=f.length;b[0]=2;for(var m=0;m<g;m+=1)v=y&&y[m]||0,b[m+1]=f[m]-v+256&255;return b},s=function(f,u,y){var v,b,g=[],m=f.length;g[0]=3;for(var _=0;_<m;_+=1)v=f[_-u]||0,b=y&&y[_]||0,g[_+1]=f[_]+256-(v+b>>>1)&255;return g},l=function(f,u,y){var v,b,g,m,_=[],x=f.length;_[0]=4;for(var A=0;A<x;A+=1)v=f[A-u]||0,b=y&&y[A]||0,g=y&&y[A-u]||0,m=c(v,b,g),_[A+1]=f[A]-m+256&255;return _},c=function(f,u,y){if(f===u&&u===y)return f;var v=Math.abs(u-y),b=Math.abs(f-y),g=Math.abs(f+u-y-y);return v<=b&&v<=g?f:b<=g?u:y},p=function(){return[i,o,a,s,l]},h=function(f){var u=f.map(function(y){return y.reduce(function(v,b){return v+Math.abs(b)},0)});return u.indexOf(Math.min.apply(null,u))};t.processPNG=function(f,u,y,v){var b,g,m,_,x,A,R,T,O,F,C,S,N,P,D,G=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(m=new j7(f)).imgData,g=m.bits,b=m.colorSpace,x=m.colors,[4,6].indexOf(m.colorType)!==-1){if(m.bits===8){O=(T=m.pixelBitlength==32?new Uint32Array(m.decodePixels().buffer):m.pixelBitlength==16?new Uint16Array(m.decodePixels().buffer):new Uint8Array(m.decodePixels().buffer)).length,C=new Uint8Array(O*m.colors),F=new Uint8Array(O);var te,Q=m.pixelBitlength-m.bits;for(P=0,D=0;P<O;P++){for(N=T[P],te=0;te<Q;)C[D++]=N>>>te&255,te+=m.bits;F[P]=N>>>te&255}}if(m.bits===16){O=(T=new Uint32Array(m.decodePixels().buffer)).length,C=new Uint8Array(O*(32/m.pixelBitlength)*m.colors),F=new Uint8Array(O*(32/m.pixelBitlength)),S=m.colors>1,P=0,D=0;for(var Y=0;P<O;)N=T[P++],C[D++]=N>>>0&255,S&&(C[D++]=N>>>16&255,N=T[P++],C[D++]=N>>>0&255),F[Y++]=N>>>16&255;g=8}v!==t.image_compression.NONE&&e()?(f=r(C,m.width*m.colors,m.colors,v),R=r(F,m.width,1,v)):(f=C,R=F,G=void 0)}if(m.colorType===3&&(b=this.color_spaces.INDEXED,A=m.palette,m.transparency.indexed)){var W=m.transparency.indexed,q=0;for(P=0,O=W.length;P<O;++P)q+=W[P];if((q/=255)===O-1&&W.indexOf(0)!==-1)_=[W.indexOf(0)];else if(q!==O){for(T=m.decodePixels(),F=new Uint8Array(T.length),P=0,O=T.length;P<O;P++)F[P]=W[T[P]];R=r(F,m.width,1)}}var L=function(I){var $;switch(I){case t.image_compression.FAST:$=11;break;case t.image_compression.MEDIUM:$=13;break;case t.image_compression.SLOW:$=14;break;default:$=12}return $}(v);return G===this.decode.FLATE_DECODE&&(ee="/Predictor "+L+" "),ee+="/Colors "+x+" /BitsPerComponent "+g+" /Columns "+m.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(R&&this.__addimage__.isArrayBuffer(R)||this.__addimage__.isArrayBufferView(R))&&(R=this.__addimage__.arrayBufferToBinaryString(R)),{alias:y,data:f,index:u,filter:G,decodeParameters:ee,transparency:_,palette:A,sMask:R,predictor:L,width:m.width,height:m.height,bitsPerComponent:g,colorSpace:b}}}})(dt.API),function(t){t.processGIF89A=function(e,r,n,i){var o=new C7(e),a=o.width,s=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:s},p=new Jp(100).encode(c,100);return t.processJPEG.call(this,p,r,n,i)},t.processGIF87A=t.processGIF89A}(dt.API),Si.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Si.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ht.log("bit decode error:"+r)}},Si.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[o>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}r!==0&&(this.pos+=4-r)}},Si.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,s=o>>4,l=15&o,c=this.palette[s];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Si.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Si.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,s=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,p=n*this.width*4+4*i;this.data[p]=l,this.data[p+1]=s,this.data[p+2]=a,this.data[p+3]=c}this.pos+=t}},Si.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,p=i*this.width*4+4*o;this.data[p]=c,this.data[p+1]=l,this.data[p+2]=s,this.data[p+3]=255}this.pos+=t}},Si.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Si.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=a}},Si.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var o=new Si(e,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new Jp(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(dt.API),Z2.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var o=new Z2(e),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new Jp(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(dt.API),dt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,o=new Uint8Array(i/4*3),a=new Uint8Array(i/4),s=0,l=0,c=0;c<i;c+=4){var p=n[c],h=n[c+1],f=n[c+2],u=n[c+3];o[s++]=p,o[s++]=h,o[s++]=f,a[l++]=u}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},dt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},js=dt.API,Rf=js.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=c.fof?c.fof:1,h=e.doKerning!==!1,f=0,u=t.length,y=0,v=s[0]||l,b=[];for(r=0;r<u;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/o)||0)/1e3):(f=h&&Mt(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/p:0,b.push((s[n]||v)/l+f)),y=n;return b},Y2=js.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return js.processArabic&&(t=js.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Rf.apply(this,arguments).reduce(function(o,a){return o+a},0)},J2=function(t,e,r,n){for(var i=[],o=0,a=t.length,s=0;o!==a&&s+e[o]<r;)s+=e[o],o++;i.push(t.slice(0,o));var l=o;for(s=0;o!==a;)s+e[o]>n&&(i.push(t.slice(l,o)),s=0,l=o),s+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},X2=function(t,e,r){r||(r={});var n,i,o,a,s,l,c,p=[],h=[p],f=r.textIndent||0,u=0,y=0,v=t.split(" "),b=Rf.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var g=Array(l).join(" "),m=[];v.map(function(x){(x=x.split(/\s*\n/)).length>1?m=m.concat(x.map(function(A,R){return(R&&A.length?`
`:"")+A})):m.push(x[0])}),v=m,l=Y2.apply(this,[g,r])}for(o=0,a=v.length;o<a;o++){var _=0;if(n=v[o],l&&n[0]==`
`&&(n=n.substr(1),_=1),f+u+(y=(i=Rf.apply(this,[n,r])).reduce(function(x,A){return x+A},0))>e||_){if(y>e){for(s=J2.apply(this,[n,i,e-(f+u),e]),p.push(s.shift()),p=[s.pop()];s.length;)h.push([s.shift()]);y=i.slice(n.length-(p[0]?p[0].length:0)).reduce(function(x,A){return x+A},0)}else p=[n];h.push(p),f=y+l,u=b}else p.push(n),f+=u+y,u=b}return c=l?function(x,A){return(A?g:"")+x.join(" ")}:function(x){return x.join(" ")},h.map(c)},js.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var h=this.internal.getFont(p.fontName,p.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=r.lineIndent;var s,l,c=[];for(s=0,l=n.length;s<l;s++)c=c.concat(X2.apply(this,[n[s],a,o]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var o=function(h){return"0x"+parseInt(h,10).toString(16)},a=t.__fontmetrics__.compress=function(h){var f,u,y,v,b=["{"];for(var g in h){if(f=h[g],isNaN(parseInt(g,10))?u="'"+g+"'":(g=parseInt(g,10),u=(u=o(g).slice(2)).slice(0,-1)+n[u.slice(-1)]),typeof f=="number")f<0?(y=o(f).slice(3),v="-"):(y=o(f).slice(2),v=""),y=v+y.slice(0,-1)+n[y.slice(-1)];else{if(Mt(f)!=="object")throw new Error("Don't know what to do with value type "+Mt(f)+".");y=a(f)}b.push(u+y)}return b.push("}"),b.join("")},s=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,u,y,v,b={},g=1,m=b,_=[],x="",A="",R=h.length-1,T=1;T<R;T+=1)(v=h[T])=="'"?f?(y=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(_.push([m,y]),m={},y=void 0):v=="}"?((u=_.pop())[0][u[1]]=m,y=void 0,m=u[0]):v=="-"?g=-1:y===void 0?r.hasOwnProperty(v)?(x+=r[v],y=parseInt(x,16)*g,g=1,x=""):x+=v:r.hasOwnProperty(v)?(A+=r[v],m[y]=parseInt(A,16)*g,g=1,y=void 0,A=""):A+=v;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},p={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var f=h.font,u=p.Unicode[f.postScriptName];u&&(f.metadata.Unicode={},f.metadata.Unicode.widths=u.widths,f.metadata.Unicode.kerning=u.kerning);var y=c.Unicode[f.postScriptName];y&&(f.metadata.Unicode.encoding=y,f.encoding=y.codePages[0])}])}(dt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),o=0;o<n;o++)i[o]=r.charCodeAt(o);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,o=r.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(Mu(s)),a.metadata=t.API.TTFFont.open(s),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(dt),function(t){function e(){return(ht.canvg?Promise.resolve(ht.canvg):d1(()=>import("./index.es-I053npzx.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}dt.API.addSvgAsImage=function(r,n,i,o,a,s,l,c){if(isNaN(n)||isNaN(i))throw Ht.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw Ht.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=o,p.height=a;var h=p.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,p.width,p.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return e().then(function(y){return y.fromString(h,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(f)}).then(function(){u.addImage(p.toDataURL("image/jpeg",1),n,i,o,a,l,c)})}}(),dt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},dt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),l=[],c=0,p=0,h=0;function f(y,v){var b,g=!1;for(b=0;b<y.length;b+=1)y[b]===v&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var u=s.length;for(h=0;h<u;h+=1)r[s[h]].value=r[s[h]].defaultValue,r[s[h]].explicitSet=!1}if(Mt(t)==="object"){for(i in t)if(o=t[i],f(s,i)&&o!==void 0){if(r[i].type==="boolean"&&typeof o=="boolean")r[i].value=o;else if(r[i].type==="name"&&f(r[i].valueSet,o))r[i].value=o;else if(r[i].type==="integer"&&Number.isInteger(o))r[i].value=o;else if(r[i].type==="array"){for(c=0;c<o.length;c+=1)if(n=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(p=0;p<o[c].length;p+=1)typeof o[c][p]!="number"&&(n=!1);n===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?v.push("/"+y+" /"+r[y].value):v.push("/"+y+" "+r[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+a.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+a+s+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(dt.API),function(t){var e=t.API,r=e.pdfEscape16=function(o,a){for(var s,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],p=[""],h=0,f=o.length;h<f;++h){if(s=a.metadata.characterToGlyph(o.charCodeAt(h)),a.metadata.glyIdsUsed.push(s),a.metadata.toUnicode[s]=o.charCodeAt(h),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(a.metadata.widthOfGlyph(s),10)])),s=="0")return p.join("");s=s.toString(16),p.push(c[4-s.length],s)}return p.join("")},n=function(o){var a,s,l,c,p,h,f;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,f=(s=Object.keys(o).sort(function(u,y){return u-y})).length;h<f;h++)a=s[h],l.length>=100&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[a]!==void 0&&o[a]!==null&&typeof o[a].toString=="function"&&(c=("0000"+o[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(a){var s=a.font,l=a.out,c=a.newObject,p=a.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var h=s.metadata.Unicode.widths,f=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),u="",y=0;y<f.length;y++)u+=String.fromCharCode(f[y]);var v=c();p({data:u,addLength1:!0,objectId:v}),l("endobj");var b=c();p({data:n(s.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ds(s.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var m=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ds(s.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Ds(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+m+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(a){var s=a.font,l=a.out,c=a.newObject,p=a.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var h=s.metadata.rawData,f="",u=0;u<h.length;u++)f+=String.fromCharCode(h[u]);var y=c();p({data:f,addLength1:!0,objectId:y}),l("endobj");var v=c();p({data:n(s.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var b=c();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Ds(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=c();for(var g=0;g<s.metadata.hmtx.widths.length;g++)s.metadata.hmtx.widths[g]=parseInt(s.metadata.hmtx.widths[g]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Ds(s.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(o)}]);var i=function(o){var a,s=o.text||"",l=o.x,c=o.y,p=o.options||{},h=o.mutex||{},f=h.pdfEscape,u=h.activeFontKey,y=h.fonts,v=u,b="",g=0,m="",_=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:s,x:l,y:c,options:p,mutex:h};for(m=s,v=u,Array.isArray(s)&&(m=s[0]),g=0;g<m.length;g+=1)y[v].metadata.hasOwnProperty("cmap")&&(a=y[v].metadata.cmap.unicode.codeMap[m[g].charCodeAt(0)]),a||m[g].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?b+=m[g]:b+="";var x="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?x=f(b,v).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(x=r(b,y[v])),h.isHex=!0,{text:x,x:l,y:c,options:p,mutex:h}};e.events.push(["postProcessText",function(o){var a=o.text||"",s=[],l={text:a,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?s.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):s.push(i(Object.assign({},l,{text:a[c]})).text);o.text=s}else o.text=i(Object.assign({},l,{text:a})).text}])}(dt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(dt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,o,a,s,l,c,p,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,_=0;this.__bidiEngine__={};var x=function(S){var N=S.charCodeAt(),P=N>>8,D=v[P];return D!==void 0?h[256*D+(255&N)]:P===252||P===253?"AL":g.test(P)?"L":P===8?"R":"N"},A=function(S){for(var N,P=0;P<S.length;P++){if((N=x(S.charAt(P)))==="L")return!1;if(N==="R")return!0}return!1},R=function(S,N,P,D){var G,ee,te,Q,Y=N[D];switch(Y){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(Y="AN");break;case"AL":m=!0,Y="R";break;case"WS":Y="N";break;case"CS":D<1||D+1>=N.length||(G=P[D-1])!=="EN"&&G!=="AN"||(ee=N[D+1])!=="EN"&&ee!=="AN"?Y="N":m&&(ee="AN"),Y=ee===G?ee:"N";break;case"ES":Y=(G=D>0?P[D-1]:"B")==="EN"&&D+1<N.length&&N[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&P[D-1]==="EN"){Y="EN";break}if(m){Y="N";break}for(te=D+1,Q=N.length;te<Q&&N[te]==="ET";)te++;Y=te<Q&&N[te]==="EN"?"EN":"N";break;case"NSM":if(a&&!s){for(Q=N.length,te=D+1;te<Q&&N[te]==="NSM";)te++;if(te<Q){var W=S[D],q=W>=1425&&W<=2303||W===64286;if(G=N[te],q&&(G==="R"||G==="AL")){Y="R";break}}}Y=D<1||(G=N[D-1])==="B"?"N":P[D-1];break;case"B":m=!1,i=!0,Y=_;break;case"S":o=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":Y="N"}return Y},T=function(S,N,P){var D=S.split("");return P&&O(D,P,{hiLevel:_}),D.reverse(),N&&N.reverse(),D.join("")},O=function(S,N,P){var D,G,ee,te,Q,Y=-1,W=S.length,q=0,L=[],I=_?u:f,$=[];for(m=!1,i=!1,o=!1,G=0;G<W;G++)$[G]=x(S[G]);for(ee=0;ee<W;ee++){if(Q=q,L[ee]=R(S,$,L,ee),D=240&(q=I[Q][y[L[ee]]]),q&=15,N[ee]=te=I[q][5],D>0)if(D===16){for(G=Y;G<ee;G++)N[G]=1;Y=-1}else Y=-1;if(I[q][6])Y===-1&&(Y=ee);else if(Y>-1){for(G=Y;G<ee;G++)N[G]=te;Y=-1}$[ee]==="B"&&(N[ee]=0),P.hiLevel|=te}o&&function(H,B,J){for(var re=0;re<J;re++)if(H[re]==="S"){B[re]=_;for(var ne=re-1;ne>=0&&H[ne]==="WS";ne--)B[ne]=_}}($,N,W)},F=function(S,N,P,D,G){if(!(G.hiLevel<S)){if(S===1&&_===1&&!i)return N.reverse(),void(P&&P.reverse());for(var ee,te,Q,Y,W=N.length,q=0;q<W;){if(D[q]>=S){for(Q=q+1;Q<W&&D[Q]>=S;)Q++;for(Y=q,te=Q-1;Y<te;Y++,te--)ee=N[Y],N[Y]=N[te],N[te]=ee,P&&(ee=P[Y],P[Y]=P[te],P[te]=ee);q=Q}q++}}},C=function(S,N,P){var D=S.split(""),G={hiLevel:_};return P||(P=[]),O(D,P,G),function(ee,te,Q){if(Q.hiLevel!==0&&p)for(var Y,W=0;W<ee.length;W++)te[W]===1&&(Y=b.indexOf(ee[W]))>=0&&(ee[W]=b[Y+1])}(D,P,G),F(2,D,N,P,G),F(1,D,N,P,G),D.join("")};return this.__bidiEngine__.doBidiReorder=function(S,N,P){if(function(G,ee){if(ee)for(var te=0;te<G.length;te++)ee[te]=te;s===void 0&&(s=A(G)),c===void 0&&(c=A(G))}(S,N),a||!l||c)if(a&&l&&s^c)_=s?1:0,S=T(S,N,P);else if(!a&&l&&c)_=s?1:0,S=C(S,N,P),S=T(S,N);else if(!a||s||l||c){if(a&&!l&&s^c)S=T(S,N),s?(_=0,S=C(S,N,P)):(_=1,S=C(S,N,P),S=T(S,N));else if(a&&s&&!l&&c)_=1,S=C(S,N,P),S=T(S,N);else if(!a&&!l&&s^c){var D=p;s?(_=1,S=C(S,N,P),_=0,p=!1,S=C(S,N,P),p=D):(_=0,S=C(S,N,P),S=T(S,N),_=1,p=!1,S=C(S,N,P),p=D,S=T(S,N))}}else _=0,S=C(S,N,P);else _=s?1:0,S=C(S,N,P);return S},this.__bidiEngine__.setOptions=function(S){S&&(a=S.isInputVisual,l=S.isOutputVisual,s=S.isInputRtl,c=S.isOutputRtl,p=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,o=(n.x,n.y,n.options||{}),a=(n.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(a=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?a.push([r.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):a.push([r.doBidiReorder(i[s])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(dt),dt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ca(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new K7(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new R7(this.contents),this.head=new D7(this),this.name=new U7(this),this.cmap=new b_(this),this.toUnicode={},this.hhea=new M7(this),this.maxp=new z7(this),this.hmtx=new $7(this),this.post=new B7(this),this.os2=new F7(this),this.loca=new G7(this),this.glyf=new H7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,s,l,c;for(c=[],a=0,s=(l=this.bbox).length;a<s;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,o,a,s;for(a=0,o=0,s=(e=""+e).length;0<=s?o<s:o>s;o=0<=s?++o:--o)i=e.charCodeAt(o),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Ii,ca=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,o,a,s,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^o)+65536*(255^a)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*o+65536*a+256*s+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)r=e[n],o.push(this.writeByte(r));return o},t}(),R7=function(){var t;function e(r){var n,i,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,o,a,s,l,c,p,h,f,u,y,v;for(v in u=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(u)/l),a=Math.floor(h/l),p=16*u-h,(i=new ca).writeInt(this.scalarType),i.writeShort(u),i.writeShort(h),i.writeShort(a),i.writeShort(p),o=16*u,c=i.pos+o,s=null,y=[],r)for(f=r[v],i.writeString(v),i.writeInt(t(f)),i.writeInt(c),i.writeInt(f.length),y=y.concat(f),v==="head"&&(s=c),c+=f.length;c%4;)y.push(0),c++;return i.write(y),n=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(n),i.data},t=function(r){var n,i,o,a;for(r=__.call(r);r.length%4;)r.push(0);for(o=new ca(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=o.readUInt32();return 4294967295&i},e}(),I7={}.hasOwnProperty,Ji=function(t,e){for(var r in e)I7.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ii=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var D7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,Ii),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new ca).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),ey=function(){function t(e,r){var n,i,o,a,s,l,c,p,h,f,u,y,v,b,g,m,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(u=e.readUInt16(),f=u/2,e.pos+=6,o=function(){var x,A;for(A=[],l=x=0;0<=f?x<f:x>f;l=0<=f?++x:--x)A.push(e.readUInt16());return A}(),e.pos+=2,v=function(){var x,A;for(A=[],l=x=0;0<=f?x<f:x>f;l=0<=f?++x:--x)A.push(e.readUInt16());return A}(),c=function(){var x,A;for(A=[],l=x=0;0<=f?x<f:x>f;l=0<=f?++x:--x)A.push(e.readUInt16());return A}(),p=function(){var x,A;for(A=[],l=x=0;0<=f?x<f:x>f;l=0<=f?++x:--x)A.push(e.readUInt16());return A}(),i=(this.length-e.pos+this.offset)/2,s=function(){var x,A;for(A=[],l=x=0;0<=i?x<i:x>i;l=0<=i?++x:--x)A.push(e.readUInt16());return A}(),l=g=0,_=o.length;g<_;l=++g)for(b=o[l],n=m=y=v[l];y<=b?m<=b:m>=b;n=y<=b?++m:--m)p[l]===0?a=n+c[l]:(a=s[p[l]/2+(n-y)-(f-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=h}return t.encode=function(e,r){var n,i,o,a,s,l,c,p,h,f,u,y,v,b,g,m,_,x,A,R,T,O,F,C,S,N,P,D,G,ee,te,Q,Y,W,q,L,I,$,H,B,J,re,ne,de,me,Oe;switch(D=new ca,a=Object.keys(e).sort(function(Ne,Me){return Ne-Me}),r){case"macroman":for(v=0,b=function(){var Ne=[];for(y=0;y<256;++y)Ne.push(0);return Ne}(),m={0:0},o={},G=0,Y=a.length;G<Y;G++)m[ne=e[i=a[G]]]==null&&(m[ne]=++v),o[i]={old:e[i],new:m[e[i]]},b[i]=m[e[i]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(b),{charMap:o,subtable:D.data,maxGlyphID:v+1};case"unicode":for(N=[],h=[],_=0,m={},n={},g=c=null,ee=0,W=a.length;ee<W;ee++)m[A=e[i=a[ee]]]==null&&(m[A]=++_),n[i]={old:A,new:m[A]},s=m[A]-i,g!=null&&s===c||(g&&h.push(g),N.push(i),c=s),g=i;for(g&&h.push(g),h.push(65535),N.push(65535),C=2*(F=N.length),O=2*Math.pow(Math.log(F)/Math.LN2,2),f=Math.log(O/2)/Math.LN2,T=2*F-O,l=[],R=[],u=[],y=te=0,q=N.length;te<q;y=++te){if(S=N[y],p=h[y],S===65535){l.push(0),R.push(0);break}if(S-(P=n[S].new)>=32768)for(l.push(0),R.push(2*(u.length+F-y)),i=Q=S;S<=p?Q<=p:Q>=p;i=S<=p?++Q:--Q)u.push(n[i].new);else l.push(P-S),R.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*F+2*u.length),D.writeUInt16(0),D.writeUInt16(C),D.writeUInt16(O),D.writeUInt16(f),D.writeUInt16(T),J=0,L=h.length;J<L;J++)i=h[J],D.writeUInt16(i);for(D.writeUInt16(0),re=0,I=N.length;re<I;re++)i=N[re],D.writeUInt16(i);for(de=0,$=l.length;de<$;de++)s=l[de],D.writeUInt16(s);for(me=0,H=R.length;me<H;me++)x=R[me],D.writeUInt16(x);for(Oe=0,B=u.length;Oe<B;Oe++)v=u[Oe],D.writeUInt16(v);return{charMap:n,subtable:D.data,maxGlyphID:_+1}}},t}(),b_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,Ii),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,o;for(r.pos=this.offset,this.version=r.readUInt16(),o=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)n=new ey(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,o;return n==null&&(n="macroman"),i=ey.encode(r,n),(o=new ca).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),M7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,Ii),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),F7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,Ii),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),B7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,Ii),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,o;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],o=[];r.pos<this.offset+this.length;)n=r.readByte(),o.push(this.names.push(r.readString(n)));return o;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,c;for(c=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)c.push(r.readUInt32());return c}).call(this)}},e}(),q7=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},U7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,Ii),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,o,a,s,l,c,p,h,f,u;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},a=h=0,f=i.length;h<f;a=++h)o=i[a],r.pos=o.offset,p=r.readString(o.length),s=new q7(p,o),c[u=o.nameID]==null&&(c[u]=[]),c[o.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),z7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,Ii),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),$7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,Ii),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,o,a,s,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,h;for(h=[],n=p=0;0<=o?p<o:p>o;n=0<=o?++p:--p)h.push(r.readInt16());return h}(),this.widths=(function(){var p,h,f,u;for(u=[],p=0,h=(f=this.metrics).length;p<h;p++)a=f[p],u.push(a.advance);return u}).call(this),i=this.widths[this.widths.length-1],c=[],n=s=0;0<=o?s<o:s>o;n=0<=o?++s:--s)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),__=[].slice,H7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,Ii),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,o,a,s,l,c,p,h,f;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(o=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,s=(l=new ca(n.read(o))).readShort(),p=l.readShort(),f=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[r]=s===-1?new V7(l,p,f,c,h):new W7(l,s,p,f,c,h),this.cache[r]))},e.prototype.encode=function(r,n,i){var o,a,s,l,c;for(s=[],a=[],l=0,c=n.length;l<c;l++)o=r[n[l]],a.push(s.length),o&&(s=s.concat(o.encode(i)));return a.push(s.length),{table:s,offsets:a}},e}(),W7=function(){function t(e,r,n,i,o,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=o,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),V7=function(){function t(e,r,n,i,o){var a,s;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;s=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&s;)a.pos+=1&s?4:2,128&s?a.pos+=8:64&s?a.pos+=4:8&s&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new ca(__.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),G7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,Ii),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,a;for(a=[],i=0,o=this.length;i<o;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var o,a;for(a=[],i=0,o=this.length;i<o;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),o=0,a=0,s=0;s<i.length;++s)if(i[s]=o,a<n.length&&n[a]==s){++a,i[s]=o;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(o+=c)}for(var p=new Array(4*i.length),h=0;h<i.length;++h)p[4*h+3]=255&i[h],p[4*h+2]=(65280&i[h])>>8,p[4*h+1]=(16711680&i[h])>>16,p[4*h]=(4278190080&i[h])>>24;return p},e}(),K7=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,o;for(r in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,o,a,s,l;for(i={},a=0,s=e.length;a<s;a++)i[o=e[a]]=this.font.glyf.glyphFor(o);for(o in r=[],i)(n=i[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in l=this.glyphsFor(r))n=l[o],i[o]=n;return i},t.prototype.encode=function(e,r){var n,i,o,a,s,l,c,p,h,f,u,y,v,b,g;for(i in n=b_.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),u={0:0},g=n.charMap)u[(l=g[i]).old]=l.new;for(y in f=n.maxGlyphID,a)y in u||(u[y]=f++);return p=function(m){var _,x;for(_ in x={},m)x[m[_]]=_;return x}(u),h=Object.keys(p).sort(function(m,_){return m-_}),v=function(){var m,_,x;for(x=[],m=0,_=h.length;m<_;m++)s=h[m],x.push(p[s]);return x}(),o=this.font.glyf.encode(a,v,u),c=this.font.loca.encode(o.offsets,v),b={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();dt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,o,a;if(Array.isArray(r))return"["+function(){var s,l,c;for(c=[],s=0,l=r.length;s<l;s++)n=r[s],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in o=["<<"],r)a=r[i],o.push("/"+i+" "+e.convert(a));return o.push(">>"),o.join(`
`)}return""+r},e}();const x_=t=>{const e=new dt,r=e.internal.pageSize.getWidth(),n=20,i="#4F46E5",o="#334155",a="#0F172A";e.setFont("helvetica","bold"),e.setFontSize(22),e.setTextColor(i),e.text("Diary Recovery Kit",n,30),e.setFontSize(10),e.setTextColor("#64748B"),e.text(`Generated on: ${new Date().toLocaleDateString()}`,n,38),e.setDrawColor(239,68,68),e.setLineWidth(.5),e.rect(n,50,r-n*2,25),e.setFont("helvetica","bold"),e.setFontSize(12),e.setTextColor(220,38,38),e.text(" EXTREMELY SENSITIVE DOCUMENT",n+5,60),e.setFont("helvetica","normal"),e.setFontSize(10),e.setTextColor(o),e.text("This document contains your Master Password and Encryption Keys.",n+5,68),e.text("Keep it safe. If you lose your password, this is the ONLY way to restore your data.",n+5,73);let s=95;e.setFont("helvetica","bold"),e.setFontSize(14),e.setTextColor(a),e.text("1. Login Credentials",n,s),s+=10,e.setFontSize(10),e.setTextColor("#64748B"),e.text("Email Address:",n,s),e.setFont("courier","bold"),e.setFontSize(12),e.setTextColor(a),e.text(t.email,n+40,s),s+=10,e.setFont("helvetica","normal"),e.setFontSize(10),e.setTextColor("#64748B"),e.text("Master Password:",n,s),e.setFillColor(241,245,249),e.rect(n,s+5,r-n*2,15,"F"),e.setFont("courier","bold"),e.setFontSize(14),e.setTextColor(a),e.text(t.password,n+5,s+14),s+=40,e.setFont("helvetica","bold"),e.setFontSize(14),e.setTextColor(a),e.text("2. Emergency Technical Keys",n,s),s+=8,e.setFont("helvetica","normal"),e.setFontSize(10),e.setTextColor(o),e.text("If the password mechanism ever changes or fails, these raw keys can mathematically",n,s),e.text("decrypt your data using standard AES-GCM algorithms.",n,s+5),s+=15,e.setFontSize(10),e.setTextColor("#64748B"),e.text("Encryption Salt:",n,s),e.setFont("courier","normal"),e.setFontSize(9),e.setTextColor(a),e.text(t.salt,n,s+6),s+=20,e.setFont("helvetica","normal"),e.setFontSize(10),e.setTextColor("#64748B"),e.text("Raw Encryption Key (AES-GCM):",n,s),e.setFont("courier","normal"),e.setFontSize(9),e.setTextColor(a),e.text(t.rawKey,n,s+6),e.setFont("helvetica","italic"),e.setFontSize(8),e.setTextColor("#94A3B8"),e.text("Diary App - Zero Knowledge Architecture",r/2,280,{align:"center"}),e.save("Diary-Recovery-Kit.pdf")},Y7=({onSuccess:t,session:e})=>{const[r,n]=Pe.useState(""),[i,o]=Pe.useState(!1),[a,s]=Pe.useState(!1),[l,c]=Pe.useState(null),[p,h]=Pe.useState(!1),[f,u]=Pe.useState(!1),[y,v]=Pe.useState(null),[b,g]=Pe.useState(!1),m=async A=>{var R,T,O;if(A.preventDefault(),r.length<6){c("Password must be at least 6 characters long.");return}s(!0),c(null);try{const F=e.user;if(!F)throw new Error("User not available.");const C=uA(),S=await xb(r,C),{iv:N,data:P}=await Sb(S,bb),D=(R=F.user_metadata)==null?void 0:R.full_name,G=((T=F.user_metadata)==null?void 0:T.avatar_url)||((O=F.user_metadata)==null?void 0:O.picture),{error:ee}=await cr.from("profiles").insert({id:F.id,salt:C,key_check_value:P,key_check_iv:N,full_name:D,avatar_url:G});if(ee)throw ee;const te=await Ab(S);v({key:S,rawKey:te,salt:C,password:r,email:F.email||"Unknown Email"})}catch(F){c(F.error_description||F.message||"An unknown error occurred during setup."),console.error("Encryption initialization failed:",F)}finally{s(!1)}},_=()=>{y&&(x_({email:y.email,password:y.password,salt:y.salt,rawKey:y.rawKey}),g(!0))},x=()=>{y&&t(y.key)};return y?M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:M.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-slate-800 rounded-lg shadow-md border-t-4 border-green-500 animate-fade-in",children:[M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900 mb-4",children:M.jsx("svg",{className:"h-6 w-6 text-green-600 dark:text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),M.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Setup Complete!"}),M.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Your secure diary is ready."})]}),M.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-md p-4",children:[M.jsxs("h3",{className:"text-sm font-bold text-yellow-800 dark:text-yellow-200 flex items-center gap-2",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Important: Backup Required"]}),M.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-2",children:["Because we can't reset your password, you ",M.jsx("strong",{children:"must"})," download your Recovery Kit. It contains your password and raw encryption keys."]})]}),M.jsxs("button",{onClick:_,className:"w-full flex items-center justify-center gap-2 px-4 py-3 font-semibold text-white bg-slate-800 hover:bg-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-md transition-all shadow-lg",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Recovery Kit"]}),M.jsx("button",{onClick:x,disabled:!b,className:"w-full px-4 py-2 font-semibold text-indigo-600 bg-indigo-50 rounded-md hover:bg-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-400 transition-colors dark:bg-transparent dark:text-indigo-400 dark:hover:text-indigo-300 dark:disabled:text-slate-600",children:b?"Continue to App":"Download Kit to Continue"})]})}):M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:M.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-slate-800 rounded-lg shadow-md",children:[M.jsxs("div",{className:"text-center",children:[M.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Final Security Step"}),M.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"To complete your secure setup, please create your password."})]}),M.jsx("p",{className:"text-xs text-center text-slate-600 dark:text-slate-300 bg-slate-50 dark:bg-slate-900/50 p-3 rounded-md border dark:border-slate-700",children:"This is required to create your unique encryption key. Your password is never stored, and this one-time step ensures your diary remains private and end-to-end encrypted."}),l&&M.jsx("p",{className:"text-center text-red-500 bg-red-50 p-3 rounded-md",children:l}),M.jsxs("form",{className:"space-y-6",onSubmit:m,children:[M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:i?"text":"password",placeholder:"Your password",value:r,required:!0,minLength:6,onChange:A=>n(A.target.value),className:"w-full px-4 py-2 pr-10 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200"}),M.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute inset-y-0 right-0 flex items-center px-3 text-slate-500 dark:text-slate-400","aria-label":i?"Hide password":"Show password",children:i?M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[M.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),M.jsx("path",{fillRule:"evenodd",d:"M.458 10C3.732 4.943 9.522 3 10 3s6.268 1.943 9.542 7c-3.274 5.057-9.042 7-9.542 7S3.732 15.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[M.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.27 8.138 15.522 6 10 6c-1.55 0-2.998.48-4.257 1.254l-1.74-1.741zM10 12a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}),M.jsx("path",{d:"M2.042 10c.832 2.345 3.16 4 5.918 4 1.55 0 2.998-.48 4.257-1.254l-1.473-1.473A3.999 3.999 0 0110 14c-2.209 0-4-1.791-4-4a3.999 3.999 0 011.21-2.828L5.293 5.293A10.014 10.014 0 00.458 10c1.274 1.862 4.022 4 9.542 4 1.105 0 2.158-.149 3.168-.43L10.373 12.16A4.003 4.003 0 0110 12z"})]})})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("label",{className:"flex items-start gap-3 cursor-pointer text-sm text-slate-600 dark:text-slate-400",children:[M.jsx("input",{type:"checkbox",checked:p,onChange:A=>h(A.target.checked),className:"mt-1 h-4 w-4 rounded text-indigo-600 focus:ring-indigo-500 border-slate-300 dark:border-slate-600 dark:bg-slate-900 dark:checked:bg-indigo-500",required:!0}),M.jsxs("span",{children:["I have read and agree to the ",M.jsx("a",{href:"/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-indigo-600 hover:underline dark:text-indigo-400",children:"Privacy Policy"}),"."]})]}),M.jsxs("label",{className:"flex items-start gap-3 cursor-pointer text-sm text-slate-600 dark:text-slate-400",children:[M.jsx("input",{type:"checkbox",checked:f,onChange:A=>u(A.target.checked),className:"mt-1 h-4 w-4 rounded text-indigo-600 focus:ring-indigo-500 border-slate-300 dark:border-slate-600 dark:bg-slate-900 dark:checked:bg-indigo-500",required:!0}),M.jsxs("span",{children:["I have read and agree to the ",M.jsx("a",{href:"/terms.html",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-indigo-600 hover:underline dark:text-indigo-400",children:"Terms of Use"}),"."]})]})]}),M.jsx("button",{type:"submit",disabled:a||!p||!f,className:"w-full px-4 py-2 font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 disabled:bg-indigo-300 disabled:cursor-not-allowed transition-colors",children:a?"Securing...":"Initialize Diary"})]})]})})},J7=({onSuccess:t,session:e})=>{const[r,n]=Pe.useState(""),[i,o]=Pe.useState(!1),[a,s]=Pe.useState(!1),[l,c]=Pe.useState(null),{deriveAndVerifyKey:p}=Tg(),h=async f=>{f.preventDefault(),s(!0),c(null);try{const u=e.user;if(!u)throw new Error("User not available.");const y=await p(r,u.id);y?t(y):c("Incorrect password. Please try again.")}catch(u){c(u.error_description||u.message||"An unknown error occurred."),console.error("Key derivation failed:",u)}finally{s(!1)}};return M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:M.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-slate-800 rounded-lg shadow-md",children:[M.jsxs("div",{className:"text-center",children:[M.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Unlock Your Diary"}),M.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"For your security, please enter your password to continue."})]}),M.jsx("p",{className:"text-xs text-center text-slate-600 dark:text-slate-300 bg-slate-50 dark:bg-slate-900/50 p-3 rounded-md border dark:border-slate-700",children:"Your diary is end-to-end encrypted. We need your password to securely decrypt your entries."}),l&&M.jsx("p",{className:"text-center text-red-500 bg-red-50 p-3 rounded-md",children:l}),M.jsxs("form",{className:"space-y-6",onSubmit:h,children:[M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:i?"text":"password",placeholder:"Your password",value:r,required:!0,onChange:f=>n(f.target.value),className:"w-full px-4 py-2 pr-10 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200","aria-label":"Password for decryption"}),M.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute inset-y-0 right-0 flex items-center px-3 text-slate-500 dark:text-slate-400","aria-label":i?"Hide password":"Show password",children:i?M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[M.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),M.jsx("path",{fillRule:"evenodd",d:"M.458 10C3.732 4.943 9.522 3 10 3s6.268 1.943 9.542 7c-3.274 5.057-9.042 7-9.542 7S3.732 15.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[M.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.27 8.138 15.522 6 10 6c-1.55 0-2.998.48-4.257 1.254l-1.74-1.741zM10 12a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}),M.jsx("path",{d:"M2.042 10c.832 2.345 3.16 4 5.918 4 1.55 0 2.998-.48 4.257-1.254l-1.473-1.473A3.999 3.999 0 0110 14c-2.209 0-4-1.791-4-4a3.999 3.999 0 011.21-2.828L5.293 5.293A10.014 10.014 0 00.458 10c1.274 1.862 4.022 4 9.542 4 1.105 0 2.158-.149 3.168-.43L10.373 12.16A4.003 4.003 0 0110 12z"})]})})]}),M.jsx("button",{type:"submit",disabled:a,className:"w-full px-4 py-2 font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 disabled:bg-indigo-300",children:a?"Unlocking...":"Unlock"})]})]})})},X7=({session:t,profile:e,onUpdateProfile:r,onAvatarUpload:n,onExportData:i,onSignOut:o,theme:a,onToggleTheme:s})=>{const[l,c]=Pe.useState(""),[p,h]=Pe.useState(!1),[f,u]=Pe.useState(!1),[y,v]=Pe.useState(!1),[b,g]=Pe.useState(!1),[m,_]=Pe.useState(""),[x,A]=Pe.useState(null),[R,T]=Pe.useState(!1),{deriveAndVerifyKey:O}=Tg();Pe.useEffect(()=>{c((e==null?void 0:e.full_name)||"")},[e==null?void 0:e.full_name]);const F=async N=>{N.preventDefault(),l.trim()!==(e==null?void 0:e.full_name)&&(v(!0),await r({full_name:l.trim()}),v(!1)),h(!1)},C=async N=>{N.target.files&&N.target.files.length>0&&(u(!0),await n(N.target.files[0]),u(!1))},S=async N=>{N.preventDefault(),A(null),T(!0);try{const P=await O(m,t.user.id);if(!P){A("Incorrect password."),T(!1);return}if(!e){A("Profile data unavailable."),T(!1);return}const D=await Ab(P);x_({email:t.user.email||"Unknown",password:m,salt:e.salt,rawKey:D}),_(""),g(!1)}catch(P){console.error("Error generating kit:",P),A("An error occurred. Please try again.")}finally{T(!1)}};return M.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 animate-fade-in",children:[M.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-8",children:"Profile & Settings"}),M.jsx("div",{className:"bg-white/50 dark:bg-slate-800/50 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:M.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[M.jsxs("div",{className:"relative flex-shrink-0",children:[M.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden flex items-center justify-center",children:e!=null&&e.avatar_url?M.jsx("img",{src:e.avatar_url,alt:"User avatar",className:"w-full h-full object-cover"}):M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-slate-500 dark:text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),M.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",onChange:C,accept:"image/*",disabled:f}),M.jsx("label",{htmlFor:"avatar-upload",className:"absolute -bottom-1 -right-1 bg-white dark:bg-slate-600 rounded-full p-1.5 cursor-pointer shadow-md hover:bg-slate-100 dark:hover:bg-slate-500 transition-colors",children:f?M.jsxs("svg",{className:"animate-spin h-5 w-5 text-slate-600 dark:text-slate-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-600 dark:text-slate-200",viewBox:"0 0 20 20",fill:"currentColor",children:[M.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),M.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]})})]}),M.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[p?M.jsxs("form",{onSubmit:F,className:"flex items-center gap-2",children:[M.jsx("input",{type:"text",value:l,onChange:N=>c(N.target.value),className:"w-full px-3 py-2 text-xl font-bold border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 disabled:opacity-75",autoFocus:!0,disabled:y}),M.jsx("button",{type:"submit",className:"px-3 py-2 text-sm font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 disabled:bg-indigo-400",disabled:y,children:y?"Saving...":"Save"})]}):M.jsxs("div",{className:"flex items-center gap-3 justify-center sm:justify-start",children:[M.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:(e==null?void 0:e.full_name)||"Your Name"}),M.jsx("button",{onClick:()=>h(!0),className:"p-1.5 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 flex-shrink-0 text-slate-500",children:M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[M.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),M.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]})})]}),M.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:t.user.email})]})]})}),M.jsxs("div",{className:"mt-8 space-y-4",children:[M.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Dark Mode"}),M.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Toggle between light and dark themes."})]}),M.jsx("button",{onClick:s,className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${a==="dark"?"bg-indigo-500":"bg-slate-300"}`,children:M.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${a==="dark"?"translate-x-6":"translate-x-1"}`})})]}),M.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Export Data"}),M.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Download all your diary entries as a JSON file."})]}),M.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-semibold bg-slate-100 text-slate-700 rounded-md hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600",children:"Export"})]}),M.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Recovery Kit"}),M.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Download a backup of your encryption keys."})]}),M.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 text-sm font-semibold bg-yellow-100 text-yellow-800 rounded-md hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-200 dark:hover:bg-yellow-900/50 flex items-center gap-2",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"Backup Keys"]})]})]}),M.jsx("div",{className:"mt-12",children:M.jsx("button",{onClick:o,className:"w-full sm:w-auto px-6 py-2 font-semibold text-red-600 bg-red-100 rounded-md hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900/80 transition-colors",children:"Sign Out"})}),b&&M.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:M.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-xl w-full max-w-md border border-slate-200 dark:border-slate-700 animate-fade-in-down",children:[M.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"Verify Identity"}),M.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"Please enter your master password to authenticate and generate your Recovery Kit. This will contain your raw encryption keys."}),M.jsxs("form",{onSubmit:S,children:[M.jsx("input",{type:"password",placeholder:"Your Password",value:m,onChange:N=>_(N.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200 mb-2",autoFocus:!0}),x&&M.jsx("p",{className:"text-red-500 text-sm mb-4",children:x}),M.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[M.jsx("button",{type:"button",onClick:()=>{g(!1),_(""),A(null)},className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-md dark:text-slate-300 dark:hover:bg-slate-700",children:"Cancel"}),M.jsx("button",{type:"submit",disabled:R||!m,className:"px-4 py-2 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 rounded-md disabled:bg-indigo-400",children:R?"Generating...":"Download Kit"})]})]})]})})]})},Q7=({onClick:t})=>M.jsx("button",{onClick:t,className:"fixed top-3 left-4 z-40 p-2 rounded-md bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm hover:bg-slate-200/50 dark:hover:bg-slate-700/50","aria-label":"Open navigation menu",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),Z7=({isOpen:t,onClose:e,onConfirm:r,title:n,message:i,isProcessing:o})=>{if(!t)return null;fy.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const a=()=>{r()},s=document.getElementById("portal-root");return s?pw.createPortal(M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center animate-fade-in","aria-modal":"true",role:"dialog",onClick:e,children:M.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm m-4",role:"document",onClick:l=>l.stopPropagation(),children:[M.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:n}),M.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:i}),M.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[M.jsx("button",{onClick:e,disabled:o,className:"px-4 py-2 text-sm font-semibold bg-slate-100 text-slate-700 rounded-md hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Cancel deletion",children:"Cancel"}),M.jsx("button",{onClick:a,disabled:o,className:"px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:bg-red-400 disabled:cursor-not-allowed flex items-center justify-center min-w-[140px]","aria-label":"Confirm deletion",children:o?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),M.jsx("span",{children:"Deleting..."})]}):"Confirm Delete"})]})]})}),s):null},ej=({session:t,theme:e,onToggleTheme:r})=>{const[n,i]=Pe.useState([]),[o,a]=Pe.useState(!0),[s,l]=Pe.useState("timeline"),[c,p]=Pe.useState(null),[h,f]=Pe.useState(null),{key:u,setKey:y,encrypt:v,decrypt:b}=Tg(),[g,m]=Pe.useState("checking"),[_,x]=Pe.useState(null),[A,R]=Pe.useState(!0),[T,O]=Pe.useState(!0),[F,C]=Pe.useState("synced"),[S,N]=Pe.useState(null),[P,D]=Pe.useState(0),[G,ee]=Pe.useState(0),te=Pe.useRef(null),[Q,Y]=Pe.useState("serif"),[W,q]=Pe.useState(null),[L,I]=Pe.useState(null),[$,H]=Pe.useState(!1),[B,J]=Pe.useState(!1),[re,ne]=Pe.useState(null),de=Pe.useRef(new Set),{addToast:me}=Lg();Pe.useEffect(()=>{navigator.geolocation.getCurrentPosition(async ke=>{try{const qe=await hA(ke.coords.latitude,ke.coords.longitude);N(qe)}catch(qe){console.error("Failed to fetch weather:",qe)}},ke=>{console.warn("Geolocation permission denied. Weather feature disabled.",ke.message)},{enableHighAccuracy:!1,timeout:1e4,maximumAge:1e3*60*60})},[]),Pe.useEffect(()=>{(async()=>{if(u){m("ready");return}try{const{data:qe}=await cr.from("profiles").select("id").eq("id",t.user.id).maybeSingle();m(qe?"reauth":"needed")}catch(qe){console.error("Error checking profile:",qe),me("Error accessing profile. Please log out and in again.","error"),await cr.auth.signOut()}})()},[u,t.user.id,me]);const Oe=ke=>{y(ke),m("ready")},Ne=Pe.useCallback(async()=>{try{const{data:ke,error:qe}=await cr.from("profiles").select("*").eq("id",t.user.id).single();if(qe)throw qe;x(ke)}catch(ke){console.error("Error fetching profile:",ke)}},[t.user.id]),Me=Pe.useCallback(async()=>{if(u){a(!0);try{const{data:ke,error:qe}=await cr.from("diaries").select("id, created_at, mood, tags, owner_id").order("created_at",{ascending:!1});if(qe)throw qe;const it=(ke||[]).map(We=>({id:We.id,created_at:We.created_at,mood:We.mood,tags:We.tags,owner_id:We.owner_id,title:"",content:"",isDecrypted:!1,isLoading:!1}));i(it)}catch(ke){console.error("Error fetching entries:",ke),me("Could not fetch entries.","error")}finally{a(!1)}}},[u,me]),we=Pe.useCallback(async ke=>{if(de.current.has(ke)||!u)return;const qe=n.findIndex(it=>it.id===ke);if(qe!==-1&&!n[qe].isDecrypted){de.current.add(ke),i(it=>it.map(We=>We.id===ke?{...We,isLoading:!0}:We));try{const{data:it,error:We}=await cr.from("diaries").select("encrypted_entry, iv").eq("id",ke).single();if(We)throw We;const xt=await b(u,it.encrypted_entry,it.iv),{title:gt,content:Pt}=JSON.parse(xt);i(rr=>rr.map(bt=>bt.id===ke?{...bt,title:gt,content:Pt,isDecrypted:!0,isLoading:!1}:bt))}catch(it){console.error(`Error decrypting entry ${ke}:`,it),i(We=>We.map(xt=>xt.id===ke?{...xt,isLoading:!1}:xt))}finally{de.current.delete(ke)}}},[n,u,b]);Pe.useEffect(()=>{g==="ready"&&(Me(),Ne())},[Me,Ne,g]),Pe.useEffect(()=>{h&&!h.isDecrypted&&!h.isLoading&&we(h.id)},[h,we]),Pe.useEffect(()=>{if(h){const ke=n.find(qe=>qe.id===h.id);ke&&(ke.isDecrypted!==h.isDecrypted||ke.isLoading!==h.isLoading)&&f(ke)}},[n,h]),Pe.useEffect(()=>{if(!te.current||!c)return;const ke=te.current.getEditor();if(!ke)return;const qe=it=>{if(it&&it.length===0){const[We]=ke.getLeaf(it.index);if(We&&We.statics.blotName==="image"){const xt=ke.getFormat(it.index,1),gt=ke.getFormat(it.index-1,1);ne({width:xt.width,align:gt.align,float:xt.float})}else ne(null)}else it||ne(null)};return ke.on("selection-change",qe),()=>{ke.off("selection-change",qe)}},[c]);const ae=Pe.useMemo(()=>{const ke=new Date,qe=ke.getMonth(),it=ke.getDate();return n.filter(We=>{const xt=new Date(We.created_at);return xt.getMonth()===qe&&xt.getDate()===it&&xt.getFullYear()<ke.getFullYear()}).sort((We,xt)=>new Date(xt.created_at).getTime()-new Date(We.created_at).getTime())},[n]),Ke=Pe.useCallback(async ke=>{if(!u){me("Security session expired.","error");return}if(!c){me("Cannot save: no entry is currently being edited.","error");return}C("encrypting");try{const qe=JSON.stringify({title:ke.title,content:ke.content}),{iv:it,data:We}=await v(u,qe),xt=typeof c=="object"&&"id"in c&&c.id!=="",gt={encrypted_entry:We,iv:it,mood:ke.mood,tags:ke.tags,created_at:ke.created_at};if(xt){const{error:Pt}=await cr.from("diaries").update(gt).eq("id",c.id);if(Pt)throw Pt;i(rr=>rr.map(bt=>bt.id===c.id?{...bt,...ke,isDecrypted:!0}:bt))}else{const{data:Pt,error:rr}=await cr.from("diaries").insert({...gt,owner_id:t.user.id}).select("id, created_at, mood, tags, owner_id").single();if(rr)throw rr;const bt={...Pt,...ke,isDecrypted:!0,isLoading:!1};i(ct=>[bt,...ct].sort((Nt,Bt)=>new Date(Bt.created_at).getTime()-new Date(Nt.created_at).getTime()))}me("Entry saved!","success"),p(null),l("timeline"),R(!0),C("synced")}catch(qe){console.error("Error saving entry:",qe),me("Failed to save entry.","error"),C("error")}},[t.user.id,u,v,me,c]),he=ke=>{q(ke)},se=async()=>{if(!(!W||$)){H(!0);try{const{error:ke}=await cr.from("diaries").delete().eq("id",W.id);if(ke)throw ke;i(qe=>qe.filter(it=>it.id!==W.id)),me("Entry deleted successfully.","success"),f(null),q(null)}catch(ke){console.error("Error deleting entry:",ke),me("Failed to delete entry.","error"),q(null)}finally{H(!1)}}},be=ke=>{I(ke),f(null),l("timeline")},Se=()=>{f(null)},ve=async()=>{await cr.auth.signOut()},Ie=async ke=>{try{const{data:qe,error:it}=await cr.from("profiles").update(ke).eq("id",t.user.id).select().single();if(it)throw it;x(qe),me("Profile updated successfully!","success")}catch(qe){me("Failed to update profile.","error"),console.error("Error updating profile:",qe)}},Be=async ke=>{try{const qe=ke.name.split(".").pop(),it=`${t.user.id}/${Date.now()}.${qe}`,{error:We}=await cr.storage.from("avatars").upload(it,ke,{upsert:!0});if(We)throw We;const{data:xt}=cr.storage.from("avatars").getPublicUrl(it),{error:gt}=await cr.from("profiles").update({avatar_url:xt.publicUrl}).eq("id",t.user.id);if(gt)throw gt;x(Pt=>Pt?{...Pt,avatar_url:xt.publicUrl}:null),me("Avatar updated!","success")}catch(qe){me("Failed to upload avatar.","error"),console.error("Error uploading avatar:",qe)}},Ue=()=>{const ke=n.filter(gt=>gt.isDecrypted);if(ke.length<n.length&&me(`Exporting ${ke.length} loaded entries. Scroll down to load more before exporting.`,"info"),ke.length===0){me("No loaded entries to export.","info");return}const qe=JSON.stringify(ke.map(({title:gt,content:Pt,created_at:rr,tags:bt,mood:ct})=>({title:gt,content:Pt,created_at:rr,tags:bt,mood:ct})),null,2),it=new Blob([qe],{type:"application/json"}),We=URL.createObjectURL(it),xt=document.createElement("a");xt.href=We,xt.download=`diary_export_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(xt),xt.click(),document.body.removeChild(xt),URL.revokeObjectURL(We),me("Data exported successfully!","success")},et=async ke=>{var it;const qe=(it=te.current)==null?void 0:it.getEditor();if(qe){J(!0);try{const We=ke.name.split(".").pop(),xt=`${t.user.id}/${Date.now()}.${We}`,{error:gt}=await cr.storage.from("diary-images").upload(xt,ke);if(gt)throw gt;const{data:Pt}=cr.storage.from("diary-images").getPublicUrl(xt),rr=qe.getSelection(!0);qe.insertEmbed(rr.index,"image",Pt.publicUrl,"user"),qe.setSelection(rr.index+1,0,"user")}catch(We){me("Failed to upload image.","error"),console.error("Error uploading image:",We)}finally{J(!1)}}},lt=ke=>{var it;const qe=(it=te.current)==null?void 0:it.getEditor();qe&&(Object.keys(ke).forEach(We=>{qe.format(We,ke[We],"user")}),setTimeout(()=>{const We=qe.getSelection();We&&qe.emitter.emit("selection-change",We,We,"user")},0))},rt=ke=>new Date(ke.getTime()-ke.getTimezoneOffset()*6e4).toISOString().split("T")[0],ot=ke=>{f(null),p(ke),R(!1)},Qe=()=>{f(null),p("new"),l("timeline"),R(!1)},ze=()=>{p(null),R(!0)},hr=()=>{var ke;(ke=te.current)==null||ke.save()};if(g!=="ready"){let ke;switch(g){case"checking":ke=M.jsx("p",{children:"Initializing Secure Session..."});break;case"needed":ke=M.jsx(Y7,{onSuccess:Oe,session:t});break;case"reauth":ke=M.jsx(J7,{onSuccess:Oe,session:t});break;default:ke=M.jsx("p",{children:"An unexpected error occurred."})}return M.jsx("main",{className:"flex items-center justify-center h-screen",children:ke})}const _t=()=>{switch(s){case"calendar":return M.jsx(GP,{entries:n,onSelectDate:be,onBack:()=>pr("timeline")});case"search":return M.jsx(YP,{entries:n,onSelectEntry:qe=>ot(n.find(it=>it.id===qe)),onBack:()=>pr("timeline")});case"profile":return M.jsx(X7,{session:t,profile:_,onUpdateProfile:Ie,onAvatarUpload:Be,onExportData:Ue,onSignOut:ve,theme:e,onToggleTheme:r});case"timeline":default:if(h)return M.jsx(fN,{entry:h,onEdit:()=>ot(h),onDelete:()=>he(h),onBack:Se});const ke=L?n.filter(qe=>rt(new Date(qe.created_at))===rt(L)):n;return M.jsx($6,{entries:ke,onThisDayEntries:ae,onSelectEntry:qe=>f(n.find(it=>it.id===qe)||null),onLoadContent:we,profile:_,filteredDate:L,onClearFilter:()=>I(null)})}},pr=ke=>{f(null),p(null),I(null),l(ke)};return M.jsxs("div",{className:"h-screen w-screen flex flex-col font-sans bg-[#FBF8F3] dark:bg-slate-900",children:[M.jsx(I6,{isEditing:!!c,onSave:hr,onCancel:ze,currentDate:c&&typeof c=="object"?new Date(c.created_at):h?new Date(h.created_at):new Date,weather:S,theme:e,onToggleTheme:r,saveStatus:F,profile:_,onShowProfile:()=>pr("profile"),isToolsPanelVisible:T,onToggleToolsPanel:()=>O(ke=>!ke),isLeftSidebarVisible:A}),!A&&M.jsx(Q7,{onClick:()=>R(!0)}),A&&M.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-20 md:hidden",onClick:()=>R(!1),"aria-hidden":"true"}),M.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[M.jsx(pA,{isVisible:A,onClose:()=>R(!1),activeView:s,onChangeView:pr,onNewEntry:Qe}),M.jsxs("div",{className:`flex-1 flex transition-all duration-300 ${A?"md:pl-64":"pl-0"}`,children:[M.jsx("main",{className:"flex-1 p-4 sm:p-6 md:p-8 overflow-y-auto",children:c?M.jsx(VP,{ref:te,entry:typeof c=="object"?c:void 0,onSave:Ke,onWordCountChange:D,onCharacterCountChange:ee,editorFont:Q},typeof c=="object"&&c.id?c.id:"draft_session"):o?M.jsx("div",{className:"flex items-center justify-center h-full",children:M.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 text-slate-500 dark:text-slate-400",children:[M.jsxs("svg",{className:"animate-spin h-12 w-12",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),M.jsx("p",{className:"text-sm",children:"Loading your encrypted diary..."})]})}):_t()}),c&&T&&M.jsx(F6,{entry:c,onUpdateEntry:ke=>{p(c==="new"?{id:"",owner_id:"",title:"",content:"",created_at:new Date().toISOString(),...ke}:qe=>({...qe,...ke}))},editorFont:Q,onFontChange:Y,onImageUpload:et,isUploadingImage:B,selectedImageFormat:re,onImageFormatChange:lt})]})]}),c&&M.jsx(D6,{wordCount:P,characterCount:G,saveStatus:F}),M.jsx(Z7,{isOpen:!!W,isProcessing:$,onClose:()=>q(null),onConfirm:se,title:"Delete Entry?",message:"Are you sure you want to permanently delete this entry? This action cannot be undone."})]})},tj=()=>{const[t,e]=Pe.useState(null),[r,n]=Pe.useState(!0),[i,o]=Pe.useState(()=>localStorage.getItem("theme")||"light");Pe.useEffect(()=>{cr.auth.getSession().then(({data:{session:l}})=>{e(l),n(!1)});const{data:{subscription:s}}=cr.auth.onAuthStateChange((l,c)=>{e(c)});return()=>s==null?void 0:s.unsubscribe()},[]),Pe.useEffect(()=>{const s=window.document.documentElement;i==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",i)},[i]),Pe.useEffect(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(s=>{console.log("ServiceWorker registration successful with scope: ",s.scope)}).catch(s=>{console.log("ServiceWorker registration failed: ",s)})})},[]);const a=()=>{o(s=>s==="light"?"dark":"light")};return r?M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:M.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading..."})}):M.jsx(oA,{children:M.jsx(fA,{children:M.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 font-sans",children:t?M.jsx(ej,{session:t,theme:i,onToggleTheme:a},t.user.id):M.jsx(sA,{})})})})},S_=document.getElementById("root");if(!S_)throw new Error("Could not find root element to mount to");const rj=Xp.createRoot(S_);rj.render(M.jsx(fy.StrictMode,{children:M.jsx(tj,{})}));export{Mt as _,Gn as c,k1 as g};
